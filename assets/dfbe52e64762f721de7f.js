"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[55748],{951667:(e,t,r)=>{r.d(t,{Ld:()=>p,O5:()=>d,fG:()=>E,tq:()=>S,fw:()=>O});var n=r(441143),o=r.n(n),i=r(173436),u=r(74030),a=r(737325),c=r(461061);function l(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){r(e);return}a.done?t(c):Promise.resolve(c).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){l(i,n,o,u,a,"next",e)}function a(e){l(i,n,o,u,a,"throw",e)}u(void 0)}))}}var f=function(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),
0):n.next)&&!(o=o.call(n,i[1])).done)return o;(n=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;n=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function p(e){return y.apply(this,arguments)}function y(){return(y=s((function(e){var t,r,n,o,u,c,l,s;return f(this,(function(f){switch(f.label){case 0:t=e.planId,r=e.currency,n=e.paymentSource,o=e.trialId,u=e.code,c=e.metadata;i.Z.dispatch({type:"PREMIUM_PAYMENT_SUBSCRIBE_START"});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,a.XW({items:[{
planId:t,quantity:1}],paymentSource:n,trialId:o,code:u,currency:r,metadata:c})];case 2:null!=(l=f.sent()).subscription&&i.Z.dispatch({type:"PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS",subscription:l.subscription});return[2,l];case 3:s=f.sent();i.Z.dispatch({type:"PREMIUM_PAYMENT_SUBSCRIBE_FAIL",error:s});throw s;case 4:return[2]}}))}))).apply(this,arguments)}function d(e,t,r,n,o){return h.apply(this,arguments)}function h(){return(h=s((function(e,t,r,n,l){var s,p,y;return f(this,(function(f){switch(f.label){case 0:f.trys.push([0,2,,3]);s=(0,u.Af)(e);o()(s,"Expected existing premium plan");p=(0,u.XK)(e,s.planId);return[4,a.Mg(e,{status:c.O0b.ACTIVE,paymentSource:n,items:p,currency:r},t,l)];case 1:f.sent();i.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_SUCCESS"});return[3,3];case 2:y=f.sent();i.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_FAIL",error:y});throw y;case 3:return[2]}}))}))).apply(this,arguments)}function E(e,t,r,n){return b.apply(this,arguments)}function b(){return(b=s((function(e,t,r,n){
var o;return f(this,(function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);return[4,a.fG(e,t,r,n)];case 1:u.sent();i.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_SUCCESS"});return[3,3];case 2:o=u.sent();i.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_FAIL",error:o});throw o;case 3:return[2]}}))}))).apply(this,arguments)}function S(e,t,r,n,o){return _.apply(this,arguments)}function _(){return(_=s((function(e,t,r,n,o){var u;return f(this,(function(c){switch(c.label){case 0:c.trys.push([0,2,,3]);return[4,a.tq(e,t,r,n,o)];case 1:c.sent();i.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_SUCCESS"});return[3,3];case 2:u=c.sent();i.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_FAIL",error:u});throw u;case 3:return[2]}}))}))).apply(this,arguments)}function O(){i.Z.dispatch({type:"PREMIUM_PAYMENT_ERROR_CLEAR"})}},512172:(e,t,r)=>{r.d(t,{jU:()=>I,Kr:()=>v,x2:()=>R,Qe:()=>g,ZZ:()=>M,xA:()=>j,pB:()=>D,WD:()=>Z,x9:()=>L})
;var n=r(675860),o=r(173436),i=r(323657),u=r(428455),a=r(168831),c=r(485359),l=r(512238),s=r(331792),f=r(539433),p=r(90816),y=r(449555),d=r(935406),h=r(737325),E=r(461061);function b(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){r(e);return}a.done?t(c):Promise.resolve(c).then(n,o)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){b(i,n,o,u,a,"next",e)}function a(e){b(i,n,o,u,a,"throw",e)}u(void 0)}))}}function _(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(t){_(e,t,r[t])}))}return e}function A(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}));return e}var m=function(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;(n=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1
};case 5:u.label++;n=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function I(e,t){return P.apply(this,arguments)}function P(){return(P=S((function(e,t){var r,n;return m(this,(function(i){switch(i.label){case 0:if(null!=l.Z.get(t))return[2];o.Z.dispatch({type:"SKU_FETCH_START",skuId:t});i.label=1;case 1:i.trys.push([1,3,,4]);r=s.Z.inTestModeForApplication(e)||c.Z.inDevModeForApplication(e);return[4,(0,d.Kb)(r?E.ANM.STORE_SKU(t):E.ANM.STORE_PUBLISHED_LISTINGS_SKU(t))];case 2:n=i.sent();o.Z.dispatch({type:"SKU_FETCH_SUCCESS",sku:r?n.body:n.body.sku});return[3,4]
;case 3:i.sent();o.Z.dispatch({type:"SKU_FETCH_FAIL",skuId:t});throw new a.Z("Failed to fetch SKU ".concat(t));case 4:return[2]}}))}))).apply(this,arguments)}function v(e){return T.apply(this,arguments)}function T(){T=S((function(e){var t,r,n,i=arguments;return m(this,(function(u){switch(u.label){case 0:t=!(i.length>1&&void 0!==i[1])||i[1];if(!(s.Z.inTestModeForApplication(e)||c.Z.inDevModeForApplication(e))&&t)throw new Error("this should only be used in test mode");return[4,(0,d.Kb)(E.ANM.APPLICATION_SKUS(e))];case 1:r=u.sent();n=r.body;o.Z.dispatch({type:"SKUS_FETCH_SUCCESS",skus:n,applicationId:e});return[2,n]}}))}));return T.apply(this,arguments)}function R(e,t,r){return N.apply(this,arguments)}function N(){return(N=S((function(e,t,r){var n,i;return m(this,(function(u){switch(u.label){case 0:n={payment_source_id:r};(s.Z.inTestModeForApplication(e)||c.Z.inDevModeForApplication(e))&&(n.test_mode=!0);return[4,(0,d.Kb)({url:E.ANM.STORE_SKU_PURCHASE(t),query:n,oldFormErrors:!0})]
;case 1:i=u.sent();o.Z.dispatch({type:"SKU_PURCHASE_PREVIEW_FETCH_SUCCESS",skuId:t,paymentSourceId:r,price:i.body});return[2,i]}}))}))).apply(this,arguments)}function g(e,t,r){return w.apply(this,arguments)}function w(){return(w=S((function(e,t,r){var u,a,c;return m(this,(function(l){switch(l.label){case 0:o.Z.dispatch({type:"SKU_PURCHASE_START",applicationId:e,skuId:r});l.label=1;case 1:l.trys.push([1,3,,4]);return[4,n.Z.post({url:E.ANM.CHANNEL_ENTITLEMENT_GRANT(t),oldFormErrors:!0})];case 2:u=l.sent();o.Z.dispatch({type:"SKU_PURCHASE_SUCCESS",skuId:r,entitlements:u.body,libraryApplications:[]});return[2,u.body];case 3:a=l.sent();c=new i.HF(a);o.Z.dispatch({type:"SKU_PURCHASE_FAIL",applicationId:e,skuId:r,error:c});throw c;case 4:return[2]}}))}))).apply(this,arguments)}var C={isGift:!1};function M(e,t,r){return U.apply(this,arguments)}function U(){return(U=S((function(e,t,r){var a,l,d,b,S,_,I,P,v,T,R,N,g,w,M;return m(this,(function(m){switch(m.label){case 0:a=O({},C,r),
l=a.paymentSource,d=a.expectedAmount,b=a.expectedCurrency,S=a.analyticsLoadId,_=a.isGift,I=a.giftStyle,P=a.subscriptionPlanId;o.Z.wait((function(){o.Z.dispatch({type:"SKU_PURCHASE_START",applicationId:e,skuId:t})}));v=s.Z.inTestModeForApplication(e)||c.Z.inDevModeForApplication(e);m.label=1;case 1:m.trys.push([1,9,,10]);R={gift:_,sku_subscription_plan_id:P};return[4,(0,f.cn)(l)];case 2:T=(R.gateway_checkout_context=m.sent(),R);if(!v)return[3,3];T.test_mode=!0;return[3,7];case 3:if(null==l)return[3,6];T.payment_source_id=l.id;return[4,(0,h.Zv)(l)];case 4:T.payment_source_token=m.sent();return E.QL.has(l.type)?[4,(0,h.EH)(l.type)]:[3,6];case 5:N=m.sent();T.return_url=n.Z.getAPIBaseURL()+E.ANM.BILLING_POPUP_BRIDGE_CALLBACK_REDIRECT_PREFIX(l.type,null!=N?N:"","success");m.label=6;case 6:null!=d&&(T.expected_amount=d);null!=b&&(T.expected_currency=b);null!=I&&(T.gift_style=I);T.purchase_token=(0,y.d)();m.label=7;case 7:return[4,n.Z.post({url:E.ANM.STORE_SKU_PURCHASE(t),body:T,context:{
load_id:S},oldFormErrors:!0})];case 8:g=m.sent();o.Z.dispatch({type:"SKU_PURCHASE_SUCCESS",skuId:t,libraryApplications:null!=g.body.library_applications?g.body.library_applications.filter(p.lm):[],entitlements:g.body.entitlements,giftCode:g.body.gift_code});return[2,A(O({},g.body),{redirectConfirmation:!1})];case 9:w=m.sent();(M=w instanceof i.HF?w:new i.HF(w)).code!==u.SM.CONFIRMATION_REQUIRED&&M.code!==u.SM.AUTHENTICATION_REQUIRED||o.Z.dispatch({type:"SKU_PURCHASE_AWAIT_CONFIRMATION",skuId:t,isGift:_});if(M.code!==u.SM.CONFIRMATION_REQUIRED){o.Z.dispatch({type:"SKU_PURCHASE_FAIL",applicationId:e,skuId:t,error:M});throw M}if(!w.body.payment_id)throw(0,h.SQ)("payment id cannot be null on redirected confirmations.");return[2,(0,h.sk)(w.body,l)];case 10:return[2]}}))}))).apply(this,arguments)}function j(){return k.apply(this,arguments)}function k(){return(k=S((function(){var e,t;return m(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);e={purchase_token:(0,y.d)()}
;return[4,n.Z.post({url:E.ANM.STORE_EMAIL_RESEND_PAYMENT_VERIFICATION,body:e,oldFormErrors:!0})];case 1:return[2,O({},r.sent().body)];case 2:throw(t=r.sent())instanceof i.HF?t:new i.HF(t);case 3:return[2]}}))}))).apply(this,arguments)}function D(){o.Z.dispatch({type:"SKU_PURCHASE_CLEAR_ERROR"})}function Z(){o.Z.wait((function(){return o.Z.dispatch({type:"SKU_PURCHASE_SHOW_CONFIRMATION_STEP"})}))}function L(e){o.Z.dispatch({type:"SKU_PURCHASE_UPDATE_IS_GIFT",isGift:e})}},155208:(e,t,r)=>{r.d(t,{Q:()=>a,Z:()=>c});var n=r(553494),o=r(554962),i=(0,n.B)({kind:"user",id:"2022-03_block_russian_purchases",label:"Block purchases based on country",defaultConfig:{paymentsBlocked:!1},treatments:[{id:1,label:"Payments Blocked",config:{paymentsBlocked:!0}}]}),u=(0,n.B)({kind:"user",id:"2022-03_block_russian_purchases_desktop",label:"Block purchases based on country (desktop specific flags)",defaultConfig:{checkPaymentSource:!1},treatments:[{id:1,label:"Check Payment Source",config:{
checkPaymentSource:!0}}]});function a(){var e=i.useExperiment({}).paymentsBlocked,t=u.useExperiment({}).checkPaymentSource,r=(0,o.Z)().defaultBillingCountryCode;return e||t&&"RU"===r}const c=i},658350:(e,t,r)=>{r.r(t);r.d(t,{PaymentContext:()=>te,PaymentContextProvider:()=>oe,useForwardedPaymentContext:()=>ne,usePaymentContext:()=>re});var n=r(785893),o=r(667294),i=r(886664),u=r(126136),a=r(468811),c=r.n(a),l=r(791462),s=r(155208),f=r(792018),p=r(424573),y=r(916957);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=r(557473),b=r(298716),S=r(375650);function _(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){
Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}));return e}function A(e){var t=e.activeSubscription,r=e.skuIDs,n=e.paymentSourceId,o=e.isGift;r=r.filter((function(e){return e!==b.Si.NONE}));var i,u,a=(0,l.e7)([y.Z],(function(){var e=y.Z.getPlanIdsForSkus(r).filter((function(e){return!o||b.dJ.has(e)}));return e.length>0?y.Z.get(e[0]):null})),c=null==a?[]:(0,E.DE)(a.id,n,o),s=null!==(u=null!==(i=c.find((function(e){return e===(null==t?void 0:t.currency)})))&&void 0!==i?i:c[0])&&void 0!==u?u:S.pK.USD;return O(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(t){_(e,t,r[t])}))}return e}({},(0,E.gr)(s,null==a?void 0:a.id,n,o,r)),{currencies:c})}var m=r(737325),I=r(720897);var P=r(707955);function v(e,t){
(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=r(859691),N=r(775584),g=r(915004)
;function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){
(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=r(390599),k=r(154765)
;function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var L=r(43833),F=r(378564);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var G=r(539433),K=r(204371);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q=r(461061);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(t){$(e,t,r[t])}))}return e}function X(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}));return e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=z((0,p.Z)(),3),te=ee[0],re=ee[1],ne=ee[2];function oe(e){var t=e.activeSubscription,r=e.stepConfigs,a=e.breadcrumbs,p=void 0===a?[]:a,d=e.skuIDs,E=e.isGift,b=void 0!==E&&E,S=e.children,_=function(){var e=V(o.useState(null),2),t=e[0],r=e[1];o.useEffect((function(){(0,K.d2)().then((function(e){return r(e)})).catch((function(e){(0,G.q2)(e)}))}),[]);return t}(),O=(0,s.Q)(),v=function(){var e=(0,l.e7)([I.Z],(function(){return I.Z.hasFetchedSubscriptions()}));o.useEffect((function(){e||(0,m.jg)()}),[e]);return e}(),w=function(e){var t=e.isGift,r=e.activeSubscription,n=(0,l.cj)([P.Z],(function(){return{defaultPaymentSourceId:P.Z.defaultPaymentSourceId,paymentSources:P.Z.paymentSources,hasFetchedPaymentSources:P.Z.hasFetchedPaymentSources}
})),i=n.defaultPaymentSourceId,u=n.paymentSources,a=n.hasFetchedPaymentSources,c=function(e,t,r){return e||null==(null==t?void 0:t.paymentSourceId)?r:t.paymentSourceId},s=T(o.useState((function(){return c(t,r,i)})),2),f=s[0],p=s[1];o.useEffect((function(){a?p(c(t,r,i)):(0,m.tZ)()}),[a,t,r,i]);return{paymentSources:u,hasPaymentSources:Object.keys(u).length>0,paymentSourceId:f,setPaymentSourceId:p}}({isGift:b,activeSubscription:t}),M=w.paymentSources,D=w.hasPaymentSources,x=w.paymentSourceId,H=w.setPaymentSourceId,W=A({activeSubscription:t,skuIDs:d,paymentSourceId:x,isGift:b}),Q=W.hasFetchedSubscriptionPlans,$=W.priceOptions,ee=W.setCurrency,re=W.currencyLoading,ne=W.currencies,oe=function(){var e=B(o.useState(!1),2),t=e[0],r=e[1],n=B(o.useState(!1),2),i=n[0],u=n[1],a=(0,l.e7)([F.Z],(function(){return L.M.EEA_COUNTRIES.has(F.Z.ipCountryCodeWithFallback)}));return{hasViewedPurchaseTerms:t,setHasViewedPurchaseTerms:r,showWithdrawalWaiver:a,hasAcceptedWithdrawalWaiver:!a||i,
setHasAcceptedWithdrawalWaiver:u}}(),ie=function(e){var t,r=e.stepConfigs,n=e.breadcrumbs,i=Y(o.useState(null===(t=r[0])||void 0===t?void 0:t.key),2),u=i[0],a=i[1],c=r.map((function(e){return e.key})).filter((function(e){return null!=e})),l=r.filter((function(e){var t;return null!=e.key&&null!=(null==e||null===(t=e.options)||void 0===t?void 0:t.breadcrumb)})).map((function(e){return{id:e.key,label:e.options.breadcrumb()}})).sort((function(e,t){return null!=n?n.indexOf(e.id)-n.indexOf(t.id):0}));return{steps:c,step:u,setStep:a,breadcrumbsData:l}}({stepConfigs:r,breadcrumbs:p}),ue=ie.step,ae=ie.setStep,ce=ie.steps,le=ie.breadcrumbsData,se=z(function(e){var t=Z(o.useState(k.A.WAITING),2),r=t[0],n=t[1];o.useEffect((function(){null!=e&&e!==j.h8.REVIEW&&r!==k.A.WAITING&&r!==k.A.COMPLETED&&n(k.A.WAITING)}),[e,r,n]);return[r,n]}(ue),2),fe=se[0],pe=se[1],ye=function(){var e=(0,l.e7)([N.Z],(function(){return N.Z.error})),t=C((0,l.Wu)([g.Z],(function(){
return[g.Z.error,g.Z.isAwaitingAuthentication]})),2),r=t[0];return{paymentError:null!=r?r:e,paymentAuthenticationState:t[1]?R.wr.PENDING:null!=r?R.wr.ERROR:R.wr.NONE}}(),de=ye.paymentError,he=ye.paymentAuthenticationState,Ee=function(){var e=U(o.useState(null),2),t=e[0],r=e[1],n=o.useRef(null);o.useEffect((function(){null!=t&&null!=n.current&&n.current.scrollIntoView({behavior:"smooth"})}),[t]);return{purchaseError:t,setPurchaseError:r,purchaseErrorBlockRef:n}}(),be=Ee.purchaseError,Se=Ee.purchaseErrorBlockRef,_e=Ee.setPurchaseError,Oe=(0,u.Z)((function(){return{loadId:c().v4(),startTime:Date.now()}})),Ae=function(){var e=h(o.useState(void 0),2),t=e[0],r=e[1],n=h(o.useState(void 0),2),i=n[0],u=n[1];return{selectedSkuId:t,selectedPlan:(0,l.e7)([y.Z],(function(){return null!=i?y.Z.get(i):null})),setSelectedSkuId:r,setSelectedPlanId:u}}(),me=Ae.selectedSkuId,Ie=Ae.selectedPlan,Pe=Ae.setSelectedSkuId,ve=Ae.setSelectedPlanId,Te=z((0,l.Wu)([f.Z],(function(){
return[f.Z.purchaseTokenAuthState,f.Z.purchaseTokenHash]})),2),Re=Te[0],Ne=Te[1],ge=z(o.useState(null),2),we=ge[0],Ce=ge[1],Me=z(o.useState(null),2),Ue=Me[0],je=Me[1],ke=z(o.useState(null),2),De=ke[0],Ze=ke[1],Le=z(o.useState(null),2),Fe=Le[0],xe=Le[1],Be=z(o.useState(null),2),He=Be[0],Ye=Be[1],Ge=z(o.useState(void 0),2),Ke=Ge[0],We=Ge[1];return(0,n.jsx)(te.Provider,{value:X(J({stripe:_,contextMetadata:Oe,blockedPayments:O,isGift:b,activeSubscription:t,hasFetchedSubscriptions:v,hasFetchedSubscriptionPlans:Q,updatedSubscription:Fe,setUpdatedSubscription:xe,subscriptionMetadataRequest:He,setSubscriptionMetadataRequest:Ye,paymentSources:M,hasPaymentSources:D,paymentSourceId:x,setPaymentSourceId:H,priceOptions:$,setCurrency:ee,currencyLoading:re,currencies:ne},oe),{step:ue,setStep:ae,steps:ce,stepConfigs:r,breadcrumbs:le,purchaseState:fe,setPurchaseState:pe,paymentAuthenticationState:he,paymentError:de,purchaseError:be,setPurchaseError:_e,purchaseErrorBlockRef:Se,purchaseTokenAuthState:Re,
purchaseTokenHash:Ne,bodyNode:we,setBodyNode:Ce,footerNode:Ue,setFooterNode:je,modalOverlayNode:De,setModalOverlayNode:Ze,selectedSkuId:me,selectedPlan:Ie,setSelectedSkuId:Pe,setSelectedPlanId:ve,readySlideId:Ke,setReadySlideId:We}),children:(0,n.jsx)(i.Elements,{options:q.OBo,stripe:_,children:S})})}},390599:(e,t,r)=>{r.d(t,{h8:()=>n,Ck:()=>f,DJ:()=>p,ly:()=>y,dZ:()=>d});var n,o=r(667294),i=r(323657),u=r(832691),a=r(539433),c=r(154765),l=r(959797),s=new u.Z("PaymentSteps");!function(e){e.PAYMENT_TYPE="payment_type";e.CREDIT_CARD_INFORMATION="credit_card_information";e.PAYPAL_INFORMATION="paypal_information";e.VENMO_INFORMATION="venmo_information";e.SOFORT_INFORMATION="sofort_information";e.PRZELEWY24_INFORMATION="przelewy24_information";e.EPS_INFORMATION="eps_information";e.IDEAL_INFORMATION="ideal_information";e.PAYMENT_REQUEST_INFORMATION="payment_request_information";e.ADDRESS="address";e.AWAITING_AUTHENTICATION="awaiting_authentication";e.SKU_SELECT="sku_select"
;e.PLAN_SELECT="plan_select";e.PREMIUM_UPSELL="premium_upsell";e.PREMIUM_GUILD_UPSELL="premium_guild_upsell";e.REVIEW="review";e.CONFIRM="confirm";e.CLAIM_FREE_SKU="claim_free_sku";e.SKU_PREVIEW="sku_preview";e.LOADING_PAYMENT_SOURCES="loading_payment_sources";e.SHOP="shop";e.PROMOTION_INFO="promotion_info";e.AWAITING_PURCHASE_TOKEN_AUTH="awaiting_purchase_token_auth";e.BENEFITS="benefits";e.WHAT_YOU_LOSE="what_you_lose";e.ADD_PAYMENT_STEPS="add_payment_steps"}(n||(n={}));var f=new Set([n.CREDIT_CARD_INFORMATION,n.PAYMENT_REQUEST_INFORMATION,n.PAYPAL_INFORMATION,n.VENMO_INFORMATION,n.ADDRESS,n.CLAIM_FREE_SKU,n.SKU_PREVIEW,n.PREMIUM_UPSELL,n.SOFORT_INFORMATION,n.PRZELEWY24_INFORMATION]);function p(e){switch(e){case n.PLAN_SELECT:return l.Z.Messages.BILLING_STEP_SELECT_PLAN;case n.PAYMENT_TYPE:return l.Z.Messages.BILLING_STEP_PAYMENT;case n.AWAITING_PURCHASE_TOKEN_AUTH:case n.REVIEW:return l.Z.Messages.BILLING_STEP_REVIEW;case n.SHOP:return l.Z.Messages.BILLING_STEP_SHOP
;case n.ADD_PAYMENT_STEPS:return l.Z.Messages.BILLING_STEP_PAYMENT;case n.PAYMENT_REQUEST_INFORMATION:return l.Z.Messages.BILLING_STEP_PAYMENT_INFO;case n.CREDIT_CARD_INFORMATION:return l.Z.Messages.PAYMENT_SOURCE_INFORMATION;case n.ADDRESS:return l.Z.Messages.BILLING_ADDRESS;case n.PAYPAL_INFORMATION:return l.Z.Messages.PAYMENT_SOURCE_PAYPAL_DETAILS;case n.VENMO_INFORMATION:return l.Z.Messages.PAYMENT_SOURCE_VENMO_DETAILS;case n.SOFORT_INFORMATION:return l.Z.Messages.PAYMENT_SOURCE_SOFORT_INFO;case n.PRZELEWY24_INFORMATION:return l.Z.Messages.PAYMENT_SOURCE_PRZELEWY24_INFO}throw new Error("Unexpected step: ".concat(e))}function y(e){if(null!=e){if(!(e instanceof i.HF)){s.error(e);(0,a.q2)(e);throw new Error("Unexpected error type")}if(e.hasCardError())return n.CREDIT_CARD_INFORMATION;if(e.hasAddressError())return n.ADDRESS}return null}function d(e,t,r){o.useEffect((function(){null!=e&&e!==n.REVIEW&&t!==c.A.WAITING&&t!==c.A.COMPLETED&&r(c.A.WAITING)}),[e,t,r])}},154765:(e,t,r)=>{
r.d(t,{A:()=>n});var n;!function(e){e.WAITING="WAITING";e.PURCHASING="PURCHASING";e.FAIL="FAIL";e.COMPLETED="COMPLETED"}(n||(n={}))},709947:(e,t,r)=>{r.d(t,{ZP:()=>d,C3:()=>h,O3:()=>E,iM:()=>b});var n=r(785893),o=r(667294),i=r(441143),u=r.n(i),a=r(973935),c=r(954766),l=r(67416),s=r(658350),f=r(384009),p=r.n(f);function y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++){r=i[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++){r=i[n];t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}}return o}function d(e){var t,r,i,a=function(e){return{header:e.header,stepProps:y(e,["header"])}}(e),f=a.header,d=a.stepProps,h=(0,s.usePaymentContext)(),E=h.step,b=h.stepConfigs,S=h.setBodyNode,_=h.setFooterNode,O=h.setModalOverlayNode,A=h.setReadySlideId,m=b.find((function(e){return e.key===E}))
;o.useEffect((function(){O(null)}),[E,O]);u()(null!=m,"Unknown step for current payment flow.");var I,P=null!==(i=null==m||null===(t=m.options)||void 0===t?void 0:t.hideSlider)&&void 0!==i&&i;return(0,n.jsxs)(n.Fragment,{children:[null===(I=null==m||null===(r=m.options)||void 0===r?void 0:r.renderHeader)||void 0===I||I?f:null,m.renderStep(d),null==E||P?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.hz,{className:p().body,children:(0,n.jsx)(c.My,{activeSlide:E,centered:!1,onSlideReady:function(e){return A(e)},children:b.filter((function(e){return null!=e.key})).map((function(e){return(0,n.jsx)(c.Mi,{id:e.key,children:(0,n.jsx)("form",{className:p().sliderBody,ref:function(e){return S(e)},onSubmit:function(e){return e.preventDefault()}})},e.key)}))})}),(0,n.jsx)("div",{ref:function(e){return _(e)}}),(0,n.jsx)("div",{ref:function(e){return O(e)}})]})]})}function h(e){var t=e.children,r=(0,s.usePaymentContext)().bodyNode;return null==r?null:a.createPortal(t,r)}function E(e){
var t=e.children,r=(0,s.usePaymentContext)().footerNode;return null==r?null:a.createPortal(t,r)}function b(e){var t=e.children,r=(0,s.usePaymentContext)().modalOverlayNode;return null==r?null:a.createPortal(t,r)}},554962:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(667294),o=r(791462),i=r(173436),u=r(737325),a=r(631134),c=r(378564),l=r(707955);function s(){var e=(0,o.e7)([l.Z],(function(){return l.Z.getDefaultBillingCountryCode()})),t=(0,o.e7)([c.Z],(function(){return c.Z.ipCountryCode})),r=(0,o.e7)([a.default],(function(){return a.default.isAuthenticated()}));n.useEffect((function(){i.Z.wait((function(){!r||c.Z.isPaymentSourceFetching||l.Z.hasFetchedPaymentSources||u.tZ()}))}),[r]);n.useEffect((function(){r&&!c.Z.ipCountryCodeLoaded&&u.GE()}),[t,r]);return{defaultBillingCountryCode:e,ipCountryCode:t}}},859691:(e,t,r)=>{r.d(t,{wr:()=>n,bp:()=>f,D6:()=>p});var n,o=r(667294),i=r(791462),u=r(365523),a=r(737325),c=r(390599),l=r(172762),s=r(915004);!function(e){e[e.PENDING=1]="PENDING"
;e[e.ERROR=2]="ERROR";e[e.NONE=3]="NONE"}(n||(n={}));function f(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4?arguments[4]:void 0;o.useEffect((function(){null!=e&&(t===n.PENDING&&e!==c.h8.AWAITING_AUTHENTICATION?r(c.h8.AWAITING_AUTHENTICATION):e===c.h8.AWAITING_AUTHENTICATION&&(t===n.ERROR?r(c.h8.REVIEW):t===n.NONE&&(i?null!=u?u():r(c.h8.REVIEW):r(c.h8.CONFIRM))))}),[e,t,r,i,u])}function p(e){var t=(0,i.e7)([s.Z],(function(){return s.Z.awaitingPaymentId})),r=(0,i.e7)([l.Z],(function(){return l.Z.isConnected()})),c=o.useRef(new u.Xp);o.useEffect((function(){r||null==t||e!==n.PENDING?c.current.stop():c.current.start(5e3,(function(){return(0,a.O1)(t)}))}),[t,e,r])}},775584:(e,t,r)=>{r.d(t,{Z:()=>D});var n=r(791462),o=r(173436),i=r(204371);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0
;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function l(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}
var y="",d=null,h="",E=null,b=!1,S="",_="",O="",A="",m="",I="",P="",v="",T=!1,R=null,N=null,g=null,w=null;function C(){E=null;y="";d=null;h="";b=!1;S="US";_="";O="";A="";m="";I="";P="";v="";T=!1;R=null;N=null;g=null;w=null}function M(e){_=e.name;S=e.country;A=e.line1;m=e.line2;I=e.city;P=e.postalCode;v=e.state;O=e.email}function U(){R=null}function j(e){var t=e.error;R=t}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&s(e,t)}(r,e);var t=p(r);function r(){u(this,r);return t.apply(this,arguments)}var n=r.prototype;n.getCreditCardInfo=function(){return{name:_}};n.getBillingAddressInfo=function(){return{name:_,email:O,country:S,line1:A,line2:m,city:I,postalCode:P,state:v}};n.__getLocalVars=function(){return{braintreeEmail:y,braintreeNonce:d,venmoUsername:h,stripePaymentMethod:E,isCardInfoValid:b,
country:S,name:_,email:O,line1:A,line2:m,city:I,postalCode:P,state:v,isBillingAddressInfoValid:T,billingError:R,paymentId:N,popupCallbackCalled:g,paymentSourceId:w}};!function(e,t,r){t&&a(e.prototype,t);r&&a(e,r)}(r,[{key:"stripePaymentMethod",get:function(){return E}},{key:"popupCallbackCalled",get:function(){return g}},{key:"braintreeEmail",get:function(){return y}},{key:"braintreeNonce",get:function(){return d}},{key:"venmoUsername",get:function(){return h}},{key:"redirectedPaymentId",get:function(){return N}},{key:"redirectedPaymentSourceId",get:function(){return w}},{key:"isCardInfoValid",get:function(){return b}},{key:"isBillingAddressInfoValid",get:function(){return T}},{key:"error",get:function(){return R}}]);return r}(n.ZP.Store);k.displayName="NewPaymentSourceStore";const D=new k(o.Z,{NEW_PAYMENT_SOURCE_STRIPE_PAYMENT_REQUEST_UPDATE:function(e){var t=e.stripePaymentMethod;if(null!=t){E=t;M(i.az(E).billingAddressInfo)}else C()},NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE:function(e){
var t=e.info,r=e.isValid;_=t.name;b=r},NEW_PAYMENT_SOURCE_ADDRESS_INFO_UPDATE:function(e){var t=e.info,r=e.isValid;null!=t.name&&""!==t.name&&(_=t.name);S=t.country;_=t.name;A=t.line1;m=t.line2;I=t.city;P=t.postalCode;v=t.state;O=t.email;T=r},BRAINTREE_TOKENIZE_PAYPAL_START:function(){y="";d=null},BRAINTREE_TOKENIZE_PAYPAL_SUCCESS:function(e){var t=e.email,r=e.nonce,n=e.billingAddress;y=t;d=r;M(n);T=S.length>0},BRAINTREE_TOKENIZE_VENMO_START:function(){h="";d=null},BRAINTREE_TOKENIZE_VENMO_SUCCESS:function(e){var t=e.username,r=e.nonce;h=t;d=r},BILLING_PAYMENT_SOURCE_CREATE_START:U,MODAL_POP:U,NEW_PAYMENT_SOURCE_CLEAR_ERROR:U,BILLING_PAYMENT_SOURCE_CREATE_FAIL:j,STRIPE_TOKEN_FAILURE:j,BILLING_PAYMENT_SOURCE_CREATE_SUCCESS:C,LOGOUT:C,BILLING_POPUP_BRIDGE_CALLBACK:function(e){var t=e.query;if(null!=(null==t?void 0:t.payment_id)){g=!0;N=t.payment_id}else if(null!=(null==t?void 0:t.payment_source_id)){g=!0;w=t.payment_source_id}},RESET_PAYMENT_ID:function(){g=!1;N=null}})},
915004:(e,t,r)=>{r.d(t,{Z:()=>w});var n=r(791462),o=r(173436),i=r(951667),u=r(512172),a=r(428455),c=r(539433),l=r(204371),s=r(461061),f=r(959797);function p(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){r(e);return}a.done?t(c):Promise.resolve(c).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){p(i,n,o,u,a,"next",e)}function a(e){p(i,n,o,u,a,"throw",e)}u(void 0)}))}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function b(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var r,n=E(e);if(t){var o=E(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}var A=function(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){
return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;(n=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;n=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},m=!1,I=null,P=null;function v(){m=!1;P=null}function T(e){var t=e.error,r=t.code,n=t.paymentId;if(r!==a.ZP.ErrorCodes.AUTHENTICATION_REQUIRED){m=!1;return!1}if(!m){m=!0;I=n;!function(e){
R.apply(this,arguments)}(n)}}function R(){return(R=y((function(e){var t,r,n;return A(this,(function(i){switch(i.label){case 0:return null==e?[2]:[4,(0,l.oe)(e)];case 1:t=i.sent();if(null!=(r=t.error)){o.Z.dispatch({type:"PAYMENT_AUTHENTICATION_ERROR",error:new a.ZP(f.Z.Messages.PAYMENT_METHOD_CONFIRMATION_ERROR)});n=new Error(r);(0,c.q2)(n,{extra:{authenticationError:r}})}return[2]}}))}))).apply(this,arguments)}function N(e){var t=e.payment;if(!m||t.id!==I||![s.PyE.COMPLETED,s.PyE.CANCELED].includes(t.status))return!1;m=!1;P=null;I=null;o.Z.wait(i.fw);o.Z.wait(u.pB)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&S(e,t)}(r,e);var t=O(r);function r(){d(this,r);return t.apply(this,arguments)}r.prototype.__getLocalVars=function(){return{isAwaitingAuthentication:m,awaitingPaymentId:I,error:P}}
;!function(e,t,r){t&&h(e.prototype,t);r&&h(e,r)}(r,[{key:"isAwaitingAuthentication",get:function(){return m}},{key:"error",get:function(){return P}},{key:"awaitingPaymentId",get:function(){return I}}]);return r}(n.ZP.Store);g.displayName="PaymentAuthenticationStore";const w=new g(o.Z,{BILLING_SUBSCRIPTION_UPDATE_START:v,PAYMENT_AUTHENTICATION_CLEAR_ERROR:v,PREMIUM_PAYMENT_ERROR_CLEAR:v,PREMIUM_PAYMENT_MODAL_CLOSE:v,PREMIUM_PAYMENT_MODAL_OPEN:v,PREMIUM_PAYMENT_SUBSCRIBE_START:v,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:v,PREMIUM_PAYMENT_UPDATE_SUCCESS:v,SKU_PURCHASE_MODAL_CLOSE:v,SKU_PURCHASE_MODAL_OPEN:v,SKU_PURCHASE_START:v,SKU_PURCHASE_SUCCESS:v,BILLING_SUBSCRIPTION_UPDATE_FAIL:T,PREMIUM_PAYMENT_SUBSCRIBE_FAIL:T,PREMIUM_PAYMENT_UPDATE_FAIL:T,SKU_PURCHASE_FAIL:T,GIFT_CODE_REDEEM_FAILURE:T,PAYMENT_AUTHENTICATION_ERROR:function(e){var t=e.error;P=t;m=!1},PAYMENT_UPDATE:N,BILLING_PAYMENT_FETCH_SUCCESS:N})},792018:(e,t,r)=>{r.d(t,{I:()=>p,Z:()=>A})
;var n=r(791462),o=r(173436),i=r(428455),u=r(172762);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function s(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p,y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}!function(e){e[e.UNKNOWN=0]="UNKNOWN";e[e.PENDING=1]="PENDING";e[e.SUCCESS=2]="SUCCESS";e[e.ERROR=3]="ERROR"}(p||(p={}));var h=p.UNKNOWN,E=null,b=null;function S(e){var t=e.error,r=t instanceof i.ZP?t:new i.ZP(t);u.Z.isConnected()&&r.code===i.ZP.ErrorCodes.PURCHASE_TOKEN_AUTHORIZATION_REQUIRED&&(h=p.PENDING)}function _(){h=p.UNKNOWN;E=null;b=null}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(r,e);var t=d(r);function r(){a(this,r);return t.apply(this,arguments)}r.prototype.__getLocalVars=function(){return{purchaseTokenAuthState:h,
purchaseTokenHash:E,expiresAt:b}};!function(e,t,r){t&&c(e.prototype,t);r&&c(e,r)}(r,[{key:"purchaseTokenAuthState",get:function(){return h}},{key:"purchaseTokenHash",get:function(){return E}},{key:"expiresAt",get:function(){return b}}]);return r}(n.ZP.Store);O.displayName="PurchaseTokenAuthStore";const A=new O(o.Z,{SKU_PURCHASE_FAIL:S,PREMIUM_PAYMENT_SUBSCRIBE_FAIL:S,USER_PAYMENT_CLIENT_ADD:function(e){h=p.SUCCESS;E=e.purchaseTokenHash;b=e.expiresAt},BILLING_PURCHASE_TOKEN_AUTH_CLEAR_STATE:_,BILLING_SUBSCRIPTION_UPDATE_START:_,PAYMENT_AUTHENTICATION_CLEAR_ERROR:_,PREMIUM_PAYMENT_ERROR_CLEAR:_,PREMIUM_PAYMENT_MODAL_CLOSE:_,PREMIUM_PAYMENT_MODAL_OPEN:_,PREMIUM_PAYMENT_SUBSCRIBE_START:_,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:_,PREMIUM_PAYMENT_UPDATE_SUCCESS:_,SKU_PURCHASE_MODAL_CLOSE:_,SKU_PURCHASE_MODAL_OPEN:_,SKU_PURCHASE_START:_,SKU_PURCHASE_SUCCESS:_})},954766:(e,t,r)=>{r.d(t,{Mi:()=>O,My:()=>A})
;var n=r(785893),o=r(667294),i=r(248088),u=r(506884),a=r(606076),c=r(665232),l=r(39802),s=r(64833),f=r(404239),p=r(160036),y=r(559159);function d(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(t){d(e,t,r[t])}))}return e}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){
Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}));return e}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++){r=i[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++){r=i[n];t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}}return o}var S={mass:1,tension:300,friction:28,clamp:!0};function _(e,t){return function(r){if(0===r)return"auto";var n="forwards"===t.current,o=r>0,i=!1;o&&n&&"left"===e&&(i=!0);o&&!n&&"right"===e&&(i=!0);!o&&n&&"right"===e&&(i=!0);o||n||"left"!==e||(i=!0);return i?"".concat(100*Math.abs(r),"%"):"auto"}}function O(e){return null}function A(e){var t=e.contentDisplay,r=b(e,["contentDisplay"]),d={},O=(0,s.Z)().analyticsLocations;o.Children.forEach(r.children,(function(e,t){d[e.props.id]={children:e.props.children,impressionName:e.props.impressionName,
impressionProperties:e.props.impressionProperties,index:t}}));var A,m,I=r.activeSlide,P=(0,c.Z)(r.activeSlide),v=(A=null!=P?d[P]:null,m=d[I],null==A?null:A.index>m.index?"backwards":A.index<m.index?"forwards":null),T=o.useContext(l.S).reducedMotion,R=o.useContext(f.Z),N=d[I].impressionName,g=E(h({},d[I].impressionProperties),{location_stack:O});R({type:u.nv.MODAL,name:N,properties:g,_stackContext:{isSlide:!0}});var w,C=o.useRef(null),M=(0,y.Z)(C,!0,[I]),U=h({},S,r.springConfig,T.enabled?{clamp:!0}:null),j=(0,i.useSpring)({immediate:null==P||null!=M&&M.observed,width:null!==(w=r.width)&&void 0!==w?w:null!=M?M.width:0,height:null!=M?M.height:0,config:U}),k=(0,i.useTransition)(I,{immediate:null==P,value:0,from:{value:1},enter:{value:0},leave:{value:-1},config:U,onRest:function(e,t){var n=t.item;n===I&&null!=r.onSlideReady&&r.onSlideReady(n)}}),D=(0,p.Z)(v),Z=r.width,L=r.centered,F=void 0===L||L,x=a.tq?"100%":j.width.to((function(e){return Math.round(e)
})),B=a.tq?"100%":j.height.to((function(e){return Math.round(e)})),H=a.tq?{}:F?{transform:"translate3d(0, -50%, 0) scale(1.0, 1.0)",top:"50%"}:{transform:"scale(1.0, 1.0)"},Y=a.tq?{}:{overflow:"hidden"};return(0,n.jsx)(i.animated.div,{style:h({position:"relative",width:x,height:B},Y),children:k((function(e,r,o){var u=o.key;return(0,n.jsx)(i.animated.div,{ref:r===I?C:null,style:h({position:"absolute",display:t,flexDirection:"column",backfaceVisibility:"hidden",width:a.tq?"100%":Z},H,T.enabled?{opacity:e.value.to((function(e){return 1-Math.abs(e)}))}:{left:e.value.to(_("left",D)),right:e.value.to(_("right",D))}),children:d[r].children},u)}))})}},414597:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(785893),o=(r(667294),r(294184)),i=r.n(o),u=r(240243),a=r(794308),c=r.n(a);function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function s(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}));return e}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++){r=i[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++){r=i[n];t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}}return o}var p={UP:c().directionUp,RIGHT:c().directionRight,DOWN:c().directionDown,LEFT:c().directionLeft},y=function(e){
var t=e.direction,r=void 0===t?p.DOWN:t,o=e.width,a=void 0===o?24:o,y=e.height,d=void 0===y?24:y,h=e.color,E=void 0===h?"currentColor":h,b=e.transition,S=void 0===b?c().transition:b,_=e.className,O=e.foreground,A=e.expanded,m=f(e,["direction","width","height","color","transition","className","foreground","expanded"]),I=r;!0===A?I=p.DOWN:!1===A&&(I=p.RIGHT);return(0,n.jsx)("svg",s(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(t){l(e,t,r[t])}))}return e}({className:i()(_,S,I),width:a,height:d,viewBox:"0 0 24 24"},(0,u.Z)(m)),{children:(0,n.jsx)("path",{className:O,fill:"none",stroke:E,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M7 10L12 15 17 10","aria-hidden":!0})}))};y.Directions=p;const d=y},424573:(e,t,r)=>{r.d(t,{
Z:()=>i});var n=r(785893),o=r(667294);function i(){var e=function(){var e=o.useContext(t);if(null==e)throw new Error("Context was used outside of defined provider.");return e},t=o.createContext(void 0);return[t,e,function(){var r=e();return function(e){var o=e.children;return(0,n.jsx)(t.Provider,{value:r,children:o})}}]}},557473:(e,t,r)=>{r.d(t,{i1:()=>A,DE:()=>m,tD:()=>I,gr:()=>P});var n=r(667294),o=r(441143),i=r.n(o),u=r(173436),a=r(174034),c=r(767121),l=r(916957),s=r(74030),f=r(461061),p=r(298716);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){r(e);return}a.done?t(c):Promise.resolve(c).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){d(i,n,o,u,a,"next",e)}function a(e){d(i,n,o,u,a,"throw",e)}u(void 0)}))}}function E(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,
configurable:!0,writable:!0}):e[t]=r;return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function _(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);return"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}var O=function(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;(n=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;n=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S(p.YQ);return null==e||l.Z.hasPaymentSourceForSKUIds(e,t)?Promise.resolve():new Promise((function(e){u.Z.wait(h((function(){return O(this,(function(r){switch(r.label){case 0:return[4,(0,a.Gn)(t)];case 1:r.sent();e();return[2]}}))})))}))}function m(e,t,r){var n=[],o={purchaseType:r?f.tuJ.GIFT:f.tuJ.DEFAULT},u="string"==typeof e?e:e.id;if((0,s.Z8)()){var a=l.Z.get(u);i()(a,"subscription plan not loaded");null!=t&&l.Z.hasPaymentSourceForSKUId(t,a.skuId)&&(o.paymentSourceId=t);(n=(0,s.T4)(u,o).map((function(e){return e.currency
}))).length<1&&(n=[f.pKx.USD])}else n.push((0,s.aS)(u,!1,r,{paymentSourceId:t}).currency);return n}function I(e,t,r){var n=l.Z.get(e);i()(null!=n,"plan is undefined");return m(n,r,!1).includes(t)}function P(e,t,r,o,i){var u=b(n.useReducer((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(t){E(e,t,r[t])}))}return e}({},e,t)}),null!=r?{paymentSourceId:r,currency:e}:{currency:e}),2),a=u[0],s=u[1],f=(0,c.V)(i);n.useEffect((function(){var e,n=(e=h((function(){var e;return O(this,(function(n){switch(n.label){case 0:return[4,A(r,i)];case 1:n.sent();e=[];null!=t&&null!=l.Z.get(t)&&(e=m(t,r,o));e.length>0?s({paymentSourceId:r,currency:e[0]}):s({paymentSourceId:r});return[2]}}))})),function(){return e.apply(this,arguments)});n()
}),[r,JSON.stringify(i),t,o,f]);return{hasFetchedSubscriptionPlans:f,priceOptions:a,setCurrency:function(e){s({currency:e})},currencyLoading:a.paymentSourceId!==r||null==t||!f}}}}]);
//# sourceMappingURL=dfbe52e64762f721de7f.js.map