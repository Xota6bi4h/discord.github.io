"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[87310],{289965:(e,n,r)=>{r.d(n,{kY:()=>c,Aj:()=>f,d$:()=>h,S1:()=>E,hw:()=>p,kU:()=>v});var t=r(368365),i=r(173436),o=r(839574),a=r(642400);function l(e,n,r,t,i,o,a){try{var l=e[o](a),s=l.value}catch(e){r(e);return}l.done?n(s):Promise.resolve(s).then(t,i)}function s(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function a(e){l(o,t,i,a,s,"next",e)}function s(e){l(o,t,i,a,s,"throw",e)}a(void 0)}))}}var u=function(e,n){var r,t,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,t&&(i=2&o[0]?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i
;(t=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;t=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e];t=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function c(e,n,r,t){return d.apply(this,arguments)}function d(){return(d=s((function(e,n,r,a){var l;return u(this,(function(s){switch(s.label){case 0:return null==(l=e.getGuildId())||n!==l?[3,2]:[4,(0,o.u)(e,t.Z.filter(a,t.Z.invert(r)))];case 1:if(!s.sent())return[2,!1];s.label=2;case 2:i.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION",id:n,allow:r,deny:a});return[2]}}))
}))).apply(this,arguments)}function f(e){i.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION",id:e})}function h(e){i.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE",advancedMode:e})}function E(){i.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_INIT"})}function p(e,n,r){return v(e,n,[],r)}function v(e,n,r,t){i.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING"});return new Promise((function(t){var i=function(){if(0===n.length&&0===r.length)return t();if(n.length>0){var o=n.pop();if(null==o)return i();a.Z.updatePermissionOverwrite(e,o).then(i,i)}else{var l=r.pop();if(null==l)return i();a.Z.clearPermissionOverwrite(e,l).then(i,i)}};i()})).then((function(){i.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS",silent:t})}))}},304856:(e,n,r)=>{r.d(n,{GJ:()=>S,X0:()=>m,W:()=>g,aq:()=>b,pM:()=>R,ik:()=>T,Wx:()=>M,kA:()=>A,RZ:()=>_,iI:()=>x,cR:()=>P,zB:()=>Z,yv:()=>j,_A:()=>D,$e:()=>k,Yh:()=>B,Yk:()=>H,RD:()=>G,nT:()=>U,$7:()=>V,Tj:()=>z})
;var t=r(368365),i=r(316921),o=r(289965),a=r(780921),l=r(53551),s=r(212218),u=r(859023),c=r(268333),d=r(90816),f=r(108580),h=r(862045),E=r(461061),p=r(959797);function v(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function S(e){return t.Z.has(e.permissions,E.Plq.ADMINISTRATOR)}function y(e){return t.Z.has(e.permissions,E.Plq.ADMINISTRATOR)?h.aC.ADMINISTRATOR:h.aC.ROLE}function m(e){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=y(e);return{rowType:t,colorString:null!==(n=e.colorString)&&void 0!==n?n:(0,i.Rf)(E.p6O),name:e.name,id:e.id,disabled:S(e)||r,key:"".concat(t,":").concat(e.id),tags:e.tags}}function g(e,n){var r=S(e)?0:1,t=S(n)?0:1;return r!==t?r-t:n.position-e.position}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_NO_ROLES;return[{rowType:h.aC.EMPTY_STATE,colorString:(0,i.Rf)(E.p6O),name:e,disabled:!0,id:"EMPTY_STATE"}]}
function N(e,n,r,i){var o=u.default.getCurrentUser();if(null==o)return!1;if(null==e)return o.id!==n;var a=e.permissionOverwrites[n];null!=(null==i?void 0:i[n])&&(a=i[n]);return null==a||!t.Z.has(a.allow,r)}function R(e,n){return e===n}function O(e,n){return!R(e.id,n.id)}function T(e,n,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};return null==e.roles?[]:Object.values(e.roles).filter((function(i){return!S(i)&&N(n,i.id,r)&&O(e,i)&&t(i.name)})).sort(g).map((function(e){return m(e)}))}function M(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};return null==e.roles?[]:Object.values(e.roles).filter((function(t){return!S(t)&&N(n,t.id,r)&&O(e,t)&&i(t.name)})).sort(g).map((function(e){return m(e,t.Z.has(e.permissions,r))}))}function A(e,n,r,t){var i=[];if(null==e.roles)return i;i=function(e,n,r,t){return Object.values(e.roles).filter((function(i){return S(i)||!N(n,i.id,r,t)&&O(e,i)}))
}(e,n,r,t).sort(g).map((function(e){return m(e)}));return 0===i.length?b(p.Z.Messages.CHANNEL_PERMISSIONS_NO_ROLES):i}function _(e,n,r,i){var o=[];if(null==e.roles)return o;o=function(e,n,r,i){return Object.values(e.roles).filter((function(o){var a;return S(o)||!N(n,o.id,r,i)&&O(e,o)||t.Z.has(t.Z.combine(o.permissions,null===(a=n.permissionOverwrites[o.id])||void 0===a?void 0:a.allow),r)}))}(e,n,r,i).sort(g).map((function(e){return m(e,t.Z.has(e.permissions,r))}));return 0===o.length?b(p.Z.Messages.CHANNEL_PERMISSIONS_NO_ROLES):o}function w(e,n){var r;return null!==(r=s.ZP.getNick(n.id,e.id))&&void 0!==r?r:e.username}function I(e,n){return n.isOwner(e)}function C(e,n){var r=function(e,n){return n.isOwner(e)?h.aC.OWNER:h.aC.MEMBER}(e,n);return{rowType:r,name:w(e,n),userTag:e.tag,id:e.id,avatarURL:e.getAvatarURL(n.id,24),bot:e.bot,verifiedBot:e.isVerifiedBot(),disabled:I(e,n),key:"".concat(r,":").concat(e.id)}}function L(e,n){
return e.rowType!==n.rowType?e.rowType-n.rowType:e.name.toLocaleLowerCase().localeCompare(n.name.toLocaleLowerCase())}function x(e,n,r,t){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!0};return e.map(u.default.getUser).filter(d.lm).filter((function(e){return!r.isOwner(e)&&N(n,e.id,t)&&(i(w(e,r))||i(e.username)||i(e.discriminator))})).map((function(e){return C(e,r)})).sort(L)}function P(e,n,r,t,i){return function(e,n,r,t,i){return e.map(u.default.getUser).filter(d.lm).filter((function(e){return!N(n,e.id,t,i)||I(e,r)}))}(e,n,r,t,i).map((function(e){return C(e,r)})).sort(L)}function Z(e,n){switch(e){case h.aC.ROLE:return p.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_ROLE;case h.aC.OWNER:return p.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_OWNER;case h.aC.ADMINISTRATOR:return p.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_ADMINISTRATOR;case h.aC.MEMBER:return n?p.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_MEMBER:null
;case h.aC.EMPTY_STATE:return null}}function j(e){switch(e){case h.aC.ROLE:return p.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP;case h.aC.OWNER:return p.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case h.aC.ADMINISTRATOR:return p.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case h.aC.MEMBER:return p.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP;case h.aC.EMPTY_STATE:default:return null}}function D(e,n,r){var i=e.permissionOverwrites[e.guild_id];null==i&&(i=f.ZP.makeEveryoneOverwrite(e.guild_id));var o=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){v(e,n,r[n])}))}return e}({},i);o.deny=t.Z.remove(o.deny,n);o.allow=t.Z.remove(o.allow,n);r||(o.deny=t.Z.add(o.deny,n));return o}function k(e,n,r){
var t=D(e,n,r);(0,o.kY)(e,t.id,t.allow,t.deny)}function B(e,n){var r=u.default.getCurrentUser();if(null!=r){var i=e.permissionOverwrites[r.id];if(null==i){var l={id:r.id,type:a.BN.MEMBER,allow:t.Z.add(f.ZP.NONE,n),deny:f.ZP.NONE};(0,o.hw)(e.id,[l],!0)}else{var s=i.allow,c=i.deny;s=t.Z.add(s,n);(0,o.kY)(e,i.id,s,c)}}}function H(e,n){if(null==e)return!1;var r=e.permissionOverwrites[e.guild_id];null!=(null==n?void 0:n[e.guild_id])&&(r=n[e.guild_id]);return null!=r&&t.Z.has(r.deny,e.accessPermissions)}function G(e){var n=Object.keys(e.roles);return 0!==n.length&&(1!==n.length||n[0]!==e.id)}function U(e,n,r){return e===E.d4z.GUILD_TEXT||e===E.d4z.GUILD_ANNOUNCEMENT?n:!(0,l.bw)(e)&&e!==E.d4z.GUILD_CATEGORY||n&&r}function V(e){switch(e){case E.d4z.GUILD_TEXT:case E.d4z.GUILD_ANNOUNCEMENT:return p.Z.Messages.PRIVATE_TEXT_CHANNEL_CREATION_PERMISSION_MISSING_HINT.format();case E.d4z.GUILD_VOICE:return p.Z.Messages.PRIVATE_VOICE_CHANNEL_CREATION_PERMISSION_MISSING_HINT.format()
;case E.d4z.GUILD_CATEGORY:return p.Z.Messages.PRIVATE_CATEGORY_CREATION_PERMISSION_MISSING_HINT.format();default:return null}}function z(e,n){var r=[];Object.values(e).forEach((function(e){var t=e.row;null!=t.id&&""!==t.id&&(t.rowType===h.aC.ROLE?r.push((0,c.rX)(t.id,n)):t.rowType===h.aC.MEMBER&&r.push((0,c.jZ)(t.id,n)))}));return r}},87310:(e,n,r)=>{r.r(n);r.d(n,{AddMembersBody:()=>ie,MemberRoleSelector:()=>oe,default:()=>ae,getFullRowId:()=>ee});var t=r(785893),i=r(667294),o=r(294184),a=r.n(o),l=r(125447),s=r(791462),u=r(600075),c=r(289965),d=r(97638),f=r(598229),h=r(53551),E=r(356004),p=r(212218),v=r(653772),S=r(893321),y=r(649762),m=r(191940),g=r(487502),b=r(272729),N=r(733399),R=r(943327),O=r(806499),T=r(67416),M=r(766936),A=r(880068),_=r(932847),w=r(268333),I=r(462020),C=r(763611),L=r(304856),x=r(35021),P=r.n(x);const Z=i.forwardRef((function(e,n){
var r=e.query,i=e.onQueryChange,o=e.onRemoveTag,a=e.onSelect,l=e.onSelectionChange,s=e.selectedSection,u=e.selectedRow,c=e.tags,f=e.sections,h=e.placeholder,E=void 0===h?"":h,p=e.focusAfterReady,v=e.isReady,S=e["aria-labelledby"],y=e["aria-controls"];return(0,t.jsx)(d.ZP,{autoFocus:!0,className:P().searchBar,maxHeight:100,onQueryChange:i,onRemoveTag:o,selectedSection:s,selectedRow:u,onSelect:a,onSelectionChange:l,placeholder:0===c.length?E:"",query:r,ref:n,size:d.ZP.Sizes.MEDIUM,tags:c,sections:f,focusAfterReady:p,isReady:v,inputProps:{"aria-labelledby":S,"aria-controls":y,"aria-expanded":!0,"aria-activedescendant":"user-row-".concat(u)}})}));var j=r(862045),D=r(461061),k=r(959797),B=r(618719),H=r.n(B);function G(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function U(e,n,r,t,i,o,a){try{var l=e[o](a),s=l.value}catch(e){r(e);return}l.done?n(s):Promise.resolve(s).then(t,i)}function V(e){return function(){var n=this,r=arguments
;return new Promise((function(t,i){var o=e.apply(n,r);function a(e){U(o,t,i,a,l,"next",e)}function l(e){U(o,t,i,a,l,"throw",e)}a(void 0)}))}}function z(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function Y(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){z(e,n,r[n])}))}return e}function W(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));r.push.apply(r,t)}return r}(Object(n)).forEach((function(r){
Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}));return e}function q(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++){r=o[t];n.indexOf(r)>=0||(i[r]=e[r])}return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++){r=o[t];n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}}return i}function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(t=r.next()).done);a=!0){o.push(t.value);if(n&&o.length===n)break}}catch(e){l=!0;i=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return G(e,n);var r=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e){var n=function(e,n){if("object"!==X(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n||"default");if("object"!==X(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===X(n)?n:String(n)}var X=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var Q=function(e,n){var r,t,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){
return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,t&&(i=2&o[0]?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i;(t=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;t=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e];t=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},J=(0,b.hQ)(),K=(0,b.hQ)();function ee(e){return"".concat(e.rowType,":").concat(e.id)}function ne(e){return(0,t.jsx)(u.vw,{tag:"h5",
className:a()(H().sectionTitle,H().rowHeight),children:e},e)}function re(e,n){return n?e.slice(1):e}function te(e){var n=e.id,r=e.children,i=e.rowLabel,o=e.checked,s=e.onSelect,c=e.disabled,d=e.showCheckbox,f=e.selected,h=e.onMouseEnter,E=e["aria-posinset"],p=e["aria-setsize"],v=(0,l.JA)(n);return(0,t.jsx)(u.P3,W(Y({},v),{id:n,className:a()(H().addMemberRow,z({},H().selectedRow,f)),onClick:function(e){if(!c){e.preventDefault();s()}},onMouseEnter:h,role:"option","aria-disabled":c,"aria-selected":o,"aria-setsize":p,"aria-posinset":E,children:(0,t.jsxs)(g.Z,{justify:g.Z.Justify.BETWEEN,align:g.Z.Align.CENTER,children:[d?(0,t.jsx)(u.XZ,{displayOnly:!0,size:18,value:o,type:u.XZ.Types.INVERTED,children:(0,t.jsx)("div",{className:H().checkboxLabel,children:r})}):r,null!=i?(0,t.jsx)(u.xv,{color:"text-muted",variant:"text-xs/normal",children:i}):null]})}))}function ie(e){
var n,r=e.guild,o=e.channel,a=e.permission,l=e.pendingAdditions,u=e.setPendingAdditions,c=e.isStageChannel,f=void 0===c?null!=o&&o.isGuildStageVoice():c,h=e.description,E=function(e){var n=re(g.trim(),S);return new RegExp("".concat(C.Z.escape(n)),"i").test(e)},v=$(i.useState(!1),2),S=v[0],y=v[1],m=$(i.useState(""),2),g=m[0],b=m[1],N=(0,s.e7)([p.ZP],(function(){return p.ZP.getMemberIds(r.id)}));S?n=[]:f?n=L.Wx(r,o,a,E):0===(n=L.ik(r,o,a,E)).length&&(""!==g.trim()||L.RD(r)||(n=L.aq()));var R=L.iI(N,o,r,a,E),O={placeholderText:k.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_PLACEHOLDER,hintText:k.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_SUBTITLE,renderEmptyText:function(e){return k.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_NO_RESULT.format({query:e})}},T=O.placeholderText,M=O.hintText,A=O.renderEmptyText;return(0,t.jsx)(oe,{pendingAdditions:l,query:g,onQueryChange:function(e){var n=e.trim(),t="@"===n.charAt(0);I.Z.requestMembers(r.id,re(n,t),j.EQ);b(e);y(t)},onClickRow:function(e){
var n=ee(e);u((function(r){var t=Y({},r);if(n in t)delete t[n];else{var i;e.rowType===j.aC.ROLE||e.rowType===j.aC.ADMINISTRATOR?i={type:d.Fj.ROLE,label:e.name,color:e.colorString}:e.rowType!==j.aC.MEMBER&&e.rowType!==j.aC.OWNER||(i={type:d.Fj.MEMBER,label:e.name,avatar:e.avatarURL});null!=i&&(t[n]={display:i,row:e})}return t}))},onRemovePendingAddition:function(e){u((function(n){n[e];return q(n,[e].map(F))}))},roles:n,members:R,placeholderText:T,hintText:M,renderEmptyText:A,isStageChannel:f,description:h})}function oe(e){var n=e.listClassName,r=e.pendingAdditions,o=e.query,l=e.onQueryChange,c=e.onClickRow,d=e.onRemovePendingAddition,h=e.roles,E=e.members,p=e.placeholderText,v=e.hintText,m=e.renderEmptyText,b=e.isStageChannel,N=e.focusSearchAfterReady,O=e.isReady,T=e.description,_=function(){var e;D(!(null===(e=I.current)||void 0===e?void 0:e.isScrolledToTop())&&re)},w=i.useRef(null),I=i.useRef(null),C=(0,s.e7)([S.Z],(function(){return S.Z.hidePersonalInformation
})),x=$(i.useState(!1),2),P=x[0],D=x[1],B=$(i.useState(0),2),G=B[0],U=B[1],V=$(i.useState(-1),2),Y=V[0],W=V[1],q=i.useCallback((function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];U(e);W(n);if(r){var t;null===(t=I.current)||void 0===t||t.scrollToIndex({section:null!=e?e:0,row:null!=n?n:0,padding:8})}}),[]),F=i.useCallback((function(e,n){if(null!=n){l("");var r=(e===j.$M.ROLES?h:E)[n];r.rowType!==j.aC.EMPTY_STATE&&c(r)}}),[h,E,c,l]),X=i.useCallback((function(e){var n;if(null!=e&&e.rowType!==j.aC.EMPTY_STATE){c(e);l("");null===(n=w.current)||void 0===n||n.focus()}}),[c,l]),Q=i.useMemo((function(){return Object.keys(r)}),[r]),re=E.some((function(e){return!e.disabled}))||h.some((function(e){return!e.disabled}))||""===o.trim();i.useEffect((function(){_()}));return(0,t.jsxs)("div",{className:H().content,children:[function(){var e=T;null==e&&b&&(e=k.Z.Messages.CHANNEL_PERMISSIONS_MODERATOR_DESCRIPTION);return null==e||""===e?null:(0,t.jsx)(u.xv,{
color:"header-secondary",className:H().description,variant:"text-sm/normal",children:e})}(),(0,t.jsxs)("div",{className:a()(H().searchBox,z({},H().scrollSeparator,P)),children:[(0,t.jsx)(Z,{ref:w,query:o,onQueryChange:l,selectedSection:G,selectedRow:Y,onSelectionChange:q,onSelect:F,tags:Q.map((function(e){return r[e].display})),sections:[h.length,E.length],onRemoveTag:function(e){d(Q[e])},placeholder:p,focusAfterReady:N,isReady:O,"aria-labelledby":J,"aria-controls":K}),null!=v?(0,t.jsx)(u.xv,{variant:"text-xs/normal",children:v}):null]}),re?(0,t.jsx)(A.ZP,{ref:I,className:a()(H().roleMemberList,n),sections:[h.length,E.length],renderRow:function(e){var n,i,o=e.section,l=e.row,s=null,c=!1,d=!1,f=!1;switch(o){case j.$M.ROLES:c=(i=ee(s=h[l]))in r||s.disabled;d=s.disabled;f=G===j.$M.ROLES&&Y===l;n=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:a()(H().rowHeight,H().alignCenter),children:(0,t.jsx)(R.Z,{color:s.colorString,height:20})}),(0,t.jsxs)("div",{className:H().rowLabel,
children:[(0,t.jsx)(u.xv,{variant:"text-sm/medium",className:H().rowTitle,color:s.rowType===j.aC.EMPTY_STATE?"text-muted":"text-normal",children:s.name}),b&&s.disabled?(0,t.jsx)(u.xv,{color:"header-secondary",variant:"text-xs/normal",children:k.Z.Messages.CHANNEL_PERMISSIONS_ROLE_ALREADY_HAS_PERMISSIONS}):null]})]});break;case j.$M.MEMBERS:c=(i=ee(s=E[l]))in r||s.disabled;d=s.disabled;f=G===j.$M.MEMBERS&&Y===l;n=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.ZP,{src:s.avatarURL,size:M.ZP.Sizes.SIZE_24,"aria-label":""}),(0,t.jsx)(u.xv,{className:H().rowLabel,"aria-hidden":!C,variant:"text-sm/normal",children:s.name}),s.bot&&(0,t.jsx)(y.Z,{verified:s.verifiedBot}),!C&&(0,t.jsx)(u.xv,{color:"text-muted",className:H().rowLabelSubText,variant:"text-sm/normal",children:s.userTag})]})}return null==s?null:(0,t.jsx)(te,{id:"user-row-".concat(l),rowLabel:L.zB(s.rowType),checked:c,disabled:d,onSelect:function(){return X(s)},showCheckbox:s.rowType!==j.aC.EMPTY_STATE,onMouseEnter:function(){
return q(o,l,!1)},selected:f,"aria-posinset":l+1,"aria-setsize":h.length+E.length,children:(0,t.jsx)(g.Z,{align:g.Z.Align.CENTER,justify:g.Z.Justify.START,children:n})},i)},rowHeight:40,renderSection:function(e){switch(e.section){case j.$M.ROLES:return ne(k.Z.Messages.ROLES);case j.$M.MEMBERS:return ne(k.Z.Messages.MEMBERS)}},sectionHeight:32,onScroll:_,role:void 0,innerRole:"listbox",innerId:K,innerAriaMultiselectable:!0,innerAriaOrientation:"vertical"}):(0,t.jsxs)(g.Z,{className:n,align:g.Z.Align.CENTER,justify:g.Z.Justify.CENTER,direction:g.Z.Direction.VERTICAL,children:[(0,t.jsx)(f.Z,{className:H().noResultIcon}),(0,t.jsx)(u.xv,{variant:"text-sm/normal",children:m(o)})]})]})}function ae(e){var n=e.transitionState,r=e.onClose,o=e.channelId,a=e.newChannel,l=e.inSettings,c=$(i.useState(!1),2),d=c[0],f=c[1],p=$(i.useState({}),2),S=p[0],y=p[1],b=(0,s.e7)([E.Z],(function(){return E.Z.getChannel(o)}),[o]),R=(0,s.e7)([v.Z],(function(){return v.Z.getGuild(null==b?void 0:b.getGuildId())}))
;i.useEffect((function(){_.default.track(D.rMx.OPEN_MODAL,{type:"Grant Channel Access"})}),[]);if(null==b||null==R)return null;var M=a&&0===Object.keys(S).length;function A(){return(A=V((function(){return Q(this,(function(e){switch(e.label){case 0:if(null==b||0===Object.keys(S).length){r();return[2]}f(!0);e.label=1;case 1:e.trys.push([1,3,,4]);return[4,le(b,S,l)];case 2:e.sent();r();f(!1);return[3,4];case 3:e.sent();f(!1);return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}var w=(0,h.zi)(b.type)?N.Z:O.Z;return(0,t.jsxs)(T.Y0,{transitionState:n,size:T.Cg.SMALL,"aria-labelledby":J,className:H().modalRoot,children:[(0,t.jsxs)(T.xB,{separator:!1,direction:g.Z.Direction.VERTICAL,align:g.Z.Align.CENTER,className:H().header,children:[(0,t.jsx)(u.X6,{id:J,variant:"heading-xl/semibold",children:k.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TITLE}),(0,t.jsxs)(u.xv,{variant:"text-md/normal",color:"header-secondary",className:H().headerSubtitle,children:[(0,t.jsx)(w,{height:16,width:16,
className:H().headerSubtitleIcon}),b.name]})]}),(0,t.jsx)(ie,{guild:R,channel:b,permission:b.accessPermissions,pendingAdditions:S,setPendingAdditions:y}),(0,t.jsxs)(T.mz,{children:[!M&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Co,{onClick:function(){return A.apply(this,arguments)},look:m.Co.Looks.FILLED,size:m.Co.Sizes.SMALL,className:H().button,submitting:d,children:k.Z.Messages.DONE}),(0,t.jsx)(m.Co,{look:m.Co.Looks.LINK,color:m.Co.Colors.TRANSPARENT,onClick:r,size:m.Co.Sizes.SMALL,children:k.Z.Messages.CANCEL})]}),M&&(0,t.jsx)(m.Co,{look:m.Co.Looks.FILLED,color:m.Co.Colors.PRIMARY,onClick:r,size:m.Co.Sizes.SMALL,children:k.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_SKIP})]})]})}function le(e,n,r){var t=[];Object.values(n).forEach((function(n){var r=n.row;null!=r.id&&""!==r.id&&(r.rowType===j.aC.ROLE?t.push((0,w.rX)(r.id,e.type)):r.rowType===j.aC.MEMBER&&t.push((0,w.jZ)(r.id,e.type)))}));return(0,c.hw)(e.id,t,r)}},839574:(e,n,r)=>{r.d(n,{C:()=>y,u:()=>N})
;var t=r(368365),i=r(992497),o=r(7046),a=r(653772),l=r(182434),s=r(836670),u=r(17611),c=r(353637),d=r(461061),f=r(959797);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function E(e,n,r,t,i,o,a){try{var l=e[o](a),s=l.value}catch(e){r(e);return}l.done?n(s):Promise.resolve(s).then(t,i)}function p(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function a(e){E(o,t,i,a,l,"next",e)}function l(e){E(o,t,i,a,l,"throw",e)}a(void 0)}))}}function v(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return h(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r)
;if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e,n){var r,t,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,t&&(i=2&o[0]?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i;(t=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;t=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0
;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e];t=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function y(e,n){return m.apply(this,arguments)}function m(){return(m=p((function(e,n){return S(this,(function(r){switch(r.label){case 0:return null==e?[2,!0]:[4,g(e,n,{removingView:!0,removingChat:!0})];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function g(e,n,r){return b.apply(this,arguments)}function b(){return(b=p((function(e,n,r){var t,i,o,f,h,E,p;return S(this,(function(S){switch(S.label){case 0:return null==(i=a.Z.getGuild(e))?[2,!0]:(o=null!=i&&(null===(t=i.features)||void 0===t?void 0:t.has(d.oNc.GUILD_ONBOARDING)))?o&&s.Z.shouldFetchPrompts(e)?[4,(0,l.eM)(e)]:[3,2]:[2,!0];case 1:S.sent();S.label=2;case 2:f=s.Z.getDefaultChannelIds(e)
;if(!f.includes(n))return[2,!0];h=r.removingView&&f.length-1<c.md;E=(0,u.od)(e,v(f));p=(r.removingChat||r.removingView)&&E.length-1<c.X;return[2,!h&&!p]}}))}))).apply(this,arguments)}function N(e,n){return R.apply(this,arguments)}function R(){return(R=p((function(e,n){var r,a;return S(this,(function(l){switch(l.label){case 0:if(null==(r=e.getGuildId()))return[2,!0];a={removingView:t.Z.has(n,d.Plq.VIEW_CHANNEL),removingChat:!1};e.isForumChannel()?a.removingChat=t.Z.has(n,d.Plq.SEND_MESSAGES_IN_THREADS):a.removingChat=t.Z.has(n,d.Plq.SEND_MESSAGES);return a.removingChat||a.removingView?[4,g(r,e.id,a)]:[2,!0];case 1:if(!l.sent()){i.Z.show({title:f.Z.Messages.CANNOT_CHANGE_CHANNEL_PERMS,body:f.Z.Messages.ONBOARDING_CHANNEL_THRESHOLD_WARNING.format({onClick:function(){i.Z.close();o.Z.open(r,d.pNK.ONBOARDING)}})});return[2,!1]}return[2,!0]}}))}))).apply(this,arguments)}},598229:(e,n,r)=>{r.d(n,{Z:()=>s});var t=r(785893),i=(r(667294),r(294184)),o=r.n(i),a=r(735716),l=r.n(a);function s(e){
var n=e.className;return(0,t.jsx)("div",{className:o()(l().image,n)})}}}]);
//# sourceMappingURL=caaa906115110bf17109.js.map