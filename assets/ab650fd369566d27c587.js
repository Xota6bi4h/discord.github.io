(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[91352],{698242:(e,r,n)=>{e.exports=n.p+"f3767d455e70dcdd1c8a3102e42c6d34.svg"},634737:(e,r,n)=>{e.exports=n.p+"8d224aa39e763dff664f330fdadeda3e.svg"},395951:(e,r,n)=>{"use strict";n.d(r,{FD:()=>v,Zy:()=>_,ss:()=>b,S2:()=>y,Mn:()=>A,ol:()=>g,V3:()=>N,I5:()=>C,cV:()=>T,b9:()=>R,si:()=>j,W3:()=>S,P6:()=>x,_V:()=>F});var t=n(675860),o=n(444450),i=n(173436),s=n(838478),a=n(655695),l=n(932847),u=n(917870),c=n(301513),d=n(742269),f=n(461061),I=n(959797);function p(e,r,n,t,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?r(l):Promise.resolve(l).then(t,o)}function E(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function s(e){p(i,t,o,s,a,"next",e)}function a(e){p(i,t,o,s,a,"throw",e)}s(void 0)}))}}function m(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function O(e){
for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){m(e,r,n[r])}))}return e}var h=function(e,r){var n,t,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;(t=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;t=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=r.call(e,s)}catch(e){i=[6,e];t=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function v(){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_INIT"})}function _(){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_CLOSE"})}function b(e,r){var n=r?I.Z.Messages.DELETE_ACCOUNT:I.Z.Messages.DISABLE_ACCOUNT,o=r?f.ANM.DELETE_ACCOUNT:f.ANM.DISABLE_ACCOUNT;return(0,c.Z)((function(r){return t.Z.post({url:o,body:O({password:e},r),oldFormErrors:!0})}),{modalProps:{title:n},checkEnabled:!1}).then((function(){i.Z.dispatch({type:"LOGOUT"});(0,a.uL)(f.Z5c.DEFAULT_LOGGED_OUT)}))}function y(e){return M.apply(this,arguments)}function M(){return(M=E((function(e){var r,n,o;return h(this,(function(s){switch(s.label){
case 0:return[4,t.Z.patch({url:f.ANM.ME,body:e,oldFormErrors:!0})];case 1:r=s.sent();if((n=r.body).token){o=n.token;delete n.token;i.Z.dispatch({type:"UPDATE_TOKEN",token:o,userId:n.id});null!=(null==e?void 0:e.password)&&null!=(null==e?void 0:e.new_password)&&i.Z.dispatch({type:"PASSWORD_UPDATED",userId:n.id})}i.Z.dispatch({type:"CURRENT_USER_UPDATE",user:n});return[2,r]}}))}))).apply(this,arguments)}function A(e){var r=e.username,n=e.discriminator,t=e.email,s=e.emailToken,a=e.password,p=e.avatar,E=e.avatarDecoration,m=e.newPassword;i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT"});return(0,c.Z)((function(e){var i=O({username:r,email:t,email_token:s,password:a,avatar:p,discriminator:n,new_password:m},e);void 0!==E&&(null==E?i.avatar_decoration_preset=null:E.isCustom?i.avatar_decoration=E.data:i.avatar_decoration_preset=E.name);var l=o.Z.get(f.JkL),u=(0,d.xJ)();if(null!=u&&null!=l){i.push_provider=u;i.push_token=l}var c=o.Z.get(f.scU);if(null!=f.mvA&&null!=c){
i.push_voip_provider=f.mvA;i.push_voip_token=c}return y(i)}),{checkEnabled:!1,modalProps:{title:I.Z.Messages.TWO_FA_CHANGE_ACCOUNT},hooks:{onEarlyClose:function(){return i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:{}})}}}).then((function(e){var r=e.body;l.default.track(f.rMx.USER_AVATAR_UPDATED,{animated:(0,u.xR)(r.avatar)});i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS"});return e}),(function(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:e.body});return e}))}function g(){return t.Z.get({url:f.ANM.USER_HARVEST,oldFormErrors:!0})}function N(){return t.Z.post({url:f.ANM.USER_HARVEST,oldFormErrors:!0})}function C(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR",avatar:e});null==e?s.Z.announce(I.Z.Messages.A11Y_ANNOUNCEMENT_AVATAR_NONE):s.Z.announce(I.Z.Messages.A11Y_ANNOUNCEMENT_AVATAR_CHANGED)}function T(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR_DECORATION",avatarDecoration:e})}function R(){
i.Z.dispatch({type:"USER_SETTINGS_CLEAR_ERRORS"})}function j(){i.Z.dispatch({type:"USER_SETTINGS_RESET_PENDING_ACCOUNT_CHANGES"})}function S(){i.Z.dispatch({type:"USER_SETTINGS_RESET_ALL_PENDING"})}function x(){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_RESET_AND_CLOSE_FORM"})}function F(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT",disable:e})}},291352:(e,r,n)=>{"use strict";n.d(r,{Z:()=>Ye});var t=n(785893),o=n(667294),i=n(294184),s=n.n(i),a=n(791462),l=n(600075),u=n(822567),c=n(395951),d=n(730189),f=n(40188),I=n(989232),p=n(392115),E=n(95350),m=n(212218),O=n(653772),h=n(859023),v=n(191940),_=n(487502),b=n(969225),y=n(304546),M=n(757987),A=n(67416),g=n(932847),N=n(917870),C=n(377305),T=n(448536),R=n(124264),j=n(570239),S=n(830426),x=n(123113),F=n(461061);function w(e){var r=e.guildId,n=(0,a.e7)([T.Z],(function(){return T.Z.get(r)})),t=null==n?void 0:n.guild;return(0,a.e7)([O.Z],(function(){
var e,n=null===(e=O.Z.getGuild(r))||void 0===e?void 0:e.verificationLevel,o=null==t?void 0:t.verification_level;return(null!=n?n:o)===F.sFg.VERY_HIGH}),[r,t])}var Z=n(855209),P=n(847072),L=n(959797),U=n(732231),V=n.n(U);function D(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function k(e,r,n,t,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?r(l):Promise.resolve(l).then(t,o)}function B(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function G(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}function H(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(t=n.next()).done);s=!0){i.push(t.value);if(r&&i.length===r)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return D(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=function(e,r){var n,t,o,i,s={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;(t=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;t=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=r.call(e,s)}catch(e){i=[6,e];t=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function Y(){var e=H(o.useState(!1),2),r=e[0],n=e[1],i=H(o.useState(!1),2),s=i[0],a=i[1],c=H(o.useState(!1),2),d=c[0],f=c[1];o.useEffect((function(){var e;s&&(e=setTimeout((function(){a(!1)}),2e3));return function(){null!=e&&clearTimeout(e)}}),[s]);var I,p,E=(p=(I=function(){return z(this,(function(e){switch(e.label){case 0:if(r)return[2];n(!0);e.label=1;case 1:e.trys.push([1,3,4,5]);return[4,u.Z.verifyResend()];case 2:e.sent();a(!0);f(!0);return[3,5];case 3:e.sent();return[3,5];case 4:n(!1);return[7];case 5:return[2]}}))},function(){var e=this,r=arguments;return new Promise((function(n,t){var o=I.apply(e,r);function i(e){k(o,n,t,i,s,"next",e)}function s(e){k(o,n,t,i,s,"throw",e)}i(void 0)}))}),function(){return p.apply(this,arguments)});return s?(0,t.jsx)(l.xv,{className:V().verifyConfirmText,variant:"text-sm/normal",color:"text-positive",children:L.Z.Messages.MEMBER_VERIFICATION_EMAIL_VERIFICATION_EMAIL_SENT}):(0,t.jsx)(v.Co,{
size:v.Co.Sizes.SMALL,submitting:r,onClick:E,children:d?L.Z.Messages.RESEND_EMAIL_SHORT:L.Z.Messages.VERIFY})}function J(){return(0,t.jsx)(P.PU,{icon:Z.Z,text:L.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_EMAIL_VERIFICATION_LABEL,footnote:L.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:!1,children:(0,t.jsx)(M.ZP,{text:L.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_FIELD_SETTINGS_TOOLTIP,children:function(e){return(0,t.jsx)(v.Co,G(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){B(e,r,n[r])}))}return e}({},e),{size:v.Co.Sizes.SMALL,disabled:!0,children:L.Z.Messages.VERIFY}))}})})}function X(e){
var r=e.isUserVerified,n=r?L.Z.Messages.MEMBER_VERIFICATION_EMAIL_VERIFIED:L.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_EMAIL_VERIFICATION_LABEL;return(0,t.jsx)(P.PU,{icon:Z.Z,text:n,footnote:L.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:r,children:(0,t.jsx)(Y,{})})}var Q=n(464497),W=n(928575),q=n(99918),K=n(526066),$=n(897576),ee=n(330665);function re(e,r,n,t,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?r(l):Promise.resolve(l).then(t,o)}function ne(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function s(e){re(i,t,o,s,a,"next",e)}function a(e){re(i,t,o,s,a,"throw",e)}s(void 0)}))}}function te(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function oe(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){te(e,r,n[r])}))}return e}function ie(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}var se=function(e,r){var n,t,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;(t=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;t=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=r.call(e,s)}catch(e){i=[6,e];t=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function ae(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(P.PU,{icon:K.Z,text:L.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_PHONE_VERIFICATION_LABEL,
footnote:L.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:!1,children:(0,t.jsx)(M.ZP,{text:L.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_FIELD_SETTINGS_TOOLTIP,children:function(e){return(0,t.jsx)(v.Co,ie(oe({},e),{size:v.Co.Sizes.SMALL,disabled:!0,children:L.Z.Messages.VERIFY}))}})})})}function le(e){var r=e.isUserVerified,o=r?L.Z.Messages.MEMBER_VERIFICATION_PHONE_VERIFIED:L.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_PHONE_VERIFICATION_LABEL;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(P.PU,{icon:K.Z,text:o,footnote:L.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:r,children:(0,t.jsx)(v.Co,{size:v.Co.Sizes.SMALL,onClick:function(){(0,$.ZD)(ne((function(){var e,r;return se(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(97846),n.e(57712)]).then(n.bind(n,997846))];case 1:e=o.sent(),r=e.default;return[2,function(e){return(0,t.jsx)(r,oe({reason:q.L.GUILD_PHONE_REQUIRED},e))}]}}))})),{modalKey:ee.M})},
children:L.Z.Messages.VERIFY})})})}var ue=n(678050),ce=n(404102);function de(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function fe(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function Ie(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){fe(e,r,n[r])}))}return e}function pe(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n
}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}function Ee(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return de(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e){var r=e.guildId,n=e.formFields,o=e.updateFormFields,i=(0,a.e7)([O.Z],(function(){var e;return null===(e=O.Z.getGuild(r))||void 0===e?void 0:e.rulesChannelId})),s=function(e,r){var t=n[e]
;o(Ee(n.slice(0,e)).concat([pe(Ie({},t),{response:r})],Ee(n.slice(e+1))))},l=function(e,r){switch(e.field_type){case j.QJ.TERMS:return(0,t.jsx)(ue.dd,{channelId:i,formField:e,onChange:function(e,t){return function(e,r){var t=n[e];o(Ee(n.slice(0,e)).concat([pe(Ie({},t),{response:r})],Ee(n.slice(e+1))))}(r,t)}},r);case j.QJ.TEXT_INPUT:return(0,t.jsx)(ce.zY,{formField:e,onChange:function(e){return s(r,e)}},r);case j.QJ.PARAGRAPH:return(0,t.jsx)(W.lX,{formField:e,onChange:function(e){return s(r,e)}},r);case j.QJ.MULTIPLE_CHOICE:return(0,t.jsx)(Q.sp,{formField:e,onChange:function(e){return function(e,r){var t=r.value,i=n[e];o(Ee(n.slice(0,e)).concat([pe(Ie({},i),{response:t})],Ee(n.slice(e+1))))}(r,e)}},r)}};return(0,t.jsx)(t.Fragment,{children:n.map((function(e,r){return l(e,r)}))})}function Oe(e){var r=e.guildId,n=e.formFields,o=e.updateFormFields,i=(0,a.e7)([h.default],(function(){return h.default.getCurrentUser()})),s=w({guildId:r})?ae:J;return null==i?null:(0,t.jsxs)(t.Fragment,{
children:[(0,t.jsx)(s,{}),(0,t.jsx)(me,{guildId:r,formFields:n,updateFormFields:o})]})}function he(e){var r=e.guildId,n=e.formFields,i=e.updateFormFields,s=(0,a.e7)([h.default],(function(){return h.default.getCurrentUser()})),l=function(e){var r=e.guildId,n=(0,a.e7)([h.default],(function(){return h.default.getCurrentUser()})),t=w({guildId:r}),o=(null==n?void 0:n.isPhoneVerified())||(null==n?void 0:n.isStaff()),i=(null==n?void 0:n.verified)||o;return{isPhoneVerificationLevel:t,isCurrentUserVerified:!!(t?o:i)}}({guildId:r}),u=l.isPhoneVerificationLevel,c=l.isCurrentUserVerified,d=o.useRef(c),f=u?le:X;return null==s?null:(0,t.jsxs)(t.Fragment,{children:[!d.current&&(0,t.jsx)(f,{isUserVerified:c}),(0,t.jsx)(me,{guildId:r,formFields:n,updateFormFields:i})]})}var ve=n(580946),_e=n(133766),be=n.n(_e),ye=n(698242),Me=n.n(ye),Ae=n(483683),ge=n.n(Ae),Ne=n(63685),Ce=n.n(Ne),Te=n(634737),Re=n.n(Te);function je(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n]
;return t}function Se(e,r,n,t,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?r(l):Promise.resolve(l).then(t,o)}function xe(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function s(e){Se(i,t,o,s,a,"next",e)}function a(e){Se(i,t,o,s,a,"throw",e)}s(void 0)}))}}function Fe(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function we(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){Fe(e,r,n[r])}))}return e}function Ze(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}function Pe(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(t=n.next()).done);s=!0){i.push(t.value);if(r&&i.length===r)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,r)||Ue(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,r){if(e){if("string"==typeof e)return je(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,r):void 0}}var Ve,De=function(e,r){var n,t,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),
0):t.next)&&!(o=o.call(t,i[1])).done)return o;(t=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;t=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=r.call(e,s)}catch(e){i=[6,e];t=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};!function(e){e[e.CLAIM_ACCOUNT=0]="CLAIM_ACCOUNT";e[e.EMAIL_CONFIRMATION=1]="EMAIL_CONFIRMATION";e[e.VERIFICATION_FORM=2]="VERIFICATION_FORM"}(Ve||(Ve={}));var ke=function(e){var r=e.headerId,n=e.email,o=e.password,i=e.setEmail,s=e.setPassword,a=e.emailError,u=e.passwordError;return(0,t.jsxs)("div",{className:be().content,children:[(0,t.jsx)("img",{
alt:L.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_ICON,src:Me(),className:be().applicationIcon}),(0,t.jsx)(l.X6,{id:r,variant:"heading-xl/semibold",className:be().header,children:L.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_TITLE}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",color:"header-secondary",children:L.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_SUBTITLE}),(0,t.jsx)("hr",{className:be().divider}),(0,t.jsx)(l.xJ,{title:L.Z.Messages.FORM_LABEL_EMAIL,className:be().formItem,children:(0,t.jsx)(l.oi,{value:n,error:a,onChange:i,autoFocus:!0})}),(0,t.jsx)(l.xJ,{title:L.Z.Messages.FORM_LABEL_PASSWORD,className:be().formItem,children:(0,t.jsx)(l.oi,{type:"password",value:o,error:u,onChange:s})})]})},Be=function(e){var r=e.headerId,n=e.email;return(0,t.jsxs)("div",{className:be().content,children:[(0,t.jsx)("img",{alt:L.Z.Messages.MEMBER_VERIFICATION_VERIFY_EMAIL_ICON,src:Re(),className:be().applicationIcon}),(0,t.jsx)(l.X6,{id:r,variant:"heading-xl/semibold",className:be().header,
children:L.Z.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_TITLE.format({email:n})}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",color:"header-secondary",children:L.Z.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_SUBTITLE}),(0,t.jsx)(v.Co,{className:be().resendButton,size:v.Co.Sizes.NONE,look:v.Co.Looks.LINK,onClick:function(){return u.Z.verifyResend()},children:L.Z.Messages.MEMBER_VERIFICATION_EMAIL_RESEND})]})},Ge=function(e){var r,n=e.guildId,o=e.formState,i=e.updateFormState,s=e.isPreview,l=void 0!==s&&s,u=(0,a.e7)([T.Z],(function(){return T.Z.get(n)}));if(null==u)return null;var c=null!==(r=null!=o?o:null==u?void 0:u.formFields)&&void 0!==r?r:[],d=l?Oe:he;return(0,t.jsx)(d,{guildId:n,formFields:c,updateFormFields:i})},He=function(){return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){return e.default}))},ze=function(e){var r=e.headerId,n=e.guildId,o=e.formState,i=e.updateFormState,a=e.useReducedMotion,u=e.isPreview,c=void 0!==u&&u;return(0,t.jsxs)("div",{
className:be().content,children:[(0,t.jsxs)("div",{className:be().animationAndSparklesContainer,children:[(0,t.jsx)("img",{alt:L.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:Ce(),className:s()(be().sparkleIcon,be().sparkleBottom)}),(0,t.jsx)(y.Z,{importData:He,shouldAnimate:!a,className:be().animation}),(0,t.jsx)("img",{alt:L.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:ge(),className:s()(be().sparkleIcon,be().sparkleTop)})]}),(0,t.jsx)(l.X6,{id:r,variant:"heading-xl/semibold",className:be().header,children:L.Z.Messages.MEMBER_VERIFICATION_MODAL_TITLE}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",color:"header-secondary",className:be().subheader,children:L.Z.Messages.MEMBER_VERIFICATION_MODAL_SUBTITLE}),(0,t.jsx)("hr",{className:be().divider}),(0,t.jsx)(Ge,{guildId:n,formState:o,updateFormState:i,isPreview:c})]})};const Ye=function(e){var r,n=e.headerId,i=e.guildId,u=e.onClose,y=e.onComplete,w=e.inviteCode,Z=e.isPreview,P=void 0!==Z&&Z,U=(0,x.rb)((function(e){
return e.hasUnsubmittedChanges})),V=(0,a.e7)([O.Z],(function(){return O.Z.getGuild(i)})),D=(0,a.e7)([T.Z],(function(){return T.Z.get(i)})),k=(0,a.e7)([h.default],(function(){return h.default.getCurrentUser()})),B=!(null==k?void 0:k.isClaimed()),G=null==k?void 0:k.verified,H=null==k?void 0:k.isPhoneVerified(),z=(0,a.e7)([p.Z],(function(){return p.Z.getGuildEmoji(i)})),Y=(0,a.cj)([E.Z],(function(){return{storeMemberCount:E.Z.getMemberCount(i),storeOnlineCount:E.Z.getOnlineCount(i)}})),J=Y.storeMemberCount,X=Y.storeOnlineCount,Q=Pe(o.useState(null!==(r=null==D?void 0:D.formFields)&&void 0!==r?r:[]),2),W=Q[0],q=Q[1],K=Pe(o.useState(!1),2),$=K[0],ee=K[1],re=Pe(o.useState(null),2),ne=re[0],te=re[1],oe=Pe(o.useState(B?Ve.CLAIM_ACCOUNT:Ve.VERIFICATION_FORM),2),ie=oe[0],se=oe[1],ae=Pe(o.useState(""),2),le=ae[0],ue=ae[1],ce=Pe(o.useState(""),2),de=ce[0],fe=ce[1],Ie=Pe(o.useState(null),2),pe=Ie[0],Ee=Ie[1],me=Pe(o.useState(null),2),Oe=me[0],he=me[1],_e=(0,
R.e)(i),ye=null==D?void 0:D.guild,Me=o.useMemo((function(){return null!=V?V:null!=ye?new I.Z(ye):null}),[V,ye]),Ae=o.useMemo((function(){var e,r=Le(null!==(e=0===z.length?null==ye?void 0:ye.emojis:z)&&void 0!==e?e:[]).reverse(),n=0,t=r.length;if(t>12&&null!=r){r=r.slice(0,11);n=Math.min(t-r.length,99)}return{emojisToRender:r,remainingEmojis:n,numGuildEmoji:t}}),[ye,z]),ge=Ae.emojisToRender,Ne=Ae.remainingEmojis,Ce=Ae.numGuildEmoji,Te=null!=J?J:null==ye?void 0:ye.approximate_member_count,Re=null!=X?X:null==ye?void 0:ye.approximate_presence_count;o.useEffect((function(){(0,x.a5)(!1);return function(){(0,x.a5)(!1)}}),[]);o.useEffect((function(){C.Z.fetchVerificationForm(i,w)}),[i,w]);o.useEffect((function(){null!=D&&q(D.formFields)}),[D]);o.useEffect((function(){null!=k&&k.isClaimed()&&se(Ve.VERIFICATION_FORM)}),[k]);o.useEffect((function(){ie===Ve.EMAIL_CONFIRMATION&&G&&se(Ve.VERIFICATION_FORM)}),[ie,G]);o.useEffect((function(){null!=i&&g.default.track(F.rMx.OPEN_MODAL,{type:ve.N4,
guild_id:i})}),[i]);o.useEffect((function(){var e=W.some((function(e){return e.field_type!==j.QJ.TERMS&&(0,S.OA)(e)}));e&&!U?(0,x.a5)(!0):!e&&U&&(0,x.a5)(!1)}),[W,U]);var je=o.useMemo((function(){return!(((null==Me?void 0:Me.verificationLevel)!==F.sFg.VERY_HIGH||(null==k?void 0:k.isStaff()))&&G||H)||W.some((function(e){return!(0,S.OA)(e)}))}),[W,Me,H,G,k]),Se=(0,a.e7)([d.Z],(function(){return d.Z.useReducedMotion}));if(null==Me)return null;var Ue,Ge=(Ue=xe((function(){var e,r,n;return De(this,(function(t){switch(t.label){case 0:ee(!0);Ee(null);he(null);t.label=1;case 1:t.trys.push([1,3,4,5]);return[4,(0,c.S2)({email:le,password:de})];case 2:t.sent();ee(!1);se(Ve.EMAIL_CONFIRMATION);return[3,5];case 3:e=t.sent();Ee(null==e||null===(r=e.body)||void 0===r?void 0:r.email);he(null==e||null===(n=e.body)||void 0===n?void 0:n.password);return[3,5];case 4:ee(!1);return[7];case 5:return[2]}}))})),function(){return Ue.apply(this,arguments)}),He=function(){var e=xe((function(){var e,r,n,t,o
;return De(this,(function(s){switch(s.label){case 0:ee(!0);te(null);if(null!=(e=null!=k?m.ZP.getMember(i,k.id):null)&&!e.isPending){null==u||u(!0);return[2]}s.label=1;case 1:s.trys.push([1,3,,4]);return[4,null==y?void 0:y(Ze(we({},null!=D?D:T.t),{formFields:W}))];case 2:s.sent();null==u||u(!0);return[3,4];case 3:r=s.sent();null!=(null==(o=null==r?void 0:r.body)||null===(n=o.errors)||void 0===n?void 0:n.version)||null!=(null==o||null===(t=o.errors)||void 0===t?void 0:t.form_fields)?te(L.Z.Messages.MEMBER_VERIFICATION_VERSION_MISMATCH_ERROR):te(null==o?void 0:o.message);ee(!1);return[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(_.Z,{direction:_.Z.Direction.VERTICAL,justify:_.Z.Justify.BETWEEN,className:be().guildSidebar,shrink:0,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.Z,{guild:Me,active:!0,className:s()(be().guildIcon,Fe({},be().guildIconNoIcon,null==Me.icon))}),(0,t.jsx)(l.X6,{
variant:"heading-lg/semibold",className:be().guildName,children:null==Me?void 0:Me.name}),(0,t.jsx)(l.xv,{className:be().guildDescription,variant:"text-sm/normal",color:"header-secondary",children:null==D?void 0:D.description}),null!=ge&&ge.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{className:be().divider}),(0,t.jsx)(l.vw,{children:L.Z.Messages.MEMBER_VERIFICATION_NUM_EMOJIS.format({emojis:Ce})}),(0,t.jsxs)("div",{className:be().emojisContainer,children:[ge.map((function(e){var r=N.ZP.getEmojiURL({id:e.id,animated:!1,size:24});return(0,t.jsx)(M.ZP,{text:":".concat(e.name,":"),children:function(e){return(0,t.jsx)("img",Ze(we({},e),{width:24,height:24,src:r,className:be().emoji,alt:""}))}},e.id)})),null!=Ne&&Ne>0?(0,t.jsx)(l.X6,{variant:"heading-deprecated-12/semibold",className:be().emoji,color:"header-secondary",children:"+".concat(Ne)}):null]})]}):null]}),(0,t.jsxs)("div",{children:[null!=Re&&(0,t.jsxs)(_.Z,{align:_.Z.Align.CENTER,className:be().onlineCount,
children:[(0,t.jsx)("div",{className:be().dotOnline}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",children:L.Z.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:Re})})]}),null!=Te&&(0,t.jsxs)(_.Z,{align:_.Z.Align.CENTER,children:[(0,t.jsx)("div",{className:be().dotMembers}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",children:L.Z.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:Te})})]})]})]}),(0,t.jsxs)("div",{className:be().modal,children:[(0,t.jsx)(A.hz,{className:be().modalContent,children:(0,t.jsx)(f.Z,{className:s()(be().sequencer,Fe({},be().centerContent,ie!==Ve.VERIFICATION_FORM)),steps:[Ve.CLAIM_ACCOUNT,Ve.EMAIL_CONFIRMATION,Ve.VERIFICATION_FORM],step:ie,children:function(){switch(ie){case Ve.CLAIM_ACCOUNT:return(0,t.jsx)(ke,{headerId:n,email:le,password:de,setEmail:ue,setPassword:fe,emailError:pe,passwordError:Oe});case Ve.EMAIL_CONFIRMATION:return(0,t.jsx)(Be,{headerId:n,email:le});case Ve.VERIFICATION_FORM:return(0,t.jsx)(ze,{headerId:n,guildId:i,formState:W,
updateFormState:q,isPreview:P,useReducedMotion:Se})}}()})}),function(){switch(ie){case Ve.CLAIM_ACCOUNT:return(0,t.jsxs)(A.mz,{className:be().footer,children:[(0,t.jsx)(v.Co,{className:be().submitButton,type:"submit",submitting:$,onClick:Ge,disabled:0===le.length||0===de.length,children:L.Z.Messages.NEXT}),(0,t.jsx)(l.xv,{variant:"text-xs/normal",color:"header-secondary",children:L.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_INFO})]});case Ve.EMAIL_CONFIRMATION:return null;case Ve.VERIFICATION_FORM:return(0,t.jsxs)(A.mz,{className:be().footer,children:[(0,t.jsx)(v.Co,{className:be().submitButton,type:"submit",submitting:$,onClick:He,color:v.Co.Colors.GREEN,disabled:null==y||je,children:L.Z.Messages.SUBMIT}),null!=ne&&(0,t.jsx)(l.xv,{variant:"text-xs/normal",color:"text-danger",children:ne}),null==ne&&_e&&(0,t.jsx)(l.xv,{color:"header-secondary",variant:"text-xs/normal",children:L.Z.Messages.MEMBER_VERIFICATION_WARNING})]})}}()]})]})}}}]);
//# sourceMappingURL=ab650fd369566d27c587.js.map