(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[59859,34076,42348,63157],{478717:(e,t,n)=>{var r={"./2017-11-16.mp4":684795,"./2019-12-17.mp4":662325,"./channel-following.png":15176,"./discovery.jpg":788557,"./discriminator.mp4":22625,"./g250k-cl.mp4":603628,"./header.mp4":879334,"./hypesquad-hack-week/header.png":133650,"./hypesquad-hack-week/paladins-loot.png":631896,"./ko-new-year.jpg":931806,"./league-rp-cl.mp4":425058,"./polish-week.png":428915,"./special-template/desktop-cta.png":561323,"./special-template/desktop-cta.svg":949223,"./special-template/header-left.svg":412466,"./special-template/header-right.svg":226586,"./special-template/mobile-cta.svg":373135,"./special-template/update-badge.svg":361850,"./stickers-launch/2020_PMM_STICKERS_Mrkt_BlogHdr_2500x1000.png":15808,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Left_180x220.png":227227,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Right_180x220.png":999455,
"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_Changelog_658X220.png":678811,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_FooterCTA_238x220.png":236340,"./stickers-launch/2020_PMM_STICKERS_Mrkt_MobileHero_375x190.png":359546,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Mobile_FooterCTA_343x78.png":35448,"./store.jpg":404252};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}o.keys=function(){return Object.keys(r)};o.resolve=i;e.exports=o;o.id=478717},145911:(e,t,n)=>{e.exports=n.p+"e92599c3548209f77ec833c649f8939a.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},684795:(e,t,n)=>{e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},662325:(e,t,n)=>{e.exports=n.p+"ae046b62e28bb1ec1fbdde8185d32b9e.mp4"},15176:(e,t,n)=>{e.exports=n.p+"19ee7a767639c0af819b5976b493e9d8.png"},788557:(e,t,n)=>{e.exports=n.p+"230cd026d4bfdeb914b266938cc506a1.jpg"},
22625:(e,t,n)=>{e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},603628:(e,t,n)=>{e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},879334:(e,t,n)=>{e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},133650:(e,t,n)=>{e.exports=n.p+"abaa70ae2be9f361759c60b2ee85ff12.png"},631896:(e,t,n)=>{e.exports=n.p+"3522a06815d204da075ffda2431ef7f2.png"},931806:(e,t,n)=>{e.exports=n.p+"9acacf43b5dddb33196fa60a4a6c6b2f.jpg"},425058:(e,t,n)=>{e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},428915:(e,t,n)=>{e.exports=n.p+"1b9af825f3ccd5ffdf9580e338d4e5e7.png"},561323:(e,t,n)=>{e.exports=n.p+"bb867095876d3f6d81cc12e745ee9f58.png"},949223:(e,t,n)=>{e.exports=n.p+"8a5c84a9635d7e691e9276ff7ddfab31.svg"},412466:(e,t,n)=>{e.exports=n.p+"6b1abb79089f84d154f8a248dfb90b46.svg"},226586:(e,t,n)=>{e.exports=n.p+"0251a4f9294a3617de380fe28c486932.svg"},373135:(e,t,n)=>{e.exports=n.p+"fbef95afb1a9c8cf52e941375c360491.svg"},361850:(e,t,n)=>{e.exports=n.p+"06d8e21539e634cbc0f2ecf38f1bb2bb.svg"},
15808:(e,t,n)=>{e.exports=n.p+"fe875f7f2f0c4869d155e7e487f570f2.png"},227227:(e,t,n)=>{e.exports=n.p+"7f9b927507a1c9321da58ab0fafffcd0.png"},999455:(e,t,n)=>{e.exports=n.p+"1c3ba8528a8f16c8cf0c55e286010420.png"},678811:(e,t,n)=>{e.exports=n.p+"831ba24f72b89cc77c325317372b7239.png"},236340:(e,t,n)=>{e.exports=n.p+"3785e11ebe8fdcd64db5bb49f2e5299d.png"},359546:(e,t,n)=>{e.exports=n.p+"506bf478f5e1a271a27b673e6f25749a.png"},35448:(e,t,n)=>{e.exports=n.p+"07d9032e5d30865e0cc076396f0b027a.png"},404252:(e,t,n)=>{e.exports=n.p+"9d402086959fccbf418074a4b96f6d19.jpg"},108881:(e,t,n)=>{e.exports=n.p+"750fe6bb60bf9451ab9ad9a0b6eabbbc.svg"},761869:(e,t,n)=>{e.exports=n.p+"481f8332b80859990fb464dbe288295e.svg"},884217:(e,t,n)=>{e.exports=n.p+"c19657ec8ccb7b12e610ab71d457bfd6.png"},921912:(e,t,n)=>{e.exports=n.p+"350e1c6739823620f031d023a48ac9d4.svg"},964766:(e,t,n)=>{e.exports=n.p+"3123277eb2e7083fde983985dcd209a6.svg"},3874:(e,t,n)=>{e.exports=n.p+"c115d59ca13c0f942965a82a0f05bf01.svg"},
302255:(e,t,n)=>{e.exports=n.p+"ad530d02033b87bb89752f915c2fbe3c.svg"},117399:(e,t,n)=>{e.exports=n.p+"f1e026332f1d6e902bcbbc07892bc849.svg"},408056:(e,t,n)=>{e.exports=n.p+"fd65da49c3073002049383baeb24e658.svg"},498913:(e,t,n)=>{e.exports=n.p+"beec347635d7597215747fcaf461e569.svg"},598150:(e,t,n)=>{e.exports=n.p+"9581653a5a4d0b7b56187044a9db301a.svg"},656470:(e,t,n)=>{e.exports=n.p+"12d9bda733d6432d605e8011c22c3e56.svg"},789885:(e,t,n)=>{e.exports=n.p+"8de4b17bb44ad5ef9f21f2f6f16aa8d1.svg"},492623:(e,t,n)=>{e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},399898:(e,t,n)=>{e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},74700:(e,t,n)=>{e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},607603:(e,t,n)=>{e.exports=n.p+"02625ee29f851ec588c2020a88d82665.svg"},376354:(e,t,n)=>{e.exports=n.p+"b36de980b174d7b798c89f35c116e5c6.svg"},688224:(e,t,n)=>{e.exports=n.p+"fd879a28807b66b38d54e7db6ea18a69.svg"},96972:(e,t,n)=>{e.exports=n.p+"b36c705f790dad253981f1893085015a.svg"},
540579:(e,t,n)=>{e.exports=n.p+"36c9a2fb7d0593a581a92373121c2848.svg"},572274:(e,t,n)=>{e.exports=n.p+"c8aeec4a5ee16aa9214b994f7355fea0.svg"},709804:(e,t,n)=>{e.exports=n.p+"37cf72199c4e106407223a1edaf34460.svg"},348833:(e,t,n)=>{e.exports=n.p+"23f41c9a000ffa229ef0b60ef127ccba.svg"},392544:(e,t,n)=>{e.exports=n.p+"55b367aaef0b83c837ac6c3bfe01da4c.svg"},350672:(e,t,n)=>{e.exports=n.p+"6e97f6643e7df29b26571d96430e92f4.svg"},24264:(e,t,n)=>{e.exports=n.p+"55b941d7bba0d84f06c05db34b7c9aab.svg"},874638:(e,t,n)=>{e.exports=n.p+"187bc0709ea0cecffe622a50993d012c.svg"},956863:(e,t,n)=>{e.exports=n.p+"c096c74c5685ce049b779f7ce3591bab.svg"},947079:(e,t,n)=>{e.exports=n.p+"3fba9b3d08682f3ce0344e289fe668cb.svg"},903049:(e,t,n)=>{e.exports=n.p+"d5d75eacea4086ed5f38048b74851f43.svg"},188374:(e,t,n)=>{e.exports=n.p+"42b60052f80abd9c2bdd8fc24cf97988.svg"},789621:(e,t,n)=>{e.exports=n.p+"9167182d6b74446a1c818615c135c289.svg"},273361:(e,t,n)=>{e.exports=n.p+"67430d140a79af95585a19d304731dc5.svg"},
129428:(e,t,n)=>{e.exports=n.p+"d6779172ed9209b5ad49df923ea7820c.svg"},566300:(e,t,n)=>{e.exports=n.p+"c11b69c74029b5deaca9ca7ce1e987b1.svg"},235920:(e,t,n)=>{e.exports=n.p+"23e073eb0ee21f94de11e5d0a7eec50e.svg"},200824:(e,t,n)=>{e.exports=n.p+"f69210154879227d0ede0308465cf388.svg"},389515:(e,t,n)=>{e.exports=n.p+"816e71b3225c71bc105db7209fb4b796.svg"},785538:(e,t,n)=>{e.exports=n.p+"7866fb01d8b75b6fe9e6591373a0ddf2.svg"},692417:(e,t,n)=>{e.exports=n.p+"f88737ca3655b964bfdbbff8585f1d41.png"},88094:(e,t,n)=>{e.exports=n.p+"7dfe055a88781818b8368d1f9f2049da.png"},534413:(e,t,n)=>{e.exports=n.p+"e73889dfe6cc46c9161dd9c1d19cc5ca.svg"},182105:(e,t,n)=>{e.exports=n.p+"109dff8689b0dcedc5485a0b26c647f2.svg"},23943:(e,t,n)=>{e.exports=n.p+"0a14344c0e0bfe3a52aa245ecaaebca7.svg"},834986:(e,t,n)=>{e.exports=n.p+"f214135302d61205531f7b699beda3ae.svg"},257366:(e,t,n)=>{e.exports=n.p+"af1ba3a7e6cc150d54fe3f36ca83e5af.svg"},512942:(e,t,n)=>{e.exports=n.p+"1fd45d0febcfaabc6b535f3329b3b834.svg"},
928437:(e,t,n)=>{e.exports=n.p+"f670f3c6d967e932c8bf7409e06ce99e.svg"},301802:(e,t,n)=>{e.exports=n.p+"d923a7304a84358c787537e05b5522b0.svg"},727869:(e,t,n)=>{e.exports=n.p+"5e690f4c63a19a36bff7f6364eaa6ea2.svg"},10439:(e,t,n)=>{e.exports=n.p+"fda43f574092d89177a4412046f51c44.svg"},680664:(e,t,n)=>{e.exports=n.p+"41a1814ec63404eb722ce88d1c28b4f4.png"},396448:(e,t,n)=>{e.exports=n.p+"8e5a6ee1fce31ef5c5800b7646a94d98.png"},50682:(e,t,n)=>{e.exports=n.p+"7786c98742fafc1347e5fedaa1c67ea9.svg"},509142:(e,t,n)=>{e.exports=n.p+"9c804cfda21f296f522fbadfb818c76f.svg"},226867:(e,t,n)=>{e.exports=n.p+"84b8a1a47627caf0b6d6dae9fc28f1c5.png"},794649:(e,t,n)=>{e.exports=n.p+"d759f3acc6286c964cc8118d7f68b374.svg"},80210:(e,t,n)=>{e.exports=n.p+"3ed9c7cdbea131bc485afa998a5ec93e.svg"},333993:(e,t,n)=>{e.exports=n.p+"1a23068e966efce6fb32ca9fecc65eed.svg"},694111:(e,t,n)=>{e.exports=n.p+"4aebeb85413bf3414671b2c138463909.svg"},716926:(e,t,n)=>{e.exports=n.p+"ff41e1377e717b4bd792302528ff69e4.svg"},
484771:(e,t,n)=>{e.exports=n.p+"7de1e682a4fbf1483ad81f3872e5a9b2.png"},635232:(e,t,n)=>{e.exports=n.p+"34d96b0900c3f9fc0e57f7eeddf1e161.svg"},312154:(e,t,n)=>{e.exports=n.p+"7ee0d57b993e25a61a9f42a0808e721f.svg"},22513:(e,t,n)=>{e.exports=n.p+"95f1d07727cd8303bb200217b50f98fa.svg"},515861:(e,t,n)=>{e.exports=n.p+"c0a2b25d7b3e46c1c969c809ee173e3a.svg"},568909:(e,t,n)=>{e.exports=n.p+"e50463c92d8fb550ee4a6018361098bb.svg"},531239:(e,t,n)=>{e.exports=n.p+"26f653c4a0bd723faa41d92b4f957cb9.svg"},302048:(e,t,n)=>{e.exports=n.p+"045d1e57ef93a0f9b55e9fa593116c96.svg"},180263:(e,t,n)=>{e.exports=n.p+"6a04c917a9b9b2706058f8f48bf83981.svg"},677291:(e,t,n)=>{e.exports=n.p+"2487bb81772c6dab62684cd570ac8dd4.svg"},864678:(e,t,n)=>{e.exports=n.p+"8895917b1fd65584171fb5794e5411be.svg"},367627:(e,t,n)=>{e.exports=n.p+"35c4885828d7808a119efea349c638a0.svg"},874744:(e,t,n)=>{e.exports=n.p+"4766a4c81adfcca7ce1c53c6a7590c23.svg"},101872:(e,t,n)=>{e.exports=n.p+"449b5e5b0765b27c68ef2bf735af539d.svg"},
46802:(e,t,n)=>{e.exports=n.p+"5b6f3fce0c8b9fa0bcad7bbb51e13848.svg"},726954:(e,t,n)=>{e.exports=n.p+"2da390aaddef4384aa0520dd8a6fc156.svg"},897295:(e,t,n)=>{e.exports=n.p+"94ea936b0074481a45e1a0c50aed7e48.svg"},435696:(e,t,n)=>{e.exports=n.p+"a6cde8ee51f202f776ef71ee9cf280d1.svg"},454675:(e,t,n)=>{e.exports=n.p+"e844e2dcc722ad0666556ca41351610f.svg"},404024:(e,t,n)=>{e.exports=n.p+"ed28635ce7d107f1a8b04379d009dd41.svg"},764728:(e,t,n)=>{e.exports=n.p+"cc6c3c95c28acf328b6173383ddb3b61.svg"},404940:(e,t,n)=>{e.exports=n.p+"c8234fe5675a618e7891b634d32d1c0f.svg"},185802:(e,t,n)=>{e.exports=n.p+"9b8d70b5b62f4983a80b2b136259b763.svg"},934104:(e,t,n)=>{e.exports=n.p+"5113924998ee17c4f43a65b8cf2d0153.svg"},652951:(e,t,n)=>{e.exports=n.p+"fd49d24049e28b740a0a1e08d15158b3.png"},207357:(e,t,n)=>{e.exports=n.p+"e06697bc1bf89b08d1e767aa21334ae0.png"},970298:(e,t,n)=>{e.exports=n.p+"07de3733e48397a3e9086e37a9cb0dac.svg"},946137:(e,t,n)=>{e.exports=n.p+"a8007d2ecb3aec65119698bff7052451.svg"},
692760:(e,t,n)=>{e.exports=n.p+"a50c50c963aab21b5c3d58e7fd06664e.svg"},302147:(e,t,n)=>{e.exports=n.p+"da49b3a1b7e3f163d69aff38bf33609d.svg"},204186:(e,t,n)=>{e.exports=n.p+"f18a19cd9fbf76b15b4d968274b0635a.svg"},337285:(e,t,n)=>{e.exports=n.p+"5e38a1b0dc183dd320c517e58ccfb074.svg"},691634:(e,t,n)=>{e.exports=n.p+"2ebbb7dbd17b154a625b58b33738fc85.svg"},998240:(e,t,n)=>{e.exports=n.p+"3224278ae6dc432b7fbc0fc90b54686e.svg"},705206:(e,t,n)=>{e.exports=n.p+"984b386302bacf7fb81985ab31c5beec.png"},567012:(e,t,n)=>{e.exports=n.p+"a9efd5e06b5616d39a6ee4232211f9b0.svg"},862470:(e,t,n)=>{e.exports=n.p+"dd1ac77c281d77cfa4061925981469e2.svg"},140561:(e,t,n)=>{e.exports=n.p+"4d8c26b9b004da398fb8940d194e3aaa.svg"},237018:(e,t,n)=>{e.exports=n.p+"c173765c2ab447a8ec7ba0e3e8aa3c09.svg"},976518:(e,t,n)=>{e.exports=n.p+"48c9711c9fabbd43182bcaf602201b48.svg"},522627:(e,t,n)=>{e.exports=n.p+"6e0a487645bb93dc13fdb0b499352b46.svg"},20278:(e,t,n)=>{e.exports=n.p+"eb47171e918604c7f7e861e94708f19f.svg"},
524268:(e,t,n)=>{e.exports=n.p+"2e16625f6f55b96572f79cc35682266f.png"},950737:(e,t,n)=>{e.exports=n.p+"3be860e37bf5f2df40ad15d2de5cee0e.png"},276727:(e,t,n)=>{e.exports=n.p+"97ac61a0b98fd6f01b4de370c9ccdb56.png"},31890:(e,t,n)=>{e.exports=n.p+"c23a59030cd2583c8b8ae0e85bc99737.svg"},660588:(e,t,n)=>{e.exports=n.p+"d4f4a5d2eb643d073f413e517ed0cc40.svg"},236086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(675860),o=n(173436),i=n(41819);const a={lockChangeLog:function(e){o.Z.dispatch({type:"CHANGE_LOG_LOCK",key:e})},unlockChangeLog:function(e){o.Z.dispatch({type:"CHANGE_LOG_UNLOCK",key:e})},showChangeLog:function(e){o.Z.dispatch({type:"CHANGE_LOG_OPEN",query:e})},hideChangeLog:function(){o.Z.dispatch({type:"CHANGE_LOG_CLOSE"})},setChangelogOverride:function(e){o.Z.dispatch({type:"CHANGE_LOG_SET_OVERRIDE",id:e})},fetchChangelog:function(e,t){var n=i.V.DESKTOP;"en-GB"===t&&(t="en-US");return r.Z.get({
url:"https://cdn.discordapp.com/changelogs/".concat(n,"/").concat(e,"/").concat(t,".json")}).then((function(t){o.Z.dispatch({type:"CHANGE_LOG_FETCH_SUCCESS",id:e,changelog:t.body})}))}}},817420:(e,t,n)=>{"use strict";n.d(t,{W:()=>d});var r=n(832691),o=n(367124),i=n(897576),a=n(36347);function s(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function f(e,t){var a=o.Z.getGame(e);null!=a?(0,i.ZD)(c((function(){var e,r;return u(this,(function(o){switch(o.label){case 0:return[4,n.e(88023).then(n.bind(n,488023))];case 1:e=o.sent(),r=e.default
;return[2,function(e){return r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({game:a,onConfirmUninstall:t},e))}]}}))}))):new r.Z("DispatchUninstallActionCreators").log("Application not found for game ".concat(e))}function d(e,t,n){f(e,(function(){return(0,a.pC)(e,t,n)}))}},295527:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r,o=n(675860),i=n(173436),a=n(323657),s=n(461061);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var l=(c(r={},s.gkr.HOUSE_1,1),c(r,s.gkr.HOUSE_2,2),c(r,s.gkr.HOUSE_3,3),r);const u={joinHypeSquadOnline:function(e){return o.Z.post({url:s.ANM.HYPESQUAD_ONLINE,body:{house_id:l[e.houseID]},oldFormErrors:!0
}).then((function(){return i.Z.dispatch({type:"HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS",houseID:e.houseID})})).catch((function(e){throw new a.yZ(e)}))},leaveHypeSquadOnline:function(){return o.Z.delete({url:s.ANM.HYPESQUAD_ONLINE,oldFormErrors:!0}).then((function(){return i.Z.dispatch({type:"HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS"})})).catch((function(e){throw new a.yZ(e)}))}}},87993:(e,t,n)=>{"use strict";n.d(t,{RY:()=>i,iD:()=>a,Tb:()=>s,ec:()=>c});var r=n(173436),o=n(150829);function i(e){o.Z.queryDirectory(e,(function(t,n){null==t&&null!=n&&r.Z.dispatch({type:"INSTALLATION_LOCATION_ADD",path:e,metadata:n})}))}function a(e){r.Z.dispatch({type:"INSTALLATION_LOCATION_REMOVE",path:e})}function s(e,t){var n=t.label,o=t.isDefault;r.Z.dispatch({type:"INSTALLATION_LOCATION_UPDATE",path:e,label:n,isDefault:o})}function c(e){var t={},n=0,i=!0,a=!1,s=void 0;try{for(var c,l=function(){var i=c.value;if(null==i||"string"!=typeof i)return"continue";o.Z.queryDirectory(i,(function(o,a){++n
;null==o&&null!=a&&(t[i]=a);n===e.length&&r.Z.dispatch({type:"INSTALLATION_LOCATION_FETCH_METADATA",metadataPayload:t})}))},u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0)l()}catch(e){a=!0;s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}}},34076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(173436),o=n(7046),i=n(4231),a=n(696534);function s(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}var l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const u={init:function(){r.Z.dispatch({type:"INTEGRATION_SETTINGS_INIT"})},setSection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.Z.dispatch({
type:"INTEGRATION_SETTINGS_SET_SECTION",section:e,sectionId:t})},startEditingCommandPermissions:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_START_EDITING_COMMAND",commandId:e})},stopEditingCommandPermissions:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_STOP_EDITING_COMMAND",commandId:e})},startEditingIntegration:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_START_EDITING_INTEGRATION",integrationId:e})},stopEditingIntegration:function(){r.Z.dispatch({type:"INTEGRATION_SETTINGS_STOP_EDITING_INTEGRATION"})},updateIntegration:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_UPDATE_INTEGRATION",settings:e})},startEditingWebhook:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_START_EDITING_WEBHOOK",webhookId:e})},stopEditingWebhook:function(){r.Z.dispatch({type:"INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK"})},updateWebhook:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_UPDATE_WEBHOOK",settings:e})},saveApplicationPermissions:function(e,t,n){
return c((function(){var o;return l(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);r.Z.dispatch({type:"INTEGRATION_SETTINGS_SUBMITTING"});return[4,i.U3({applicationId:e,commandId:e,defaultEveryoneValue:!0,defaultEverywhereValue:!0,guildId:t,permissions:n})];case 1:a.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_SUCCESS"});return[3,3];case 2:o=a.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_FAILURE",errors:o.body});return[3,3];case 3:return[2]}}))}))()},saveIntegration:function(e,t){return c((function(){var n;return l(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);r.Z.dispatch({type:"INTEGRATION_SETTINGS_SUBMITTING"});return[4,o.Z.updateIntegration(e,t.id,t.expire_behavior,t.expire_grace_period,t.enable_emoticons)];case 1:i.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_SUCCESS"});return[3,3];case 2:n=i.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_FAILURE",errors:n.body});return[3,3];case 3:return[2]}}))}))()},
saveWebhook:function(e,t){return c((function(){var n;return l(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);r.Z.dispatch({type:"INTEGRATION_SETTINGS_SUBMITTING"});return[4,a.Z.update(e,t.id,t)];case 1:o.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_SUCCESS"});return[3,3];case 2:n=o.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_FAILURE",errors:n.body});return[3,3];case 3:return[2]}}))}))()}}},754780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(173436);const o={addKeybind:function(e){r.Z.dispatch({type:"KEYBINDS_ADD_KEYBIND",keybind:e})},setKeybind:function(e){r.Z.dispatch({type:"KEYBINDS_SET_KEYBIND",keybind:e})},deleteKeybind:function(e){r.Z.dispatch({type:"KEYBINDS_DELETE_KEYBIND",id:e})},enableAll:function(e){r.Z.dispatch({type:"KEYBINDS_ENABLE_ALL_KEYBINDS",enable:e})}}},450700:(e,t,n)=>{"use strict";n.d(t,{b8:()=>f,GR:()=>p,ul:()=>E});var r=n(675860),o=n(173436),i=n(88051),a=n(935406),s=n(461061);function c(e,t,n,r,o,i,a){try{
var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}var u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function f(){return d.apply(this,arguments)}function d(){return(d=l((function(){var e,t;return u(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,(0,a.Kb)({url:s.ANM.LIBRARY,oldFormErrors:!0},!1)];case 1:e=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_SUCCESS",libraryApplications:e.body});return[3,3];case 2:t=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_FAIL",error:t});return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=l((function(e){var t,n,a;return u(this,(function(c){switch(c.label){case 0:
return null==(t=e.primarySkuId)?[2]:[4,r.Z.get({url:s.ANM.APPLICATION_BRANCH_LIST(e.id),oldFormErrors:!0}).then((function(e){return e.body}))];case 1:n=c.sent();a=n.map((function(n){return i.Z.createForTestMode({id:e.id,skuId:t,branch:n})}));o.Z.dispatch({type:"LIBRARY_APPLICATIONS_TEST_MODE_ENABLED",libraryApplications:a});return[2]}}))}))).apply(this,arguments)}function E(e,t,n){o.Z.dispatch({type:"LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE",applicationId:e,branchId:t,launchOptionId:n})}},977445:(e,t,n)=>{"use strict";n.d(t,{N:()=>f});var r=n(675860),o=n(173436),i=n(277499),a=n(461061);function s(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}var l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1]
;return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=216e5
;function f(){return d.apply(this,arguments)}function d(){return(d=c((function(){var e,t;return l(this,(function(n){switch(n.label){case 0:if(null!=(e=i.Z.lastFetched)&&Date.now()-e<u)return[2];n.label=1;case 1:n.trys.push([1,3,,4]);return[4,r.Z.get({url:a.ANM.USER_ACTIVITY_STATISTICS,oldFormErrors:!0})];case 2:t=n.sent();o.Z.dispatch({type:"USER_ACTIVITY_STATISTICS_FETCH_SUCCESS",statistics:t.body});return[3,4];case 3:return[2,n.sent()];case 4:return[2]}}))}))).apply(this,arguments)}},241490:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(173436);const o={setEnabled:function(e){this.update({enabled:e})},update:function(e){var t=!0,n=!1,o=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;r.Z.dispatch({type:"STREAMER_MODE_UPDATE",key:s,value:e[s]})}}catch(e){n=!0;o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}}}},953756:(e,t,n)=>{"use strict";n.d(t,{Wt:()=>E,mc:()=>m,q$:()=>b})
;var r=n(173436),o=n(823343),i=n(733730),a=n(367124),s=n(418674),c=n(86124),l=n(881548),u=n(450700),f=n(461061);function d(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,s,"next",e)}function s(e){d(i,r,o,a,s,"throw",e)}a(void 0)}))}}var h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1}
;case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function E(e,t){return y.apply(this,arguments)}function y(){return(y=p((function(e,t){var n,d,p,E;return h(this,(function(h){switch(h.label){case 0:r.Z.dispatch({applicationId:e,type:"DEVELOPER_TEST_MODE_AUTHORIZATION_START"});h.label=1;case 1:h.trys.push([1,5,,6]);return[4,(0,o.W5)(e)];case 2:if(!h.sent())throw new Error("Do not have access!");if(null!=(n=a.Z.getGame(e)))return[3,4];d=i.Z.createFromServer;return[4,l.Z.fetchApplication(e)];case 3:n=d.apply(i.Z,[h.sent()]);h.label=4;case 4:if((p=(0,
s.yE)(n.flags,f.udG.EMBEDDED))&&(null==t||!c.Z.URL_REGEX.test(t)))throw new Error("Invalid Origin URL for embedded application");p||u.GR(n);r.Z.dispatch({type:"DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS",applicationId:e,originURL:p?t:null});return[2,n];case 5:E=h.sent();r.Z.dispatch({type:"DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL",applicationId:e,error:E.message});return[2,null];case 6:return[2]}}))}))).apply(this,arguments)}function m(){r.Z.dispatch({type:"DEVELOPER_TEST_MODE_RESET"})}function b(){r.Z.dispatch({type:"DEVELOPER_TEST_MODE_RESET_ERROR"})}},696534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(496486),o=n.n(r),i=n(675860),a=n(173436),s=n(461061),c=["Spidey Bot","Captain Hook"];const l={fetchForGuild:function(e){a.Z.dispatch({type:"WEBHOOKS_FETCHING",guildId:e});i.Z.get({url:s.ANM.GUILD_WEBHOOKS(e),oldFormErrors:!0}).then((function(t){var n=t.body;return a.Z.dispatch({type:"WEBHOOKS_UPDATE",guildId:e,webhooks:n})})).catch((function(t){var n=t.body;a.Z.dispatch({
type:"WEBHOOKS_UPDATE",guildId:e,error:n.message})}))},fetchForChannel:function(e,t){a.Z.dispatch({type:"WEBHOOKS_FETCHING",guildId:e,channelId:t});i.Z.get({url:s.ANM.CHANNEL_WEBHOOKS(t),oldFormErrors:!0}).then((function(n){var r=n.body;return a.Z.dispatch({type:"WEBHOOKS_UPDATE",guildId:e,channelId:t,webhooks:r})}))},create:function(e,t,n){null==n&&(n=c[o().random(0,c.length-1)]);return i.Z.post({url:s.ANM.CHANNEL_WEBHOOKS(t),body:{name:n},oldFormErrors:!0}).then((function(t){var n=t.body;a.Z.dispatch({type:"WEBHOOK_CREATE",guildId:e,webhook:n});return n}))},delete:function(e,t){return i.Z.delete({url:s.ANM.WEBHOOK(t),oldFormErrors:!0}).then((function(){a.Z.dispatch({type:"WEBHOOK_DELETE",guildId:e,webhookId:t})}))},update:function(e,t,n){return i.Z.patch({url:s.ANM.WEBHOOK(t),body:n,oldFormErrors:!0}).then((function(t){var n=t.body;a.Z.dispatch({type:"WEBHOOK_UPDATE",guildId:e,webhook:n});return n}))}}},433411:(e,t,n)=>{"use strict";n.d(t,{_:()=>w,Z:()=>X})
;var r=n(785893),o=n(667294),i=n(496486),a=n.n(i),s=n(791462),c=n(149556),l=n(365523),u=n(600075),f=n(600341),d=n(849166),p=n(733285),h=n(191940),E=n(294184),y=n.n(E),m=n(832010),b=n(912551),g=n(240243);function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function S(e){var t=e.width,n=void 0===t?80:t,o=e.height,i=void 0===o?20:o,a=e.color,s=void 0===a?"currentColor":a,c=e.foreground,l=_(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",v(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}({},(0,g.Z)(l)),{width:n,height:i,viewBox:"0 0 ".concat(n," ").concat(i),children:[(0,r.jsx)("pattern",{id:"pill-frame-pattern",width:8/n,height:"1",children:(0,r.jsx)("path",{d:"m0 0h8v20h-8zm4 2c-1.1045695 0-2 .8954305-2 2v12c0 1.1045695.8954305 2 2 2s2-.8954305 2-2v-12c0-1.1045695-.8954305-2-2-2z",
fillRule:"evenodd",fill:s,className:c})}),(0,r.jsx)("rect",{fill:"url(#pill-frame-pattern)",height:"100%",width:"100%"})]}))}var I=n(461061),T=n(14573),N=n.n(T);function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e){A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return A(e)}function P(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e,t){j=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return j(e,t)}var R=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}var M=(0,b.Mg)(N().notchWidth),w=Object.freeze({BLACK:N().black,GRAY:N().gray}),Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&j(e,t)}(n,e);var t=x(n);function n(){C(this,n);var e;(e=t.apply(this,arguments)).state={barWidth:0};e.sizerRef=o.createRef();e.computeBars=function(){var t=e.sizerRef.current;e.setState({barWidth:null!=t?e.roundToNearestStep(t.clientWidth):0})};return e}var i=n.prototype;i.componentDidMount=function(){this.computeBars();window.addEventListener("resize",this.computeBars)};i.componentWillUnmount=function(){
window.removeEventListener("resize",this.computeBars)};i.roundToNearestStep=function(e){return Math.round(e/M)*M};i.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,o=this.roundToNearestStep(r),i=Math.abs(o-n);return{transform:"translateX(".concat(i,"px)")}};i.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress,o=this.state.barWidth;return{width:"".concat(o,"px"),background:r<=0?"none":"linear-gradient(to right, ".concat(n,", ").concat(t,")")}};i.render=function(){var e=this.props,t=e.className,n=e.notchBackground,o=this.state.barWidth;return(0,r.jsx)("div",{className:N().wrapper,ref:this.sizerRef,children:(0,r.jsxs)("div",{className:y()(N().container,t),style:this.getGradientStyles(),children:[(0,r.jsx)("div",{className:N().progress,style:this.getProgressStyles()}),0!==o&&(0,r.jsx)(S,{width:o,className:y()(N().notches,n)})]})})};return n}(o.Component);Z.defaultProps={
gradientStart:(0,m.Lq)(I.Ilk.STATUS_YELLOW_400),gradientEnd:(0,m.Lq)(I.Ilk.STATUS_GREEN_600)};const L=Z;var D=n(757987),U=n(932847),k=n(959797),G=n(502258),B=n.n(G);function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e){V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return V(e)}function F(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e,t){Y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Y(e,t)}var W=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}var K=-100,q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Y(e,t)}(n,e);var t=z(n);function n(){H(this,n);var e;(e=t.apply(this,arguments))._initTimeout=new l.V7;e._silenceTimeout=new l.V7;e._messageTimeout=new l.V7;e.state={volume:K,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1};e.setupVoiceActivity=function(){d.Z.getMediaEngine().on(c.aB.VoiceActivity,e.handleVoiceActivity)};e.handleVoiceActivity=function(t){if(e.state.isMicTesting&&t<=K){e._silenceTimeout.isStarted()||e._silenceTimeout.start(2e3,(function(){e.setState({isDetectingInput:!1})}))
;e.setState({volume:K})}else{e._silenceTimeout.stop();e.setState({volume:t,isDetectingInput:!0})}};e.handleToggleMicTest=function(){e.state.isMicTesting?e._micTestStop():e._micTestStart()};return e}var o=n.prototype;o.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)};o.componentWillUnmount=function(){this._initTimeout.stop();this._silenceTimeout.stop();this._micTestStop();d.Z.getMediaEngine().removeListener(c.aB.VoiceActivity,this.handleVoiceActivity)};o._micTestStart=function(){var e=this.props,t=e.isVoiceConnected,n=e.inputDeviceName,r=e.inputVolume,o=e.outputDeviceName,i=e.outputVolume,a=e.inputMode,s=e.vadAutoThreshold,c=e.vadThreshold,l=e.location,u=e.isDeafened,d=!1;if(t&&!u){f.Z.toggleSelfDeaf();d=!0}f.Z.setLoopback(!0);this._micTestStartTime=Date.now();this.setState({isMicTesting:!0,isDetectingInput:!0,didDeafenUser:d});U.default.track(I.rMx.MIC_TESTING_STARTED,{input_device_name:n,input_device_volume:r,output_device_name:o,
output_device_volume:i,input_mode:a,input_sensitivity_is_automatic:s,input_sensitivity_threshold:Math.round(c),location:l})};o._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,o=r.isVoiceConnected,i=r.isDeafened;if(n){o&&i&&t&&f.Z.toggleSelfDeaf();f.Z.setLoopback(!1);this.setState({isMicTesting:!1,didDeafenUser:!1});null!=this._micTestStartTime&&U.default.track(I.rMx.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)})}};o.renderCaption=function(){var e=this.props,t=e.captionVoice,n=e.captionNoVoice,o=this.state,i=o.isMicTesting,a=o.isDetectingInput;return(0,r.jsx)(u.R9,{className:B().micTestCaption,type:u.R9.Types.DESCRIPTION,children:i?a?t:n:null})};o.render=function(){
var e=this,t=this.props,n=t.isVoiceConnected,o=t.title,i=t.description,a=t.notchBackground,s=t.buttonTest,c=t.buttonStop,l=t.buttonClassName,f=t.buttonColor,d=t.isDeafened,p=this.state,E=p.isMicTesting,y=p.volume,m=n&&!E?k.Z.Messages.MIC_TEST_VOICE_CHANNEL_WARNING:null;E&&n&&!d&&this._micTestStop();return(0,r.jsxs)("div",{className:B().container,children:[(0,r.jsx)(u.vw,{tag:u.RB.H5,className:B().title,children:o}),null!=i&&(0,r.jsx)(u.R9,{type:u.R9.Types.DESCRIPTION,className:B().description,children:i}),(0,r.jsxs)("div",{className:B().micTest,children:[(0,r.jsx)(D.ZP,{text:m,children:function(t){var n=t.onMouseEnter,o=t.onMouseLeave;return(0,r.jsx)(h.Co,{grow:!1,onClick:e.handleToggleMicTest,onMouseEnter:n,onMouseLeave:o,size:h.Co.Sizes.SMALL,className:l,color:f,children:E?c:s})}}),(0,r.jsx)(L,{progress:E?y+100:0,notchBackground:a}),this.renderCaption()]})]})};return n}(o.PureComponent);const X=s.ZP.connectStores([p.Z,d.Z],(function(){
var e=d.Z.getInputDeviceId(),t=d.Z.getInputDevices(),n=a().find(t,(function(t){return t.id===e})),r=d.Z.getOutputDeviceId(),o=d.Z.getOutputDevices(),i=a().find(o,(function(e){return e.id===r})),s=d.Z.getModeOptions();return{isVoiceConnected:p.Z.isConnected(),inputVolume:d.Z.getInputVolume(),outputVolume:d.Z.getOutputVolume(),inputMode:d.Z.getMode(),vadThreshold:s.threshold,isDeafened:d.Z.isSelfDeaf(),vadAutoThreshold:s.autoThreshold,inputDeviceName:null!=n?n.name:"",outputDeviceName:null!=i?i.name:""}}))(q)},436267:(e,t,n)=>{"use strict";n.d(t,{Z:()=>zn});var r=n(785893),o=n(667294),i=n(791462),a=n(750839),s=n(294184),c=n.n(s),l=n(173436),u=n(825524),f=n(8062),d=n(579220),p=n(67874),h=n(81717),E=n(655695),y=n(225391),m=n(794851),b=n(151557),g=n(379822),O=n(82961),v=n(623899),_=n(551163),S=n(468811),I=n.n(S),T=n(42370),N=n(882699),C=n(496486),A=n.n(C),P=n(35599),j=n(212033),R=n(766243),x=n(897576),M=n(461061);function w(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(){var e=(0,x.s9)((function(e){return t=e,
!Object.entries(t).every((function(e){var t=Z(e,2);t[0];return 0===t[1].length}));var t})),t=(0,i.e7)([R.Z],(function(){return R.Z.isOpen()})),n=(0,i.e7)([j.Z],(function(){return j.Z.hasLayers()})),r=Z(o.useState(!1),2),a=r[0],s=r[1],c=(0,P.Aq)();o.useEffect((function(){var e=function(){s(!0)},t=function(){s(!1)};c.subscribe(M.CkL.POPOUT_SHOW,e);c.subscribe(M.CkL.POPOUT_HIDE,t);return function(){c.unsubscribe(M.CkL.POPOUT_SHOW,e);c.unsubscribe(M.CkL.POPOUT_HIDE,t)}}),[c]);return e||t||a||n}var D=n(730189);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=(0,C.debounce)((function(e){setTimeout((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),0)}),50);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var V=["allow-scripts","allow-same-origin","clipboard-read","clipboard-write"];function F(e){var t=e.allowPopups,n=e.allowPointerLock,r=V;t&&(r=H(V).concat(["allow-popups","allow-popups-to-escape-sandbox"]));n&&(r=H(r).concat(["allow-pointer-lock"]));return r.join(" ")}var Y=n(488839);function W(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function z(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function K(e){var t=e.url,n=e.className,a=e.style,s=e.onLoad,c=e.shouldRefocus,l=e.queryParams,u=e.allowPointerLock,f=void 0!==u&&u,d=e.allowPopups,p=void 0!==d&&d,E=e.referrerPolicy,y=void 0===E?"origin":E,m=(0,i.e7)([h.Z],(function(){return h.Z.getWindow(M.KJ3.CHANNEL_CALL_POPOUT)})),b=(0,_.useMemoOne)((function(){return I().v4()}),[t]),g=o.useRef(null),O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=(0,i.e7)([D.Z],(function(){return D.Z.keyboardModeEnabled})),a=L(),s=k(o.useState(!1),2),c=s[0],l=s[1],u=(0,P.Aq)();o.useEffect((function(){var e=function(){if(a){u.dispatch(M.CkL.POPOUT_CLOSE);N.S.dispatch(M.CkL.CONTEXT_MENU_CLOSE)}};if(t){
n.addEventListener("blur",e);return function(){return n.removeEventListener("blur",e)}}}),[n,a,t,u]);o.useEffect((function(){var o,i,s=function(t){var n=t.relatedTarget;setTimeout((function(){null!=n&&"BUTTON"!==n.tagName||l||G(e)}),100)};if(!r&&c&&t){var l=a;null===(o=e.current)||void 0===o||o.addEventListener("focusout",s);if("IFRAME"!==(null===(i=n.document.activeElement)||void 0===i?void 0:i.tagName)&&!l){var u;null===(u=e.current)||void 0===u||u.focus()}return function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("focusout",s);l=!0}}}),[t,c,r,e,n,a]);return l}(g,c,null==m?window:m),v=z(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){W(e,t,n[t])}))}return e}({},l),{frame_id:b,platform:Y.S4.DESKTOP})
;o.useEffect((function(){N.S.dispatch(M.CkL.IFRAME_MOUNT,{id:b});return function(){N.S.dispatch(M.CkL.IFRAME_UNMOUNT,{id:b})}}),[b]);return null!=t?(0,r.jsx)("iframe",{style:a,allow:"autoplay",referrerPolicy:y,onLoad:function(e){var n;null==s||s(e.target);g.current=e.target;O(!0);null===(n=e.target.contentWindow)||void 0===n||n.postMessage([T.Z.HELLO,v],null!=t?t:"")},sandbox:F({allowPopups:p,allowPointerLock:f}),className:n,src:"".concat(t,"?").concat(new URLSearchParams(v))}):null}var q=n(600341),X=n(320115),Q=n(147253),$=n(280195),J=n(432107),ee=n(685879),te=n(6873),ne=n(589175),re=n(600075),oe=n(832010),ie=n(733285),ae=n(487502),se=n(738017),ce=n(365523),le=n(913127),ue=n.n(le);function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pe(e){pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return pe(e)}function he(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ye(e,t)}function Ee(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e,t){ye=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ye(e,t)}var me=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){
var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}var ge,Oe=(de(ge={},M.AEg.NORMAL,ue().normal),de(ge,M.AEg.MINIMUM,ue().minimum),de(ge,M.AEg.NO_CHAT,ue().noChat),de(ge,M.AEg.FULL_SCREEN,ue().fullScreen),ge),ve=function(e){he(n,e);var t=be(n);function n(e){fe(this,n);var r;(r=t.call(this,e)).state={animation:new se.Z.Value(0)};return r}var o=n.prototype;o.componentDidAppear=function(){this.state.animation.setValue(1)};o.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0);se.Z.spring(t,{toValue:1,overshootClamping:!0}).start(e)};o.componentWillLeave=function(e){se.Z.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)};o.render=function(){return(0,r.jsx)(se.Z.div,{className:ue().videoBackgroundTransition,style:{opacity:this.state.animation},children:this.props.children})};return n}(o.PureComponent),_e=function(e){he(n,e);var t=be(n);function n(e){fe(this,n);var r
;(r=t.call(this,e))._timeout=new ce.V7;r.handleMouseEvent=function(){var e=r.props.layout;if(e===M.AEg.FULL_SCREEN||e===M.AEg.NO_CHAT){r._timeout.start(3e3,(function(){return r.setState({idle:!0})}));r.state.idle&&r.setState({idle:!1})}};r.state={idle:!1,backgroundAnimation:new se.Z.Value(0),layoutProp:e.layout};return r}var o=n.prototype;o.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0);document.addEventListener("mousemove",this.handleMouseEvent,!0)};o.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0);document.removeEventListener("mousemove",this.handleMouseEvent,!0);this._timeout.stop()};o.componentDidUpdate=function(e){this.props.layout!==e.layout&&this._timeout.stop()};o.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,o=e.layout,i="".concat(o,"-").concat(null!=n?n:"");return(0,r.jsx)(ne.Z,{className:ue().videoBackground,component:"div",children:(0,r.jsx)(ve,{
children:t},i)})};o.renderContents=function(){var e=this.props,t=e.top,n=e.center,o=e.bottom,i=e.layout,a=e.focused,s=this.state.idle;return(0,r.jsx)(ae.Z,{className:c()(ue().video,Oe[i],de({},ue().idle,s)),direction:ae.Z.Direction.VERTICAL,justify:ae.Z.Justify.CENTER,children:(0,r.jsxs)(ae.Z,{className:ue().videoWrapper,direction:ae.Z.Direction.VERTICAL,children:[this.renderBackground(),(0,r.jsxs)(ae.Z,{className:c()(ue().videoInner,de({},ue().focused,a)),direction:ae.Z.Direction.VERTICAL,justify:ae.Z.Justify.BETWEEN,children:[(0,r.jsx)(ae.Z,{className:ue().videoTop,grow:0,children:t}),(0,r.jsx)(ae.Z,{className:ue().videoCenter,children:n}),(0,r.jsx)(ae.Z,{className:ue().videoBottom,grow:0,children:o})]})]})})};o.render=function(){var e=this.props,t=e.layout,n=e.className,o=e.animated;return(0,r.jsx)("div",{className:c()(ue().videoHeight,Oe[t],n,de({},ue().animated,o)),children:this.renderContents()})};n.getDerivedStateFromProps=function(e,t){return e.layout!==t.layoutProp?t.idle?{
idle:!1,layoutProp:e.layout}:{layoutProp:e.layout}:null};return n}(o.PureComponent);_e.defaultProps={layout:M.AEg.MINIMUM,animated:!0};var Se=n(636177),Ie=n(685655),Te=n(769672),Ne=n(18416),Ce=n(367124),Ae=n(859023),Pe=n(761434),je=n(862055),Re=n(190177),xe=n(959797),Me=n(201768),we=n.n(Me);function Ze(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ze(e,t,n[t])}))}return e}function De(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ue(e){var t=e.closePopout,n=e.idle,o=e.pipWindows,s=e.voiceChannelId,c=e.onSelect;n&&t();var l=(0,i.e7)([v.ZP],(function(){return v.ZP.getSelfEmbeddedActivityForChannel(s)})),f=(0,i.e7)([b.Z],(function(){return b.Z.pipWindow})),d=(0,i.e7)([p.Z],(function(){return p.Z.getSelectedParticipant(s)})),h=(0,i.e7)([p.Z],(function(){return p.Z.getStreamParticipants(s)}));return(0,r.jsx)(Te.ZP,{navId:"pip-menu","aria-label":"switch PIP",onClose:t,onSelect:c,children:function(){var e=o.find((function(e){return e.component===M.NYg.EMBED_IFRAME})),t=o.find((function(e){return e.component===M.NYg.VIDEO})),n=[];null!=e&&(null==f?void 0:f.id)!==e.id&&n.push({pipWindow:e});null!=t&&h.forEach((function(e){
var r=Ne.Z.getActiveStreamForApplicationStream(e.stream),o=e.id===(null==d?void 0:d.id)&&(null==f?void 0:f.id)===t.id;null==r||o||n.push({pipWindow:t,participant:e,stream:r})}));return n}().map((function(e){var t,n=e.pipWindow.id,o=null===(t=e.participant)||void 0===t?void 0:t.id,i=function(e){if(e.pipWindow.component===M.NYg.EMBED_IFRAME&&null!=l){var t,n=null===(t=Ce.Z.getGame(l.application_id))||void 0===t?void 0:t.name;return null==n?xe.Z.Messages.SWITCH_PIP_TO_ACTIVITY:xe.Z.Messages.SWITCH_PIP_TO_ACTIVITY_NAME.format({activityName:n})}return null==e.participant||e.participant.type!==Re.fO.STREAM?xe.Z.Messages.SWITCH_PIP_TO_GO_LIVE:xe.Z.Messages.SWITCH_PIP_TO_USER_STREAM.format({username:e.participant.userNick})}(e),c="".concat(n).concat(null!=o?o:"");return(0,r.jsx)(Te.sN,{id:c,label:i,action:function(){return function(e){(null==f?void 0:f.id)!==e.pipWindow.id&&(0,a.k3)(e.pipWindow.id);var t=e.participant;null!=t&&t.type!==Re.fO.ACTIVITY&&u.Z.selectParticipant(s,t.id)}(e)}},c)}))
})}const ke=function(e){var t=e.voiceChannelId,n=e.idle,o=(0,i.e7)([b.Z],(function(){return b.Z.pipWindows})),a=Array.from(o.values()),s=(0,i.Wu)([Ne.Z],(function(){return Ne.Z.getAllActiveStreamsForChannel(t)})).filter((function(e){var n;return e.ownerId!==(null===(n=Ae.default.getCurrentUser())||void 0===n?void 0:n.id)&&e.channelId===t})),c=1===a.length&&a[0].component===M.NYg.EMBED_IFRAME||0===s.length,l=1===a.length&&s.length<=1;return c||l?null:(0,r.jsx)(Pe.ZP,{position:Pe.ZP.Positions.BOTTOM,renderPopout:function(e){return(0,r.jsx)(Ue,Le({voiceChannelId:t,pipWindows:a,idle:n},e))},children:function(e){return(0,r.jsx)(re.P3,De(Le({className:we().menuIcon},e),{children:(0,r.jsx)(je.Z,{color:(0,oe.Lq)(M.Ilk.WHITE_500)})}))}})};var Ge=n(940237);function Be(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Be(e,t,n[t])}))}return e}function Ve(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Fe(e){var t=e.title,n=e.onJumpToChannel,o=e.idle,a=e.preventIdleComponent,s=(0,i.e7)([ie.Z],(function(){return ie.Z.getChannelId()})),c=null!=s?(0,r.jsx)(ke,{voiceChannelId:s,idle:o}):null;return(0,r.jsxs)(a,{className:we().headerIdleContainer,children:[(0,r.jsxs)(re.P3,{className:we().headerTitle,onClick:n,children:[(0,r.jsx)(Se.Z,{"aria-label":xe.Z.Messages.OPEN_IN_THEATER,
className:we().backButton,width:20,height:20}),(0,r.jsx)(Ie.Z,{className:we().headerText,size:Ie.Z.Sizes.SIZE_16,color:(0,oe.Lq)(M.Ilk.WHITE_500),children:t})]}),c]})}function Ye(e){var t=e.children,n=e.idle,o=e.onJumpToChannel,i=e.backgroundKey,a=e.onActive,s=e.onForceIdle,l=e.renderBottomLeftControls,u=e.renderBottomRightControls,f=e.screenMessage,d=Ve(e,["children","idle","onJumpToChannel","backgroundKey","onActive","onForceIdle","renderBottomLeftControls","renderBottomRightControls","screenMessage"]);return(0,r.jsxs)("div",{onMouseMove:a,onMouseDown:a,onMouseLeave:s,className:c()(we().pictureInPictureVideo,Be({},we().idle,n)),onDoubleClick:o,children:[(0,r.jsx)(ne.Z,{children:(0,r.jsx)(ve,{children:t},i)}),null!=f?(0,r.jsx)(Ge.Z,He({size:"small"},f)):null,(0,r.jsxs)("div",{className:we().videoControls,children:[(0,r.jsx)("div",{className:we().topControls,children:(0,r.jsx)(Fe,He({idle:n,onJumpToChannel:o},d))}),(0,r.jsxs)("div",{className:we().bottomControls,children:[(0,
r.jsx)(ae.Z,{grow:0,shrink:1,basis:"50%",align:ae.Z.Align.CENTER,className:we().bottomLeftControls,children:null==l?void 0:l()}),(0,r.jsx)(ae.Z,{grow:0,shrink:1,justify:ae.Z.Justify.END,basis:"50%",align:ae.Z.Align.CENTER,children:null==u?void 0:u()})]})]})]})}var We=n(316103),ze=n(630519),Ke=n(206728),qe=n(850513),Xe=n(421040),Qe=n(849166),$e=n(822375),Je=n(557328),et=n(866328),tt=n(375650),nt=n(844203),rt=n.n(nt);function ot(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function it(e){var t=e.onClick,n=e.isExpanded;return(0,r.jsx)(We.Z,{iconClassName:c()(rt().arrowIcon,ot({},rt().arrowIconExpanded,n)),onClick:t,iconComponent:$e.Z,label:n?xe.Z.Messages.PICTURE_IN_PICTURE_COLLAPSE:xe.Z.Messages.PICTURE_IN_PICTURE_EXPAND})}function at(e){var t,n,o=e.channel,a=e.applicationId,s=e.onMouseDown,c=e.onMouseMove,l=e.onMouseLeave,u=e.onJumpToChannel,f=e.idle,d=e.selectedParticipant,p=(0,P.bp)()===M.IlC.POPOUT,h=(0,
i.e7)([Qe.Z],(function(){return Qe.Z.isVideoEnabled()})),E=(0,i.e7)([Qe.Z],(function(){return Object.values(Qe.Z.getVideoDevices())[0]})),y=!1===(null===(t=null==E?void 0:E.disabled)||void 0===t||t),m=(0,X.Z)([a])[0],b=(0,J.Z)(o),g=function(e){q.Z.setVideoEnabled(e)};return(0,r.jsxs)("div",{className:we().videoControls,onMouseMove:c,onMouseDown:s,onMouseLeave:l,children:[(0,r.jsx)("div",{className:we().topControls,children:(0,r.jsx)(Fe,{idle:f,title:null!==(n=null==m?void 0:m.name)&&void 0!==n?n:o.name,onJumpToChannel:u,preventIdleComponent:te.Z})}),(0,r.jsxs)("div",{className:we().bottomControls,children:[(0,r.jsxs)(ae.Z,{grow:0,shrink:1,basis:"50%",align:ae.Z.Align.CENTER,children:[(0,r.jsx)(Xe.C,{className:rt().leftPipIcon,enabled:h,cameraUnavailable:!y,hasPermission:b,onChange:g,onCameraUnavailable:function(){y?g(!0):(0,ee.Z)()}}),(0,r.jsx)(te.Z,{children:(0,r.jsx)(Q.Z,{channelId:o.id,guildId:o.getGuildId(),className:we().leftTrayIcon,participant:d,compact:!0})})]}),(0,
r.jsxs)(ae.Z,{grow:0,shrink:1,justify:ae.Z.Justify.END,basis:"50%",align:ae.Z.Align.CENTER,children:[p?null:(0,r.jsx)(Ke.Z,{className:rt().rightPipIcon,popoutOpen:!1,onOpenPopout:function(){(0,et.Z)((function(){return $.hP(o)}))},onClosePopout:tt.Vq}),(0,r.jsx)(ze.Z,{applicationId:a,channelId:o.id,className:rt().rightPipIcon})]})]})]})}function st(e){var t=e.channelId,n=e.participantsOpen;return e.showToggleParticipants?(0,r.jsx)(qe.Z,{channelId:t,isParticipantsOpen:n,className:rt().participantsButton}):null}function ct(e){var t,n=e.onMouseDown,o=e.onMouseMove,i=e.onMouseLeave,a=e.showControls,s=e.applicationId,l=e.channel,u=e.onJumpToChannel,f=e.onToggleHeight,d=e.isExpanded,p=(0,X.Z)([s])[0];return(0,r.jsx)("div",{className:rt().pipHeader,onMouseMove:o,onMouseDown:n,onMouseLeave:i,children:(0,r.jsxs)("div",{className:c()(we().topControls,rt().pipHeaderContent,ot({},rt().pipHeaderContentOpen,a)),children:[!a&&(0,r.jsx)(Je.Z,{className:rt().menuIcon,width:12,height:12}),a&&(0,
r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Fe,{idle:!a,title:null!==(t=null==p?void 0:p.name)&&void 0!==t?t:l.name,onJumpToChannel:u,preventIdleComponent:te.Z}),(0,r.jsxs)("div",{className:rt().pipHeaderButtonsRight,children:[(0,r.jsx)(it,{isExpanded:d,onClick:f}),(0,r.jsx)(ze.Z,{applicationId:s,channelId:l.id,iconClassName:rt().leaveActivityIcon})]})]})]})})}var lt=n(823343),ut=n(631134);var ft=n(644723),dt=function(e){var t=function(e){var t=ut.default.getId(),n=(0,i.cj)([v.ZP],(function(){var n,r=v.ZP.getSelfEmbeddedActivityForChannel(e.id),o=null===(n=v.ZP.getEmbeddedActivitiesForChannel(e.id).find((function(e){return e.application_id===(null==r?void 0:r.application_id)})))||void 0===n?void 0:n.connections,i=null==o?void 0:o.has(t);return{userActivity:r,inActivity:null!=i&&i}}));return{userActivity:n.userActivity,inActivity:n.inActivity}}(e),n=t.userActivity,r=t.inActivity,a=ft.Z;!function(e){var t=e.channel,n=e.userActivity,r=e.inActivity,i=e.embeddedActivitiesManager
;o.useEffect((function(){r||(0,lt.oy)(t.id)}),[null==n?void 0:n.application_id,t.id,r,i])}({channel:e,userActivity:n,inActivity:r,embeddedActivitiesManager:a});o.useEffect((function(){return function(){null!=(null==n?void 0:n.application_id)&&(0,lt.rp)(e.id,null==n?void 0:n.application_id)}}),[e.id,null==n?void 0:n.application_id]);return{isLoading:!r}},pt=n(544009),ht=n.n(pt);function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}
function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gt=new Set([Y.gv,Y.hB,Y.sM,Y.f9]);function Ot(e){var t=e.channel,n=e.isLoading,a=function(){
null!=N&&u.Z.selectParticipant(t.id,N.application_id);if(null==x){(0,d.Ou)();var e,n=null!==(e=t.getGuildId())&&void 0!==e?e:M.ME;f.Z.channelListScrollTo(n,t.id);(0,E.XU)(n,t.id)}},s=function(){T(!I)},_=function(e,n,o){var i;return G&&null!=N&&(null==Z?void 0:Z.type)===Re.fO.ACTIVITY?(null===(i=N.config)||void 0===i?void 0:i.useInteractivePIP)?(0,r.jsx)(ct,{onJumpToChannel:a,applicationId:N.application_id,channel:t,showControls:!o,onMouseDown:e,onMouseMove:e,onMouseLeave:n,onToggleHeight:s,isExpanded:I}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{onMouseMove:e,onMouseDown:e,onMouseLeave:n,className:ht().clickShield,onDoubleClick:a}),(0,r.jsx)(at,{idle:o,onMouseMove:e,onMouseDown:e,onMouseLeave:n,onJumpToChannel:a,channel:t,applicationId:N.application_id,selectedParticipant:Z})]}):null},S=bt(o.useState(!1),2),I=S[0],T=S[1],N=(0,i.e7)([v.ZP],(function(){return v.ZP.getSelfEmbeddedActivityForChannel(t.id)})),C=null==N?void 0:N.activity_id,A=(0,i.e7)([g.Z],(function(){
return g.Z.getChannelId()===t.id})),P=(0,i.cj)([b.Z],(function(){var e=b.Z.pipWindow;return{dockedRect:null!=e?b.Z.getDockedRect(e.id):null,isHidden:b.Z.isEmbeddedActivityHidden()}})),j=P.dockedRect,R=P.isHidden,x=(0,i.e7)([h.Z],(function(){return h.Z.getWindow(M.KJ3.CHANNEL_CALL_POPOUT)})),w=(0,i.cj)([p.Z],(function(){return{activityParticipant:null!=N?p.Z.getParticipant(t.id,N.application_id):null,selectedParticipant:p.Z.getSelectedParticipant(t.id),participantsOpen:p.Z.getParticipantsOpen(t.id)}})),Z=w.activityParticipant,L=w.selectedParticipant,D=w.participantsOpen,U=A||null!=x,k=U&&(null==L?void 0:L.type)!==Re.fO.ACTIVITY&&null==j,G=(!U||k)&&!R;o.useEffect((function(){null!=(null==N?void 0:N.application_id)&&l.Z.dispatch({type:"ACTIVITY_PIP_MODE_UPDATE",isPIPMode:G,applicationId:N.application_id})}),[null==N?void 0:N.application_id,G]);return null==N||null==C||null==Z?null:(0,r.jsx)(m.ZP,{timeout:2e3,children:function(e){var o,i,a,s,l,u=e.idle,f=e.onActive,d=e.onForceIdle
;return(0,r.jsxs)(y.Z,{className:c()(ht().root,(a={},yt(a,ht().pipMode,G),yt(a,we().idle,u&&!(null===(o=N.config)||void 0===o?void 0:o.useInteractivePIP)),yt(a,ht().pipModeShort,G&&!I),yt(a,ht().pipModeTall,G&&I),yt(a,ht().hidden,R),a)),noBorder:!G,children:[_(f,d,u),n?(0,r.jsx)(O.Z,{className:c()(ht().iframe,(s={},yt(s,ht().pipModeShort,G&&!I),yt(s,ht().pipModeTall,G&&I),s))}):(0,r.jsx)(K,{allowPopups:Y.Pc.has(N.application_id),allowPointerLock:gt.has(N.application_id),referrerPolicy:Y.um.has(N.application_id)?"no-referrer":"origin",url:N.url,queryParams:{instance_id:C,channel_id:t.id,guild_id:t.guild_id},className:c()(ht().iframe,(l={},yt(l,ht().pipModeShort,G&&!I),yt(l,ht().pipModeTall,G&&I),yt(l,ht().pipNonInteractive,G&&!(null===(i=N.config)||void 0===i?void 0:i.useInteractivePIP)),l)),shouldRefocus:!G&&A}),!G&&(0,r.jsx)(st,{participantsOpen:D,showToggleParticipants:!1,channelId:t.id})]})}})}const vt=function(e){var t=e.channel,n=mt(e,["channel"]),o=dt(t).isLoading;return(0,
r.jsx)(Ot,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yt(e,t,n[t])}))}return e}({channel:t,isLoading:o},n))};var _t=n(80635),St=n(441143),It=n.n(St),Tt=n(804626),Nt=n(23816),Ct=n(722059),At=n(53211),Pt=n(997163),jt=n(742572),Rt=n(201413),xt=n(505780),Mt=n(72895),wt=n(440521),Zt=n(349832),Lt=n(105405),Dt=n(248604);function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e){Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Gt(e)}function Bt(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ht(e,t){Ht=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ht(e,t)}function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ut(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ft,Yt,Wt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bt(this,n)}}function Kt(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null==Ft)e=null;else{var n;e=p.Z.getSelectedParticipantId(Ft);var r=Ne.Z.getLastActiveStream(),o=null!=e?p.Z.getParticipant(Ft,e):null
;((null==o?void 0:o.type)===Re.fO.ACTIVITY||(null==o?void 0:o.type)===Re.fO.USER&&!(null===(n=o.voiceState)||void 0===n?void 0:n.selfVideo))&&(e=null);if(null!=r&&null==e){var i;e=null===(i=p.Z.getParticipant(Ft,(0,Pt.V9)(r)))||void 0===i?void 0:i.id}if(null==e){var a,s=ut.default.getId(),c=A()(p.Z.getVideoParticipants(Ft)).filter((function(e){return e.type===Re.fO.USER&&e.user.id!==s&&!Qe.Z.isLocalVideoDisabled(e.user.id)})),l=Date.now();if(null==(e=null===(a=c.map((function(e){return[e.user.id,Dt.Z.getSpeakingDuration(e.user.id,l)]})).filter((function(e){var t=Vt(e,2);t[0];return 0!==t[1]})).maxBy((function(e){var t=Vt(e,2);t[0];return-t[1]})))||void 0===a?void 0:a[0]))if(null!=Yt)e=Yt;else{var u,f;e=null===(u=c.first())||void 0===u||null===(f=u.user)||void 0===f?void 0:f.id}}}if(Yt!==e){Yt=e;t&&$t.emitChange()}}var qt=A().debounce(Kt,300);function Xt(){qt();return!1}var Qt=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ht(e,t)}(n,e);var t=zt(n);function n(){kt(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(p.Z,ut.default,Dt.Z,Ne.Z,Qe.Z);this.syncWith([p.Z,Ne.Z],Xt)};r.getSpeaker=function(e){if(Ft!==e){Ft=e;Kt(!1)}return null!=Yt?Yt:ut.default.getId()};r.__getLocalVars=function(){return{videoChannelId:Ft,videoSpeakerId:Yt,debouncedUpdateSpeaker:qt,instance:$t}};return n}(i.ZP.Store);Qt.displayName="VideoSpeakerStore";var $t=new Qt(l.Z,{AUDIO_SET_LOCAL_VIDEO_DISABLED:Xt});const Jt=$t;var en=n(569395),tn=n(426217),nn=n(42595),rn=n(932847),on=n(570992),an=n(969600),sn=n.n(an);function cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function un(e){un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return un(e)}function fn(e,t){return!t||"object"!==pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e,t){dn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return dn(e,t)}var pn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=un(e);if(t){var o=un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fn(this,n)}}
var En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&dn(e,t)}(n,e);var t=hn(n);function n(){cn(this,n);var e;(e=t.apply(this,arguments)).state={aStreamId:null,aReady:!1,bStreamId:e.props.streamId,bReady:!0};e.handleReady=function(){e.state.aReady?e.setState({bReady:!0,aStreamId:null,aReady:!1}):e.setState({aReady:!0,bStreamId:null,bReady:!1})};e.handleDoubleClick=function(t){var n=e.props,r=n.onDoubleClick,o=n.id;null==r||r(t,o)};e.handleContextMenu=function(t){var n=e.props,r=n.onContextMenu,o=n.id;null==r||r(t,o)};return e}var i=n.prototype;i.renderVideo=function(e,t){var n=this.props,i=n.children,a=n.mirror,s=n.paused,c=n.component;if(null==e){if(null==i)return null;var l=o.Children.only(i);return o.cloneElement(l,function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ln(e,t,n[t])}))}return e}({style:{display:t&&!a?void 0:"none"}},l.props))}return(0,r.jsx)(c,{paused:s,className:sn().media,streamId:e,onReady:t?null:this.handleReady})};i.render=function(){var e=this.props,t=e.mirror,n=e.className;return(0,r.jsxs)("div",{className:c()(sn().video,n,ln({},sn().mirror,t)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu,children:[this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady)]})};n.getDerivedStateFromProps=function(e,t){var n=e.streamId;if(t.aReady){if(n!==t.aStreamId)return null==n?{bStreamId:n,bReady:!0,aStreamId:null,aReady:!1}:{bStreamId:n,bReady:!1}}else if(n!==t.bStreamId)return null==n?{aStreamId:n,aReady:!0,
bStreamId:null,bReady:!1}:{aStreamId:n,aReady:!1};return null};return n}(o.PureComponent);En.defaultProps={paused:!0};const yn=En;var mn=n(90395),bn=n(430642),gn=n(13579),On=n(744739),vn=n(640606),_n=n(10263),Sn=n.n(_n);function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Nn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Cn(e){Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Cn(e)}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Nn(e,t,n[t])}))}return e}function Pn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jn(e,t){return!t||"object"!==xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rn(e,t){Rn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Rn(e,t)}var xn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Mn(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Cn(e);if(t){var o=Cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jn(this,n)}}var wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Rn(e,t)}(n,e);var t=Mn(n);function n(){In(this,n);var e;(e=t.apply(this,arguments)).state={screensharePopoutOpen:!1};e._ref=o.createRef();e.handleVideo=function(e){q.Z.setVideoEnabled(e)};e.handleEnableVideoWhenUnavailable=function(){e.props.isVideoAvailable?e.handleVideo(!0):(0,ee.Z)()};e.handleJumpToChannel=function(){var t,n=e.props.channel;(0,d.Ou)()
;var r=null!==(t=n.getGuildId())&&void 0!==t?t:M.ME;f.Z.channelListScrollTo(r,n.id);(0,E.XU)(r,n.id)};e.handleStartStream=function(){var t=e.props,n=t.canGoLive,r=t.channel,o=r.getGuildId();It()(null!=o,"Cannot go live in non guild channel");if(!n)return(0,On.Z)();(0,vn.Z)(o,r.id,M.ZY5.GUILD_CHANNEL)};e.handleStopStream=function(){var t=e.props.participantOnScreen;It()((0,Re._5)(t),"cannot stop stream for non streamer");(0,xt.Z)(t.stream)};e.handleOpenPopout=function(){var t=e.props.channel;$.hP(t)};e.handleDisconnect=function(){Tt.default.selectVoiceChannel(null)};e.renderBottomLeftControls=function(){var t=e.viewProperties.canSeeParticipantName;return(0,r.jsx)(r.Fragment,{children:t?e.renderParticipantName():null})};e.renderBottomRightControls=function(){var t=e.viewProperties,n=t.canSettings,o=t.canPopout,i=t.canDisconnect,a=t.canStopStream,s=t.canSeeViewers;return(0,r.jsxs)(r.Fragment,{
children:[s?e.renderViewersIcon():null,n?e.renderSettingsIcon():null,o?e.renderPopoutIcon():null,a?e.renderStopStreamButton():null,i?e.renderDisconnectButton():null]})};e.renderDisconnectButton=function(){return(0,r.jsx)(Mt.Z,{className:Sn().rightTrayIcon,onClick:e.handleDisconnect})};e.renderStopStreamButton=function(){var t=e.viewProperties.isSelf;return(0,r.jsx)(wt.Z,{isSelfStream:t,className:Sn().rightTrayIcon,onClick:e.handleStopStream})};e.renderViewersIcon=function(){var t=e.props,n=t.participantOnScreen,o=t.channel;It()((0,Re._5)(n)||(null==n?void 0:n.type)===Re.fO.ACTIVITY,"Cannot render participants for participant type ".concat(null==n?void 0:n.type));return(0,r.jsx)(te.Z,{children:(0,r.jsx)(Q.Z,{channelId:o.id,guildId:o.getGuildId(),className:Sn().rightTrayIcon,participant:n,compact:!0})})};e.renderPopoutIcon=function(){return(0,r.jsx)(Ke.Z,{className:Sn().rightTrayIcon,popoutOpen:!1,onOpenPopout:e.handleOpenPopout,onClosePopout:M.VqG})};e.renderSettingsIcon=function(){
var t=e.props,n=t.participantOnScreen,o=t.activeStreams;It()((0,Re._5)(n),"Cannot render settings for non stream participant");var i=o.find((function(e){return(0,Pt.V9)(e)===n.id}));return null==i||i.state===M.jm8.ENDED?null:(0,r.jsx)(Zt.Z,{stream:i,className:Sn().rightTrayIcon,appContext:M.IlC.APP})};return e}var i=n.prototype;i.getScreenMessage=function(){var e=this.props,t=e.participantOnScreen,n=e.currentUserId;if(!(0,Re._5)(t))return null;var r=this.activeStreamForSelectedParticipant;return null==r?null:(0,Rt.Z)(r,t.user,t.user.id===n,this.streamerPaused)};i.componentDidMount=function(){var e=this.props.channel;rn.default.track(M.rMx.VIDEO_LAYOUT_TOGGLED,An({video_layout:"pip"},(0,Nt.AB)(e.id)))};i.componentWillUnmount=function(){var e=this.props.channel;rn.default.track(M.rMx.VIDEO_LAYOUT_TOGGLED,An({video_layout:p.Z.getLayout(e.id)},(0,Nt.AB)(e.id)))};i.renderStreamState=function(){var e=this.activeStreamForSelectedParticipant,t=this.props.participantOnScreen
;return(null==e?void 0:e.state)===M.jm8.ENDED?(0,r.jsx)(mn.Z,{stream:e,width:Re.f3}):(null==e?void 0:e.state)===M.jm8.FAILED?(0,r.jsx)(bn.Z,{stream:e,width:Re.f3}):(null==t?void 0:t.type)===Re.fO.HIDDEN_STREAM?(0,r.jsx)(gn.Z,{participant:t,width:Re.f3}):null};i.renderParticipantName=function(){var e=this.props,t=e.channel,n=e.participantOnScreen;if((null==n?void 0:n.type)===Re.fO.STREAM||(null==n?void 0:n.type)===Re.fO.USER){var o,i=null!==(o=on.Z.getNickname(t.getGuildId(),t.id,n.user))&&void 0!==o?o:n.user.username;return(0,r.jsx)(re.xv,{variant:"text-md/normal",color:"always-white",className:Sn().participantName,lineClamp:1,children:i})}return null};i.render=function(){var e,t=this,n=this.props,o=n.channel,i=n.streamId,a=n.participantOnScreen,s=n.isVideoEnabled,c=(0,At.F6)(o,Ae.default,Lt.Z),l=(null==a?void 0:a.id)===ut.default.getId()&&s,u=this.renderStreamState(),f=null
;(null==a?void 0:a.type)!==Re.fO.ACTIVITY&&(null!=u?f=u:(null==a?void 0:a.type)!==Re.fO.USER&&(null==a?void 0:a.type)!==Re.fO.STREAM||(f=(0,r.jsx)(yn,{paused:this.streamerPaused,streamId:i,component:Qe.Z.getVideoComponent(),mirror:l,children:(0,r.jsx)(nn.Z,{size:nn.Z.AvatarSizes.SIZE_80,src:null==a?void 0:a.user.getAvatarURL(o.guild_id,80),"aria-label":null==a?void 0:a.user.username})})));return(0,r.jsx)(m.ZP,{timeout:1800,children:function(n){return(0,r.jsx)(Ye,Pn(An({title:c,backgroundKey:null!==(e=null==a?void 0:a.id)&&void 0!==e?e:"",screenMessage:t.getScreenMessage(),onJumpToChannel:t.handleJumpToChannel,renderBottomLeftControls:t.renderBottomLeftControls,renderBottomRightControls:t.renderBottomRightControls,preventIdleComponent:te.Z,width:Re.f3},n),{children:f}))}})};!function(e,t,n){t&&Tn(e.prototype,t);n&&Tn(e,n)}(n,[{key:"viewProperties",get:function(){var e=this.props,t=e.participantOnScreen,n=e.currentUserId,r=e.channel,o=(0,
Re._5)(t),i=null!=t&&t.type!==Re.fO.ACTIVITY&&t.user.id===n;return{canPopout:o&&!i,canSettings:o&&i,canStopStream:o,canSeeViewers:o,canSeeParticipantName:((null==t?void 0:t.type)===Re.fO.STREAM||(null==t?void 0:t.type)===Re.fO.USER)&&r.type!==M.d4z.DM,canDisconnect:!o,isSelf:i}}},{key:"streamerPaused",get:function(){var e=this.props,t=e.isMainWindowFocused,n=e.activeSelfStream,r=e.participantOnScreen;return null!=n&&(null==r?void 0:r.id)===(0,Pt.V9)(n)&&!t}},{key:"activeStreamForSelectedParticipant",get:function(){var e=this.props,t=e.participantOnScreen,n=e.activeStreams;return(0,Re._5)(t)?n.find((function(e){return(0,Pt.V9)(e)===t.id})):null}}]);return n}(o.PureComponent);const Zn=i.ZP.connectStores([Qe.Z,p.Z,ut.default,Jt,en.Z,Ne.Z,tn.Z],(function(e){var t=e.channel,n=Jt.getSpeaker(t.id),r=p.Z.getParticipant(t.id,n),o=A()(Qe.Z.getVideoDevices()).values().first(),i=null==o||o.disabled;return{channel:t,
streamId:null!=r&&r.type!==Re.fO.ACTIVITY&&r.type!==Re.fO.HIDDEN_STREAM?en.Z.getStreamId(r.user.id,(0,Ct.Z)(r.type)):null,participantOnScreen:r,isVideoAvailable:!1===i,isVideoEnabled:!i&&Qe.Z.isVideoEnabled(),canGoLive:(0,jt.Z)(Qe.Z),currentUserId:ut.default.getId(),activeStreams:Ne.Z.getAllActiveStreams(),activeSelfStream:Ne.Z.getCurrentUserActiveStream(),isMainWindowFocused:tn.Z.isFocused()}}))(wn);var Ln=n(350577);function Dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Un(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kn(e){kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return kn(e)}function Gn(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bn(e,t){
Bn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Bn(e,t)}var Hn,Vn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kn(e);if(t){var o=kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gn(this,n)}}var Yn=(Un(Hn={},M.NYg.VIDEO,Zn),Un(Hn,M.NYg.EMBED_IFRAME,vt),Hn),Wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Bn(e,t)}(n,e);var t=Fn(n);function n(){Dn(this,n);var e
;(e=t.apply(this,arguments)).handleWindowMove=function(e,t){a.Ao(e,t)};return e}n.prototype.render=function(){var e=this.props,t=e.selectedPIPWindow,n=e.pipWindows,o=e.maxX,i=e.maxY,a=e.theme,s=e.dockedRect,c=e.appContext;return(0,r.jsx)(Ln.Z,{pictureInPictureComponents:Yn,selectedPIPWindow:t,pipWindows:n,maxX:o,maxY:i,dockedRect:s,theme:a,onWindowMove:this.handleWindowMove,appContext:c})};return n}(o.PureComponent);const zn=i.ZP.connectStores([b.Z,h.Z,tn.Z,_t.Z],(function(e){var t=e.showInPopoutWindow,n=void 0!==t&&t,r=h.Z.getWindowOpen(M.KJ3.CHANNEL_CALL_POPOUT),o=tn.Z.windowSize();if(r){var i=h.Z.getWindow(M.KJ3.CHANNEL_CALL_POPOUT);o=null==i?o:{width:i.innerWidth,height:i.innerHeight}}var a=b.Z.pipWindows,s=r&&!n?null:b.Z.pipWindow;return{selectedPIPWindow:s,pipWindows:a,maxX:o.width,maxY:o.height,theme:_t.Z.theme,dockedRect:null!=s?b.Z.getDockedRect(s.id):null,appContext:n?M.IlC.POPOUT:void 0}}))(Wn)},749782:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>aue})
;var r=n(785893),o=n(667294),i=n(517563),a=n(751615),s=n(791462),c=n(822567),l=n(236086),u=n(817420),f=n(354290),d=n(804626),p=n(953756),h=n(956345),E=n(730189),y=n(989115),m=n(877271),b=n(108994),g=n(644723),O=n(173436),v=n(750839),_=n(245189),S=n(81717),I=n(356004),T=n(212033),N=n(151557),C=n(733285),A=n(379822),P=n(971738),j=n(882687),R=n(623899),x=n(182134),M=n(461061);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e){Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Z(e)}function L(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}var U,k=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function G(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function B(){var e=C.Z.getChannelId(),t=R.ZP.getSelfEmbeddedActivityForChannel(null!=e?e:""),n=I.Z.getChannel(e);return null==e||null==n||null==t?function(){var e=U;if(null!=e&&N.Z.isOpen(e)){O.Z.wait((function(){return v.xv(e)}));U=null}}():function(e,t){if(N.Z.isOpen(t))return!1;O.Z.wait((function(){return v.bA(t,M.NYg.EMBED_IFRAME,{channel:e})}));U=t}(n,(0,x.Z)(n.id,t.application_id))}function H(){var e,t=T.Z.hasLayers(),n=S.Z.getWindowOpen(M.KJ3.CHANNEL_CALL_POPOUT);return t&&!n?void(null!=(e=U)&&N.Z.isOpen(e)&&O.Z.wait((function(){return v.Cp(e)}))):function(){var e=U
;null!=e&&N.Z.isOpen(e)&&O.Z.wait((function(){return v.$Z(e)}))}()}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&D(e,t)}(n,e);var t=G(n);function n(){w(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){A.Z.addChangeListener(B);P.Z.addChangeListener(B);C.Z.addChangeListener(B);j.Z.addChangeListener(B);S.Z.addChangeListener(B);R.ZP.addChangeListener(B);T.Z.addChangeListener(H)};r._terminate=function(){A.Z.removeChangeListener(B);P.Z.removeChangeListener(B);C.Z.removeChangeListener(B);j.Z.removeChangeListener(B);S.Z.removeChangeListener(B);R.ZP.removeChangeListener(B);T.Z.removeChangeListener(H)};r.__getLocalVars=function(){return{openEmbedId:U}};return n}(_.Z);const F=new V
;var Y=n(859023),W=n(897576),z=n(533741),K=n(506884),q=n(600075),X=n(655695),Q=n(191940),$=n(272729),J=n(67416),ee=n(95467),te=n(959797),ne=n(987953),re=n.n(ne);function oe(){(0,z.qV)();(0,X.uL)(M.Z5c.LOGIN)}function ie(e){var t=e.underageMessage,o=e.transitionState,i=(0,$.Dt)();return(0,r.jsxs)(J.Y0,{transitionState:o,size:J.Cg.SMALL,"aria-labelledby":i,impressionName:K.zs.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0},children:[(0,r.jsx)(J.hz,{children:(0,r.jsxs)("div",{className:re().container,children:[(0,r.jsx)("img",{alt:"",src:n(697694),className:re().img}),(0,r.jsx)(q.X6,{variant:"heading-xl/semibold",className:re().title,id:i,children:te.Z.Messages.AGE_GATE_UNDERAGE_EXISTING_HEADER}),(0,r.jsx)(q.xv,{color:"header-secondary",className:re().subtitle,variant:"text-sm/normal",children:te.Z.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:null!=t?t:te.Z.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_REG_MESSAGE,helpURL:ee.Z.getArticleURL(M.BhN.AGE_GATE)})}),(0,
r.jsx)(q.xv,{color:"header-secondary",className:re().subtitle,variant:"text-sm/normal",children:te.Z.Messages.AGE_GATE_UNDERAGE_EXISTING_BODY_DELETION_WITH_DAYS.format({days:30})})]})}),(0,r.jsx)(J.mz,{children:(0,r.jsx)(Q.Co,{size:Q.Ph.SMALL,fullWidth:!0,onClick:oe,children:te.Z.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN})})]})}var ae=n(206052),se=n.n(ae);function ce(e){var t=e.transitionState,o=(0,$.Dt)();return(0,r.jsxs)(J.Y0,{transitionState:t,size:J.Cg.SMALL,"aria-labelledby":o,impressionName:K.zs.USER_AGE_GATE,impressionProperties:{existing_user:!0},children:[(0,r.jsx)(J.hz,{children:(0,r.jsxs)("div",{className:se().container,children:[(0,r.jsx)("img",{alt:"",src:n(145911),className:se().img}),(0,r.jsx)(q.X6,{variant:"heading-xl/semibold",className:se().title,id:o,children:te.Z.Messages.AGE_GATE_AGE_VERIFIED}),(0,r.jsx)(q.xv,{color:"header-secondary",className:se().subtitle,variant:"text-sm/normal",children:te.Z.Messages.AGE_GATE_AGE_VERIFIED_BODY})]})}),(0,r.jsx)(J.mz,{
children:(0,r.jsx)(Q.Co,{size:Q.Ph.SMALL,fullWidth:!0,onClick:function(){(0,z.qV)()},autoFocus:!0,children:te.Z.Messages.CLOSE})})]})}var le=n(442068);function ue(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ue(i,r,o,a,s,"next",e)}function s(e){ue(i,r,o,a,s,"throw",e)}a(void 0)}))}}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function he(e){he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return he(e)}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pe(e,t,n[t])}))}return e}function ye(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e,t){me=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return me(e,t)}var be=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return ye(this,n)}}var Oe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}
i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ve(e,t){var n;if(null!=e){var r=Y.default.getCurrentUser();(null===(n=I.Z.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=r&&null==r.nsfwAllowed&&(0,z.mN)(le.L0.NSFW_CHANNEL)}}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&me(e,t)}(o,e);var t=ge(o);function o(){de(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){O.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen);O.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect);O.Z.subscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen);O.Z.subscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose);O.Z.subscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess)
;O.Z.subscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)};i._terminate=function(){O.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen);O.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect);O.Z.unsubscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen);O.Z.unsubscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose);O.Z.unsubscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess);O.Z.unsubscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)};i.handleChannelSelect=function(e){ve(e.guildId,e.channelId)};i.handleConnectionOpen=function(){ve(P.Z.getGuildId(),A.Z.getChannelId())};i.handleAgeGateModalOpen=function(){(0,W.ZD)(fe((function(){var e,t;return Oe(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(24492)]).then(n.bind(n,324492))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ee({},e))}]}}))})),{modalKey:le.dG,onCloseRequest:M.dG4})};i.handleAgeGateSuccess=function(){(0,
W.o)(le.dG,(function(e){return(0,r.jsx)(ce,Ee({},e))}))};i.handleAgeGateFailure=function(e){var t=e.underageMessage;(0,W.o)(le.dG,(function(e){return(0,r.jsx)(ie,Ee({underageMessage:t},e))}))};i.handleAgeGateModalClose=function(){(0,W.Mr)(le.dG)};i.__getLocalVars=function(){return{}};return o}(_.Z);const Se=new _e;var Ie=n(391809),Te=n(821065),Ne=n(444450),Ce=n(932847);function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e){Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Pe(e)}function je(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e,t){Re=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Re(e,t)}var xe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}
;function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Pe(e);if(t){var o=Pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return je(this,n)}}var we="LATEST_HEARTBEAST_EVENT_TIMESTAMP",Ze=null,Le=null,De=null,Ue=new Ie.Z("Heartbeast");function ke(){(0,Te.R_)();var e=function(){var e=De;null==e&&(e=Ne.Z.get(we));null==e&&(e=0);return e}();if(null==e)He(!1);else{var t=9e5+e-Date.now();t>0?null==Le&&(Le=setTimeout((function(){He(!0)}),t)):He(!1)}}function Ge(){(0,Te.lj)();if(null!=Ze){clearInterval(Ze);Ze=null}if(null!=Le){clearTimeout(Le);Le=null}}function Be(){Fe(0);ke()}function He(e){if(null==Ze){Ve(e);Ze=setInterval((function(){Ve(!1)}),9e5)}}function Ve(e){var t=(0,Te.R_)(e)
;Ce.default.track(M.rMx.CLIENT_HEARTBEAT,{client_heartbeat_initialization_timestamp:t.initialized,client_heartbeat_version:4});Fe(Date.now())}function Fe(e){De=e;Ne.Z.set(we,e)}var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Re(e,t)}(n,e);var t=Me(n);function n(){Ae(this,n);var e;(e=t.apply(this,arguments)).connectionState=null;e.focusedOrForegrounded=!0;e.shouldTrackHeartbeat=function(){return e.focusedOrForegrounded||null!=e.connectionState&&e.connectionState!==M.hes.DISCONNECTED&&e.connectionState!==M.hes.RTC_DISCONNECTED};e.scheduleHeartbeatTracking=function(){e.shouldTrackHeartbeat()?ke():Ge()};e.handleLogin=function(){Be()};e.handleRTCStateChange=function(){var t=C.Z.getState();if(e.connectionState!==t){e.connectionState=t;Ue.log("RTC Connection Changed",t);e.scheduleHeartbeatTracking()}}
;e.handleWindowFocus=function(t){var n=t.focused;e.focusedOrForegrounded=n;e.scheduleHeartbeatTracking()};e.handleAppStateUpdate=function(t){var n=t.state;e.focusedOrForegrounded=n===M.$7l.ACTIVE;e.scheduleHeartbeatTracking()};return e}var r=n.prototype;r._initialize=function(){C.Z.addChangeListener(this.handleRTCStateChange);O.Z.subscribe("WINDOW_FOCUS",this.handleWindowFocus);O.Z.subscribe("APP_STATE_UPDATE",this.handleAppStateUpdate);O.Z.subscribe("LOGIN_SUCCESS",this.handleLogin);ke()};r._terminate=function(){C.Z.removeChangeListener(this.handleRTCStateChange);O.Z.unsubscribe("WINDOW_FOCUS",this.handleWindowFocus);O.Z.unsubscribe("APP_STATE_UPDATE",this.handleAppStateUpdate);O.Z.unsubscribe("LOGIN_SUCCESS",this.handleLogin);Ge()};r.__getLocalVars=function(){return{HEARTBEAT_VERSION:4,HEARTBEAT_FREQUENCY_MINS:15,LATEST_HEARTBEAT_EVENT_TIMESTAMP:we,heartbeatIntervalId:Ze,heartbeatTimeoutId:Le,lastHeartbeatEventTimestamp:De,logger:Ue}};return n}(_.Z);const We=new Ye
;var ze=n(893052),Ke=n(600341),qe=n(849166),Xe=n(73462),Qe=n(426217),$e=n(866452);function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e){et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return et(e)}function tt(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e,t){nt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return nt(e,t)}var rt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=et(e);if(t){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tt(this,n)}}var it=new Set,at=new Set,st=null;function ct(){var e=!0,t=!1,n=void 0;try{for(var r,o=it[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;Ke.Z.setDisableLocalVideo(i,!1,$e.Yn.DEFAULT,!1)}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}at.clear();it.clear()}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&nt(e,t)}(n,e);var t=ot(n);function n(){Je(this,n);var e;(e=t.apply(this,arguments)).handleWindowFocus=function(e){e.focused&&ct()};e.handleVoiceChannelSelect=function(e){var t=e.channelId;if(t!==st){ct();st=t}};e.handlePopoutChange=function(){S.Z.getWindowFocused(M.KJ3.CHANNEL_CALL_POPOUT)&&ct()};return e}
var r=n.prototype;r._initialize=function(){O.Z.subscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo);O.Z.subscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle);O.Z.subscribe("WINDOW_FOCUS",this.handleWindowFocus);O.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect);S.Z.addChangeListener(this.handlePopoutChange)};r._terminate=function(){O.Z.unsubscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo);O.Z.unsubscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle);O.Z.unsubscribe("WINDOW_FOCUS",this.handleWindowFocus);O.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect);S.Z.removeChangeListener(this.handlePopoutChange);ct();st=null};r.handleIncomingVideo=function(e){var t=e.userId,n=e.context,r=e.streamId;if(n===$e.Yn.DEFAULT&&null!=r){var o=null!=Xe.ZP.getCurrentGame(),i=Qe.Z.isFocused(),a=S.Z.getWindowFocused(M.KJ3.CHANNEL_CALL_POPOUT),s=qe.Z.isLocalVideoDisabled(t,n),c=at.has(t);if(o&&!i&&!a&&!s&&!c){
it.add(t);Ke.Z.setDisableLocalVideo(t,!0,n,!1)}}};r.handleManualLocalVideoToggle=function(e){var t=e.userId;if(e.persist){at.add(t);it.delete(t)}};r.__getLocalVars=function(){return{tempVideoMutes:it,manualOverrides:at,currentVoiceChannelId:st}};return n}(_.Z);const ut=new lt;var ft=n(409271),dt=n(537127),pt=n(525933),ht=n(567847),Et=n(431612);function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e){mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return mt(e)}function bt(e,t){return!t||"object"!==Ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gt(e,t){gt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return gt(e,t)}var Ot=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function vt(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bt(this,n)}}var _t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&gt(e,t)}(n,e);var t=vt(n);function n(){yt(this,n);var e;(e=t.apply(this,arguments))._updateClientTheme=function(){if(Et.W.getCurrentConfig({}).hasClientThemes){var t=ft.L1.getSetting(),n=t.primaryColor,r=t.backgroundGradientPresetId,o=t.backgroundGradientAngle;if(e._currentPrimaryColor!==n){void 0===n?(0,ht.p)():(0,ht.z)(n);e._currentPrimaryColor=n}
if(e._currentBackgroundGradientPresetId!==r){void 0===r?(0,pt.xs)():(0,pt.zO)(r);e._currentBackgroundGradientPresetId=r}if(e._currentBackgroundGradientAngle!==o){void 0===o?(0,pt.Bf)():(0,pt.X9)(o);e._currentBackgroundGradientAngle=o}}};return e}var r=n.prototype;r._initialize=function(){dt.Z.addChangeListener(this._updateClientTheme);Et.W.subscribe({},this._updateClientTheme)};r._terminate=function(){dt.Z.removeChangeListener(this._updateClientTheme)};r.__getLocalVars=function(){return{}};return n}(_.Z);const St=new _t;function It(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Tt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){It(i,r,o,a,s,"next",e)}function s(e){It(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function At(e){At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return At(e)}function Pt(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e,t){jt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return jt(e,t)}var Rt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=At(e);if(t){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return Pt(this,n)}}var Mt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e]
;r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},wt="CONNECTIONS_GRID_MODAL_KEY",Zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&jt(e,t)}(o,e);var t=xt(o);function o(){Nt(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){O.Z.subscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow);O.Z.subscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)};i._terminate=function(){O.Z.unsubscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow);O.Z.unsubscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)};i.handleShow=function(e){var t=e.onComplete,o=e.excludedPlatformTypes,i=e.includedDisabledPlatformTypes,a=e.integrations,s=e.onCompleteApplication;(0,W.nf)(wt)||(0,W.ZD)(Tt((function(){var e,c;return Mt(this,(function(l){switch(l.label){case 0:
return[4,Promise.all([n.e(40532),n.e(47042)]).then(n.bind(n,847042))];case 1:e=l.sent(),c=e.default;return[2,function(e){return(0,r.jsx)(c,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ct(e,t,n[t])}))}return e}({onComplete:t,excludedPlatformTypes:o,includedDisabledPlatformTypes:i,integrations:a,onCompleteApplication:s},e))}]}}))})))};i.handleHide=function(){(0,W.Mr)(wt)};i.__getLocalVars=function(){return{CONNECTIONS_GRID_MODAL_KEY:wt}};return o}(_.Z);const Lt=new Zt;var Dt=n(670529),Ut=n(26080),kt=n(653772),Gt=n(742269),Bt=n(378315);function Ht(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Vt(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ht(i,r,o,a,s,"next",e)}function s(e){Ht(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yt(e){Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Yt(e)}function Wt(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e,t){zt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return zt(e,t)}var Kt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}var Xt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&zt(e,t)}(n,e);var t=qt(n);function n(){Ft(this,n);var e;(e=t.apply(this,arguments)).maybeFetchEligiblity=Vt((function(){var e;return Xt(this,(function(t){switch(t.label){case 0:if(!(0,Gt.nI)()&&!(0,Gt.$L)())return[3,2];e=Object.values(kt.Z.getGuilds());return e.some((function(e){return(0,
Ut.H2)(e)&&!e.hasFeature(M.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&!e.hasFeature(M.oNc.CREATOR_MONETIZABLE_RESTRICTED)&&!e.hasFeature(M.oNc.CREATOR_MONETIZABLE_DISABLED)}))?[4,(0,Bt.av)()]:[3,2];case 1:t.sent();t.label=2;case 2:return[2]}}))}));return e}var r=n.prototype;r._initialize=function(){O.Z.subscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)};r._terminate=function(){O.Z.unsubscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)};r.__getLocalVars=function(){return{}};return n}(_.Z);const $t=new Qt;var Jt=n(570132);const en=function(){O.Z.subscribe("CONNECTION_OPEN",(function(){(0,Jt.mc)()}));O.Z.subscribe("LOGOUT",(function(){(0,Jt.mc)()}))};var tn=n(620700);function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e){rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return rn(e)}function on(e,t){return!t||"object"!==sn(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function an(e,t){an=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return an(e,t)}var sn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=rn(e);if(t){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return on(this,n)}}function ln(e){var t=e.channel.id;(0,tn.oC)(t)}var un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&an(e,t)}(n,e);var t=cn(n);function n(){nn(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){O.Z.subscribe("CHANNEL_DELETE",ln)};r._terminate=function(){O.Z.unsubscribe("CHANNEL_DELETE",ln)};r.__getLocalVars=function(){return{}};return n}(_.Z);const fn=new un;var dn=n(820028),pn=n(635940),hn=n(95350),En=n(940712),yn=n(426466),mn=n(610804);function bn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function gn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bn(i,r,o,a,s,"next",e)}function s(e){bn(i,r,o,a,s,"throw",e)}a(void 0)}))}}function On(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _n(e){_n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return _n(e)}function Sn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function In(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tn(e,t){Tn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Tn(e,t)}var Nn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_n(e);if(t){var o=_n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return In(this,n)}}var An=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue
;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Pn=function(e){var t,n=kt.Z.getGuild(e),r=Boolean(null==n?void 0:n.hasFeature(M.oNc.COMMUNITY)),o=En.Z.can(M.Plq.MANAGE_CHANNELS,n),i=(0,pn.un)(dn.z$.FORUM_CHANNEL_UPSELL_MODAL),a=null!==(t=hn.Z.getMemberCount(e))&&void 0!==t?t:0;return r&&o&&!i&&a>=200},jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Tn(e,t)}(o,e);var t=Cn(o);function o(){On(this,o);return t.apply(this,arguments)}var i=o.prototype
;i._initialize=function(){O.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect)};i._terminate=function(){O.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect)};i.handleChannelSelect=function(e){var t=e.guildId;if(null!=t){if(Pn(t)){(0,yn.qz)();(0,pn.kk)(dn.z$.FORUM_CHANNEL_UPSELL_MODAL);(0,W.ZD)(gn((function(){var e,o;return An(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(50959)]).then(n.bind(n,750959))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Sn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vn(e,t,n[t])}))}return e}({},e),{onClose:function(t){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn.L.DISMISS;(0,
pn.EW)(dn.z$.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:e})}(t);e.onClose()},guildId:t,shouldUpsellCreation:!0}))}]}}))})),{onCloseCallback:function(){return(0,pn.EW)(dn.z$.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:mn.L.DISMISS})},onCloseRequest:M.VqG})}}};i.__getLocalVars=function(){return{MINIMUM_MEMBER_COUNT_FOR_UPSELL:200,isEligibleForForumChannelUpsell:Pn}};return o}(_.Z);const Rn=new jn;var xn=n(881548),Mn=n(832691),wn=n(367124),Zn={};function Ln(e){var t=e.name,n=e.hash,r=e.missingData;wn.Z.markGameReported(t);var o=!0,i=!1,a=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value;if("icon"===l){var u=Zn[t];null!=u&&xn.Z.uploadIcon(t,n,u);return}new Mn.Z("GameStoreIconManager").log("Could not find missing data key: ".concat(l))}}catch(e){i=!0;a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}function Dn(e){var t=e.gameName,n=e.icon;Zn[t]=n}const Un=function(){O.Z.subscribe("UNVERIFIED_GAME_UPDATE",Ln)
;O.Z.subscribe("GAME_ICON_UPDATE",Dn)};var kn=n(450700),Gn=n(800539);function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hn(e){Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Hn(e)}function Vn(e,t){return!t||"object"!==Yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e,t){Fn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Fn(e,t)}var Yn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Hn(e);if(t){
var o=Hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vn(this,n)}}var zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Fn(e,t)}(n,e);var t=Wn(n);function n(){Bn(this,n);var e;(e=t.apply(this,arguments)).handleConnectionOpen=function(){Gn.Z.fetched||(0,kn.b8)();xn.Z.getDetectableGames()};return e}var r=n.prototype;r._initialize=function(){O.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen)};r._terminate=function(){O.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen)};r.__getLocalVars=function(){return{}};return n}(_.Z);const Kn=new zn;var qn=n(206264),Xn=n(109247);function Qn(e){!function(e){var t=Xn.Z.launchableGames[e],n=wn.Z.getGame(e);(null!=n?qn.Z.isLaunchable(n):qn.Z.isGameLaunchable(e)).then((function(n){n!==t&&O.Z.dispatch({
type:"GAME_LAUNCHABLE_UPDATE",gameId:e,isLaunchable:n})}))}(e.gameId)}const $n=function(){O.Z.subscribe("CHECK_LAUNCHABLE_GAME",Qn)};var Jn=n(331792);const er=function(){Gn.Z.whenInitialized((function(){null!=Jn.Z.testModeApplicationId&&(0,p.Wt)(Jn.Z.testModeApplicationId,Jn.Z.testModeOriginURL)}))};var tr=n(36347),nr=n(631134),rr=n(564379);function or(){if((0,rr.Q)()){var e=nr.default.getToken(),t=nr.default.getId();if(null==e)throw new Error("missing user token");tr.S1(e,t)}}function ir(){tr.ob()}const ar=function(){O.Z.subscribe("CONNECTION_OPEN",or);O.Z.subscribe("LOGOUT",ir)};var sr=n(468831),cr=n(671018),lr=n(598738);function ur(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function fr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ur(i,r,o,a,s,"next",e)}function s(e){ur(i,r,o,a,s,"throw",e)}a(void 0)}))}}var dr=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function pr(){pr=fr((function(e){var t,r,o,i;return dr(this,(function(a){switch(a.label){case 0:t=e.code;return[4,(0,lr.Z)(t)];case 1:r=a.sent();return null==(o=r.invite)||null==o.guild?[2]:[4,hr()];case 2:a.sent();return null==kt.Z.getGuild(o.guild.id)?[2]:[4,Promise.resolve().then(n.bind(n,604677))];case 3:i=a.sent();return[4,(0,i.default)({guildId:o.guild.id})];case 4:a.sent();cr.Z.transitionToInvite(o);return[2]}}))}));return pr.apply(this,arguments)}function hr(){return new Promise((function(e){kt.Z.addConditionalChangeListener((function(){if(kt.Z.isLoaded()){e();return!1}return!0}))}))}var Er=n(455040),yr=n(7046);function mr(e,t){var n,r=null===(n=null==t?void 0:t.replace(/-/g,"_"))||void 0===n?void 0:n.toUpperCase();if(null!=r&&r in e)return e[r]}function br(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function gr(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){br(i,r,o,a,s,"next",e)}function s(e){br(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Or(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var vr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function _r(e){(0,W.ZD)(gr((function(){var t,o;return vr(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(73241)]).then(n.bind(n,673241))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Or(e,t,n[t])}))}return e}({},t,e))}]}}))})),{modalKey:"Guild Settings Picker Modal"})}var Sr=n(136481),Ir=n(682881)
;const Tr=function(){O.Z.subscribe("VOICE_CHANNEL_SELECT",(function(e){null==e.channelId&&Sr.Kw(Ir.v.VOICE_PANEL_INTRODUCTION)}))};var Nr=n(286058),Cr=n(472631),Ar=n(370442),Pr=n(241490),jr=n(711655),Rr=n(997163),xr=n(18416),Mr=n(343435),wr=n(337160),Zr=n(742572),Lr=n(127949);var Dr=n(937155),Ur=n(639760),kr=n(395130),Gr=n(713932),Br=n(893321),Hr=n(870),Vr=n(300327),Fr=n(652703);function Yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zr(e){zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return zr(e)}function Kr(e,t){return!t||"object"!==Qr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qr(e,t){qr=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return qr(e,t)}var Xr,Qr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=zr(e);if(t){var o=zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kr(this,n)}}function Jr(){var e=A.Z.getVoiceChannelId(),t=I.Z.getChannel(e);return(0,kr.O)()&&(0,Ur.Z)(t)}var eo=(Wr(Xr={},M.kg4.TOGGLE_PRIORITY_SPEAKER,{onTrigger:function(){},keyEvents:{}}),Wr(Xr,M.kg4.UNASSIGNED,{onTrigger:function(){},keyEvents:{}}),Wr(Xr,M.kg4.PUSH_TO_TALK,{onTrigger:function(e,t){if(qe.Z.getMode(t)===M.pM4.PUSH_TO_TALK){eo[M.kg4.PUSH_TO_TALK].isPressed=e;qe.Z.getMediaEngine().eachConnection((function(t){
return t.setForceAudioInput(e,!1)}),t)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1}),Wr(Xr,M.kg4.PUSH_TO_TALK_PRIORITY,{onTrigger:function(e){if(qe.Z.getMode()===M.pM4.PUSH_TO_TALK){eo[M.kg4.PUSH_TO_TALK_PRIORITY].isPressed=e;qe.Z.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!0)}),$e.Yn.DEFAULT)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1}),Wr(Xr,M.kg4.PUSH_TO_MUTE,{onTrigger:function(e){if(qe.Z.getMode()===M.pM4.VOICE_ACTIVITY&&!qe.Z.isSelfDeaf()){eo[M.kg4.PUSH_TO_MUTE].isPressed=e;Ke.Z.setTemporarySelfMute(e)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1}),Wr(Xr,M.kg4.TOGGLE_MUTE,{onTrigger:function(){return Ke.Z.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}}),Wr(Xr,M.kg4.TOGGLE_DEAFEN,{onTrigger:function(){Ke.Z.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}}),Wr(Xr,M.kg4.TOGGLE_VOICE_MODE,{onTrigger:function(){var e=qe.Z.getMode()===M.pM4.PUSH_TO_TALK?M.pM4.VOICE_ACTIVITY:M.pM4.PUSH_TO_TALK;Ke.Z.setMode(e)},keyEvents:{keyup:!0,keydown:!1}
}),Wr(Xr,M.kg4.TOGGLE_OVERLAY,{onTrigger:function(){var e=Hr.Z.enabled;Cr.Z.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}}),Wr(Xr,M.kg4.TOGGLE_OVERLAY_INPUT_LOCK,{onTrigger:function(e){var t=(0,Fr.Z)();null!=t&&(e?Cr.Z.setUILocked(!Vr.Z.isUILocked(t),t):Cr.Z.setInputLocked(!Hr.Z.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}}),Wr(Xr,M.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,{onTrigger:function(){var e=Hr.Z.getFocusedPID();null!=e&&(null!=e||!1)&&Vr.Z.isPinned(M.Odu.TEXT)&&Hr.Z.isReady(e)&&Hr.Z.isInputLocked(e)&&Cr.Z.activateRegion(M.O0n.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}}),Wr(Xr,M.kg4.TOGGLE_GO_LIVE_STREAMING,{onTrigger:function(){var e=xr.Z.getCurrentUserActiveStream();if(null!=e)return(0,Ar.g)((0,Rr.V9)(e));!function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!(0,Zr.Z)(qe.Z))return!1;if(null!=xr.Z.getCurrentUserActiveStream())return!1;var t=(0,Lr.Z)(Xe.ZP,Mr.Z);if(null==t)return!1;if(t.isLauncher&&!e)return!1
;var n=A.Z.getVoiceChannelId(),r=I.Z.getChannel(n);if(null==r)return!1;var o=r.getGuildId();if(!(0,wr.JL)(r,kt.Z,En.Z,!1))return!1;(0,Ar.WH)(o,r.id,{pid:t.pid})}()},keyEvents:{keyup:!0,keydown:!1}}),Wr(Xr,M.kg4.TOGGLE_STREAMER_MODE,{onTrigger:function(){Pr.Z.setEnabled(!Br.Z.enabled)},keyEvents:{keyup:!0,keydown:!1}}),Wr(Xr,M.kg4.NAVIGATE_BACK,{onTrigger:function(){return(0,X.op)()},keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}}),Wr(Xr,M.kg4.NAVIGATE_FORWARD,{onTrigger:function(){return(0,X.eH)()},keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}}),Wr(Xr,M.kg4.SOUNDBOARD,{onTrigger:function(){if(Jr())if(Qe.Z.isFocused())(0,Gr.ev)(!0);else{var e=(0,Fr.Z)();null!=e&&(Vr.Z.isUILocked(e)?(0,Gr.IN)(!0,e):(0,Gr.oZ)(e))}},keyEvents:{keyup:!0,keydown:!1}}),Wr(Xr,M.kg4.SOUNDBOARD_HOLD,{onTrigger:function(e){if(Jr()){var t=(0,Fr.Z)();null==t?((0,Gt.ED)()||Qe.Z.isFocused())&&e?(0,Gr.ev)(!1):!e&&Dr.Z.getWindowOpen(M.KJ3.SOUNDBOARD)&&(0,Gr.zA)():e?(0,Gr.IN)(!1,t):(0,Gr.oZ)(t)}},
keyEvents:{keyup:!0,keydown:!0}}),Wr(Xr,M.kg4.SAVE_CLIP,{onTrigger:function(){(0,jr.C1)()},keyEvents:{keyup:!1,keydown:!0}}),Xr),to=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&qr(e,t)}(n,e);var t=$r(n);function n(){Yr(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){O.Z.wait((function(){return O.Z.dispatch({type:"KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS",keybinds:eo})}))};r._terminate=function(){};r.__getLocalVars=function(){return{KEYBINDS:eo}};return n}(_.Z);const no=new to;var ro=n(125315);const oo=function(){O.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_CLOSE"})},io=function(){O.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_OPEN"})};var ao=n(606076);function so(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function co(e){
co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return co(e)}function lo(e,t){return!t||"object"!==fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uo(e,t){uo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return uo(e,t)}var fo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=co(e);if(t){var o=co(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lo(this,n)}}var ho=!1;var Eo=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&uo(e,t)}(n,e);var t=po(n);function n(){so(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getIsOpen=function(){return!ao.tq||ho};r.__getLocalVars=function(){return{isSidebarOpen:ho}};return n}(s.ZP.Store);Eo.displayName="MobileWebSidebarStore";const yo=new Eo(O.Z,{MOBILE_WEB_SIDEBAR_OPEN:function(){ho=!0},MOBILE_WEB_SIDEBAR_CLOSE:function(){ho=!1}});var mo=n(677523),bo=n(346529),go=new Date("06/16/2020");var Oo=n(767870),vo=n(426859),_o=n(162917),So=n(700982),Io=n(94181),To=n(152666),No=n(90816),Co=n(639472),Ao=n(714392),Po=n(358188),jo=n(32733),Ro=n(111775);function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mo(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}
s.done?t(c):Promise.resolve(c).then(r,o)}function wo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Mo(i,r,o,a,s,"next",e)}function s(e){Mo(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Zo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Do(e){Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Do(e)}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Lo(e,t,n[t])}))}return e}function ko(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Go(e,t){return!t||"object"!==Vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bo(e,t){Bo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Bo(e,t)}function Ho(e){return function(e){if(Array.isArray(e))return xo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xo(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Do(e);if(t){var o=Do(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Go(this,n)}}var Yo,Wo=function(e,t){var n,r,o,i,a={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,s])}}};function zo(){null!=Yo&&(0,W.Mr)(Yo)}var Ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Bo(e,t)}(o,e);var t=Fo(o);function o(){Zo(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){O.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen);O.Z.subscribe("LOGOUT",zo)};i._terminate=function(){O.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen);O.Z.unsubscribe("LOGOUT",zo)};i.handleConnectionOpen=function(){var e=Co.Z.getType();if(null!=e){switch(e){case Ao.M5.INVITE_UNCLAIMED:_o.Z.flowStart(Ro.MK.INVITE,Ro.EW.NUF_STARTED);break;case Ao.M5.ORGANIC_REGISTERED:_o.Z.flowStart(Ro.MK.ORGANIC,Ro.EW.NUF_STARTED);break;case Ao.M5.MARKETING_UNCLAIMED:_o.Z.flowStart(Ro.MK.ORGANIC_MARKETING,Ro.EW.NUF_STARTED)}var t=!1,o=P.Z.getGuildId()
;if(e===Ao.M5.INVITE_UNCLAIMED){var i=kt.Z.getGuild(o);if(null==i?void 0:i.hasVerificationGate()){t=!0;(0,So.RM)(i.id)}}var a,s=function(){return 0===To.Z.totalGuilds&&!Gt.FB},c=null!=(a=Y.default.getCurrentUser())&&bo.Z.extractTimestamp(a.id)>go.getTime()&&!a.isClaimed()&&null==a.nsfwAllowed;!function(e){var t=function(){mo.H();_o.Z.flowStep(Ro.MK.ANY,Ro.EW.NUF_COMPLETE,!0)};Ho(e).reverse().forEach((function(e){var n=t;t=function(){e.predicate()?e.open(n):n()}}));t()}([{key:"Unified NUF Modal",open:function(e){return l.apply(this,arguments)},predicate:function(){return s()&&!jo.a}},{key:"New User Age Gate",open:Oo.i,predicate:function(){return c&&!s()&&!jo.a}},{key:"Claim Account Modal",open:function(e){return Oo.j(Gt.FB,e)},predicate:function(){var e;return!t&&null!=Y.default.getCurrentUser()&&!(null===(e=Y.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!jo.a}},{key:"Verification Gate with Claim Account",open:function(e){return(0,vo.hk)(o,null!=e?e:void 0)},
predicate:function(){var e;return t&&!(null===(e=Y.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!jo.a}},{key:"Guild Welcome Modal",open:function(e){return(0,W.ZD)(wo((function(){var e,t;return Wo(this,(function(i){switch(i.label){case 0:return[4,n.e(73214).then(n.bind(n,873214))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ko(Uo({},e),{guildId:o}))}]}}))})),{onCloseCallback:e})},predicate:function(){return null!=o&&null!=Io.Z.get(o)&&Io.Z.get(o)!==Io.a}}])}function l(){l=wo((function(e){var t;return Wo(this,(function(o){switch(o.label){case 0:t=function(e){switch(e){case Po.F.AGE_GATE:_o.Z.flowStep(Ro.MK.ANY,Ro.EW.AGE_GATE);break;case Po.F.CHOOSE_TEMPLATE:_o.Z.flowStep(Ro.MK.ANY,Ro.X2.GUILD_TEMPLATES);break;case Po.F.CUSTOMIZE_GUILD:_o.Z.flowStep(Ro.MK.ANY,Ro.X2.GUILD_CREATE);break;case Po.F.CHANNEL_PROMPT:_o.Z.flowStep(Ro.MK.ANY,Ro.X2.CHANNEL_PROMPT);break;case Po.F.JOIN_GUILD:_o.Z.flowStep(Ro.MK.ANY,Ro.X2.JOIN_GUILD);break
;case Po.F.CREATION_INTENT:_o.Z.flowStep(Ro.MK.ANY,Ro.X2.CREATION_INTENT);break;case Po.F.COMPLETE:_o.Z.flowStep(Ro.MK.ANY,Ro.X2.SUCCESS);break;case null:break;default:No.vE(e)}};return[4,(0,W.ZD)(wo((function(){var e,o;return Wo(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(18734),n.e(25530),n.e(64)]).then(n.bind(n,64))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ko(Uo({},e),{onSlideChange:t}))}]}}))})),{onCloseRequest:M.dG4,onCloseCallback:e,modalKey:Yo})];case 1:Yo=o.sent();return[2]}}))}));return l.apply(this,arguments)}};i.__getLocalVars=function(){return{nufModalKey:Yo}};return o}(_.Z);const qo=new Ko;var Xo=n(542270),Qo=n(667519),$o=n(750029),Jo=n(114193),ei=n(959154);function ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ni(e){ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ni(e)}function ri(e,t){
return!t||"object"!==ii(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oi(e,t){oi=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return oi(e,t)}var ii=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ni(e);if(t){var o=ni(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ri(this,n)}}var si=new Set,ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&oi(e,t)}(n,e);var t=ai(n);function n(){ti(this,n);var e;(e=t.apply(this,arguments)).handleSettingsUpdate=function(e){var t=e.settings;t.enabled?(0,Xo.T)($o.hn.ENABLE_POGGERMODE):!1===t.enabled&&(0,Xo.T)($o.hn.DISABLE_POGGERMODE);Object.keys(t).some((function(e){return e.startsWith("confetti")}))&&(0,Xo.T)($o.hn.CUSTOMIZE_CONFETTI)};e.handleMessageCreate=function(e){var t=e.channelId,n=e.message,r=n.author,o=n.nonce,i=n.mentions;if(!Jo.Z.isEnabled())return!1;var a=nr.default.getId();null!=(null==i?void 0:i.find((function(e){return e.id===a})))?(0,Xo.T)($o.hn.PING_ME):i.length>0&&(null==r?void 0:r.id)===a&&(0,Xo.T)($o.hn.PING_SOMEONE);if(!(0,ei.wU)(r.id,a,o,si))return!1;var s=ei.ZP.getMostRecentMessageCombo(t),c=(null!=s?s:{}).combo;if(null==c)return!1;Object.values($o.hn).forEach((function(e){var t=e;if(null==Qo.Z.getUnlocked(t)){var n=(0,$o.oX)(t),r=null==n?void 0:n.checkUnlock;null!=r&&!1!==r(c)&&(0,Xo.T)(t)}}))};return e}
var r=n.prototype;r._initialize=function(){O.Z.subscribe("MESSAGE_CREATE",this.handleMessageCreate);O.Z.subscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)};r._terminate=function(){O.Z.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate);O.Z.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)};r.__getLocalVars=function(){return{trackedMessageNonces:si}};return n}(_.Z);const li=new ci;var ui=n(476395);function fi(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function di(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fi(i,r,o,a,s,"next",e)}function s(e){fi(i,r,o,a,s,"throw",e)}a(void 0)}))}}function pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ei(e){
Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ei(e)}function yi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function mi(e,t){return!t||"object"!==gi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bi(e,t){bi=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return bi(e,t)}var gi=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Oi(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ei(e);if(t){var o=Ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mi(this,n)}}var vi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&bi(e,t)}(o,e);var t=Oi(o);function o(){pi(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){O.Z.subscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)};i._terminate=function(){
O.Z.unsubscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)};i.handlePoggermodeTemporarilyDisabled=function(){(0,W.ZD)(di((function(){var e,t;return vi(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,30741))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,yi(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){hi(e,t,n[t])}))}return e}({},e),{header:te.Z.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_TITLE,confirmText:te.Z.Messages.CONFIRM,confirmButtonColor:Q.Co.Colors.GREEN,children:(0,r.jsx)(q.xv,{variant:"text-md/normal",children:te.Z.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_BODY})}))}]}}))})))};i.__getLocalVars=function(){return{}};return o
}(_.Z);const Si=new _i;var Ii=n(200056),Ti=n(280195);n(175935);function Ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ci(e){Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ci(e)}function Ai(e,t){return!t||"object"!==ji(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pi(e,t){Pi=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Pi(e,t)}var ji=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ri(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ci(e);if(t){
var o=Ci(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ai(this,n)}}var xi=(0,Ii.Un)({createPromise:function(){return n.e(41446).then(n.bind(n,589860))},webpackId:589860,name:"PopoutWindowChannelCall"}),Mi=(0,Ii.Un)({createPromise:function(){return n.e(38634).then(n.bind(n,747501))},webpackId:747501,name:"PopoutWindowStageChannelCall"}),wi=(0,Ii.Un)({createPromise:function(){return n.e(41446).then(n.bind(n,197295))},webpackId:197295,name:"PopoutWindowRTCDebug"}),Zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Pi(e,t)}(n,e);var t=Ri(n);function n(){Ni(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){O.Z.subscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout)
;O.Z.subscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout)};o._terminate=function(){O.Z.unsubscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout);O.Z.unsubscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout)};o.handleOpenChannelCallPopout=function(e){var t=e.channel;Ti.bA(M.KJ3.CHANNEL_CALL_POPOUT,(function(e){return t.isGuildStageVoice()?(0,r.jsx)(Mi,{windowKey:e,channel:t}):(0,r.jsx)(xi,{windowKey:e,channel:t})}),{defaultWidth:854,defaultHeight:480})};o.handleOpenRTCDebugPopout=function(){Ti.bA(M.KJ3.RTC_DEBUG_POPOUT,(function(e){return(0,r.jsx)(wi,{windowKey:e})}),{defaultWidth:854,defaultHeight:480})};o.__getLocalVars=function(){return{DEFAULT_POPOUT_WIDTH:854,DEFAULT_POPOUT_HEIGHT:480,PopoutWindowChannelCall:xi,PopoutWindowStageChannelCall:Mi,PopoutWindowRTCDebug:wi}};return n}(_.Z);const Li=new Zi;var Di=n(738017),Ui=n(380819);function ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function Gi(e){Gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Gi(e)}function Bi(e,t){return!t||"object"!==Vi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hi(e,t){Hi=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Hi(e,t)}var Vi=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Gi(e);if(t){var o=Gi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bi(this,n)}}var Yi=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Hi(e,t)}(n,e);var t=Fi(n);function n(){ki(this,n);var e;(e=t.apply(this,arguments)).handleMainWindowFocus=function(t){t.focused&&e.injectWindowAnimationFrame(window)};e.handlePopoutWindowChange=function(){var t=S.Z.getWindowKeys().find((function(e){return S.Z.getWindowFocused(e)}));if(null==t)return e.injectWindowAnimationFrame(window);var n=S.Z.getWindow(t);if(null==n||n.closed)return e.injectWindowAnimationFrame(window);e.injectWindowAnimationFrame(n)};return e}var r=n.prototype;r._initialize=function(){S.Z.addChangeListener(this.handlePopoutWindowChange);O.Z.subscribe("WINDOW_FOCUS",this.handleMainWindowFocus)};r._terminate=function(){S.Z.removeChangeListener(this.handlePopoutWindowChange);O.Z.unsubscribe("WINDOW_FOCUS",this.handleMainWindowFocus)
;this.injectWindowAnimationFrame(window)};r.injectWindowAnimationFrame=function(e){var t=function(t){return e.requestAnimationFrame(t)},n=function(t){return e.cancelAnimationFrame(t)};Di.Z.inject.RequestAnimationFrame(t);Di.Z.inject.CancelAnimationFrame(n);Ui.f.setRAF(t,n)};r.__getLocalVars=function(){return{}};return n}(_.Z);const Wi=new Yi;var zi=n(737325),Ki=n(11197),qi=n(565995),Xi=n(720897),Qi=n(339678),$i=n(74030),Ji=n(314154),ea=n(737202),ta=n(68476),na=n(298716);function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function ia(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oa(i,r,o,a,s,"next",e)}function s(e){oa(i,r,o,a,s,"throw",e)}a(void 0)}))}}function aa(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ca(e){ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ca(e)}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sa(e,t,n[t])}))}return e}function ua(e,t){return!t||"object"!==da(t)&&"function"!=typeof t?ra(e):t}function fa(e,t){fa=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fa(e,t)}var da=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pa(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ca(e);if(t){var o=ca(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ua(this,n)}}var ha=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fa(e,t)}(o,e);var t=pa(o);function o(){aa(this,o);var e,i=ra(e=t.apply(this,arguments));e.mayShowAnnouncementModal=ia((function(){var e,t,o,a,s,c,l,u,f;return ha(this,(function(d){switch(d.label){case 0:if(Ji.s.isDisallowPopupsSet())return[2];e=qi.Z.isOpen();t=(0,
pn.un)(dn.z$.BLACK_FRIDAY_2022_BOGO_ANNOUNCEMENT_MODAL);o=Y.default.getCurrentUser();a=!(null==o?void 0:o.isClaimed());s=(0,$i.I5)(o);c=null!=Co.Z.getType();return(l=!(a||c||(0,W.$s)()||e||t||s))?[4,i._mayFetchEligiblityData()]:[3,2];case 1:l=d.sent();d.label=2;case 2:if(l){u=Xi.Z.getMostRecentPremiumTypeSubscription();f=Xi.Z.getPremiumSubscription(!1);(0,ta.T)({experimentEnabled:(0,ea.VM)(),premiumSubscription:f,mostRecentSubscription:u})&&(0,W.ZD)(ia((function(){var e,t;return ha(this,(function(o){switch(o.label){case 0:return[4,n.e(49455).then(n.bind(n,949455))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,la({},e))}]}}))})))}return[2]}}))}));e._mayFetchEligiblityData=ia((function(){var e;return ha(this,(function(t){switch(t.label){case 0:t.trys.push([0,5,,6]);return Qi.Z.shouldFetchOffer()?[4,(0,Ki.C)()]:[3,2];case 1:t.sent();t.label=2;case 2:
return Qi.Z.hasFetchedOffer()&&Qi.Z.hasAnyUnexpiredOffer()?[2,!1]:Xi.Z.hasFetchedMostRecentPremiumTypeSubscription()||!(null===(e=Y.default.getCurrentUser())||void 0===e?void 0:e.hasHadSKU(na.Si.TIER_2))?[3,4]:[4,(0,zi.ou)()];case 3:t.sent();t.label=4;case 4:return[2,!0];case 5:t.sent();return[2,!1];case 6:return[2]}}))}));return e}var i=o.prototype;i._initialize=function(){O.Z.subscribe("CONNECTION_OPEN",this.mayShowAnnouncementModal)};i._terminate=function(){O.Z.unsubscribe("CONNECTION_OPEN",this.mayShowAnnouncementModal)};i.__getLocalVars=function(){return{}};return o}(_.Z);const ya=new Ea;var ma=n(245556),ba=n(174034),ga="october_upsell_queue_last_shown",Oa=new Set([dn.z$.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP,dn.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2,dn.z$.PREMIUM_TIER_0_DESKTOP_ANNOUNCEMENT_MODAL,dn.z$.HALLOWEEN_2022_ACTIVITIES_COACH_MARK,dn.z$.APP_DIRECTORY_UPSELL_MODAL,dn.z$.BASH_OUT_COACH_MARK]);function va(e,t){if(!t)return!1;if((0,pn.un)(e))return!1
;if(!Oa.has(e))throw new Error("Unexpected upsell type, add new type or use standard DismissibleContent instead");var n=Ne.Z.get(ga);if(null!=n&&n.type!==e&&Date.now()-n.timestamp<18e5)return!1;null!=n&&n.type===e||Ne.Z.set(ga,{type:e,timestamp:Date.now()});return!0}var _a=n(916957),Sa=n(916061),Ia=n(164023);function Ta(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Na(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ta(i,r,o,a,s,"next",e)}function s(e){Ta(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ca(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pa(e){Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Pa(e)}function ja(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Aa(e,t,n[t])}))}return e}function Ra(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xa(e,t){xa=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return xa(e,t)}var Ma=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=Pa(e);if(t){var o=Pa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ra(this,n)}}var Za=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}
if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},La=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&xa(e,t)}(o,e);var t=wa(o);function o(){Ca(this,o);var e;(e=t.apply(this,arguments)).handleConnectionOpen=function(){if((0,Gt.nI)()||(0,Gt.$L)()){var t=!!e.isEligibleForAnnouncementModal(),n=Sa.L.getCurrentConfig({},{autoTrackExposure:t}).enableTier0,r=t&&n;((0,Ia.SI)()||r)&&(_a.Z.isLoadedForPremiumSKUs()&&_a.Z.isFetchingForPremiumSKUs()||(0,ba.Y2)());r&&e.showAnnouncementModal()}};e.hasDismissedAnnouncement=function(){var e,t=null===(e=dt.Z.settings.userContent)||void 0===e?void 0:e.premiumTier0ModalDismissedAt;return(0,
pn.un)(dn.z$.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_BADGE)||(0,pn.un)(dn.z$.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_SETTINGS_BADGE)||null!=t};e.isEligibleForAnnouncementModal=function(){var t=Y.default.getCurrentUser(),n=!!(0,Ia.C)(t)&&!e.hasDismissedAnnouncement()&&!qi.Z.isOpen();return va(dn.z$.PREMIUM_TIER_0_DESKTOP_ANNOUNCEMENT_MODAL,n)};e.showAnnouncementModal=function(){(0,W.ZD)(Na((function(){var e,t;return Za(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(62315)]).then(n.bind(n,262315))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ja({},e))}]}}))})))};return e}var i=o.prototype;i._initialize=function(){O.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen)};i._terminate=function(){O.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen)};i.__getLocalVars=function(){return{}};return o}(_.Z);const Da=new La;var Ua=n(395951),ka=n(874058),Ga=n(928676),Ba=n(476154);function Ha(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value
}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Va(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ha(i,r,o,a,s,"next",e)}function s(e){Ha(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Wa(e){Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Wa(e)}function za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ya(e,t,n[t])}))}return e}function Ka(e,t){
return!t||"object"!==Xa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qa(e,t){qa=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return qa(e,t)}var Xa=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Qa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Wa(e);if(t){var o=Wa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ka(this,n)}}var $a=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ja=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&qa(e,t)}(o,e);var t=Qa(o);function o(){Fa(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){O.Z.subscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)};i._terminate=function(){O.Z.unsubscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)};i.maybeOpenProfilePreviewModal=function(e){var t=e.imageSrc,o=e.file,i=e.uploadType,a=e.guildId,s=e.isTryItOutFlow,c=null!=a?ka.I5:Ua.I5,l=null!=a?ka.g_:Ga.g_,u=Y.default.getCurrentUser();if(i===Ba.pC.AVATAR){if(s){(0,Ga.c_)(t);return}if($i.ZP.canUseAnimatedAvatar(u)||"image/gif"!==o.type){c(t);return}(0,W.ZD)(Va((function(){var e,o;return $a(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(12842)]).then(n.bind(n,812842))]
;case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,za({avatarSrc:t,onSubscribe:function(){return c(t)}},e))}]}}))})))}else if(i===Ba.pC.BANNER||i===Ba.pC.BANNER_V2){if(s){(0,Ga.f4)(t);return}if($i.ZP.canUsePremiumProfileCustomization(u)){l(t);return}(0,W.ZD)(Va((function(){var e,o;return $a(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(12842)]).then(n.bind(n,812842))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,za({bannerSrc:t,onSubscribe:function(){return l(t)}},e))}]}}))})))}};i.__getLocalVars=function(){return{}};return o}(_.Z);const es=new Ja;var ts,ns,rs=n(602589),os=n(567207),is=n(132634),as=n(496486),ss=n.n(as);!function(e){e[e.UNHANDLED=-1]="UNHANDLED";e[e.NOMINAL=0]="NOMINAL";e[e.FAIR=1]="FAIR";e[e.SERIOUS=2]="SERIOUS";e[e.CRITICAL=3]="CRITICAL"}(ts||(ts={}));!function(e){e[e.NONE=0]="NONE";e[e.LIGHT=1]="LIGHT";e[e.MODERATE=2]="MODERATE";e[e.SEVERE=3]="SEVERE";e[e.CRITICAL=4]="CRITICAL"
;e[e.EMERGENCY=5]="EMERGENCY";e[e.SHUTDOWN=6]="SHUTDOWN"}(ns||(ns={}));function cs(e){if((0,Gt.gn)())return e;if(!(0,Gt.Dt)())return ts.UNHANDLED;switch(e){case ns.NONE:return ts.NOMINAL;case ns.LIGHT:case ns.MODERATE:return ts.FAIR;case ns.SEVERE:return ts.SERIOUS;case ns.CRITICAL:case ns.EMERGENCY:case ns.SHUTDOWN:return ts.CRITICAL;default:return ts.UNHANDLED}}var ls=n(212218),us=n(403872),fs=n(945505),ds=n(962564),ps=n(105405),hs=n(630206),Es=n(894272),ys=n(438022),ms=n(488839);function bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Os=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.rpcServer=t.server;this.transports=t.transports;this.rpcCommandHandlers=t.commands;this.rpcEventHandlers=t.events;this.stores=t.stores;this.registerTransportsForEmbeddedPlatform=t.registerTransportsForEmbeddedPlatform}var t=e.prototype;t.loadServer=function(){Gt.FB&&this.registerTransportsForEmbeddedPlatform();var e=!0,t=!1,n=void 0;try{
for(var r,o=this.transports[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;this.rpcServer.registerTransport(i)}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}var a=this.rpcCommandHandlers,s=!0,c=!1,l=void 0;try{for(var u,f=Object.entries(a)[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){var d=gs(u.value,2),p=d[0],h=d[1];this.rpcServer.setCommandHandler(p,h)}}catch(e){c=!0;l=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw l}}var E=this.rpcEventHandlers,y=!0,m=!1,b=void 0;try{for(var g,O=Object.entries(E)[Symbol.iterator]();!(y=(g=O.next()).done);y=!0){var v=gs(g.value,2),_=v[0],S=v[1];this.rpcServer.setEventHandler(_,S)}}catch(e){m=!0;b=e}finally{try{y||null==O.return||O.return()}finally{if(m)throw b}}};t.init=function(){var e=this;this.rpcServer.getCurrentUser=function(){return Y.default.getCurrentUser()};this.rpcServer.onConnect=function(e){O.Z.dispatch({type:"RPC_APP_CONNECTED",socketId:e.id,application:e.application
});Ce.default.track(M.rMx.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})};this.rpcServer.onDisconnect=function(e,t){O.Z.dispatch({type:"RPC_APP_DISCONNECTED",socketId:e.id,application:e.application,reason:t})};var t=[I.Z,ls.ZP,ds.Z,j.Z,qe.Z,C.Z];new s.Fh(t.concat(this.stores),(function(){return e.rpcServer.updateSubscriptions()})).attach("RPCServerManager");O.Z.subscribe("MESSAGE_CREATE",(function(t){return e.handleMessage(t)}));O.Z.subscribe("MESSAGE_UPDATE",(function(t){return e.handleMessage(t)}));O.Z.subscribe("MESSAGE_DELETE",(function(t){return e.handleMessage(t)}));O.Z.subscribe("SPEAKING",(function(t){return e.handleSpeaking(t)}));O.Z.subscribe("OAUTH2_TOKEN_REVOKE",(function(t){return e.handleOAuth2TokenRevoke(t)}));O.Z.subscribe("GUILD_CREATE",(function(t){return e.handleGuildCreate(t)}));O.Z.subscribe("CHANNEL_CREATE",(function(t){return e.handleChannelCreate(t)}));O.Z.subscribe("LOGOUT",(function(){return e.handleLogout()}))
;O.Z.subscribe("VOICE_CHANNEL_SELECT",(function(t){return e.handleVoiceChannelSelect(t)}));O.Z.subscribe("RPC_NOTIFICATION_CREATE",(function(t){return e.handleNotificationCreate(t)}));O.Z.subscribe("ACTIVITY_JOIN",(function(t){return e.handleActivityJoin(t)}));O.Z.subscribe("ACTIVITY_PIP_MODE_UPDATE",(function(t){return e.handleActivityPIPModeUpdate(t)}));O.Z.subscribe("THERMAL_STATE_CHANGE",(function(t){return e.handleThermalStateChange(t)}));O.Z.subscribe("ACTIVITY_SCREEN_ORIENTATION_UPDATE",(function(t){return e.handleScreenOrientationUpdate(t)}));O.Z.subscribe("RELATIONSHIP_ADD",(function(t){return e.handleRelationshipAdd(t)}));O.Z.subscribe("RELATIONSHIP_REMOVE",(function(t){return e.handleRelationshipRemove(t)}));O.Z.subscribe("PRESENCE_UPDATES",(function(t){return e.handlePresenceUpdate(t)}));O.Z.subscribe("PRESENCES_REPLACE",(function(){return e.handlePresencesReplace()}));O.Z.subscribe("LOBBY_UPDATE",(function(t){return e.handleLobbyUpdate(t)}))
;O.Z.subscribe("LOBBY_DELETE",(function(t){return e.handleLobbyDelete(t)}));O.Z.subscribe("LOBBY_MEMBER_CONNECT",(function(t){return e.handleLobbyMemberConnect(t)}));O.Z.subscribe("LOBBY_MEMBER_UPDATE",(function(t){return e.handleLobbyMemberUpdate(t)}));O.Z.subscribe("LOBBY_MEMBER_DISCONNECT",(function(t){return e.handleLobbyMemberDisconnect(t)}));O.Z.subscribe("LOBBY_MESSAGE",(function(t){return e.handleLobbyMessage(t)}));O.Z.subscribe("ENTITLEMENT_CREATE",(function(t){return e.handleEntitlementCreate(t)}));O.Z.subscribe("ENTITLEMENT_DELETE",(function(t){return e.handleEntitlementDelete(t)}));O.Z.subscribe("USER_ACHIEVEMENT_UPDATE",(function(t){return e.handleUserAchievementUpdate(t)}))};t.handleMessage=function(e){if(0!==this.rpcServer.subscriptions.length){"MESSAGE_CREATE"===e.type&&this.handleActivityMessage(e);var t,n,r,o=null;switch(e.type){case"MESSAGE_CREATE":if("SENDING"===e.message.state)return;t=M.zMe.MESSAGE_CREATE;n=e.channelId;r=e.message
;o="".concat(t).concat(e.message.id);break;case"MESSAGE_UPDATE":t=M.zMe.MESSAGE_UPDATE;n=e.message.channel_id;r=e.message;break;case"MESSAGE_DELETE":t=M.zMe.MESSAGE_DELETE;n=e.channelId;r={id:e.id};o="".concat(t).concat(e.id);break;default:return(0,No.vE)(e)}null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,Es.Xb)(r)},o)}};t.handleSpeaking=function(e){var t=this;if(0!==this.rpcServer.subscriptions.length){var n=0!==e.speakingFlags?M.zMe.SPEAKING_START:M.zMe.SPEAKING_STOP;if(e.context===$e.Yn.DEFAULT){var r=A.Z.getVoiceChannelId();if(null!=r){var o=I.Z.getChannel(r);if(null==o)return;var i=j.Z.getVoiceState(o.getGuildId(),e.userId);if(null==i)return;this.rpcServer.dispatchToSubscriptions(n,{channel_id:i.channelId},{channel_id:i.channelId,user_id:e.userId})}}else fs.Z.getLobbyIdsForUser(e.userId).forEach((function(r){var o=us.Z.getLobby(r);null!=o&&o.application_id===e.context&&t.rpcServer.dispatchToSubscriptions(n,{},{lobby_id:r,user_id:e.userId})
}))}};t.handleVoiceChannelSelect=function(e){var t=e.guildId,n=e.channelId;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})};t.handleNotificationCreate=function(e){var t=e.channelId,n=e.message,r=e.icon,o=e.title,i=e.body;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,Es.Xb)(n),icon_url:null!=r?(0,Es.RE)(r):null,title:o,body:i})};t.handleActivityJoin=function(e){var t=e.applicationId,n=e.secret,r=e.intent,o=e.embedded;if(0!==this.rpcServer.subscriptions.length){var i={secret:n};o&&(i.intent=r);this.rpcServer.dispatchToSubscriptions(M.zMe.ACTIVITY_JOIN,(function(e){return e.socket.application.id===t}),i);this.rpcServer.dispatchToSubscriptions(M.zMe.GAME_JOIN,(function(e){return e.socket.application.id===t}),i)}};t.handleActivityPIPModeUpdate=function(e){var t=e.applicationId,n=e.isPIPMode
;if(0!==this.rpcServer.subscriptions.length){var r={is_pip_mode:n};this.rpcServer.dispatchToSubscriptions(M.zMe.ACTIVITY_PIP_MODE_UPDATE,(function(e){return e.socket.application.id===t}),r)}};t.handleThermalStateChange=function(e){var t=e.applicationId,n=e.rawThermalState;if(0!==this.rpcServer.subscriptions.length&&null!=t){var r={thermal_state:cs(n)};this.rpcServer.dispatchToSubscriptions(M.zMe.THERMAL_STATE_UPDATE,(function(e){return e.socket.application.id===t}),r)}};t.handleScreenOrientationUpdate=function(e){var t=e.screenOrientation;if(0!==this.rpcServer.subscriptions.length){var n={screen_orientation:t,orientation:t===ms.W0.PORTRAIT?"portrait":"landscape"};this.rpcServer.dispatchToSubscriptions(M.zMe.ORIENTATION_UPDATE,{},n)}};t.handleActivityMessage=function(e){var t=e.channelId,n=e.message;if(0!==this.rpcServer.subscriptions.length){var r=n.application,o=n.activity;if(null!=r&&null!=o&&null!=o.party_id){var i=Y.default.getUser(n.author.id);if(null!=i){
var a=Y.default.getCurrentUser();if(null!=a&&i.id!==a.id){var s=o.type===M.mFx.JOIN_REQUEST?ds.Z.getApplicationActivity(a.id,r.id):ds.Z.getApplicationActivity(i.id,r.id);if(null!=s&&null!=s.party&&s.party.id===o.party_id){var c=s.application_id;switch(o.type){case M.mFx.JOIN:this.rpcServer.dispatchToSubscriptions(M.zMe.ACTIVITY_INVITE,(function(e){return e.socket.application.id===c}),{user:(0,ys.Z)(i),activity:s,type:o.type,channel_id:t,message_id:n.id});break;case M.mFx.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(M.zMe.ACTIVITY_JOIN_REQUEST,(function(e){return e.socket.application.id===c}),{user:(0,ys.Z)(i)})}}}}}}};t.handleOAuth2TokenRevoke=function(e){var t=e.accessToken;this.rpcServer.sockets.forEach((function(e){e.authorization.accessToken===t&&e.close(M.$VG.TOKEN_REVOKED,"Token revoked")}))};t.handleGuildCreate=function(e){var t=e.guild.id,n=kt.Z.getGuild(t);0!==this.rpcServer.subscriptions.length&&null!=n&&this.rpcServer.dispatchToSubscriptions(M.zMe.GUILD_CREATE,{},{
id:t,name:n.name})};t.handleChannelCreate=function(e){var t=e.channel,n=t.id,r=t.name,o=t.type;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.CHANNEL_CREATE,{},{id:n,name:r,type:o})};t.handleLogout=function(){this.rpcServer.sockets.forEach((function(e){return e.close(M.$VG.CLOSE_NORMAL,"User logout")}))};t.handleRelationshipAdd=function(e){var t=e.relationship,n=t.id,r=t.type;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.RELATIONSHIP_UPDATE,{},(0,Es.cD)(r,n))};t.handleRelationshipRemove=function(e){var t=e.relationship.id;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.RELATIONSHIP_UPDATE,{},(0,Es.cD)(M.OGo.NONE,t))};t.handlePresenceUpdate=function(e){var t=e.updates,n=this;0!==this.rpcServer.subscriptions.length&&t.forEach((function(e){var t=e.guildId,r=e.user.id;if(null==t){var o=ps.Z.getRelationshipType(r)
;o===M.OGo.NONE&&hs.Z.getUserAffinitiesUserIds().has(r)&&(o=M.OGo.IMPLICIT);o!==M.OGo.NONE&&n.rpcServer.dispatchToSubscriptions(M.zMe.RELATIONSHIP_UPDATE,{},(0,Es.cD)(o,r))}}))};t.handlePresencesReplace=function(){var e=this;0!==this.rpcServer.subscriptions.length&&ss().forEach(ps.Z.getRelationships(),(function(t,n){e.rpcServer.dispatchToSubscriptions(M.zMe.RELATIONSHIP_UPDATE,{},(0,Es.cD)(t,n))}))};t.handleLobbyUpdate=function(e){var t=e.lobby;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.LOBBY_UPDATE,{},t)};t.handleLobbyDelete=function(e){var t=e.lobbyId;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.LOBBY_DELETE,{},{id:t})};t.handleLobbyMemberConnect=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.LOBBY_MEMBER_CONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMemberUpdate=function(e){var t=e.lobbyId,n=e.member
;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.LOBBY_MEMBER_UPDATE,{},{lobby_id:t,member:n})};t.handleLobbyMemberDisconnect=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.LOBBY_MEMBER_DISCONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMessage=function(e){var t=e.lobbyId,n=e.senderId,r=e.data;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.LOBBY_MESSAGE,{},{lobby_id:t,sender_id:n,data:r})};t.handleEntitlementCreate=function(e){var t=e.entitlement;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.ENTITLEMENT_CREATE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleEntitlementDelete=function(e){var t=e.entitlement;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(M.zMe.ENTITLEMENT_DELETE,(function(e){
return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleUserAchievementUpdate=function(e){var t=e.userAchievement;if(0!==this.rpcServer.subscriptions.length){var n=t.application_id;this.rpcServer.dispatchToSubscriptions(M.zMe.USER_ACHIEVEMENT_UPDATE,(function(e){return e.socket.application.id===n}),{user_achievement:t})}};return e}(),vs=n(588641),_s=n(675860);const Ss=function(e,t,n){var r=nr.default.getId();return _s.Z.put({url:M.ANM.USER_ACHIEVEMENTS_FOR_USER(r,e,t),body:{percent_complete:n},oldFormErrors:!0})},Is=function(e){return _s.Z.get({url:M.ANM.USER_ACHIEVEMENTS(e),retries:1,oldFormErrors:!0}).then((function(e){return e.body}))};var Ts,Ns=n(856640);function Cs(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const As=(Cs(Ts={},M.Etm.SET_USER_ACHIEVEMENT,{scope:Cs({},M.Gp_.ANY,[M.xVR.RPC,M.lHf]),validation:function(e){return e.object().required().keys({achievement_id:e.string().min(2).max(128),
percent_complete:e.number().min(0).max(100).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.achievement_id,o=n.percent_complete,i=t.application.id;if(null==i)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");return Ss(i,r,o).catch((function(e){var t=e.status,n=e.body;switch(t){case 429:throw new Ns.Z(M.lTL.RATE_LIMITED,"You are being rate limited.");case 403:throw null!=n&&n.code===M.evJ.USER_NOT_AUTHORIZED_FOR_APPLICATION?new Ns.Z(M.lTL.UNAUTHORIZED_FOR_ACHIEVEMENT,"Not authorized to update this achievement."):new Ns.Z(M.lTL.UNKNOWN_ERROR,"Unknown error from API. status=".concat(t,"."));default:throw new Ns.Z(M.lTL.UNKNOWN_ERROR,"Unknown error from API. status=".concat(t,"."))}})).then((function(){return null}))}}),Cs(Ts,M.Etm.GET_USER_ACHIEVEMENTS,{scope:Cs({},M.Gp_.ANY,[M.xVR.RPC,M.lHf]),handler:function(e){var t=e.socket.application.id;if(null==t)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");return Is(t).then((function(e){return e||[]}))}}),Ts)
;var Ps,js=n(485359),Rs=n(418674);function xs(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ms(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const ws=(xs(Ps={},M.Etm.SEND_ANALYTICS_EVENT,{validation:function(e){return e.object().required().keys({event_name:e.string().required(),event_properties:e.object().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.event_name,o=n.event_properties;(0,Es.bu)(t.transport);(0,Es._f)(t.application)
;var i=t.application.id,a=I.Z.getChannel(A.Z.getVoiceChannelId()),s=null==a?void 0:a.getGuildId();if(null==a||null==s)throw new Ns.Z(M.lTL.INVALID_COMMAND,"Invalid channel");var c,l=wn.Z.getGame(i);if(!(0,Rs.yE)(null!==(c=null==l?void 0:l.flags)&&void 0!==c?c:0,M.udG.EMBEDDED_FIRST_PARTY))throw new Ns.Z(M.lTL.INVALID_COMMAND,"This application cannot access this API");Ce.default.track(r,Ms(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xs(e,t,n[t])}))}return e}({},o),{activity_application_id:i,activity_guild_id:s}))}}),xs(Ps,M.Etm.GET_APPLICATION_TICKET,{scope:M.lHf,handler:function(e){var t=e.socket.application.id;if(null==t)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");return _s.Z.post({url:M.ANM.APPLICATION_TICKET(t),body:{
test_mode:Jn.Z.inTestModeForApplication(t)||js.Z.inDevModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body}))}}),Ps);function Zs(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const Ls=Zs({},M.Etm.SET_CERTIFIED_DEVICES,{scope:Zs({},M.Gp_.ANY,[M.xVR.RPC,M.lHf]),validation:function(e){return e.object().required().keys({devices:e.array().items(e.object().keys({type:e.string().required().valid([$e.h7.AUDIO_INPUT,$e.h7.AUDIO_OUTPUT,$e.h7.VIDEO_INPUT]),id:e.string().required().min(1),vendor:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),model:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))})},handler:function(e){var t=e.socket,n=e.args.devices
;if(null==t.application.id)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");!function(e,t){O.Z.dispatch({type:"CERTIFIED_DEVICES_SET",applicationId:e,devices:t})}(t.application.id,n.map((function(e){return{type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter((function(e){return n.some((function(t){return t.id===e}))})),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute}})))}});var Ds,Us=n(53551),ks=n(268333);function Gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bs(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Hs(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Vs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gs(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Fs=(Bs(Ds={},M.Etm.GET_CHANNEL,{scope:M.xVR.RPC,handler:function(e){var t=e.args.channel_id,n=e.socket,r=I.Z.getChannel(t);if(null==r)throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return(0,Es.T5)(r,(0,Es.zM)(r,n.application.id,n.authorization.scopes))}}),Bs(Ds,M.Etm.GET_CHANNELS,{scope:M.xVR.RPC,handler:function(e){var t=e.args.guild_id,n=ss().values(I.Z.loadAllGuildAndPrivateChannelsFromDisk());if(t){var r=kt.Z.getGuild(t);if(null==r)throw new Ns.Z(M.lTL.INVALID_GUILD,"Invalid guild id: ".concat(t));n=n.filter((function(e){return e.guild_id===r.id}))}return{channels:n.filter((function(e){return En.Z.can(M.Plq.VIEW_CHANNEL,e)})).map((function(e){return{id:e.id,name:e.name,type:e.type}}))}}}),Bs(Ds,M.Etm.SELECT_VOICE_CHANNEL,{scope:M.xVR.RPC,validation:function(e){
return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean()})},handler:function(e){var t=e.server,n=e.socket,r=e.args,o=r.channel_id,i=r.timeout,a=void 0===i?0:i,s=r.force,c=void 0!==s&&s;if(!o){d.default.selectVoiceChannel(null);return null}var l=A.Z.getVoiceChannelId();if(null!=l&&l!==o&&!1===c)throw new Ns.Z(M.lTL.SELECT_VOICE_FORCE_REQUIRED,"User is already joined to a voice channel.");return t.storeWait(n,(function(){return I.Z.getChannel(o)}),a).catch((function(){throw new Ns.Z(M.lTL.SELECT_CHANNEL_TIMED_OUT,"Request to select voice channel timed out.")})).then((function(e){if(null==e)throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(o));if(!(0,Us.vd)(e.type))throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,Es.T5)(e,(0,Es.zM)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=Vs(e,2),n=t[0],r=t[1];if(r.guild_id){if((0,
ks.rY)(n,j.Z,kt.Z))throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Channel is full");if(!En.Z.can(M.Plq.CONNECT,n))throw new Ns.Z(M.lTL.INVALID_PERMISSIONS,"Connect permission required to join channel")}d.default.selectVoiceChannel(n.id);return r}))}}),Bs(Ds,M.Etm.GET_SELECTED_VOICE_CHANNEL,{scope:Bs({},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.socket,n=A.Z.getVoiceChannelId(),r=null!=n?I.Z.getChannel(n):null;return null!=r?(0,Es.T5)(r,(0,Es.zM)(r,t.application.id,t.authorization.scopes)):null}}),Bs(Ds,M.Etm.SELECT_TEXT_CHANNEL,{scope:M.xVR.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.server,n=e.socket,r=e.args,o=r.channel_id,i=r.timeout,a=void 0===i?0:i;if(!o){(0,X.uL)(M.Z5c.ME);return null}return t.storeWait(n,(function(){return I.Z.getChannel(o)}),a).catch((function(){
throw new Ns.Z(M.lTL.SELECT_CHANNEL_TIMED_OUT,"Request to select text channel timed out.")})).then((function(e){if(null==e)throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(o));if(!(0,Us.Qm)(e.type))throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,Es.T5)(e,(0,Es.zM)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=Vs(e,2),n=t[0],r=t[1];if(r.guild_id&&!En.Z.can(M.Plq.VIEW_CHANNEL,n))throw new Ns.Z(M.lTL.INVALID_CHANNEL,"No permission to see channel");r.guild_id?(0,X.dL)(M.Z5c.CHANNEL(r.guild_id,n.id)):d.default.selectPrivateChannel(n.id);return r}))}}),Bs(Ds,M.Etm.CREATE_CHANNEL_INVITE,{scope:M.xVR.RPC,handler:function(e){var t=e.args.channel_id,n=Hs(e.args,["channel_id"]);return cr.Z.createInvite(t,n,"RPC").catch((function(){throw new Ns.Z(M.lTL.INVALID_PERMISSIONS,"Unable to generate an invite for ".concat(t,". Does this user have permissions?"))}))}}),Ds);const Ys=function(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},M.Etm.SET_CONFIG,{scope:M.wEG,validation:function(e){return e.object().required().keys({use_interactive_pip:e.boolean()})},handler:function(e){var t=e.socket,n=e.args.use_interactive_pip;if(t.transport!==M.Hej.POST_MESSAGE)throw new Ns.Z(M.lTL.INVALID_COMMAND,'command not available from "'.concat(t.transport," transport"));if(null==t.application.id)throw new Ns.Z(M.lTL.INVALID_COMMAND,"invalid application");O.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_CONFIG",applicationId:t.application.id,config:{useInteractivePIP:n}});return Promise.resolve({use_interactive_pip:n})}});function Ws(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var zs;const Ks=(Ws(zs={},M.Etm.GET_GUILD,{scope:M.xVR.RPC,validation:function(e){return e.object().required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)})},handler:function(e){
var t=e.socket,n=e.server,r=e.args,o=r.guild_id,i=r.timeout,a=void 0===i?0:i;return n.storeWait(t,(function(){return kt.Z.getGuild(o)}),a).catch((function(){throw new Ns.Z(M.lTL.GET_GUILD_TIMED_OUT,"Request to get guild timed out.")})).then((function(e){if(null==e)throw new Ns.Z(M.lTL.INVALID_GUILD,"Invalid guild id: ".concat(o));var t;return{id:e.id,name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}}))}}),Ws(zs,M.Etm.GET_GUILDS,{scope:M.xVR.RPC,handler:function(){var e=kt.Z.getGuilds();return{guilds:ss().map(e,(function(e){return{id:e.id,name:e.name,icon_url:e.getIconURL(128)}}))}}}),zs);var qs=n(917870),Xs=n(894827);const Qs=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},M.Etm.GET_IMAGE,{scope:M.lHf,validation:function(e){return e.object().required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),
format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])})},handler:function(e){var t,n=e.args,r=n.type,o=n.id,i=n.format,a=void 0===i?"png":i,s=n.size,c=void 0===s?128:s;if("user"===r){var l=Y.default.getUser(o);if(null==l)throw new Ns.Z(M.lTL.INVALID_USER,"Invalid user id: ".concat(o));t=qs.ZP.getUserAvatarURL(l,!1,c,a);var u=window.GLOBAL_ENV.CDN_HOST;null!=u&&-1!==t.indexOf(u)&&(t+="&_=")}if(null==t)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No valid type.");return fetch(t).then((function(e){return e.blob()})).then((function(e){return(0,Xs.fD)(e)})).then((function(e){return{data_url:e}}))}});var $s=n(453587),Js=n(850622);const ec=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},M.Etm.OPEN_EXTERNAL_LINK,{validation:function(e){return e.object().required().keys({url:e.string().required()})},handler:function(e){var t=e.socket,n=e.args.url;(0,
Es.bu)(t.transport);try{var r=new URL(n);Gt.FB&&$s.Z.focus(null,!0);(0,Js.q)({href:r.toString()})}catch(e){throw new Ns.Z(M.lTL.INVALID_COMMAND,"Invalid URL: ".concat(n))}}});function tc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){tc(e,t,n[t])}))}return e}function rc(e,t,n){return new Promise((function(r,o){O.Z.dispatch({type:"LOBBY_CONNECT",socketId:e,lobbyId:t,lobbySecret:n,resolve:r,reject:o})}))}var oc;n(535583);function ic(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ac(e){if(e instanceof us.t)switch(e.code){case M.ogU.FULL:
throw new Ns.Z(M.lTL.LOBBY_FULL,"Lobby is full.");case M.ogU.INVALID_SECRET:throw new Ns.Z(M.lTL.INVALID_LOBBY_SECRET,"Lobby secret is invalid.");case M.ogU.NOT_FOUND:throw new Ns.Z(M.lTL.INVALID_LOBBY,"Lobby does not exist.");case M.ogU.SERVICE_UNAVAILABLE:throw new Ns.Z(M.lTL.SERVICE_UNAVAILABLE,"Lobby service is unavailable.");case M.ogU.ALREADY_CONNECTING:throw new Ns.Z(M.lTL.INVALID_COMMAND,"Already connecting to lobby.");default:throw new Ns.Z(M.lTL.UNKNOWN_ERROR,"Unknown error has occured.")}throw e}const sc=(ic(oc={},M.Etm.CREATE_LOBBY,{scope:ic({},M.Gp_.ANY,[M.lHf]),validation:function(e){return e.object().required().keys({type:e.number().valid(Object.values(M.ny$)),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t,n,r,o=e.socket,i=e.args,a=i.type,s=i.capacity,c=i.locked,l=i.metadata;if(null==o.application.id)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");return(t=o.id,n=o.application.id,r={type:a,capacity:s,locked:c,metadata:l},
_s.Z.post({url:M.ANM.LOBBIES,body:nc({application_id:n},r),retries:1,oldFormErrors:!0}).then((function(e){var n=e.body;return rc(t,n.id,n.secret)}))).catch(ac)}}),ic(oc,M.Etm.UPDATE_LOBBY,{scope:ic({},M.Gp_.ANY,[M.lHf]),validation:function(e){return e.object().required().keys({id:e.string().required(),type:e.number().valid(Object.values(M.ny$)),owner_id:e.string(),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t,n,r=e.args,o=r.id,i=r.type,a=r.owner_id,s=r.capacity,c=r.locked,l=r.metadata;return(t=o,n={type:i,owner_id:a,capacity:s,locked:c,metadata:l},_s.Z.patch({url:M.ANM.LOBBY(t),body:nc({},n),retries:1,oldFormErrors:!0}).then(M.dG4)).catch(ac)}}),ic(oc,M.Etm.DELETE_LOBBY,{scope:ic({},M.Gp_.ANY,[M.lHf]),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t,n=e.args.id;return(t=n,_s.Z.delete({url:M.ANM.LOBBY(t),body:{},retries:1,oldFormErrors:!0}).then(M.dG4)).catch(ac)}}),
ic(oc,M.Etm.UPDATE_LOBBY_MEMBER,{scope:ic({},M.Gp_.ANY,[M.lHf]),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),user_id:e.string().required(),metadata:e.object()})},handler:function(e){var t,n,r,o=e.args,i=o.lobby_id,a=o.user_id,s=o.metadata;return(t=i,n=a,r={metadata:s},_s.Z.patch({url:M.ANM.LOBBY_MEMBER(t,n),body:nc({},r),retries:1,oldFormErrors:!0}).then(M.dG4)).catch(ac)}}),ic(oc,M.Etm.CONNECT_TO_LOBBY,{scope:ic({},M.Gp_.ANY,[M.lHf]),validation:function(e){return e.object().required().keys({id:e.string().required(),secret:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.id,o=n.secret;return rc(t.id,r,o).catch(ac)}}),ic(oc,M.Etm.DISCONNECT_FROM_LOBBY,{scope:ic({},M.Gp_.ANY,[M.lHf]),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t,n=e.args.id;t=n,O.Z.dispatch({type:"LOBBY_DISCONNECT",lobbyId:t})}}),ic(oc,M.Etm.SEND_TO_LOBBY,{scope:ic({},M.Gp_.ANY,[M.lHf]),
validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),data:e.string().required()})},handler:function(e){var t=e.args;return function(e,t){return _s.Z.post({url:M.ANM.LOBBY_SEND(e),body:{data:t},oldFormErrors:!0}).then(M.dG4)}(t.lobby_id,t.data).catch(ac)}}),ic(oc,M.Etm.SEARCH_LOBBIES,{scope:M.lHf,validation:function(e){return e.object().required().keys({filter:e.array().items(e.object().keys({key:e.string().required(),comparison:e.number().required(),cast:e.number().required(),value:e.string().required()})),sort:e.array().items(e.object().keys({key:e.string().required(),cast:e.number().required(),near_value:e.string()})),limit:e.number(),distance:e.number()})},handler:function(e){var t,n=e.socket,r=e.args,o=r.filter,i=r.sort,a=r.limit,s=r.distance;return(t={application_id:n.application.id,filter:o,sort:i,limit:a,distance:s},_s.Z.post({url:M.ANM.LOBBY_SEARCH,body:t,oldFormErrors:!0}).then((function(e){return e.body}))).catch(ac)}}),
ic(oc,M.Etm.CONNECT_TO_LOBBY_VOICE,{scope:M.lHf,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t,n=e.args.id;t=n,O.Z.dispatch({type:"LOBBY_VOICE_CONNECT",lobbyId:t})}}),ic(oc,M.Etm.DISCONNECT_FROM_LOBBY_VOICE,{scope:M.lHf,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t,n=e.args.id;t=n,O.Z.dispatch({type:"LOBBY_VOICE_DISCONNECT",lobbyId:t})}}),oc);var cc=new Mn.Z(M.BZL);const lc=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},M.Etm.CAPTURE_LOG,{validation:function(e){return e.object().required().keys({level:e.string().required(),message:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.level,o=n.message;(0,Es.bu)(t.transport);var i=t.application.id,a="".concat(i," - ").concat(o);switch(r){case"log":cc.log(a);break;case"warn":cc.warn(a);break;case"debug":cc.verbose(a)
;break;case"info":cc.info(a);break;case"error":cc.error(a)}}});function uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uc(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pc;const hc=(fc(pc={},M.Etm.GET_NETWORKING_CONFIG,{scope:M.lHf,handler:function(){return Promise.all([_s.Z.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3}).then((function(e){return e.body.address})),_s.Z.post({url:M.ANM.NETWORKING_TOKEN,retries:3,oldFormErrors:!0}).then((function(e){return e.body.token}))]).then((function(e){var t=dc(e,2);return{address:t[0],token:t[1]}}))}}),fc(pc,M.Etm.NETWORKING_SYSTEM_METRICS,{scope:M.lHf,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;Ce.default.track(M.rMx.NETWORKING_SYSTEM_METRICS,n)}}),fc(pc,M.Etm.NETWORKING_PEER_METRICS,{scope:M.lHf,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;Ce.default.track(M.rMx.NETWORKING_PEER_METRICS,n)}}),fc(pc,M.Etm.NETWORKING_CREATE_TOKEN,{scope:M.lHf,
handler:function(){return _s.Z.post({url:M.ANM.NETWORKING_TOKEN,retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}}),pc);function Ec(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const yc=Ec({},M.Etm.GET_RELATIONSHIPS,{scope:M.lHf,handler:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ec(e,t,n[t])}))}return e}({},ps.Z.getRelationships());hs.Z.getUserAffinitiesUserIds().forEach((function(t){null==e[t]&&null!=Y.default.getUser(t)&&(e[t]=M.OGo.IMPLICIT)}));return{relationships:ss().map(e,(function(e,t){return(0,Es.cD)(e,t)}))}}});var mc=n(137861);function bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function gc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Oc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bc(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vc=["349134787773988865"];const _c=gc({},M.Etm.SET_ACTIVITY,{scope:gc({},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_ACTIVITIES_WRITE,M.lHf]),validation:function(e){return e.object().required().keys({pid:e.number().min(0),activity:e.object().keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:e.object().keys({start:e.number().min(1),end:e.number().min(1)}),assets:e.object().keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:e.object().keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(1)).length(2),privacy:e.number().default(M.RYY.PRIVATE).valid([M.RYY.PRIVATE,M.RYY.PUBLIC])}),secrets:e.object().keys({match:e.string().min(2).max(128),
join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),buttons:e.array().items(e.object().keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(M.IIU.PLAYING).valid(M.IIU.PLAYING,M.IIU.WATCHING)}).allow(null)})},handler:function(e){var t,n=e.socket,r=e.args,o=r.pid,i=r.activity,a=e.isSocketConnected;if(![M.Hej.IPC,M.Hej.WEBSOCKET,M.Hej.POST_MESSAGE].includes(n.transport))throw new Ns.Z(M.lTL.INVALID_COMMAND,'command not available from "'.concat(n.transport,'" transport'));if(null==o&&M.Hej.IPC===n.transport)throw new Ns.Z(M.lTL.INVALID_COMMAND,"nonzero pid required");if(null==i){O.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:n.id,pid:o,activity:i});return Promise.resolve(i)}i.name=n.application.name;i.application_id=n.application.id;var s=n.transport===M.Hej.POST_MESSAGE,c=(0,Es.S5)(i,s)
;c>0&&(i.flags=c);delete i.instance;null===(t=i.party)||void 0===t||delete t.privacy;var l,u=i.assets,f=i.party,d=i.secrets,p=i.timestamps,h=i.buttons,E=i.type;(null==E||E!==M.IIU.PLAYING&&!s)&&(i.type=M.IIU.PLAYING);if(null!=d){var y=ss().values(d).filter((function(e){return!!e}));if(null!=f&&ss().intersection(y,[f.id]).length>0&&!vc.includes(n.application.id))throw new Ns.Z(M.lTL.INVALID_ACTIVITY_SECRET,"secrets cannot match the party id");if(ss().uniq(y).length<y.length)throw new Ns.Z(M.lTL.INVALID_ACTIVITY_SECRET,"secrets must be unique");if(null!=h)throw new Ns.Z(M.lTL.INVALID_ACTIVITY_SECRET,"secrets cannot currently be sent with buttons")}if(null!=h){i.metadata={button_urls:h.map((function(e){return e.url}))};i.buttons=h.map((function(e){return e.label}))}if(null!=p){var m=!0,b=!1,g=void 0;try{for(var v,_=Object.keys(p)[Symbol.iterator]();!(m=(v=_.next()).done);m=!0){var S=v.value;Date.now().toString().length-p[S].toString().length>2&&(p[S]=Math.floor(1e3*p[S]))}}catch(e){b=!0
;g=e}finally{try{m||null==_.return||_.return()}finally{if(b)throw g}}}if(null==u)l=Promise.resolve([]);else{if(null==n.application||null==n.application.id)throw new Error;l=(0,mc.GR)(n.application.id,[u.large_image,u.small_image])}return l.then((function(e){var t=Oc(e,2),r=t[0],s=t[1];if(null!=u){null!=r?u.large_image=r:delete u.large_image;null!=s?u.small_image=s:delete u.small_image}if(a()){O.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:n.id,pid:o,activity:i});var c=i.secrets,l=i.party,f={application_id:n.application.id,type:i.type};if(null!=c){f.has_match_secret=!!c.match;f.has_join_secret=!!c.join}null!=u&&(f.has_images=!(!u.large_image&&!u.small_image));if(null!=l){f.party_max=null!=l.size?l.size[1]:void 0;f.party_id=l.id}Ce.default.track(M.rMx.ACTIVITY_UPDATED,f);return i}}))}});var Sc=n(375650);const Ic=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},Sc.Et.SET_ORIENTATION_LOCK_STATE,{
validation:function(e){return e.object().required().keys({lock_state:e.number().valid(ms.xK.UNLOCKED,ms.xK.PORTRAIT,ms.xK.LANDSCAPE).required(),picture_in_picture_lock_state:e.number().valid(ms.xK.UNLOCKED,ms.xK.PORTRAIT,ms.xK.LANDSCAPE).allow(null).optional()})},handler:function(e){var t=e.socket,n=e.args,r=n.lock_state,o=n.picture_in_picture_lock_state,i=t.application.id;if(null==i)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");O.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_ORIENTATION_LOCK_STATE",applicationId:i,lockState:r,pictureInPictureLockState:o})}});var Tc,Nc,Cc,Ac=n(358623),Pc=n(898852),jc=n(823343);function Rc(e){if(M.Hej.IPC!==e&&M.Hej.POST_MESSAGE!==e)throw new Ns.Z(M.lTL.INVALID_COMMAND,"Invalid transport.")}function xc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const Mc=(xc(Cc={},M.Etm.GET_SKUS,(xc(Tc={},M.Gp_.ANY,[M.wEG,M.lHf]),xc(Tc,"handler",(function(e){var t=e.socket;Rc(t.transport)
;var n=t.application.id;if(null==n)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");var r,o=wn.Z.getGame(n);return(0,Rs.yE)(null!==(r=null==o?void 0:o.flags)&&void 0!==r?r:0,M.udG.EMBEDDED_IAP)||Jn.Z.inTestModeForApplication(n)||js.Z.inDevModeForApplication(n)?(0,jc.GS)(n).then((function(e){return e.filter((function(e){return null!=e.price}))})):Pc.oJ(n).then((function(e){return(null!=e?e:[]).map((function(e){return e.sku})).filter((function(e){return null!=e.price}))}))})),Tc)),xc(Cc,M.Etm.GET_ENTITLEMENTS,(xc(Nc={},M.Gp_.ANY,[M.wEG,M.lHf]),xc(Nc,"handler",(function(e){var t=e.socket;Rc(t.transport);var n=t.application.id;if(null==n)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");return Ac.yD(n).then((function(e){return null!=e?e:[]}))})),Nc)),Cc);var wc=n(682485),Zc=n(305560);const Lc=function(){return null};function Dc(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Uc(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Dc(i,r,o,a,s,"next",e)}function s(e){Dc(i,r,o,a,s,"throw",e)}a(void 0)}))}}var kc=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Gc(e,t,n){return Bc.apply(this,arguments)}function Bc(){Bc=Uc((function(e,t,n){var r,o,i,a,s,c,l,u;return kc(this,(function(n){switch(n.label){case 0:switch(t){case M.zMe.ACTIVITY_PIP_MODE_UPDATE:return[3,1];case M.zMe.THERMAL_STATE_UPDATE:return[3,2];case M.zMe.ORIENTATION_UPDATE:return[3,4]}return[3,5];case 1:o=null===(r=e.application)||void 0===r?void 0:r.id;i=null!=o?R.ZP.getPipModeForApp(o):null;return[2,Promise.resolve(null!=i?{is_pip_mode:i}:null)];case 2:return[4,(0,Zc.Z)()];case 3:if(null==(a=n.sent()))return[2,Promise.resolve(null)];s=cs(a);return[2,Promise.resolve({thermal_state:s})];case 4:if(null!=(c=Lc())){l=c?ms.W0.LANDSCAPE:ms.W0.PORTRAIT;u=l===ms.W0.PORTRAIT?"portrait":"landscape";return[2,Promise.resolve({screen_orientation:l,
orientation:u})]}return[2,Promise.resolve(null)];case 5:return[2,null];case 6:return[2]}}))}));return Bc.apply(this,arguments)}function Hc(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Vc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Fc,Yc=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Wc=(Vc(Fc={},M.Etm.SUBSCRIBE,{handler:function(e){var t,n=e.server,r=e.socket,o=e.evt,i=e.args;return(t=function(){var e,t,a;return Yc(this,(function(s){switch(s.label){case 0:if(null==(e=n.events[o]))throw new Ns.Z(M.lTL.INVALID_EVENT,"Invalid event: ".concat(o));if(!(0,wc.Z)(r.authorization.scopes,e.scope))throw new Ns.Z(M.lTL.INVALID_PERMISSIONS,"Not authenticated or invalid scope");t=e.handler({args:i,socket:r});return[4,Gc(r,o,i)];case 1:a=s.sent();return[2,new Promise((function(e){setImmediate((function(){n.addSubscription(r,o,i,t)
;null!=a&&n.dispatchToSubscriptions(o,(function(e){return e.socket.id===r.id}),a)}));e({evt:o})}))]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Hc(i,r,o,a,s,"next",e)}function s(e){Hc(i,r,o,a,s,"throw",e)}a(void 0)}))})()}}),Vc(Fc,M.Etm.UNSUBSCRIBE,{handler:function(e){var t=e.server,n=e.socket,r=e.evt,o=e.args;if(null==t.events[r])throw new Ns.Z(M.lTL.INVALID_EVENT,"Invalid event: ".concat(r));t.removeSubscription(n,r,o);return{evt:r}}}),Fc);var zc=n(817513);const Kc=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},M.Etm.USER_SETTINGS_GET_LOCALE,{scope:M.xVR.IDENTIFY,handler:function(){return{locale:zc.default.locale}}});var qc=n(478695);const Xc=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},M.Etm.GET_USER,{scope:M.lHf,validation:function(e){return e.object().required().keys({
id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,qc.PR)(t).then(ys.Z).catch((function(){throw new Ns.Z(M.lTL.INVALID_USER,"Invalid user id: ".concat(t))}))}});function Qc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var $c,Jc,el,tl=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qc(e,t,n[t])}))}return e}({},As,ws,Ls,Fs,Ys,Ks,Qs,ec,sc,lc,hc,yc,_c,Ic,Mc,Wc,Xc,Kc),nl=n(606750);function rl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ol(e){var t,n=e.args.channel_id,r=e.socket,o=I.Z.getChannel(n);if(null==o||!(0,
Es.zM)(o,r.application.id,r.authorization.scopes))throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(n));if(o.isNSFW()&&!0!==(null===(t=Y.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed))throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Invalid nsfw channel id: ".concat(o.id))}function il(e){var t=e.args,n=t.lobby_id,r=t.channel_id;if(null!=r){if(null==I.Z.getChannel(r))throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(r))}if(null!=n){if(null==us.Z.getLobby(n))throw new Ns.Z(M.lTL.INVALID_LOBBY,"Invalid lobby id: ".concat(n))}}var al=(rl(el={},M.zMe.GUILD_STATUS,{scope:M.xVR.RPC,handler:function(e){var t=e.args.guild_id;if(null==kt.Z.getGuild(t))throw new Ns.Z(M.lTL.INVALID_GUILD,"Invalid guild id: ".concat(t));return function(e){var n=e.prevState,r=e.dispatch,o=kt.Z.getGuild(t);if(null!=o){var i,a={guild:{id:o.id,name:o.name,icon_url:null!==(i=o.getIconURL(128))&&void 0!==i?i:null},online:0};ss().isEqual(n,a)||r(a);return a}}}}),
rl(el,M.zMe.VOICE_STATE_CREATE,{scope:rl({},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.args.channel_id;if(null==I.Z.getChannel(t))throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return function(e){var n=e.prevState,r=e.dispatch,o=I.Z.getChannel(t);if(null!=o){var i=o.getGuildId(),a=Object.values(j.Z.getVoiceStatesForChannel(o.id));if(n){var s=ss().differenceBy(a,n,(function(e){return e.userId}));s.forEach((function(e){return r((0,Es.aE)(i,o.id,e))}))}return a}}}}),rl(el,M.zMe.VOICE_STATE_DELETE,{scope:rl({},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.args.channel_id;if(null==I.Z.getChannel(t))throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return function(e){var n=e.prevState,r=e.dispatch,o=I.Z.getChannel(t);if(null!=o){var i=o.getGuildId(),a=Object.values(j.Z.getVoiceStatesForChannel(o.id)),s=ss().differenceBy(n,a,(function(e){return e.userId}));s.forEach((function(e){return r((0,
Es.aE)(i,o.id,e))}));return a}}}}),rl(el,M.zMe.VOICE_STATE_UPDATE,{scope:rl({},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.args.channel_id;if(null==I.Z.getChannel(t))throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return function(e){var n=e.prevState,r=e.dispatch,o=I.Z.getChannel(t);if(null!=o){var i=o.getGuildId(),a=Object.values(j.Z.getVoiceStatesForChannel(o.id)).map((function(e){return(0,Es.aE)(i,o.id,e)}));ss().differenceWith(a,n,ss().isEqual).forEach((function(e){return r(e)}));return a}}}}),rl(el,M.zMe.VOICE_CONNECTION_STATUS,{scope:rl({},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_VOICE_READ]),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={state:(0,Es.zy)(C.Z.getState()),hostname:C.Z.getHostname(),pings:C.Z.getPings(),average_ping:C.Z.getAveragePing(),last_ping:C.Z.getLastPing()};ss().isEqual(r,t)||n(r);return r}}}),rl(el,M.zMe.MESSAGE_CREATE,{scope:M.xVR.RPC,handler:ol}),rl(el,M.zMe.MESSAGE_UPDATE,{scope:M.xVR.RPC,
handler:ol}),rl(el,M.zMe.MESSAGE_DELETE,{scope:M.xVR.RPC,handler:ol}),rl(el,M.zMe.SPEAKING_START,(rl($c={},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_VOICE_READ,M.lHf]),rl($c,"handler",il),$c)),rl(el,M.zMe.SPEAKING_STOP,(rl(Jc={},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_VOICE_READ,M.lHf]),rl(Jc,"handler",il),Jc)),rl(el,M.zMe.GUILD_CREATE,{scope:M.xVR.RPC,handler:function(){}}),rl(el,M.zMe.CHANNEL_CREATE,{scope:M.xVR.RPC,handler:function(){}}),rl(el,M.zMe.GAME_JOIN,{scope:rl({},M.Gp_.ANY,[M.xVR.RPC,M.lHf]),handler:function(){}}),rl(el,M.zMe.GAME_SPECTATE,{scope:rl({},M.Gp_.ANY,[M.xVR.RPC,M.lHf]),handler:function(){}}),rl(el,M.zMe.ACTIVITY_JOIN,{scope:rl({},M.Gp_.ANY,[M.xVR.RPC,M.wEG,M.lHf]),handler:function(){}}),rl(el,M.zMe.ACTIVITY_JOIN_REQUEST,{scope:rl({},M.Gp_.ANY,[M.xVR.RPC,M.lHf]),handler:function(){}}),rl(el,M.zMe.ACTIVITY_SPECTATE,{scope:rl({},M.Gp_.ANY,[M.xVR.RPC,M.wEG,M.lHf]),handler:function(){}}),rl(el,M.zMe.ACTIVITY_INVITE,{scope:rl({},M.Gp_.ANY,[M.xVR.RPC,M.lHf]),handler:function(){}}),
rl(el,M.zMe.ACTIVITY_PIP_MODE_UPDATE,{scope:rl({},M.Gp_.ANY,[M.xVR.RPC,M.wEG,M.lHf]),handler:function(){}}),rl(el,M.zMe.THERMAL_STATE_UPDATE,{scope:rl({},M.Gp_.ANY,[M.wEG]),handler:function(){}}),rl(el,M.zMe.ORIENTATION_UPDATE,{scope:rl({},M.Gp_.ANY,[M.wEG]),handler:function(){}}),rl(el,M.zMe.VOICE_CHANNEL_SELECT,{scope:M.xVR.RPC,handler:function(){}}),rl(el,M.zMe.NOTIFICATION_CREATE,{scope:rl({},M.Gp_.ALL,[M.xVR.RPC,M.xVR.RPC_NOTIFICATIONS_READ]),handler:function(){}}),rl(el,M.zMe.RELATIONSHIP_UPDATE,{scope:M.lHf,handler:function(){}}),rl(el,M.zMe.CURRENT_USER_UPDATE,{scope:rl({},M.Gp_.ANY,[M.lHf,M.xVR.IDENTIFY]),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={currentUser:Y.default.getCurrentUser()};null==r.currentUser||null!=t&&(0,nl.Z)(r,t)||n((0,ys.Z)(r.currentUser));return r}}}),rl(el,M.zMe.LOBBY_UPDATE,{scope:rl({},M.Gp_.ANY,[M.wEG,M.lHf]),handler:function(){}}),rl(el,M.zMe.LOBBY_DELETE,{scope:rl({},M.Gp_.ANY,[M.wEG,M.lHf]),handler:function(){}}),
rl(el,M.zMe.LOBBY_MEMBER_CONNECT,{scope:rl({},M.Gp_.ANY,[M.wEG,M.lHf]),handler:function(){}}),rl(el,M.zMe.LOBBY_MEMBER_UPDATE,{scope:rl({},M.Gp_.ANY,[M.wEG,M.lHf]),handler:function(){}}),rl(el,M.zMe.LOBBY_MEMBER_DISCONNECT,{scope:rl({},M.Gp_.ANY,[M.wEG,M.lHf]),handler:function(){}}),rl(el,M.zMe.LOBBY_MESSAGE,{scope:rl({},M.Gp_.ANY,[M.wEG,M.lHf]),handler:function(){}}),rl(el,M.zMe.ENTITLEMENT_CREATE,{scope:rl({},M.Gp_.ANY,[M.lHf,M.wEG]),handler:function(){}}),rl(el,M.zMe.ENTITLEMENT_DELETE,{scope:rl({},M.Gp_.ANY,[M.lHf,M.wEG]),handler:function(){}}),rl(el,M.zMe.USER_ACHIEVEMENT_UPDATE,{scope:M.lHf,handler:function(){}}),el);const sl=al;function cl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ll=n(239037),ul=function(e,t){var n;return cl(n={},M.zMe.VOICE_SETTINGS_UPDATE,{scope:cl({},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_VOICE_READ]),handler:function(){return function(t){var n=t.prevState,r=t.dispatch,o=e()
;ss().isEqual(o,n)||r(o);return o}}}),cl(n,M.zMe.VOICE_SETTINGS_UPDATE_2,{scope:M.lHf,handler:function(e){var n=e.socket;return function(e){var r=e.prevState,o=e.dispatch;if(null==n.application.id)return r;var i=t(n.application.id);ss().isEqual(i,r)||o(i);return i}}}),n}(ll._X,ll.GC);function fl(e){var t,n=(0,Rs.yE)(null!==(t=e.flags)&&void 0!==t?t:0,M.udG.EMBEDDED),r=S.Z.getWindowOpen(M.KJ3.CHANNEL_CALL_POPOUT);return n&&r}var dl=n(47967),pl=n(817673),hl=n(368365),El=n(207697),yl=n(100264),ml=n(108580);function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gl(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Ol(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gl(i,r,o,a,s,"next",e)}function s(e){gl(i,r,o,a,s,"throw",e)}a(void 0)}))}}function vl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vl(e,t,n[t])}))}return e}function Sl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Il(e){return function(e){if(Array.isArray(e))return bl(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Nl="CachedTokens";function Cl(e,t,n){return Al.apply(this,arguments)}function Al(){Al=Ol((function(e,t,n){var r,o,i,a,s,c,l,u,f,d,p,h,E,y,m,b,g,O,v,_;return Tl(this,(function(S){switch(S.label){case 0:r=e.client_id,o=e.response_type,i=void 0===o?"code":o,a=e.redirect_uri,s=e.code_challenge,c=e.code_challenge_method,l=e.state,u=e.scope,
f=e.permissions,d=e.guild_id,p=e.channel_id,h=e.prompt,E=e.disable_guild_select;if(null==r)throw new Ns.Z(M.lTL.OAUTH2_ERROR,"No Client ID provided");if(null!=a)throw new Ns.Z(M.lTL.OAUTH2_ERROR,"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");y=[];"string"==typeof u?y=u.split(" ").filter((function(e){return e.length>0})):Array.isArray(u)&&(y=u);if(null==Y.default.getCurrentUser())throw new Ns.Z(M.lTL.OAUTH2_ERROR,"Client is not logged in");S.label=1;case 1:S.trys.push([1,3,,4]);return[4,(0,El.Ww)({clientId:r,scopes:y,responseType:i,redirectUri:a,codeChallenge:s,codeChallengeMethod:c,state:l})];case 2:m=S.sent();return[3,4];case 3:b=S.sent();g=b.body;throw new Ns.Z(M.lTL.OAUTH2_ERROR,"OAuth2 Authorization Error: ".concat(g.message||"Unknown Error"));case 4:if(h!==yl.s.NONE||null==m||!m.authorized)return[3,8];S.label=5;case 5:S.trys.push([5,7,,8]);return[4,(0,El.Iq)({authorize:!0,clientId:r,scopes:y,responseType:i,redirectUri:a,codeChallenge:s,codeChallengeMethod:c,
state:l})];case 6:return[2,S.sent().location];case 7:O=S.sent();v=O.body;throw new Ns.Z(M.lTL.OAUTH2_ERROR,"OAuth2 Authorize Error: ".concat(v.message||"Unknown Error"));case 8:null==n||n(m.application);_=ml.ZP.NONE;try{_=hl.Z.deserialize(null!=f?f:0)}catch(e){}return[2,t(r,m,y,_,i,a,s,c,l,d,p,h,E)]}}))}));return Al.apply(this,arguments)}function Pl(e,t){if(e.authorization.accessToken)throw new Ns.Z(M.lTL.INVALID_COMMAND,"Already authenticated");if(e.authorization.authing)throw new Ns.Z(M.lTL.INVALID_COMMAND,"Already authenticating");e.authorization.authing=!0;return _s.Z.get({url:M.ANM.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer ".concat(t)},oldFormErrors:!0}).then((function(n){e.authorization.authing=!1;var r=n.body,o=r.application,i=r.user,a=r.scopes,s=r.expires;if(e.application.id!==o.id)throw new Ns.Z(M.lTL.INVALID_CLIENTID,"Application does not match the connection's");var c=Y.default.getCurrentUser()
;if(null==c||!i||c.id!==i.id)throw new Ns.Z(M.lTL.INVALID_TOKEN,"Token does not match current user");e.authorization.scopes=Il(e.authorization.scopes).concat(Il(a),[M.wEG]);e.authorization.accessToken=t;e.authorization.expires=new Date(s);O.Z.dispatch({type:"RPC_APP_AUTHENTICATED",socketId:e.id,application:e.application});return Sl(_l({},n.body),{access_token:t})}),(function(){throw new Ns.Z(M.lTL.INVALID_TOKEN,"Invalid access token: ".concat(t))})).catch((function(t){e.authorization.authing=!1;throw t}))}var jl=n(86030);function Rl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const Ml=function(e,t){var n;return vl(n={},M.Etm.AUTHENTICATE,{handler:function(n){var r=n.socket,o=n.args.access_token;if(null==o&&r.transport===M.Hej.IPC){var i=r.application.id;if(null==i)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");var a=M.xVR.IDENTIFY,s=function(){return Cl({client_id:i,scope:a,response_type:"token"},e,t).then((function(e){if(null==e)throw new Ns.Z(M.lTL.UNKNOWN_ERROR,"Unknown error occurred");var t=e.split(/#|\?/),n=pl.parse(t[t.length-1]);if(null!=n.error){var o;throw new Ns.Z(M.lTL.OAUTH2_ERROR,"OAuth2 Error: ".concat(n.error,": ").concat(null!==(o=n.error_description)&&void 0!==o?o:"unknown error"))}!function(e,t,n,r){var o,i=null!==(o=Ne.Z.get(Nl))&&void 0!==o?o:{};i[e]={accessToken:t,scope:n,expires:Date.now()+r};Ne.Z.set(Nl,i)}(i,n.access_token,n.scope,n.expires_in);return Pl(r,n.access_token)}))};o=function(e,t){var n=Ne.Z.get(Nl)
;if(null!=n&&null!=n[e]){var r=n[e];if(!(r.scope!==t||r.expires<=Date.now()))return r.accessToken;delete n[e];Ne.Z.set(Nl,n)}}(i,a);return null!=o?Pl(r,o).catch((function(){!function(e){var t,n=null!==(t=Ne.Z.get(Nl))&&void 0!==t?t:{};delete n[e];Ne.Z.set(Nl,n)}(i);return s()})):s()}if(null==o)throw new Ns.Z(M.lTL.INVALID_TOKEN,"No access token provided");return Pl(r,o)}}),vl(n,M.Etm.AUTHORIZE,{handler:function(n){var r=n.socket,o=n.args,i=o.client_id;if(!i)throw new Ns.Z(M.lTL.INVALID_CLIENTID,"No client id provided");if(null!=r.authorization.accessToken)throw new Ns.Z(M.lTL.INVALID_COMMAND,"Already authenticated");if(r.authorization.authing)throw new Ns.Z(M.lTL.INVALID_COMMAND,"Already authing");r.authorization.authing=!0;return _s.Z.get({url:M.ANM.APPLICATION_RPC(i),oldFormErrors:!0}).then((function(n){var i=n.body;if(r.application.id!==i.id)throw new Ns.Z(M.lTL.INVALID_CLIENTID,"Application does not match the connection's");var a=o.scopes||o.scope;delete o.scopes
;return Cl(Sl(_l({},o),{scope:a}),e,t)}),(function(){throw new Ns.Z(M.lTL.INVALID_CLIENTID,"Invalid client id: ".concat(i))})).then((function(e){r.authorization.authing=!1;if(null==e)throw new Ns.Z(M.lTL.UNKNOWN_ERROR,"Unknown error occurred");var t=pl.parse(e.split("?")[1].split("#")[0]);if(null!=t.error){var n;throw new Ns.Z(M.lTL.OAUTH2_ERROR,"OAuth2 Error: ".concat(t.error,": ").concat(null!==(n=t.error_description)&&void 0!==n?n:"unknown error"))}return{code:t.code}})).catch((function(e){r.authorization.authing=!1;throw e}))}}),n}((function(e,t,n,o,i,a,s,c,l,u,f,d,p){var h="OAuth2Authorize_".concat(e,"_").concat(u,"_").concat(f);return new Promise((function(E){var y=function(e){E(e)};(0,W.h7)((function(h){return(0,r.jsx)(dl.OAuth2AuthorizeModal,xl(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Rl(e,t,n[t])}))}return e}({},h),{authorization:t,clientId:e,scopes:null!=n?n:[],callback:y,responseType:i,redirectUri:a,codeChallenge:s,codeChallengeMethod:c,state:l,permissions:o,guildId:u,channelId:f,prompt:d,disableGuildSelect:"boolean"==typeof p?p:"true"===p}))}),{modalKey:h,onCloseRequest:function(){(0,W.Mr)(h);E(void 0)}},fl(t.application)?jl.u1:jl.z1)}))}),(function(e){if(Gt.FB){var t=fl(e)?M.KJ3.CHANNEL_CALL_POPOUT:null;(0,Gt.ED)()?vs.default.minimize(t):vs.default.restore(t);vs.default.focus(t)}}));var wl=n(528090),Zl=n(180119),Ll=n(717187),Dl=n.n(Ll),Ul=n(882699),kl=n(42370);function Gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hl(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}
s.done?t(c):Promise.resolve(c).then(r,o)}function Vl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Hl(i,r,o,a,s,"next",e)}function s(e){Hl(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Fl(e){Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Fl(e)}function Yl(e,t){return!t||"object"!==Kl(t)&&"function"!=typeof t?Bl(e):t}function Wl(e,t){Wl=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Wl(e,t)}function zl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gl(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Kl=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ql(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Fl(e);if(t){var o=Fl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yl(this,n)}}var Xl=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ql=new Map,$l=new Set,Jl=function(e,t,n){n([kl.Z.CLOSE,t],e)},eu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Wl(e,t)}(r,e);var t=ql(r);function r(e,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var s;(s=t.call(this)).disconnectSocket=function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s.emit("disconnect",e,o?void 0:t);e.close(t.code,null!==(n=t.message)&&void 0!==n?n:"Unknown");var i=zl(null!==(r=Array.from(Ql.entries()).find((function(t){var n=zl(t,2);n[0];return n[1]===e})))&&void 0!==r?r:[null,null],1),a=i[0];null!=a&&Ql.delete(a)};s.handleIFrameMount=function(e){var t=e.id;$l.add(t)};s.handleIFrameUnmount=function(e){var t,n=e.id;$l.delete(n)
;var r=zl(null!==(t=Array.from(Ql.entries()).find((function(e){var t=zl(e,2);t[0];return t[1].frameId===n})))&&void 0!==t?t:[null,null],2),o=r[0],i=r[1];if(null!=i&&null!=o){s.disconnectSocket(i,{code:M.$VG.CLOSE_NORMAL,message:"iFrame gone"},!0);Ql.delete(o)}};s.handleMessage=function(e,t,n){var r=Ql.get(t);try{s.routeEvent(r,t,e,n)}catch(e){null!=r?s.disconnectSocket(r,{code:e.code,message:e.message},!0):Jl(t,{code:e.code,message:e.message},n)}};s.handleFrame=function(e,t,n){var r,o,i;if(e!==t.origin)throw new Ns.Z(M.$VG.INVALID_ORIGIN,"Origin has changed");try{i="string"==typeof n?JSON.parse(n):n}catch(e){throw new Ns.Z(M.$VG.CLOSE_UNSUPPORTED,"Payload not recognized encoding")}null===(o=(r=s).onFrameHandled)||void 0===o||o.call(r,i,s.logger,t);s.emit("request",t,i)};var c,l=Bl(s);s.handleHandshake=(c=Vl((function(e,t,r){var o,i,a,s,c,u;return Xl(this,(function(f){switch(f.label){case 0:return[4,n.e(54533).then(n.t.bind(n,197683,23))];case 1:o=f.sent().default;try{
o.assert(t,o.object().required().keys({v:o.number().min(1).max(1).required(),encoding:o.string().equal("json").optional(),client_id:o.string().required(),frame_id:o.string().required()}))}catch(e){throw new Ns.Z(M.$VG.CLOSE_UNSUPPORTED,e.message)}a=(i=t).frame_id;if(!$l.has(a)){l.logger.error("Unrecognized frame ID ".concat(a));throw new Ns.Z(M.$VG.CLOSE_UNSUPPORTED,"Unrecognized frame ID ".concat(a))}try{s=l.createPostMessageProxySocket({origin:e,postMessageToRPCClient:r,frameId:a,version:Number(i.v),logger:l.logger,postClose:Jl,encoding:null!==(c=i.encoding)&&void 0!==c?c:"json"})}catch(e){l.logger.error("Error opening window socket ".concat(e));throw e}l.logger.info("Socket Opened: ".concat(s.id));f.label=2;case 2:f.trys.push([2,4,,5]);return[4,l.validateSocketClient(s,e,i.client_id)];case 3:f.sent();if(!$l.has(a)){l.logger.error("Frame ID ".concat(a," no longer exists"));throw new Ns.Z(M.$VG.CLOSE_UNSUPPORTED,"Unrecognized frame ID ".concat(a))}Ql.set(e,s);$l.delete(a)
;l.emit("connect",s);l.logger.info("Socket Validated: ".concat(s.id));return[3,5];case 4:u=f.sent();l.logger.info("Socket Closed: ".concat(s.id,", ").concat(u.message));throw u;case 5:return[2]}}))})),function(e,t,n){return c.apply(this,arguments)});var u=Bl(s);s.handleClose=function(){var e=Vl((function(e,t){var r,o;return Xl(this,(function(i){switch(i.label){case 0:return[4,n.e(54533).then(n.t.bind(n,197683,23))];case 1:r=i.sent().default;try{r.assert(t,r.object().required().unknown(!0).keys({code:r.number().valid(Object.values(M.$VG)).required(),message:r.string().optional()}))}catch(e){throw new Ns.Z(M.$VG.CLOSE_UNSUPPORTED,e.message)}o=t;u.disconnectSocket(e,o);return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();Ul.S.subscribe(M.CkL.IFRAME_MOUNT,s.handleIFrameMount);Ul.S.subscribe(M.CkL.IFRAME_UNMOUNT,s.handleIFrameUnmount);s.validateSocketClient=e;s.logger=o;s.createPostMessageProxySocket=i;s.onFrameHandled=a;return s}r.prototype.routeEvent=function(e,t,n,r){
if(!Array.isArray(n))throw new Ns.Z(M.$VG.CLOSE_UNSUPPORTED,"Protocol error");var o=zl(n,2),i=o[0],a=o[1];switch(i){case kl.Z.HANDSHAKE:if(null!=e)throw new Ns.Z(M.$VG.CLOSE_UNSUPPORTED,"Already connected");return this.handleHandshake(t,a,r);case kl.Z.FRAME:if(null==e)throw new Ns.Z(M.$VG.CLOSE_UNSUPPORTED,"Not connected");return this.handleFrame(t,e,a);case kl.Z.CLOSE:if(null==e)throw new Ns.Z(M.$VG.CLOSE_UNSUPPORTED,"Not connected");return this.handleClose(e,a);default:throw new Ns.Z(M.$VG.CLOSE_UNSUPPORTED,"Invalid opcode")}};return r}(Dl()),tu=n(812681);function nu(e){nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return nu(e)}function ru(e,t){return!t||"object"!==iu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ou(e,t){ou=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ou(e,t)}
var iu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function au(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=nu(e);if(t){var o=nu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ru(this,n)}}var su=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ou(e,t)}(n,e);var t=au(n);function n(e){var r,o=e.origin,i=e.postMessageToRPCClient,a=e.frameId,s=e.version,c=e.encoding,l=e.logger,u=e.postClose,f=e.onSendingToRPCClient;!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);r=t.call(this,M.Hej.POST_MESSAGE,s,c);if(-1===["etf","json"].indexOf(c))throw new Ns.Z(M.$VG.INVALID_ENCODING,"Invalid Encoding: ".concat(c));if("etf"===c)throw new Ns.Z(M.$VG.INVALID_ENCODING,"Erlpack cannot be used on this client");r.origin=o;r.postMessageToRPCClient=i;r.frameId=a;r.logger=l;r.postClose=u;r.onSendingToRPCClient=f;r.closed=!1;return r}var r=n.prototype;r.send=function(e){var t;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id);this.postMessageToRPCClient([kl.Z.FRAME,e],this.origin)};r.close=function(e,t){this.closed||this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient);this.closed=!0};return n}(tu.Z);const cu=function(e){var t=e.origin,n=e.postMessageToRPCClient,r=e.frameId,o=e.version,i=e.encoding,a=e.logger,s=e.postClose;return new su({origin:t,postMessageToRPCClient:n,frameId:r,version:o,encoding:i,logger:a,postClose:s,
onSendingToRPCClient:function(e,t){(wl.default.isLoggingOverlayEvents||e.cmd!==M.Etm.OVERLAY&&e.evt!==M.zMe.OVERLAY)&&a.info("Socket Emit: ".concat(t),(0,Zl.Z)(e))}})};var lu=new Mn.Z("RPCServer:PostMessage"),uu=function(e,t,n){(wl.default.isLoggingOverlayEvents||e.cmd!==M.Etm.OVERLAY)&&t.info("Socket Message: ".concat(n.id),(0,Zl.Z)(e))};const fu={authCommands:Ml,voiceSettingsEvents:ul,postMessageTransport:function(){var e=new eu(ll.em,lu,cu,uu);window.addEventListener("message",(function(t){if(window!==t.source)if(null!=t.source&&null!=t.source.postMessage){var n=t.source,r=t.data,o=t.origin;e.handleMessage(r,o,(function(e,t){n.postMessage(e,t)}))}else lu.error("Unknown event source")}));return e}()};var du=n(661627);var pu=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},M.zMe.OVERLAY_UPDATE,{scope:M.lHf,handler:function(e){var t=e.args.pid,n=e.socket
;if("number"!=typeof t||t<10)throw new Ns.Z(M.lTL.INVALID_EVENT,"Invalid pid");return function(e){var r=e.prevState,o=e.dispatch,i=Hr.Z.enabled,a=!0,s=n.application.id;if(null!=s){var c=Gn.Z.getActiveLibraryApplication(s);null!=c&&(i=i&&c.isOverlayEnabled());a=Hr.Z.isInputLocked(t)}var l={enabled:i,locked:a};ss().isEqual(l,r)||o(l);return l}}}),hu=n(7584),Eu=n(321795),yu=n(320646);function mu(e,t){return null!=e.application_id&&null==t.getApplicationActivity(e.application_id,!1)}var bu=n(64914),gu=n(651972),Ou=n(979662),vu=n(787619);function _u(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Su(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_u(i,r,o,a,s,"next",e)}function s(e){_u(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Iu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Tu(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Nu,Cu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{
value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Au(e,t,n,r){return Pu.apply(this,arguments)}function Pu(){Pu=Su((function(e,t,n,r){var o,i,a,s,c=arguments;return Cu(this,(function(l){switch(l.label){case 0:o=c.length>4&&void 0!==c[4]?c[4]:"";if(null==(i=gu.Z.getApplicationActivity(t))||null==i.secrets||!(0,Es.t9)(r,i.party,i.secrets))throw new Ns.Z(M.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");if(a=mu(i,Ou.Z)){s=(0,ll.s0)(e).lock
;return[2,(0,Eu.h7)(i,a).then((function(){s();throw new Ns.Z(M.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))]}return[4,hu.Z.sendActivityInviteUser({userId:n,type:r,activity:i,content:o,location:"In-Game Invite"})];case 1:l.sent();return[2]}}))}));return Pu.apply(this,arguments)}const ju=(Iu(Nu={},M.Etm.SEND_ACTIVITY_JOIN_INVITE,{scope:Iu({},M.Gp_.ANY,[M.xVR.RPC,M.lHf]),handler:function(e){var t=e.socket,n=e.args,r=n.user_id,o=n.pid,i=t.application.id;if(null==i)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");return Au(o,i,r,M.mFx.JOIN)}}),Iu(Nu,M.Etm.CLOSE_ACTIVITY_JOIN_REQUEST,{scope:Iu({},M.Gp_.ANY,[M.xVR.RPC,M.lHf]),handler:function(e){var t=e.args.user_id,n=I.Z.getDMFromUserId(t);null!=n&&(0,yu.In)(n,!0,!0)}}),Iu(Nu,M.Etm.ACTIVITY_INVITE_USER,{scope:Iu({},M.Gp_.ANY,[M.xVR.RPC,M.lHf]),validation:function(e){return e.object().required().keys({user_id:e.string().required(),
type:e.number().required().valid([M.mFx.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,o=n.user_id,i=n.content,a=n.pid,s=t.application.id;if(null==s)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");return Au(a,s,o,r,i)}}),Iu(Nu,M.Etm.ACCEPT_ACTIVITY_INVITE,{scope:Iu({},M.Gp_.ANY,[M.xVR.RPC,M.lHf]),validation:function(e){return e.object().required().keys({type:e.number().required().valid([M.mFx.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,o=n.user_id,i=n.session_id,a=n.channel_id,s=n.message_id,c=t.application.id;if(null==c)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");var l=Promise.resolve(!1);if(r===M.mFx.JOIN)l=xn.Z.join({userId:o,sessionId:i,applicationId:c,channelId:a,messageId:s});return l.then((function(e){
if(!e)throw new Ns.Z(M.lTL.INVALID_INVITE,"Invite is expired or invalid.")}))}}),Iu(Nu,M.Etm.OPEN_INVITE_DIALOG,{scope:Iu({},M.Gp_.ANY,[M.xVR.RPC,M.lHf,M.wEG]),handler:function(e){var t=e.socket,o=A.Z.getVoiceChannelId(),i=I.Z.getChannel(o);if(null==i)throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Invalid channel ".concat(o));var a=kt.Z.getGuild(i.getGuildId());if(null==a)throw new Ns.Z(M.lTL.INVALID_CHANNEL,"Invalid guild ".concat(i.getGuildId()));if(!(0,bu.b)(En.Z,a,i))throw new Ns.Z(M.lTL.INVALID_PERMISSIONS,"No invite permissions for ".concat(o));var s=S.Z.getWindow(M.KJ3.CHANNEL_CALL_POPOUT);(null==s?void 0:s.closed)&&(s=null);var c=null!=s?M.IlC.POPOUT:M.IlC.APP;(0,vu.Pr)({},null==s?void 0:s.document);(0,W.ZD)(Su((function(){var e,o;return Cu(this,(function(s){switch(s.label){case 0:return[4,Promise.all([n.e(40532),n.e(15793)]).then(n.bind(n,715793))];case 1:e=s.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Tu(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Iu(e,t,n[t])}))}return e}({},e),{guild:a,channel:i,applicationId:t.application.id,analyticsLocation:M.Sbl.ACTIVITY_RPC,source:M.t4x.ACTIVITY_INVITE}))}]}}))})),{contextKey:c===M.IlC.POPOUT?jl.u1:jl.z1})}}),Nu);var Ru=n(365523),xu=n(922877);function Mu(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function wu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Mu(i,r,o,a,s,"next",e)}function s(e){Mu(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Zu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Lu(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Zu(e,t,n[t])}))}return e}function Du(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Uu,ku=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Gu(e,t){var n=xu.Z.isEntitledToSku(Y.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,Ac.yD)(t).then((function(){
return!0===xu.Z.isEntitledToSku(Y.default.getCurrentUser(),e,t)}))}const Bu=(Zu(Uu={},M.Etm.VALIDATE_APPLICATION,{scope:M.lHf,handler:function(e){var t=e.socket.application.id;try{if(null==t)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");var o=wn.Z.getGame(t);if(null==o)throw new Ns.Z(M.lTL.INVALID_ENTITLEMENT,"SKU does not exist.");var i=o.primarySkuId;if(null==i)throw new Ns.Z(M.lTL.INVALID_ENTITLEMENT,"SKU does not exist.");return Promise.race([Gu(i,o.id).then((function(e){if(!e)throw new Ns.Z(M.lTL.INVALID_ENTITLEMENT,"User does not have entitlement.")})),(0,Ru.GR)(1e4).then((function(){throw new Ns.Z(M.lTL.INVALID_ENTITLEMENT,"Timed out fetching entitlement.")}))])}catch(e){if(e.code===M.lTL.INVALID_ENTITLEMENT){vs.default.focus(null,!0);(0,W.ZD)(wu((function(){var e,o;return ku(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(68857)]).then(n.bind(n,468857))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Du(Lu({},e),{
applicationId:t}))}]}}))})))}throw e}}}),Zu(Uu,M.Etm.GET_ENTITLEMENT_TICKET,{scope:M.lHf,handler:function(e){var t=e.socket.application.id;if(null==t)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");return _s.Z.post({url:M.ANM.ENTITLEMENT_TICKET(t),body:{test_mode:Jn.Z.inTestModeForApplication(t)||js.Z.inDevModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){vs.default.focus(null,!0);(0,W.ZD)(wu((function(){var e,o;return ku(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(68857)]).then(n.bind(n,468857))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Du(Lu({},e),{applicationId:t}))}]}}))})));throw e}))}}),Uu);var Hu=n(661623),Vu=n(676212);function Fu(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Yu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){
Fu(i,r,o,a,s,"next",e)}function s(e){Fu(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Wu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var zu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1]
;break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ku="activity-hardware-acceleration-modal";function qu(e){!Hu.ZP.disableActivityHardwareAccelerationPrompt&&Gt.FB&&!vs.default.getEnableHardwareAcceleration()&&(0,W.ZD)(Yu((function(){var t,o;return zu(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,676212))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Wu(e,t,n[t])}))}return e}({applicationId:e},t))}]}}))})),{
modalKey:Ku,onCloseRequest:function(){Ce.default.track(M.rMx.MODAL_DISMISSED,{type:Vu.ACTIVITY_ENCOURAGES_HW_ACCELERATION});(0,W.Mr)(Ku)}})}const Xu=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},M.Etm.ENCOURAGE_HW_ACCELERATION,{validation:function(e){return e.object()},handler:function(e){var t=e.socket;(0,Es.bu)(t.transport);var n=t.application.id;if(null!=n){qu(n);return{enabled:vs.default.getEnableHardwareAcceleration()}}}});function Qu(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function $u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qu(i,r,o,a,s,"next",e)}function s(e){Qu(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ju(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ef(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var tf,nf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const rf=(Ju(tf={},M.Etm.SET_OVERLAY_LOCKED,{scope:M.lHf,validation:function(e){return e.object().required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.locked,r=t.pid;if(null==e.socket.application.id)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");Cr.Z.setLocked(n,r)}}),Ju(tf,M.Etm.OPEN_OVERLAY_ACTIVITY_INVITE,{scope:M.lHf,validation:function(e){return e.object().required().keys({
type:e.number().required().valid([M.mFx.JOIN]),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,o=n.pid,i=t.application.id;if(null==i)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");var a=gu.Z.getApplicationActivity(i);if(null==a||null==a.secrets||!(0,Es.t9)(r,a.party,a.secrets))throw new Ns.Z(M.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");var s=(0,ll.s0)(o).lock,c=mu(a,Ou.Z);return(0,Eu.h7)(a,c).then((function(){s();if(c)throw new Ns.Z(M.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))}}),Ju(tf,M.Etm.OPEN_OVERLAY_GUILD_INVITE,{scope:M.lHf,validation:function(e){return e.object().required().keys({code:e.string().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.code,r=t.pid;if(null==e.socket.application.id)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.")
;return cr.Z.resolveInvite(n,"Game SDK").then((function(e){var t=e.invite,n=e.code;if(null==t)throw new Ns.Z(M.lTL.INVALID_INVITE,"Invalid invite id: ".concat(n));var o=(0,ll.s0)(r),i=o.context,a=o.lock;return new Promise((function(e){O.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:t,code:n,context:i,resolve:e})})).then(a)}))}}),Ju(tf,M.Etm.OPEN_OVERLAY_VOICE_SETTINGS,{scope:M.lHf,validation:function(e){return e.object().required().keys({pid:e.number().min(0).required()})},handler:function(e){var t=e.args.pid,o=e.socket,i=o.application.id;if(null==i)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");var a=(0,ll.s0)(t).lock;return new Promise((function(e){(0,W.ZD)($u((function(){var t,s;return nf(this,(function(c){switch(c.label){case 0:return[4,Promise.all([n.e(40532),n.e(68694)]).then(n.bind(n,568694))];case 1:t=c.sent(),s=t.default;return[2,function(t){return(0,r.jsx)(s,ef(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ju(e,t,n[t])}))}return e}({},t),{mediaEngineContext:i,title:o.application.name,onClose:function(){t.onClose();a();e()}}))}]}}))})))}))}}),tf);var of=n(865622),af=n(476575),sf=n(690217),cf=n(981171),lf=n(58226),uf=n(86124);function ff(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function df(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ff(i,r,o,a,s,"next",e)}function s(e){ff(i,r,o,a,s,"throw",e)}a(void 0)}))}}function pf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pf(e,t,n[t])}))}return e}function Ef(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var yf,mf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function bf(e,t){null!=e&&Ce.default.track(M.rMx.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,of.s)(e),link_type:t})}
const gf=(pf(yf={},M.Etm.INVITE_BROWSER,{scope:M.cEn,handler:function(e){var t=e.args.code;return df((function(){var e;return mf(this,(function(n){switch(n.label){case 0:return[4,cr.Z.resolveInvite(t,"Desktop Modal")];case 1:if(null==(e=n.sent().invite))throw new Ns.Z(M.lTL.INVALID_INVITE,"Invalid invite id: ".concat(t));nr.default.isAuthenticated()?O.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:e,code:t,context:M.IlC.APP}):(0,X.dL)(M.Z5c.INVITE(t));return[2,{invite:e,code:t}]}}))}))()}}),pf(yf,M.Etm.GUILD_TEMPLATE_BROWSER,{scope:M.cEn,handler:function(e){var t=e.args.code;return df((function(){var e;return mf(this,(function(o){switch(o.label){case 0:return null==Y.default.getCurrentUser()?[2]:[4,lf.Z.resolveGuildTemplate(t)];case 1:if(null==(e=o.sent().guildTemplate))throw new Ns.Z(M.lTL.INVALID_GUILD_TEMPLATE,"Invalid guild template id: ".concat(t));vs.default.focus();(0,W.ZD)(df((function(){var t,o;return mf(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(67621)]).then(n.bind(n,167621))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,Ef(hf({},t),{guildTemplate:e}))}]}}))})));return[2,{guildTemplate:e,code:t}]}}))}))()}}),pf(yf,M.Etm.GIFT_CODE_BROWSER,{scope:M.cEn,handler:function(e){var t=e.args.code;return new Promise((function(e,o){O.Z.wait((function(){cf.Z.resolveGiftCode(t,!0,!0).then((function(o){var i=o.giftCode;vs.default.focus();Ce.default.track(M.rMx.OPEN_MODAL,{type:"gift_accept",location:M.SaU});(0,W.ZD)(df((function(){var e,o;return mf(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(51356)]).then(n.bind(n,51356))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,hf({code:t},e))}]}}))})));e({giftCode:i})})).catch((function(){return o(new Ns.Z(M.lTL.INVALID_GIFT_CODE,"Invalid gift code: ".concat(t)))}))}))}))}}),pf(yf,M.Etm.DEEP_LINK,{scope:M.cEn,handler:function(e){var t=e.args,n=t.type,r=t.params;vs.default.focus()
;switch(n){case M.jEp.USER_SETTINGS:if(null!=r){(0,X.dL)(M.Z5c.SETTINGS(r.section,r.subsection));bf(r.fingerprint,M.Ua3.SETTINGS)}break;case M.jEp.CHANGELOG:if(null!=r){(0,X.dL)(uf.Z.formatPathWithQuery(M.Z5c.CHANGELOGS(r.date),r.query));bf(r.fingerprint,M.Ua3.CHANGELOG)}break;case M.jEp.LIBRARY:(0,X.dL)(M.Z5c.APPLICATION_LIBRARY);null!=r&&bf(r.fingerprint,M.Ua3.LIBRARY);break;case M.jEp.STORE_HOME:(0,X.dL)(M.Z5c.APPLICATION_STORE);null!=r&&bf(r.fingerprint,M.Ua3.STORE);break;case M.jEp.STORE_LISTING:if(null!=r){(0,X.dL)(M.Z5c.APPLICATION_STORE_LISTING_SKU(r.skuId,r.slug));bf(r.fingerprint,M.Ua3.STORE)}break;case M.jEp.PICK_GUILD_SETTINGS:if(null!=r){(0,X.dL)({pathname:M.Z5c.PICK_GUILD_SETTINGS(r.section,r.subsection),search:r.search});bf(r.fingerprint,M.Ua3.GUILD_SETTINGS)}break;case M.jEp.CHANNEL:if(null!=r){(0,X.dL)({pathname:M.Z5c.CHANNEL(r.guildId,r.channelId,r.messageId),search:r.search});bf(r.fingerprint,M.Ua3.CHANNEL)}}}}),pf(yf,M.Etm.BROWSER_HANDOFF,{scope:M.CND,
handler:function(e){var t=e.args,n=t.handoffToken,r=t.fingerprint;vs.default.focus(null,!0);(0,af.lx)(n,r)}}),pf(yf,M.Etm.CONNECTIONS_CALLBACK,{scope:M.cEn,handler:function(e){var t=e.args,n=t.providerType,r=t.code,o=t.openid_params,i=t.state;return sf.Z.callback(n,{code:r,openid_params:o,state:i})}}),pf(yf,M.Etm.BRAINTREE_POPUP_BRIDGE_CALLBACK,{scope:M.cEn,handler:function(e){var t=e.args,n=t.state,r=t.path,o=t.query;return(0,zi.rt)({paymentSourceType:M.HeQ.PAYPAL,state:n,path:r,query:o})}}),pf(yf,M.Etm.BILLING_POPUP_BRIDGE_CALLBACK,{scope:M.cEn,handler:function(e){var t=e.args,n=t.state,r=t.path,o=t.query,i=t.payment_source_type;return(0,zi.rt)({paymentSourceType:i,state:n,path:r,query:o})}}),yf);var Of=n(229318),vf=n(859169);function _f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Sf,If,Tf,Nf=[vf.Z.RPC];function Cf(e){if(null==e)return{lock:M.VqG,context:M.IlC.APP};var t=(0,ll.s0)(e);return{lock:t.lock,
context:t.context}}function Af(e,t){var n={subscriptionTier:na.Si.TIER_2,analyticsLocations:Nf,analyticsObject:t};switch(e){case M.IlC.APP:return ma.Z.openPremiumPaymentModalInApp(n);case M.IlC.OVERLAY:return ma.Z.openPremiumPaymentModalInOverlay(n);default:throw new Error("Unexpected app context: ".concat(e))}}const Pf=(_f(Tf={},M.Etm.START_PURCHASE,(_f(Sf={},M.Gp_.ANY,[M.wEG,M.lHf]),_f(Sf,"validation",(function(e){return e.object().required().keys({sku_id:e.string().required(),pid:e.number().min(0)})})),_f(Sf,"handler",(function(e){var t=e.socket,n=e.args,r=n.sku_id,o=n.pid;Rc(t.transport);var i=t.application.id;if(null==i)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");var a=Cf(t.transport!==M.Hej.POST_MESSAGE?o:null),s=a.lock,c=a.context,l={page:M.ZY5.IN_APP};return(0,Of.S)({applicationId:i,skuId:r,openPremiumPaymentModal:function(){return Af(c,l)},analyticsLocations:Nf,analyticsLocation:l,context:c}).then((function(e){s();return e}),(function(e){s()
;if(null!=e)throw new Ns.Z(M.lTL.PURCHASE_ERROR,e);throw new Ns.Z(M.lTL.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))})),Sf)),_f(Tf,M.Etm.START_PREMIUM_PURCHASE,(_f(If={},M.Gp_.ANY,[M.wEG,M.lHf]),_f(If,"validation",(function(e){return e.object().keys({pid:e.number().min(0)})})),_f(If,"handler",(function(e){var t=e.socket,n=e.args.pid;Rc(t.transport);if(null==t.application.id)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");var r=Cf(t.transport!==M.Hej.POST_MESSAGE?n:null),o=r.lock;return Af(r.context,{page:M.ZY5.IN_APP}).then((function(){o()}),(function(e){o();if(null!=e)throw new Ns.Z(M.lTL.PURCHASE_ERROR,e);throw new Ns.Z(M.lTL.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))})),If)),Tf);var jf,Rf=n(185347);function xf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Mf(e){var t=e.application.id;if(null==t)throw new Ns.Z(M.lTL.INVALID_COMMAND,"No application.");return t}
const wf=(xf(jf={},M.Etm.SET_VOICE_SETTINGS_2,{scope:M.lHf,validation:function(e){return e.object().required().keys({input_mode:e.object().keys({type:e.string().valid(Object.keys(M.pM4)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.input_mode,o=n.self_mute,i=n.self_deaf,a=Mf(t);null!=r&&Ke.Z.setMode(r.type,{shortcut:(0,Rf.Kd)(r.shortcut)},a);null!=o&&o!==qe.Z.isSelfMute(a)&&Ke.Z.toggleSelfMute({context:a});null!=i&&i!==qe.Z.isSelfDeaf(a)&&Ke.Z.toggleSelfDeaf({context:a})}}),xf(jf,M.Etm.SET_USER_VOICE_SETTINGS_2,{scope:M.lHf,validation:function(e){return e.object().required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.user_id,o=n.mute,i=n.volume,a=Mf(t);null!=o&&o!==qe.Z.isLocalMute(r,a)&&Ke.Z.toggleLocalMute(r,a);null!=i&&Ke.Z.setLocalVolume(r,i,a)}}),jf);function Zf(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Lf;function Df(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Df(e,t,n[t])}))}return e}var kf=Uf({},tl,ju,Bu,Xu,rf,gf,Pf,(Zf(Lf={},M.Etm.SET_USER_VOICE_SETTINGS,{scope:Zf({},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_VOICE_WRITE]),validation:function(e){return e.object().required().keys({user_id:e.string().required(),pan:e.object().keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){
var t=e.args,n=t.user_id,r=t.pan,o=t.volume,i=t.mute,a=Y.default.getCurrentUser();if(null==Y.default.getUser(n)||(null==a?void 0:a.id)===n)throw new Ns.Z(M.lTL.INVALID_USER,"Invalid user id: ".concat(n));null!=r&&Ke.Z.setLocalPan(n,r.left,r.right);null!=o&&Ke.Z.setLocalVolume(n,o);if(null!=i){var s=qe.Z.isLocalMute(n);(s&&!i||!s&&i)&&Ke.Z.toggleLocalMute(n)}return{user_id:n,pan:qe.Z.getLocalPan(n),volume:qe.Z.getLocalVolume(n),mute:qe.Z.isLocalMute(n)}}}),Zf(Lf,M.Etm.GET_VOICE_SETTINGS,{scope:Zf({},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_VOICE_READ]),handler:function(){return(0,ll._X)()}}),Zf(Lf,M.Etm.SET_VOICE_SETTINGS,{scope:Zf({},M.Gp_.ANY,[M.xVR.RPC,M.xVR.RPC_VOICE_WRITE]),validation:function(e){return e.object().required().keys({input:e.object().keys({device_id:e.string().valid(Object.keys(qe.Z.getInputDevices())),volume:e.number().min(0).max(100)}),output:e.object().keys({device_id:e.string().valid(Object.keys(qe.Z.getOutputDevices())),volume:e.number().min(0).max(200)}),
mode:e.object().keys({type:e.string().valid(Object.keys(M.pM4)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items(e.object().keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.input,r=t.output,o=t.mode,i=t.automatic_gain_control,a=t.echo_cancellation,s=t.noise_suppression,c=t.qos,l=t.silence_warning,u=t.deaf,f=t.mute;if(n){null!=n.device_id&&Ke.Z.setInputDevice(n.device_id);null!=n.volume&&Ke.Z.setInputVolume(n.volume)}if(r){null!=r.device_id&&Ke.Z.setOutputDevice(r.device_id);null!=r.volume&&Ke.Z.setOutputVolume(r.volume)}if(o){var d=qe.Z.getMode(),p=qe.Z.getModeOptions();null!=o.type&&(d=o.type);null!=o.auto_threshold&&(p.autoThreshold=o.auto_threshold)
;null!=o.threshold&&(p.threshold=o.threshold);null!=o.shortcut&&(p.shortcut=o.shortcut.map((function(e){return[e.type,e.code]})));null!=o.delay&&(p.delay=o.delay);Ke.Z.setMode(d,p)}null!=i&&Ke.Z.setAutomaticGainControl(i);null!=a&&Ke.Z.setEchoCancellation(a);null!=s&&Ke.Z.setNoiseSuppression(s);null!=c&&Ke.Z.setQoS(c);null!=l&&Ke.Z.setSilenceWarning(l);if(null!=u){var h=qe.Z.isSelfDeaf();(h&&!u||!h&&u)&&Ke.Z.toggleSelfDeaf()}if(null!=f){var E=qe.Z.isSelfMute();(E&&!f||!E&&f)&&Ke.Z.toggleSelfMute()}return(0,ll._X)()}}),Lf),wf,fu.authCommands),Gf=Uf({},sl,pu,fu.voiceSettingsEvents);const Bf=new Os({server:du.Z,commands:kf,events:Gf,stores:[Vr.Z],transports:[fu.postMessageTransport],registerTransportsForEmbeddedPlatform:function(){vs.default.ensureModule("discord_rpc").then((function(){var e=[n(649464).Z,n(901288).Z],t=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;du.Z.registerTransport(s)}}catch(e){r=!0;o=e}finally{try{
t||null==a.return||a.return()}finally{if(r)throw o}}}))}});var Hf=n(587753);function Vf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ff(e){Ff=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ff(e)}function Yf(e,t){return!t||"object"!==zf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wf(e,t){Wf=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Wf(e,t)}var zf=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Kf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ff(e)
;if(t){var o=Ff(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yf(this,n)}}var qf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Wf(e,t)}(n,e);var t=Kf(n);function n(){Vf(this,n);var e;(e=t.apply(this,arguments)).linesToUpdate={};e.lineBatchTimer=new Ru.Xp;e._handleDrawLinePoint=function(t){var n=t.channelId,r=t.lineId,o=t.streamerId,i=t.point;null==e.linesToUpdate[r]?e.linesToUpdate[r]={channelId:n,streamerId:o,points:[i]}:e.linesToUpdate[r].points.push(i);null==e.lineBatchTimer._ref&&e.lineBatchTimer.start(500,e.sendLineBatch)};e.sendLineBatch=function(){for(var t in e.linesToUpdate){var n=e.linesToUpdate[t],r=n.channelId,o=n.points,i=n.streamerId;(0,Hf.AX)(r,t,i,o)}e.linesToUpdate={};e.lineBatchTimer.stop()};return e}var r=n.prototype
;r._initialize=function(){if(!__OVERLAY__){O.Z.subscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint);O.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived)}};r._terminate=function(){if(!__OVERLAY__){O.Z.unsubscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint);O.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived);this.lineBatchTimer.stop()}};r._handleVoiceChannelEffectReceived=function(e){var t,n=e.lineId,r=e.points,o=e.userId,i=e.streamerId;null!=r&&null!=n&&null!=i&&o!==(null===(t=Y.default.getCurrentUser())||void 0===t?void 0:t.id)&&(0,Hf.cV)(n,o,i,r)};r.__getLocalVars=function(){return{TICK_RATE:500}};return n}(_.Z);const Xf=new qf;var Qf=n(658620),$f=n(619323),Jf=n(453642),ed=n(931439),td=n(794445),nd=n(72818);function rd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function od(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){
n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function id(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){od(i,r,o,a,s,"next",e)}function s(e){od(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ad(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cd(e){cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return cd(e)}function ld(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sd(e,t,n[t])}))}return e}function ud(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function fd(e,t){return!t||"object"!==pd(t)&&"function"!=typeof t?rd(e):t}function dd(e,t){dd=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return dd(e,t)}var pd=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function hd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=cd(e);if(t){var o=cd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fd(this,n)}}var Ed=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}
if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},yd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&dd(e,t)}(o,e);var t=hd(o);function o(){ad(this,o);var e;(e=t.apply(this,arguments)).playingSounds=new Map;e._stopAndClearSounds=function(){e.playingSounds.forEach((function(e){e.pause();e.src=""}));e.playingSounds=new Map};e._handleToggleSelfDeafened=function(){qe.Z.isDeaf()&&e._stopAndClearSounds()};var i,a=rd(e);e._handleSoundboardSoundRecieved=(i=id((function(e){var t,n,r,o,i,s,c;return Ed(this,(function(l){switch(l.label){case 0:t=e.soundId,n=e.userId,r=e.channelId,o=e.volume;if(null==t||!j.Z.isInChannel(r,n)||qe.Z.isDeaf())return[3,4]
;l.label=1;case 1:l.trys.push([1,,3,4]);i="".concat(n,"-").concat(t);if(null!=(s=a.playingSounds.get(i))){s.currentTime=0;return[2]}c=a.playingSounds;return[4,new Promise((function(e){var r=new Audio((0,nd.Z)(t));r.volume=null!=o?o:1;r.addEventListener("canplaythrough",(function(){(0,td.xR)(t,n);c.set(i,r);r.play()}));r.addEventListener("ended",(function(){c.delete(i);r.src="";e()}))}))];case 2:l.sent();return[3,4];case 3:(0,td.R)(t,n);return[7];case 4:return[2]}}))})),function(e){return i.apply(this,arguments)});e._handleVoiceChannelSelect=function(t){var n=t.guildId,r=t.channelId;e._stopAndClearSounds();e._handleOpenEducationModal(n,r)};e._handleOpenEducationModal=function(e,t){if(null!=e){var o=I.Z.getChannel(t),i=ed.Z.getKeybindForAction(M.kg4.SOUNDBOARD_HOLD);(0,Ur.Z)(o)&&null!=i&&Jf.Z.hasHotspot($f.v6.SOUNDBOARD_WHEEL_EDUCATION_MODAL)&&(0,W.ZD)(id((function(){var t,o;return Ed(this,(function(a){switch(a.label){case 0:
return[4,Promise.all([n.e(40532),n.e(6053)]).then(n.bind(n,706053))];case 1:t=a.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,ud(ld({},t),{guildId:e,keybind:i}))}]}}))})))}};return e}var i=o.prototype;i._initialize=function(){if(!__OVERLAY__){O.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundRecieved);O.Z.subscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect);O.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened)}};i._terminate=function(){if(!__OVERLAY__){O.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundRecieved);O.Z.unsubscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect);O.Z.unsubscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened)}};i.__getLocalVars=function(){return{}};return o}(_.Z);const md=new yd;var bd=n(673221);function gd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Od(e){Od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return Od(e)}function vd(e,t){return!t||"object"!==Sd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _d(e,t){_d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _d(e,t)}var Sd=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Id(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Od(e);if(t){var o=Od(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vd(this,n)}}var Td=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_d(e,t)}(n,e);var t=Id(n);function n(){gd(this,n);var e;(e=t.apply(this,arguments)).handleVoiceStateUpdates=function(t){var n=t.voiceStates,r=nr.default.getId();n.forEach((function(t){var n;if(t.userId===r){if(null===(n=I.Z.getChannel(t.channelId))||void 0===n?void 0:n.isGuildStageVoice()){if(!((0,bd.gf)(t)===bd.xO.ON_STAGE)){e.handleStopStream(t);e.handleStopUserVideo()}}}}))};e.handleStopStream=function(e){var t=xr.Z.getActiveStreamForUser(e.userId,e.guildId);null!=t&&(0,Ar.g)((0,Rr.V9)(t),!1)};e.handleStopUserVideo=function(){qe.Z.isVideoEnabled()&&Ke.Z.setVideoEnabled(!1)};return e}var r=n.prototype;r._initialize=function(){O.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};r._terminate=function(){O.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}
;r.__getLocalVars=function(){return{}};return n}(_.Z);const Nd=new Td;var Cd=n(963886);function Ad(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Pd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ad(i,r,o,a,s,"next",e)}function s(e){Ad(i,r,o,a,s,"throw",e)}a(void 0)}))}}function jd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xd(e){xd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xd(e)}function Md(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Rd(e,t,n[t])}))}return e}function wd(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Zd(e,t){return!t||"object"!==Dd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ld(e,t){Ld=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ld(e,t)}var Dd=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ud(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xd(e);if(t){var o=xd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zd(this,n)}}var kd=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Gd="STAGE_INVITED_TO_SPEAK_MODAL",Bd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ld(e,t)}(o,e);var t=Ud(o);function o(){jd(this,o);var e;(e=t.apply(this,arguments)).handleVoiceStateUpdates=function(e){var t,o=e.voiceStates,i=nr.default.getId(),a=null===(t=Cd.Z.getSession())||void 0===t?void 0:t.sessionId,s=o.find((function(e){
return e.userId===i&&e.sessionId===a}));if(null!=s){var c=s.channelId;if(null!=c){var l=I.Z.getChannel(c);if(null==l?void 0:l.isGuildStageVoice()){var u=(0,bd.gf)(s)===bd.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=l&&u){if((0,W.nf)(Gd))return;(0,W.ZD)(Pd((function(){var e,t;return kd(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(24327)]).then(n.bind(n,124327))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,wd(Md({},e),{channel:l}))}]}}))})),{modalKey:Gd,onCloseRequest:M.VqG})}}}else(0,W.nf)(Gd)&&(0,W.Mr)(Gd)}};return e}var i=o.prototype;i._initialize=function(){O.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};i._terminate=function(){O.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};i.__getLocalVars=function(){return{MODAL_KEY:Gd}};return o}(_.Z);const Hd=new Bd
;var Vd=n(975584),Fd=n(484830),Yd=n(53211),Wd=n(778667),zd=n(915354),Kd=n(765515),qd=n(390504),Xd=n(723927),Qd=n(641645),$d=n(66692);function Jd(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function ep(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Jd(i,r,o,a,s,"next",e)}function s(e){Jd(i,r,o,a,s,"throw",e)}a(void 0)}))}}var tp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++
;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},np=[],rp=null,op=null,ip=null;function ap(e,t,n,r){var o=kt.Z.getGuild(n),i=e.replace(M.Cup,te.Z.Messages.SPOILER).replace(/<@!?(\d+)>/g,(function(e,t){var r,o=Y.default.getUser(t);return null==o?e:null!==(r=ls.ZP.getNick(n,o.id))&&void 0!==r?r:o.username})).replace(/<@&?(\d+)>/g,(function(e,t){var n=null!=o?o.roles[t]:null;return null!=n&&null!=n.name?n.name:te.Z.Messages.MESSAGE_TTS_DELETED_ROLE})).replace(/<#(\d+)>/g,(function(e,t){var n=I.Z.getChannel(t)
;return null==n?e:(0,Yd.F6)(n,Y.default,ps.Z)})).replace(/<a?:(\w+):(\d+)>/g,(function(e,t){return"".concat(te.Z.Messages.EMOJI," ").concat(t)})).replace(/<\/([^\s]+?):(\d+)>/g,(function(e,t){return"/".concat(t)}));return null==r?te.Z.Messages.MESSAGE_TTS.format({username:t,body:i}):te.Z.Messages.MESSAGE_TTS_REPLY.format({username:t,body:i,replyUsername:r})}function sp(){if(!Fd.Zh)return!1;var e=zc.default.locale;if(null==ip){var t;ip=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}var n=ip.filter((function(t){return t.lang===e||t.lang.slice(0,e.length)===e}));op=n.length>0?n[0]:null}function cp(e,t,n,r,o){return lp.apply(this,arguments)}function lp(){return(lp=ep((function(e,t,n,r,o){var i;return tp(this,(function(a){switch(a.label){case 0:if(null===(i=Fd.e6(e,n)))return[2];null==op&&sp();return t?[4,(0,Xd.NB)()]:[3,2];case 1:a.sent();return[3,3];case 2:null==rp||rp.removeEventListener("end",Xd.NB);a.label=3;case 3:i.addEventListener("end",Xd.NB)
;null!=r&&i.addEventListener("start",r);null!=o&&i.addEventListener("end",o);rp=i;Fd.iq(i,op);return[2]}}))}))).apply(this,arguments)}function up(e,t,n,r,o){cp(e,t,o,(function(){(0,Xd.Bo)(n,r)}))}function fp(e){cp(e.text,e.interrupt,e.maxLength,e.onStart,e.onEnd)}function dp(){null!==rp&&rp.removeEventListener("end",Xd.NB);Fd.M9();rp=null;return!0}function pp(e){var t,n,r,o=e.message,i=e.channel,a=o.type===M.uaV.REPLY?Wd.Z.getMessageByReference(o.messageReference):null,s=(null==a?void 0:a.state)===Wd.Y.LOADED?null==a||null===(t=a.message)||void 0===t?void 0:t.author:null,c=null!=s?null!==(n=ls.ZP.getNick(i.guild_id,null==s?void 0:s.id))&&void 0!==n?n:s.username:null,l=i.getGuildId(),u=null!==(r=ls.ZP.getNick(l,o.author.id))&&void 0!==r?r:o.author.username;up(ap(o.content,u,l,c),!0,i.id,o.id);return!0}function hp(e){var t=e.channelId,n=e.message;if(e.optimistic||qe.Z.isSelfDeaf())return!1;var r=I.Z.getChannel(t);if(null==r)return!1
;var o=A.Z.getChannelId(),i=zd.ZP.getCurrentSidebarChannelId(o),a=t===o||t===i,s=ft.OW.getSetting()&&n.tts&&a,c=Kd.Z.getTTSType(),l=n.author.id!==nr.default.getId()&&(c===M.PrB.ALL_CHANNELS||c===M.PrB.SELECTED_CHANNEL&&a);if((s||l)&&!ps.Z.isBlocked(n.author.id)){var u;if(np.indexOf(n.id)>=0)return!1;np.unshift(n.id)>10&&np.pop();var f,d=r.getGuildId();if(null!=d&&qd.Z.getMutedChannels(d).has(t))return!1;var p,h=null!==(f=ls.ZP.getNick(d,n.author.id))&&void 0!==f?f:n.author.username,E=n.type===M.uaV.REPLY?null===(u=n.referenced_message)||void 0===u?void 0:u.author:null,y=null!=E?null!==(p=ls.ZP.getNick(d,null==E?void 0:E.id))&&void 0!==p?p:E.username:null;up(ap(n.content,h,d,y),!1,r.id,n.id,$d.f)}return!1}function Ep(e){var t=e.id,n=e.channelId,r=Qd.Z.currentMessage;if(null!=r&&t===r.messageId&&n===r.channelId){(0,Xd.NB)();return!0}return!1}function yp(){qe.Z.isSelfDeaf()&&Fd.M9()}const mp=function(){O.Z.subscribe("SPEAK_TEXT",fp);O.Z.subscribe("SPEAK_MESSAGE",pp)
;O.Z.subscribe("STOP_SPEAKING",dp);O.Z.subscribe("MESSAGE_CREATE",hp);O.Z.subscribe("MESSAGE_DELETE",Ep);O.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",yp);O.Z.subscribe("USER_SETTINGS_PROTO_UPDATE",sp);O.Z.subscribe("I18N_LOAD_SUCCESS",sp)};var bp=n(194807),gp=n(617707),Op=n(36391),vp=n(64027);function _p(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Sp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_p(i,r,o,a,s,"next",e)}function s(e){_p(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ip(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tp(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Np(e){Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Np(e)}function Cp(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Tp(e,t,n[t])}))}return e}function Ap(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Pp(e,t){return!t||"object"!==Rp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jp(e,t){
jp=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return jp(e,t)}var Rp=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function xp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Np(e);if(t){var o=Np(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pp(this,n)}}var Mp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},wp=null;function Zp(e){return Lp.apply(this,arguments)}function Lp(){Lp=Sp((function(e){var t,o,i,a,s,c,l,u,f,d,p,h,E,y,m,b,g,O,v,_,S;return Mp(this,(function(I){switch(I.label){case 0:t=e.userId,o=e.section,i=e.guildId,a=void 0===i?M.ME:i,s=e.channelId,c=e.friendToken,l=e.autoFocusNote,
u=e.analyticsLocation;d=Y.default.getUser(t);p=Op.Z.getUserProfile(t);if(null==d)return[2];if(null!=(h=ds.Z.getPrimaryActivity(t))){E=h.party;y=h.assets;m=null!=h.application_id?wn.Z.getGame(h.application_id):null}b=ds.Z.getStatus(t);g=ds.Z.isMobileOnline(t);O=b;b===M.Skl.ONLINE&&(O=g?M.j28.ONLINE_MOBILE:M.j28.ONLINE_DESKTOP);return[4,(0,W.ZD)(Sp((function(){var e,t;return Mp(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(55665)]).then(n.bind(n,755665))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ap(Cp({},e),{user:d,autoFocusNote:l,guildId:a,friendToken:c,initialSection:o}))}]}}))})))];case 1:wp=I.sent();Ce.default.track(M.rMx.OPEN_MODAL,Cp({type:"Profile Modal",guild_id:a!==M.ME?a:null,channel_id:s,other_user_id:t,application_id:null!==(v=null==h?void 0:h.application_id)&&void 0!==v?v:null,application_name:null==h?void 0:h.name,sku_id:null!==(_=null==m?void 0:m.primarySkuId)&&void 0!==_?_:null,is_friend:ps.Z.isFriend(t),
has_images:Boolean(null!==(S=null==y?void 0:y.large_image)&&void 0!==S?S:null==y?void 0:y.small_image),party_max:null==E||null===(f=E.size)||void 0===f?void 0:f[1],party_id:null==E?void 0:E.id,party_platform:(0,vp.Ps)(null==E?void 0:E.id)?M.ABu.SPOTIFY:null,game_platform:(0,gp.Z)(h),profile_user_status:O,profile_has_nitro_customization:null!=(null==p?void 0:p.banner)},null==u?null:(0,Ce.expandLocation)(u)));return[2]}}))}));return Lp.apply(this,arguments)}function Dp(){null!=wp&&(0,W.Mr)(wp);wp=null}var Up=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&jp(e,t)}(n,e);var t=xp(n);function n(){Ip(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){O.Z.subscribe("USER_PROFILE_MODAL_OPEN",Zp);O.Z.subscribe("USER_PROFILE_MODAL_CLOSE",Dp)};r._terminate=function(){
O.Z.unsubscribe("USER_PROFILE_MODAL_OPEN",Zp);O.Z.unsubscribe("USER_PROFILE_MODAL_CLOSE",Dp)};r.__getLocalVars=function(){return{modalKey:wp}};return n}(_.Z);const kp=new Up;var Gp=n(579220),Bp=n(912224),Hp=n(244028),Vp=n(78979),Fp=n(383689),Yp=n(99918),Wp=n(80635),zp=n(71190),Kp=n(57712),qp=n(294184),Xp=n.n(qp),Qp=n(487502),$p=n(237745),Jp=n.n($p);function eh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var th=function(e){return(0,r.jsx)(Jp(),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eh(e,t,n[t])}))}return e}({sitekey:M.OL7},e))};th.Themes={LIGHT:"light",DARK:"dark"};th.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};const nh=th
;var rh=n(959665),oh=n.n(rh),ih=n(380203),ah=n.n(ih);function sh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ch(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lh(e){lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return lh(e)}function uh(e,t){return!t||"object"!==dh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fh(e,t){fh=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fh(e,t)}var dh=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ph(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=lh(e);if(t){var o=lh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uh(this,n)}}var hh=ee.Z.getArticleURL(M.BhN.VERIFICATION_FAQ),Eh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fh(e,t)}(n,e);var t=ph(n);function n(){sh(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(t){var n=e.props.onClick;null==n||n(t)};return e}var o=n.prototype;o.renderFields=function(){var e=this,t=this.props,n=t.types,o=t.captchaKey,i=t.theme,a=t.onCaptchaVerify;return(0,r.jsx)(r.Fragment,{children:n.map((function(t){return t===M.PUi.CAPTCHA?(0,r.jsx)(nh,{onVerify:a,theme:i},o):(0,r.jsx)(Q.Co,{className:Xp()(ah().marginBottom20),
onClick:function(){return e.handleClick(t)},children:zp.Z.getButtonTitle(t)},t)}))})};o.render=function(){return(0,r.jsxs)(Qp.Z,{className:oh().verification,align:Qp.Z.Align.CENTER,direction:Qp.Z.Direction.VERTICAL,children:[(0,r.jsxs)(Qp.Z,{className:Xp()(oh().container,ch({},oh().isMobile,ao.tq)),direction:Qp.Z.Direction.VERTICAL,align:Qp.Z.Align.CENTER,justify:Qp.Z.Justify.CENTER,children:[(0,r.jsx)("div",{className:oh().image}),(0,r.jsx)("div",{className:Xp()(oh().title,ah().marginTop20),children:te.Z.Messages.VERIFICATION_TITLE}),(0,r.jsx)("div",{className:Xp()(oh().body,ah().marginTop4,ah().marginBottom20),children:te.Z.Messages.VERIFICATION_BODY_WITH_HELP_LINK.format({helpCenterURL:hh})}),(0,r.jsx)(Qp.Z,{grow:0,direction:Qp.Z.Direction.VERTICAL,justify:Qp.Z.Justify.CENTER,children:this.renderFields()})]}),(0,r.jsx)("div",{className:Xp()(oh().footer,ah().marginTop20),children:te.Z.Messages.VERIFICATION_FOOTER}),(0,r.jsxs)(Qp.Z,{className:Xp()(ah().marginTop4,ah().marginBottom20),
grow:0,children:[(0,r.jsx)("div",{className:Xp()(oh().footer,oh().footerAction),children:te.Z.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:ee.Z.getSubmitRequestURL()})}),(0,r.jsx)("div",{className:Xp()(oh().footer,oh().footerBullet),children:"•"}),(0,r.jsx)("div",{className:Xp()(oh().footer,oh().footerAction),children:te.Z.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout})})]})]})};return n}(o.PureComponent);Eh.defaultProps={types:[M.PUi.CAPTCHA],onCaptchaVerify:M.dG4,onLogout:M.dG4};const yh=Eh;var mh=n(93042),bh=n(30741),gh=n(441143),Oh=n.n(gh),vh=n(429244),_h=n(493925),Sh=n(468811),Ih=n.n(Sh),Th=n(978607),Nh=n.n(Th),Ch=n(3066),Ah=n.n(Ch);function Ph(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jh(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Rh(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xh(e){xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xh(e)}function Mh(e,t){return!t||"object"!==Lh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wh(e,t){wh=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return wh(e,t)}function Zh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ph(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ph(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Lh=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Dh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xh(e);if(t){var o=xh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mh(this,n)}}var Uh=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},kh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&wh(e,t)}(o,e);var t=Dh(o);function o(){Rh(this,o);var e;(e=t.apply(this,arguments))._animItem=null;e._timeout=new Ru.V7;e._headerId=Ih().v4();e.state={resent:!1,shouldClose:!1,email:"",password:""};e.setLottieRef=function(t){e._lottieRef=t};e.handleVerify=function(){(0,e.props.onVerify)(e.state.email,e.state.password)};e.handleResendEmail=function(){var t=e.props,n=t.onResend,r=t.onClose;n();if(!e.state.resent){e.setState({resent:!0,shouldClose:!0});e._timeout.start(3e3,(function(){e.state.shouldClose&&r()}))}};e.handleChangeEmailClick=function(){var t=e.props.onChangeEmailClick;e.setState({resent:!1,shouldClose:!1});t()};e.handleEmailChange=function(t){e.setState({email:t})};e.handlePasswordChange=function(t){
e.setState({password:t})};e.handleKeyPress=function(t){var n=e.state,r=n.email,o=n.password;if(13===t.which&&r.length>0&&o.length>0){t.preventDefault();e.handleVerify()}};return e}var i=o.prototype;i.componentDidMount=function(){var e,t=this;return(e=function(){var e,r,o,i;return Uh(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(63266).then(n.t.bind(n,763266,19)),Promise.resolve().then(n.t.bind(n,211248,23))])];case 1:e=Zh.apply(void 0,[a.sent(),2]),r=e[0],o=e[1],i=o.default;t._animItem=i.loadAnimation({container:t._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:r});return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){jh(i,r,o,a,s,"next",e)}function s(e){jh(i,r,o,a,s,"throw",e)}a(void 0)}))})()};i.componentWillUnmount=function(){this._timeout.stop();if(null!=this._animItem){this._animItem.destroy();this._animItem=void 0}};i.renderInputs=function(){
var e=this.props,t=e.emailError,n=e.passwordError,o=e.submitting,i=this.state,a=i.email,s=i.password;return(0,r.jsxs)("div",{className:Nh().container,children:[(0,r.jsx)(q.xJ,{title:te.Z.Messages.FORM_LABEL_EMAIL,className:ah().marginBottom20,children:(0,r.jsx)(q.oi,{value:a,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})}),(0,r.jsx)(q.xJ,{title:te.Z.Messages.FORM_LABEL_PASSWORD,className:ah().marginBottom40,children:(0,r.jsx)(q.oi,{type:"password",value:s,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})}),(0,r.jsx)(Q.Co,{fullWidth:!0,size:Q.Co.Sizes.LARGE,onClick:this.handleVerify,submitting:o,disabled:0===a.length||0===s.length,children:te.Z.Messages.VERIFY_ACCOUNT})]})};i.renderActions=function(){var e=this.props.canChange;return(0,r.jsxs)("div",{className:Nh().container,children:[(0,r.jsx)(Q.Co,{className:ah().marginTop20,fullWidth:!0,size:Q.Co.Sizes.LARGE,look:Q.iL.INVERTED,color:Q.Tt.PRIMARY,
onClick:this.handleResendEmail,children:te.Z.Messages.RESEND_EMAIL}),e&&(0,r.jsx)(Q.Co,{className:ah().marginTop20,fullWidth:!0,size:Q.Co.Sizes.MEDIUM,look:Q.iL.LINK,color:Q.Tt.PRIMARY,onClick:this.handleChangeEmailClick,children:te.Z.Messages.CHANGE_EMAIL})]})};i.render=function(){var e,t=this.state.resent,n=this.props,o=n.email,i=n.canResend,a=n.transitionState;e=t&&null!=o?te.Z.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:o}):i?te.Z.Messages.VERIFY_EMAIL_BODY:te.Z.Messages.ENTER_EMAIL_BODY;return(0,r.jsxs)(J.Y0,{transitionState:a,"aria-labelledby":this._headerId,className:Xp()(Nh().emailVerificationModal,Ah().vertical,Ah().alignCenter,Ah().justifyCenter,ah().marginTop60),children:[(0,r.jsx)("div",{className:Nh().animationContainer,ref:this.setLottieRef}),(0,r.jsx)("div",{id:this._headerId,className:Xp()(Nh().title,ah().marginBottom8),children:te.Z.Messages.VERIFY_BY_EMAIL}),(0,r.jsx)("div",{className:Xp()(Nh().body,ah().marginBottom20),children:e
}),i?this.renderActions():this.renderInputs()]})};return o}(o.PureComponent);kh.defaultProps={canResend:!1,canChange:!0,onChangeEmailClick:M.dG4,onVerify:function(e,t){},onResend:M.dG4,onClose:M.dG4};const Gh=kh;function Bh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Vh=function(e){var t=e.transitionState,n=e.onClose,i=function(e){var t,n;return null!==(n=null==a||null===(t=a[e])||void 0===t?void 0:t[0])&&void 0!==n?n:""},a=(0,s.e7)([_h.Z],(function(){return _h.Z.getErrors()})),l=(0,s.e7)([_h.Z],(function(){return _h.Z.getFormState()})),u=(0,s.e7)([Y.default],(function(){var e=Y.default.getCurrentUser();Oh()(null!=e,"EmailVerificationModal: user cannot be undefined");return e})),f=(0,s.e7)([Kp.Z],(function(){return Kp.Z.getAction()})),d=!zp.Z.isEmailReverification(f),p=null!=u.email,h=Hh(o.useState(!0),2),E=h[0],y=h[1],m=l===M.QZA.SUBMITTING,b=i("email"),g=i("password");return(0,r.jsx)(Gh,{transitionState:t,email:u.email,emailError:b,passwordError:g,submitting:m,
canResend:E&&!m&&p&&0===b.length&&0===g.length,canChange:d,onChangeEmailClick:function(){y(!1)},onVerify:function(e,t){(0,Ua.Mn)({email:e,password:t}).then((function(e){var t;(null==e?void 0:e.ok)||null==(null==e||null===(t=e.body)||void 0===t?void 0:t.username)||(0,vh.P)()}));y(!0)},onResend:function(){c.Z.verifyResend()},onClose:n})};var Fh=n(997846),Yh=n(330665);function Wh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Kh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zh(e,t,n[t])}))}return e}function qh(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Xh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qh="Email Verification";function $h(){var e=(0,s.cj)([Kp.Z,Wp.Z],(function(){return{action:Kp.Z.getAction(),theme:Wp.Z.theme}})),t=e.action,n=e.theme,i=zp.Z.getVerificationTypes(t),a=Xh(o.useState(0),2),l=a[0],u=a[1],f=(0,Hp.Z)(i);(0,Fp.Z)({type:K.nv.MODAL,name:K.zs.USER_ACTION_REQUIRED,properties:{verification_type:i[0],verification_types:i}},{},[i.toString()]);var d=function(){(0,Ua.FD)();(0,W.h7)((function(e){return(0,r.jsx)(Vh,Kh({},e))}),{modalKey:Qh,Layer:mh.ZP})};o.useEffect((function(){Vp.Z.disable();return function(){Vp.Z.enable()}}),[]);o.useEffect((function(){(null==f?void 0:f[0])===M.PUi.PHONE&&(null==i?void 0:i[0])===M.PUi.EMAIL&&(0,W.h7)((function(e){
return(0,r.jsx)(Bp.Z,qh(Kh({},e),{title:te.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_TITLE,body:te.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_BODY,confirmText:te.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_CONFIRM}))}),{modalKey:"PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY",Layer:mh.ZP,onCloseCallback:d})}),[i,f]);return(0,r.jsx)(yh,{types:i,captchaKey:l,onCaptchaVerify:function(e){_s.Z.post({url:M.ANM.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0}).then(Gp.xf,(function(){u((function(e){return e+1}))}))},theme:n,onClick:function(e){e===M.PUi.EMAIL_OR_PHONE||e===M.PUi.EMAIL||e===M.PUi.REVERIFY_EMAIL?d():(0,W.h7)((function(e){return(0,r.jsx)(Fh.default,Kh({reason:Yp.L.USER_ACTION_REQUIRED},e))}),{modalKey:Yh.M,Layer:mh.ZP})},onLogout:function(){return(0,W.h7)((function(e){return(0,r.jsx)(bh.default,qh(Kh({header:te.Z.Messages.LOGOUT,confirmText:te.Z.Messages.LOGOUT,cancelText:te.Z.Messages.CANCEL,onConfirm:function(){return c.Z.logout()}},e),{children:(0,r.jsx)(q.xv,{variant:"text-md/normal",
children:te.Z.Messages.USER_SETTINGS_CONFIRM_LOGOUT})}))}),{Layer:mh.ZP})}})}var Jh=n(331389),eE=n(725002),tE=n(634298),nE=n.n(tE);function rE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oE(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function iE(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oE(i,r,o,a,s,"next",e)}function s(e){oE(i,r,o,a,s,"throw",e)}a(void 0)}))}}function aE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return rE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var sE=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function cE(e){var t=e.transitionState,i=(0,s.cj)([Kp.Z],(function(){return{requiredAction:Kp.Z.getAction()}})).requiredAction,a=aE(o.useState(!1),2),c=a[0],l=a[1],u=(0,$.Dt)();function f(){f=iE((function(){var e,t;return sE(this,(function(n){switch(n.label){case 0:l(!0);return i!==M.c2C.AGREEMENTS?[3,2]:[4,(0,qc.Lr)()];case 1:e=n.sent();l(e);return[3,4];case 2:return i!==M.c2C.TOS_UPDATE_ACKNOWLEDGMENT?[3,4]:[4,(0,qc.zD)()];case 3:t=n.sent();l(t);n.label=4;case 4:
return[2,null]}}))}));return f.apply(this,arguments)}return(0,r.jsxs)(J.Y0,{"aria-labelledby":u,transitionState:t,className:Xp()(nE().modal,nE().specificOverride,"theme-light"),children:[(0,r.jsx)("div",{id:u,className:nE().title,children:te.Z.Messages.NEW_TERMS_TITLE}),(0,r.jsx)(q.$i,{}),(0,r.jsxs)(eE.ZP,{children:[(0,r.jsx)(q.R9,{className:nE().description,children:i===M.c2C.AGREEMENTS?te.Z.Messages.TERMS_AGREEMENT_DESCRIPTION_1:i===M.c2C.TOS_UPDATE_ACKNOWLEDGMENT?te.Z.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_1.format({date:M.DFn}):null}),(0,r.jsx)(q.R9,{className:nE().description,children:i===M.c2C.AGREEMENTS?te.Z.Messages.TERMS_AGREEMENT_DESCRIPTION_2:i===M.c2C.TOS_UPDATE_ACKNOWLEDGMENT?te.Z.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_2:null}),(0,r.jsxs)(Qp.Z,{className:nE().container,align:Qp.Z.Align.CENTER,justify:Qp.Z.Justify.CENTER,children:[(0,r.jsxs)(Qp.Z,{direction:Qp.Z.Direction.VERTICAL,children:[(0,r.jsx)("div",{className:nE().link,
children:te.Z.Messages.TERMS_OF_SERVICE.format({url:M.EYA.TERMS})}),(0,r.jsx)("div",{className:nE().link,children:te.Z.Messages.PRIVACY_POLICY.format({url:M.EYA.PRIVACY})}),(0,r.jsx)("div",{className:nE().link,children:te.Z.Messages.COMMUNITY_GUIDELINES.format({url:M.EYA.GUIDELINES})}),(0,r.jsx)("div",{className:nE().link,children:te.Z.Messages.BLOG_POST.format({url:M.EYA.TOS_UPDATE_FEB_2022})})]}),(0,r.jsx)("img",{className:nE().image,alt:"",src:n(31890)})]})]}),(0,r.jsx)(q.$i,{}),(0,r.jsx)("div",{className:nE().buttonContainer,children:(0,r.jsx)(Q.Co,{className:nE().button,submitting:c,onClick:function(){return f.apply(this,arguments)},children:te.Z.Messages.GOT_IT})})]})}function lE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var uE="AGREEMENTS_MODAL_KEY";const fE={init:function(){O.Z.subscribe("CONNECTION_OPEN",this.handleRequiredAction);O.Z.subscribe("USER_REQUIRED_ACTION_UPDATE",this.handleRequiredAction)
;O.Z.subscribe("CURRENT_USER_UPDATE",this.handleCurrentUserUpdate);O.Z.subscribe("LOGOUT",this.handleLogout)},handleRequiredAction:function(e){var t=e.requiredAction;if(!Ji.s.isDisallowPopupsSet())if(null==Y.default.getCurrentUser()){(0,Jh.ob)("verification");(0,W.nf)(uE)&&(0,W.Mr)(uE)}else if(t===M.c2C.REQUIRE_CAPTCHA||t===M.c2C.REQUIRE_VERIFIED_EMAIL||t===M.c2C.REQUIRE_VERIFIED_PHONE||t===M.c2C.REQUIRE_REVERIFIED_PHONE||t===M.c2C.REQUIRE_REVERIFIED_EMAIL_OR_REVERIFIED_PHONE||t===M.c2C.REQUIRE_VERIFIED_EMAIL_OR_REVERIFIED_PHONE||zp.Z.isEmailReverification(t))(0,Jh.q4)((function(){return(0,r.jsx)($h,{})}),{layerKey:"verification",Layer:mh.ZP});else if(t===M.c2C.AGREEMENTS||t===M.c2C.TOS_UPDATE_ACKNOWLEDGMENT)(0,W.h7)((function(e){return(0,r.jsx)(cE,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lE(e,t,n[t])}))}return e}({},e))}),{modalKey:uE,onCloseRequest:Sc.Vq});else if(null==t){(0,Jh.ob)("verification");(0,W.nf)(uE)&&(0,W.Mr)(uE)}},handleLogout:function(){(0,Jh.ob)("verification")},handleCurrentUserUpdate:function(e){e.user.verified&&(0,W.Mr)(Qh)}};var dE=n(213192),pE=n.n(dE),hE=n(200637),EE=n(368351),yE=n(228031);function mE(e){var t=pE()({IMAGE:null,VIDEO:null}),n=s.ZP.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[function(e){return null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}]).state;return null==n||0===n.favorites.length?[]:n.favorites.map((function(r,o){var i=hE.JM.create();i.format=r.format===t.IMAGE?hE.EO.IMAGE:r.format===t.VIDEO?hE.EO.VIDEO:hE.EO.NONE;i.src=r.src;i.width=r.width;i.height=r.height;i.order=n.favorites.length-o+e;return{url:r.url,
favorite:i}}))}var bE=[{version:2,run:function(e){var t=mE(1);if(0===t.length)return!1;null==e.favoriteGifs&&(e.favoriteGifs=hE.wK.create());e.favoriteGifs.gifs={};var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,c=s.url,l=s.favorite;e.favoriteGifs.gifs[c]=l}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}e.favoriteGifs.hideTooltip=t.length>2;return!0},cleanup:function(){}},{version:3,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[function(e){return null==e||0===Object.keys(e).length?{usageHistory:{},favorites:[]}:e},function(e){if(null==e||0===Object.keys(e).length)return{usageHistory:{},favorites:[]};null==e.favorites&&(e.favorites=[]);return e}]).state;if(null==t)return!1;var n=!1;if(t.favorites.length>0){e.favoriteStickers=hE.Lt.create();e.favoriteStickers.stickerIds=ss().uniq(t.favorites).slice(0,yE.oX);n=!0}if(ss().size(t.usageHistory)>0){
e.stickerFrecency=hE.ls.create();e.stickerFrecency.stickers=(0,EE.tU)(t.usageHistory,100);n=!0}return n},cleanup:function(){Ne.Z.remove("StickersPersistedStore")}},{version:4,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{usageHistory:Ne.Z.get("EmojiUsageHistory")||{}}}]).state;if(null==t)return!1;var n=!1;if(null!=t.favorites&&t.favorites.length>0){e.favoriteEmojis=hE.ND.create();e.favoriteEmojis.emojis=ss().uniq(t.favorites).slice(0,yE.oX);n=!0}if(ss().size(t.usageHistory)>0){e.emojiFrecency=hE.PL.create();e.emojiFrecency.emojis=(0,EE.tU)(t.usageHistory,100);n=!0}return n},cleanup:function(){Ne.Z.remove("EmojiStore");Ne.Z.remove("EmojiUsageHistory");Ne.Z.remove("EmojiDiversitySurrogate")}},{version:6,run:function(e){null==e.favoriteGifs&&(e.favoriteGifs=hE.wK.create());null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});var t=mE(1);if(0===t.length)return!1;ss()(e.favoriteGifs.gifs).values().sortBy("order").forEach((function(e,n){
return e.order=t.length+1+n}));var n=hE.wK.toBinary(e.favoriteGifs).length,r=0,o=!0,i=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value,u=l.url,f=l.favorite;f.order=t.length-r;r++;if(u in e.favoriteGifs.gifs)e.favoriteGifs.gifs[u].order=f.order;else{var d=hE.JM.toBinary(f).length+u.length+7;if(!(n+d>yE.vY)){n+=d;e.favoriteGifs.gifs[u]=f}}}}catch(e){i=!0;a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}n=hE.wK.toBinary(e.favoriteGifs).length;for(;n>yE.vY;){var p=0;for(var h in e.favoriteGifs.gifs){delete e.favoriteGifs.gifs[h];if(++p>=10)break}n=hE.wK.toBinary(e.favoriteGifs).length}return!0},cleanup:function(){}},{version:7,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]).state;if(null==t)return!1;var n=!1;if(ss().size(t.usageHistory)>0){e.applicationCommandFrecency=hE.YI.create();e.applicationCommandFrecency.applicationCommands=(0,EE.tU)(t.usageHistory,500);n=!0}return n},
cleanup:function(){Ne.Z.remove("ApplicationCommandFrecency")}}];const gE=bE;var OE=n(443500),vE=n(824657),_E=n(337973);function SE(e,t){var n=!1;null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array});null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array);if(!(0,vE.jl)(e.userContent.dismissedContents,t)){e.userContent.dismissedContents=(0,vE.GV)(e.userContent.dismissedContents,t);n=!0}return n}function IE(e,t,n){return!!$f.qc.hasHiddenHotspot(t)&&SE(e,n)}var TE=[{version:2,run:function(e){var t;!function(e){e.Mentions="Recent Mentions";e.Unreads="Inbox"}(t||(t={}));if(null!=e.inbox)return!1;var n=!1,r=dn.f9.create();e.inbox=r;if(Ne.Z.get("seenInboxTutorial",!1)){r.viewedTutorial=!0;n=!0}var o,i=Ne.Z.get("recentsButtonTab2");if(null!=i){r.currentTab=i===t.Mentions?dn.X.MENTIONS:dn.X.UNREADS;n=!0}var a=null!==(o=Ne.Z.get("unread-messages-collapsed-channels"))&&void 0!==o?o:{};for(var s in a)if(a[s]){var c=I.Z.getChannel(s);if(null!=c){n=!0
;var l;(0,EE.i7)(e,null!==(l=c.guild_id)&&void 0!==l?l:"0",c.id,(function(e){e.collapsedInInbox=!0}))}}return n},cleanup:function(){Ne.Z.remove("seenInboxTutorial");Ne.Z.remove("recentsButtonTab2");Ne.Z.remove("unread-messages-collapsed-channels")}},{version:3,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{diversitySurrogate:Ne.Z.get("EmojiDiversitySurrogate")||""}}]).state;if(null==t)return!1;var n=!1;if(null!=t.diversitySurrogate&&""!==t.diversitySurrogate){null==e.textAndImages&&(e.textAndImages=dn.Me.create());null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=OE.Gm.create());e.textAndImages.diversitySurrogate.value=t.diversitySurrogate;n=!0}return n},cleanup:function(){}},{version:4,run:function(e){var t=!1;(!0===Ne.Z.get("HAS_SEEN_HUB_UPSELL")||$f.qc.hasHiddenHotspot($f.v6.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=SE(e,dn.z$.HUB_WAITLIST_UPSELL));return t},cleanup:function(){
Ne.Z.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run:function(e){var t,n,r,o,i,a,s,c=!1;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:dn.Me.create();e.notifications=null!==(n=e.notifications)&&void 0!==n?n:dn.sf.create();e.privacy=null!==(r=e.privacy)&&void 0!==r?r:dn.bE.create();e.voiceAndVideo=null!==(o=e.voiceAndVideo)&&void 0!==o?o:dn.v_.create();e.gameLibrary=null!==(i=e.gameLibrary)&&void 0!==i?i:dn.Fm.create();e.debug=null!==(a=e.debug)&&void 0!==a?a:dn.tA.create();var l=null!==(s=Ne.Z.get("UserSettingsStore"))&&void 0!==s?s:{};if("boolean"==typeof l.useRichChatTextBox){e.textAndImages.useRichChatInput=OE.D5.create({value:l.useRichChatTextBox});c=!0}if("string"==typeof l.renderSpoilers){e.textAndImages.renderSpoilers=OE.Gm.create({value:l.renderSpoilers});c=!0}if("boolean"==typeof l.useThreadSidebar){e.textAndImages.useThreadSidebar=OE.D5.create({value:l.useThreadSidebar});c=!0}if("boolean"==typeof l.showInAppNotifications){
e.notifications.showInAppNotifications=OE.D5.create({value:l.showInAppNotifications});c=!0}if(l.emojiPickerCollapsedSections instanceof Array){e.textAndImages.emojiPickerCollapsedSections=l.emojiPickerCollapsedSections;c=!0}if(l.stickerPickerCollapsedSections instanceof Array){e.textAndImages.stickerPickerCollapsedSections=l.stickerPickerCollapsedSections;c=!0}if("boolean"==typeof l.viewImageDescriptions){e.textAndImages.viewImageDescriptions=OE.D5.create({value:l.viewImageDescriptions});c=!0}if("boolean"==typeof l.showCommandSuggestions){e.textAndImages.showCommandSuggestions=OE.D5.create({value:l.showCommandSuggestions});c=!0}if("boolean"==typeof l.alwaysPreviewVideo){e.voiceAndVideo.alwaysPreviewVideo=OE.D5.create({value:l.alwaysPreviewVideo});c=!0}if("boolean"==typeof l.notifyFriendsOnGoLive){e.notifications.notifyFriendsOnGoLive=OE.D5.create({value:l.notifyFriendsOnGoLive});c=!0}if("boolean"==typeof l.installShortcutDesktop){e.gameLibrary.installShortcutDesktop=OE.D5.create({
value:l.installShortcutDesktop});c=!0}if("boolean"==typeof l.installShortcutStartMenu){e.gameLibrary.installShortcutStartMenu=OE.D5.create({value:l.installShortcutStartMenu});c=!0}if("boolean"==typeof l.allowActivityPartyPrivacyFriends){e.privacy.allowActivityPartyPrivacyFriends=OE.D5.create({value:l.allowActivityPartyPrivacyFriends});c=!0}if("boolean"==typeof l.allowActivityPartyPrivacyVoiceChannel){e.privacy.allowActivityPartyPrivacyVoiceChannel=OE.D5.create({value:l.allowActivityPartyPrivacyVoiceChannel});c=!0}if("boolean"==typeof l.rtcPanelShowVoiceStates){e.debug.rtcPanelShowVoiceStates=OE.D5.create({value:l.rtcPanelShowVoiceStates});c=!0}return c},cleanup:function(){}},{version:7,run:function(e){return IE(e,$f.v6.APPLICATION_COMMAND_TOOLTIP,dn.z$.APPLICATION_COMMAND_TOOLTIP)},cleanup:function(){}},{version:8,run:function(e){return IE(e,$f.v6.CHANNEL_BANNER_MEMBER_LIST_NOTICE,dn.z$.CHANNELINFO_CHANNELBANNER_NOTICE)},cleanup:function(){}},{version:9,run:function(e){
$f.qc.hasHiddenHotspot($f.v6.MULTI_ACCOUNT_TOOLTIP)&&Ne.Z.set(_E.Ip,"true");return IE(e,$f.v6.MULTI_ACCOUNT_TOOLTIP,dn.z$.ACCOUNT_MULTIACCOUNT_TOOLTIP)},cleanup:function(){}},{version:10,run:function(e){var t,n=IE(e,$f.v6.HUB_LINK_CHANNEL_NOTICE,dn.z$.CHANNEL_NOTICE_HUBLINK),r=null!==(t=Ne.Z.get("channelNotices"))&&void 0!==t?t:{};!1===r[M.vID.INVITE]&&SE(e,dn.z$.CHANNEL_NOTICE_INVITE)&&(n=!0);!1===r[M.vID.QUICKSWITCHER]&&SE(e,dn.z$.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0);!1===r[M.vID.GUILD_BOOSTING]&&SE(e,dn.z$.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0);return n},cleanup:function(){Ne.Z.remove("channelNotices")}},{version:11,run:function(e){var t=!1;IE(e,$f.v6.GUILD_EVENT_UPSELL,dn.z$.GUILD_HEADER_EVENT_UPSELL)&&(t=!0);IE(e,$f.v6.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,dn.z$.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0);IE(e,$f.v6.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,dn.z$.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0);return t},cleanup:function(){}},{version:12,
run:function(e){var t=!1;Ne.Z.get("hideNag")&&SE(e,dn.z$.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0);Ne.Z.get("hideConnectSpotify")&&SE(e,dn.z$.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);Ne.Z.get("hideConnectPlayStation")&&SE(e,dn.z$.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);Ne.Z.get("hideMFASMSNotice")&&SE(e,dn.z$.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0);return t},cleanup:function(){Ne.Z.remove("hideNag");Ne.Z.remove("hideConnectSpotify");Ne.Z.remove("hideConnectPlayStation");Ne.Z.remove("hideMFASMSNotice")}},{version:13,run:function(e){var t=!1;Ne.Z.get("hidePremiumPromo")&&SE(e,dn.z$.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0);Ne.Z.get("hidePremiumTier2TrialEnding")&&SE(e,dn.z$.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0);Ne.Z.get("hidePremiumReactivateNotice")&&SE(e,dn.z$.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0);IE(e,$f.v6.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,dn.z$.GUILD_HEADER_INVITE_SPLASH)&&(t=!0);return t},cleanup:function(){Ne.Z.remove("hidePremiumPromo");Ne.Z.remove("hidePremiumTier2TrialEnding")
;Ne.Z.remove("hidePremiumReactivateNotice")}},{version:14,run:function(e){return IE(e,$f.v6.ACTIVITY_BEB_TUTORIAL,dn.z$.ACTIVITIES_TUTORIAL_COACH_MARK)},cleanup:function(){}},{version:15,run:function(e){return IE(e,$f.v6.NOW_PLAYING_CONSENT_CARD,dn.z$.NOW_PLAYING_CONSENT_CARD)},cleanup:function(){}},{version:16,run:function(e){var t=Ne.Z.get("PromotionsPersistedStore");if(null==t)return!1;var n=t._state.lastDismissedOutboundPromotionStartDate;if(null!=n){null==e.userContent&&(e.userContent=dn.az.create());if(null==e.userContent.lastDismissedOutboundPromotionStartDate){e.userContent.lastDismissedOutboundPromotionStartDate=OE.Gm.create({value:n});return!0}}return!1},cleanup:function(){}},{version:17,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("ExpressionSuggestionsPersistedStore",null).state;if(null==t)return!1;var n=t.expressionSuggestionsEnabled;if(null!=n){null==e.textAndImages&&(e.textAndImages=dn.Me.create())
;if(null==e.textAndImages.expressionSuggestionsEnabled){e.textAndImages.expressionSuggestionsEnabled=OE.D5.create({value:n});return!0}}return!1},cleanup:function(){Ne.Z.remove("ExpressionSuggestionsPersistedStore")}},{version:18,run:function(e){var t=!1;IE(e,$f.v6.GUILD_DELETE_FEEDBACK,dn.z$.GUILD_DELETE_FEEDBACK)&&(t=!0);IE(e,$f.v6.GUILD_LEAVE_FEEDBACK,dn.z$.GUILD_LEAVE_FEEDBACK)&&(t=!0);return t},cleanup:function(){}},{version:19,run:function(e){var t,n=!1;null!==(t=Ne.Z.get("forumHelperCardStorageKey"))&&void 0!==t&&t&&(n=SE(e,dn.z$.FORUM_CHANNEL_HELPER_CARD));return n},cleanup:function(){Ne.Z.remove("forumHelperCardStorageKey")}}];const NE=TE;var CE=n(567164),AE=n(180918);const PE=function(){CE.Z[yE.yP.PRELOADED_USER_SETTINGS]=NE;CE.Z[yE.yP.FRECENCY_AND_FAVORITES_SETTINGS]=gE;O.Z.subscribe("CONNECTION_OPEN",jE);O.Z.subscribe("USER_SETTINGS_PROTO_ENQUEUE_UPDATE",RE);O.Z.subscribe("USER_SETTINGS_PROTO_LOAD_IF_NECESSARY",xE);O.Z.subscribe("APP_STATE_UPDATE",ME)};function jE(){
var e=dt.Z.getFullState(),t=e[yE.yP.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&AE.hW.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs);ss().forEach(AE.aj,(function(t,n){null!=e[Number(n)].editInfo.offlineEditDataVersion&&t.scheduleSaveFromOfflineEdit()}))}function RE(e){var t=e.settings,n=t.proto,r=t.type,o=e.delaySeconds,i=e.jitter;AE.aj[r].markDirty(n,{delaySeconds:o,jitter:i})}function xE(e){var t=e.settingsType;AE.aj[t].loadIfNecessary()}function ME(e){var t=e.state;"inactive"!==t&&"background"!==t||ss().forEach(AE.aj,(function(e,t){if(null!=dt.Z.getFullState()[Number(t)].editInfo.timeout){e.logger.log("Triggering persistChanges due to AppStateUpdate");e.persistChanges()}}))}var wE=n(562377);function ZE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LE(e){LE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return LE(e)}function DE(e,t){
return!t||"object"!==GE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function UE(e,t){UE=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return UE(e,t)}var kE,GE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function BE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=LE(e);if(t){var o=LE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DE(this,n)}}function HE(){var e,t=kE;if(null==t||!N.Z.isOpen(t))return!1;O.Z.wait((function(){return v.xv(t)}));null===(e=C.Z.getRTCConnection())||void 0===e||e.setPipOpen(!1);kE=null}function VE(){
var e=C.Z.getChannelId(),t=kE===e;if(function(){var e=C.Z.getChannelId(),t=A.Z.getChannelId();if(!qe.Z.supports($e.AN.VIDEO))return!0;if(S.Z.getWindowOpen(M.KJ3.CHANNEL_CALL_POPOUT))return!0;var n=xr.Z.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(j.Z.getVideoVoiceStatesForChannel(e)).some((function(e){var t=e.userId;return!qe.Z.isLocalVideoDisabled(t)}))||n))return!0;var r=T.Z.hasLayers();return!(r&&T.Z.getLayers().includes(M.S9g.RTC_DEBUG)||!r&&e!==t)}())return HE();t||HE();return null!=e&&function(e){var t,n=I.Z.getChannel(e);if(null==n||N.Z.isOpen(e))return!1;O.Z.wait((function(){return v.bA(n.id,M.NYg.VIDEO,{channel:n})}));null===(t=C.Z.getRTCConnection())||void 0===t||t.setPipOpen(!0);kE=e}(e)}var FE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&UE(e,t)}(n,e);var t=BE(n);function n(){
ZE(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){A.Z.addChangeListener(VE);P.Z.addChangeListener(VE);C.Z.addChangeListener(VE);j.Z.addChangeListener(VE);T.Z.addChangeListener(VE);xr.Z.addChangeListener(VE);S.Z.addChangeListener(VE);qe.Z.addChangeListener(VE);R.ZP.addChangeListener(VE)};r._terminate=function(){A.Z.removeChangeListener(VE);P.Z.removeChangeListener(VE);C.Z.removeChangeListener(VE);j.Z.removeChangeListener(VE);T.Z.removeChangeListener(VE);xr.Z.removeChangeListener(VE);S.Z.removeChangeListener(VE);qe.Z.removeChangeListener(VE);R.ZP.removeChangeListener(VE)};r.__getLocalVars=function(){return{openChannelId:kE}};return n}(_.Z);const YE=new FE;var WE=n(978627);function zE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KE(e){KE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return KE(e)}function qE(e,t){
return!t||"object"!==QE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function XE(e,t){XE=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return XE(e,t)}var QE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=KE(e);if(t){var o=KE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qE(this,n)}}var JE=18e6,ey=new Ru.V7,ty=new Ru.V7,ny=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&XE(e,t)}(n,e);var t=$E(n);function n(){zE(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){O.Z.subscribe("IDLE",this.handleIdleUpdate)};r._terminate=function(){ey.stop();ty.stop();O.Z.unsubscribe("IDLE",this.handleIdleUpdate)};r.handleIdleUpdate=function(){var e=WE.Z.getIdleSince();if(Gt.FB){ey.stop();ty.stop();var t=xr.Z.getAllActiveStreams(),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(i.value.state!==M.jm8.ENDED)return}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}if(null!=e){var s=C.Z.getChannelId();if(null!=s){ty.start(JE,(function(){d.default.selectVoiceChannel(null)}));var c=kt.Z.getGuild(C.Z.getGuildId());if(null!=c&&null!=c.afkChannelId&&c.afkChannelId!==s&&null!=c.afkTimeout){var l=I.Z.getChannel(s)
;null!=l&&(l.isGuildStageVoice()||ey.start(e+1e3*c.afkTimeout-Date.now(),(function(){null!=(c=kt.Z.getGuild(C.Z.getGuildId()))&&null!=c.afkChannelId&&d.default.selectVoiceChannel(c.afkChannelId)})))}}}}};r.__getLocalVars=function(){return{AUTO_DISCONNECT_TIME:JE,afkTimeout:ey,autoDisconnectTimeout:ty}};return n}(_.Z);const ry=new ny;var oy=n(18700),iy=n(172762),ay=n(970397),sy=n(520571),cy=n(733621),ly=n(626242);function uy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function dy(e){dy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return dy(e)}function py(e,t){return!t||"object"!==Ey(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e
}(e):t}function hy(e,t){hy=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return hy(e,t)}var Ey=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function yy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=dy(e);if(t){var o=dy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return py(this,n)}}var my={},by=my,gy=!1,Oy={},vy={},_y={},Sy={id:null,justChanged:!1},Iy={id:null,justChanged:!1},Ty=/\(([^)]+)\)/;function Ny(e){if((0,Gt.Xf)()===Gt.AB.WINDOWS){var t=e.name.match(Ty);if(null!=t)return t[1]}return e.name}function Cy(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n
}:e.type===M.QyF.INPUT&&n===M.QyF.OUTPUT||e.type===M.QyF.OUTPUT&&n===M.QyF.INPUT?{displayName:t,type:M.QyF.INPUT_AND_OUTPUT}:e}var Ay=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&hy(e,t)}(n,e);var t=yy(n);function n(){uy(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(qe.Z,dt.Z);by=null!=e?e:my};r.getUserAgnosticState=function(){return by};r.__getLocalVars=function(){return{initialState:my,state:by,initialized:gy,inputDevices:Oy,outputDevices:vy,lastDeviceConnected:_y,lastInputSystemDevice:Sy,lastOutputSystemDevice:Iy,WINDOWS_DEVICE_NAME_REGEX:Ty}};!function(e,t,n){t&&fy(e.prototype,t);n&&fy(e,n)}(n,[{key:"initialized",get:function(){return gy}},{key:"lastDeviceConnected",get:function(){return _y}},{key:"inputDevices",get:function(){return Oy}},{
key:"lastInputSystemDevice",get:function(){return Sy}},{key:"outputDevices",get:function(){return vy}},{key:"lastOutputSystemDevice",get:function(){return Iy}}]);return n}(s.ZP.DeviceSettingsStore);Ay.displayName="ConnectedDeviceStore";Ay.persistKey="ConnectedDeviceStore";const Py=new Ay(O.Z,{MEDIA_ENGINE_DEVICES:function(e){var t=e.inputDevices,n=e.outputDevices,r={};Sy.justChanged=!1;t.forEach((function(e){r[Ny(e)]=e.id;if(e.id===$e.w5){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==Sy.id&&(Sy.justChanged=!0);Sy.id=n}}));var o={};Iy.justChanged=!1;n.forEach((function(e){o[Ny(e)]=e.id;if(e.id===$e.w5){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==Iy.id&&(Iy.justChanged=!0);Iy.id=n}}));if(gy){var i=Object.keys(Oy),a=Object.keys(r),s=Object.keys(vy),c=Object.keys(o),l=ss().difference(i,a),u=ss().difference(s,c);if(l.length>0||u.length>0)_y={};else{ss().difference(a,i).forEach((function(e){_y[e]=Cy(_y[e],e,M.QyF.INPUT)}))
;ss().difference(c,s).forEach((function(e){_y[e]=Cy(_y[e],e,M.QyF.OUTPUT)}))}if(!ss().isEqual(i,a)||!ss().isEqual(s,c)){Oy=r;vy=o;return!0}return!1}Oy=r;vy=o;gy=!0},CONNECTED_DEVICE_SET:function(e){var t=e.displayName;!function(e,t,n){if(t===M.aVf.INPUT||t===M.aVf.INPUT_AND_OUTPUT){var r=Oy[e];null!=r&&O.Z.wait((function(){return Ke.Z.setInputDevice(r,n)}))}if(t===M.aVf.OUTPUT||t===M.aVf.INPUT_AND_OUTPUT){var o=vy[e];O.Z.wait((function(){return Ke.Z.setOutputDevice(o,n)}))}}(t,e.connectedDevicePreference,e.location);delete _y[t]},CONNECTED_DEVICE_IGNORE:function(e){var t=e.displayName;delete _y[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(){_y={};by={neverShowModal:!0}}});function jy(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Ry(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){jy(i,r,o,a,s,"next",e)}function s(e){jy(i,r,o,a,s,"throw",e)}a(void 0)}))}}
var xy=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},My=new Set(["DisplayPort"]),wy=!1;function Zy(){if(!wy){var e=qe.Z.getInputDeviceId(),t=qe.Z.getOutputDeviceId();if(!Py.getState().neverShowModal&&!ss().isEmpty(Py.lastDeviceConnected)){var o=Ny(qe.Z.getInputDevices()[e]),i=Ny(qe.Z.getOutputDevices()[t]),a=ss().some(Py.lastDeviceConnected,(function(e){return My.has(e.displayName)||e.displayName===o||e.displayName===i}));if(!a){var s=ss().some(Py.lastDeviceConnected,(function(e){return ly.Z.isCertified(Py.inputDevices[e.displayName])||ly.Z.isCertified(Py.outputDevices[e.displayName])}));if(!(e===$e.w5&&Py.lastInputSystemDevice.justChanged||t===$e.w5&&Py.lastOutputSystemDevice.justChanged)||s){var c=ss().first(Object.keys(Py.lastDeviceConnected)),l=null!=c&&""!==c?Py.lastDeviceConnected[c]:null;if(null!=l){var u
;Py.initialized&&null!=c&&(ly.Z.isCertified(Py.inputDevices[c])?u=ly.Z.getCertifiedDevice(Py.inputDevices[c]):ly.Z.isCertified(Py.outputDevices[c])&&(u=ly.Z.getCertifiedDevice(Py.outputDevices[c])));wy=!0;(0,W.ZD)(Ry((function(){var e,t;return xy(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(92623)]).then(n.bind(n,392623))];case 1:e=o.sent(),t=e.default;return[2,function(e){var n=e.transitionState,o=e.onClose;return(0,r.jsx)(t,{device:l,certifiedDeviceMetadata:u,transitionState:n,onClose:function(){wy=!1;return o()}})}]}}))})))}}}}}}const Ly=function(){Py.addChangeListener(Zy)};var Dy=n(134734);function Uy(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function ky(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Uy(i,r,o,a,s,"next",e)}function s(e){Uy(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Gy=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},By=!1,Hy=null;const Vy=function(){O.Z.subscribe("CONNECTION_OPEN",(function(e){var t=e.pendingPayments;if(null!=t&&t.length>0){if(Hy===t[0])return;if(null==(Hy=t[0]))return;!function(e){if(!By){By=!0;(0,W.ZD)(ky((function(){var t,o;return Gy(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(8941)]).then(n.bind(n,608941))];case 1:t=i.sent(),o=t.default;return[2,function(t){var n=t.transitionState,i=t.onClose;return(0,r.jsx)(o,{pendingPayment:e,transitionState:n,onClose:function(){By=!1;return i()}})}]}}))})))}}(Hy)}}))};var Fy=n(905435),Yy=n(430923),Wy=n(248604),zy=n(645897),Ky=n(402801);function qy(e,t,n){o.useEffect((function(){var r=t(),o=new s.Fh(e,(function(){var e=t(),o=n(r,e);null==o||Kd.Z.isSoundDisabled(o)||(0,Ky.GN)(o,.4);r=e}));o.attach("useSound");return function(){return o.detach()}}))}function Xy(){qy([qe.Z],(function(){return{selfMute:qe.Z.isSelfMute(),selfDeaf:qe.Z.isSelfDeaf(),
audioPermissionReady:qe.Z.isNativeAudioPermissionReady()}}),(function(e,t){var n=t.selfMute,r=t.selfDeaf,o=t.audioPermissionReady;return e.selfDeaf!==r?r?"deafen":"undeafen":o&&e.selfMute!==n?n?"mute":"unmute":void 0}));return null}function Qy(){qy([I.Z,C.Z,A.Z,Yy.Z],(function(){var e=I.Z.getChannel(A.Z.getVoiceChannelId());return{channelType:null==e?void 0:e.type,disconnected:C.Z.isDisconnected(),awaitingRemote:null!=Yy.Z.getAwaitingRemoteSessionInfo(),connectedRemote:null!=Yy.Z.getRemoteSessionId()}}),(function(e,t){var n=t.channelType,r=t.disconnected,o=t.awaitingRemote,i=t.connectedRemote,a=e.channelType,s=e.disconnected,c=e.connectedRemote,l=o||i,u=!s&&r;if(s&&!r||i&&!c){if(null!=n&&Us.Lr.has(n))return;return"user_join"}if(u){if(l||null!=a&&Us.Lr.has(a))return;return"disconnect"}}));return null}function $y(){qy([Wy.Z],(function(){return Wy.Z.isCurrentUserSpeaking()}),(function(e,t){if(e!==t){var n=qe.Z.isSelfMute()
;if(qe.Z.getMode()===M.pM4.PUSH_TO_TALK&&!n)return t?"ptt_start":"ptt_stop"}}));return null}function Jy(){qy([qe.Z],(function(){return qe.Z.isSelfMutedTemporarily()}),(function(e,t){if(e!==t){var n=qe.Z.isSelfMute();if(qe.Z.getMode()===M.pM4.VOICE_ACTIVITY&&!n)return t?"ptt_stop":"ptt_start"}}));return null}function em(){qy([j.Z],(function(){return j.Z.userHasBeenMovedVersion}),(function(e,t){if(e!==t)return"user_moved"}));return null}function tm(){qy([A.Z,j.Z],(function(){var e=A.Z.getVoiceChannelId();if(null==e)return bd.xO.NONE;var t=j.Z.getVoiceStateForChannel(e);return(0,bd.gf)(t)}),(function(e,t){if(e!==t&&t===bd.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}));return null}function nm(){qy([A.Z,xr.Z,nr.default,j.Z,I.Z],(function(){var e,t=A.Z.getVoiceChannelId(),n=nr.default.getId(),r=0,o=[],i=null,a=0,s=xr.Z.getAllActiveStreams();if(null!=t){var c=I.Z.getChannel(t);if(null!=c){e=c.type;r=zy.ZP.countVoiceStatesForChannel(c.id)-1
;o=xr.Z.getAllApplicationStreamsForChannel(c.id).map((function(e){return e.ownerId}))}}var l=null;(null==(l=1===s.length?s[0]:xr.Z.getCurrentUserActiveStream())?void 0:l.state)===M.jm8.CONNECTING&&(l=null);if(null!=l){i=(0,Rr.V9)(l);a=xr.Z.getViewerIds(i).filter((function(e){return e!==n})).length}return{channelType:e,voiceChannelId:t,voiceChannelUserCount:r,streamingUserIds:o,singleActiveStreamKey:i,singleActiveStreamViewerCount:a,currentUserId:n,allActiveStreams:s}}),(function(e,t){var n=t.channelType,r=t.voiceChannelId,o=t.voiceChannelUserCount,i=t.streamingUserIds,a=t.singleActiveStreamKey,s=t.singleActiveStreamViewerCount,c=t.currentUserId;if(e.voiceChannelId===r&&null!=r&&!(function(e){var t=I.Z.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=kt.Z.getGuild(n);return null!=r&&r.afkChannelId===t.id}(r)||null!=n&&Us.Lr.has(n))){var l=null!=a&&e.singleActiveStreamKey===a,u=i.some((function(t){return!e.streamingUserIds.includes(t)
})),f=e.allActiveStreams.map((function(e){return e.ownerId})),d=e.streamingUserIds.some((function(e){return!i.includes(e)&&(e===c||f.includes(e))}));return u?"stream_started":d?"stream_ended":e.singleActiveStreamViewerCount<=25&&l&&s>e.singleActiveStreamViewerCount?"stream_user_joined":e.voiceChannelUserCount<=25&&o>e.voiceChannelUserCount?"user_join":e.voiceChannelUserCount<=25&&o<e.voiceChannelUserCount?"user_leave":e.singleActiveStreamViewerCount<=25&&l&&s<e.singleActiveStreamViewerCount?"stream_user_left":void 0}}));return null}function rm(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Xy,{}),(0,r.jsx)(Qy,{}),(0,r.jsx)($y,{}),(0,r.jsx)(Jy,{}),(0,r.jsx)(em,{}),(0,r.jsx)(nm,{}),(0,r.jsx)(tm,{})]})}var om=n(676384),im=n(248088),am=n(848828),sm=n(737172),cm=n(923947),lm=n.n(cm);function um(){var e=[{keybinds:["Spacebar","Enter"],name:te.Z.Messages.DND_OPERATION_LABEL_DROP},{keybinds:["up","down"],name:te.Z.Messages.DND_OPERATION_LABEL_MOVE},{keybinds:["ESC"],
name:te.Z.Messages.DND_OPERATION_LABEL_CANCEL}],t=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion})),n=(0,sm.zP)();return(0,im.useTransition)(n,{enter:{from:{opacity:0,y:t?0:80},to:{opacity:1,y:0}},leave:{opacity:0,y:t?0:80},config:im.config.stiff})((function(t,n){return n?(0,r.jsx)("div",{className:lm().positioner,children:(0,r.jsx)(im.animated.div,{className:lm().container,style:t,children:e.map((function(t,n){var i=t.keybinds,a=t.name;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(q.xv,{variant:"text-md/semibold",className:lm().bindName,children:a}),i.map((function(e){return(0,r.jsx)(am.Z,{shortcut:e,className:lm().shortcut},e)})),n<e.length-1?(0,r.jsx)("span",{className:lm().separator}):null]},a)}))})}):null}))}var fm=n(658826),dm=n(479049),pm=n.n(dm),hm=n(131795),Em=n.n(hm),ym=n(953143),mm=n(9906);function bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gm(e){gm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return gm(e)}function Om(e,t){return!t||"object"!==_m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vm(e,t){vm=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return vm(e,t)}var _m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Sm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=gm(e);if(t){var o=gm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Om(this,n)}}var Im="IncomingCallStore",Tm={width:232,height:315},Nm=new Set,Cm=[],Am=new Map,Pm=new Set,jm=0,Rm=0,xm=!1;!function(){0
;var e=Ne.Z.get(Im);if(null!=e){jm=+e.x;Rm=+e.y}else{var t=n(426217).Z.windowSize();jm=t.width/2-Tm.width/2;Rm=t.height/2-Tm.height/2}}();function Mm(e){if(null==e)return!1;if(null==Am.get(e))return!1;Am.delete(e);(Pm=new Set(Pm)).delete(e)}function wm(e){var t=e.channelId,n=e.ringing.includes(nr.default.getId());if(!Pm.has(t)&&n){var r=I.Z.getChannel(t);if(null==r)return!1;var o=10*Pm.size;Am.set(t,{channel:r,x:jm+o,y:Rm+o});(Pm=new Set(Pm)).add(t)}else{if(!Pm.has(t)||n)return!1;Mm(t)}}function Zm(){xm=Ou.Z.getStatus()===M.Skl.DND}var Lm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&vm(e,t)}(n,e);var t=Sm(n);function n(){bm(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(I.Z,Ou.Z);this.syncWith([Ou.Z],Zm)};r.getIncomingCalls=function(){
return xm?Cm:Array.from(Am.values())};r.getIncomingCallChannelIds=function(){return xm?Nm:Pm};r.getFirstIncomingCallId=function(){return xm?null:Pm.values().next().value};r.hasIncomingCalls=function(){return!xm&&Pm.size>0};r.__getLocalVars=function(){return{INCOMING_CALL_MODAL_POSITION:Im,DIMENSIONS:Tm,MULTIPLE_MODAL_OFFSET:10,DND_ACTIVE_CALLS:Nm,NO_INCOMING_CALLS:Cm,incomingCalls:Am,activeCalls:Pm,x:jm,y:Rm,dnd:xm}};return n}(s.ZP.Store);Lm.displayName="IncomingCallStore";const Dm=new Lm(O.Z,{CALL_CREATE:wm,CALL_UPDATE:wm,CALL_DELETE:function(e){return Mm(e.channelId)},VOICE_CHANNEL_SELECT:function(e){return Mm(e.channelId)},INCOMING_CALL_MOVE:function(e){var t=e.x,n=e.y;jm=t;Rm=n;Ne.Z.set(Im,{x:jm,y:Rm});return!1},CHANNEL_DELETE:function(e){return Mm(e.channel.id)}});var Um=new Set(["Blink","Gecko","WebKit"]),km=M.dG4;if(Gt.FB)km=function(e){return vs.default.setBadge(e)};else if(Um.has(Em().layout)){var Gm=new(pm())({animation:"none"});km=function(e){try{(0,ym.PR)(e)
;Gm.badge(-1===e?"•":e)}catch(e){}}}function Bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hm(e){Hm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Hm(e)}function Vm(e,t){return!t||"object"!==Ym(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fm(e,t){Fm=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Fm(e,t)}var Ym=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Wm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Hm(e);if(t){var o=Hm(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vm(this,n)}}var zm=pE()({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),Km=(0,Gt.id)()?null:zm.DEFAULT,qm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Fm(e,t)}(n,e);var t=Wm(n);function n(){Bm(this,n);var e;(e=t.apply(this,arguments)).getIcon=function(){var t=e.props,n=t.deafened,r=t.muted,o=t.speaking,i=t.connected,a=t.unread,s=Km;if((0,Gt.id)()&&!i)return s;if((0,Gt.IJ)()||!i){a&&(s=zm.UNREAD);return s}return s=n?zm.DEAFENED:r?zm.MUTED:o?zm.SPEAKING:zm.CONNECTED};return e}var r=n.prototype;r.componentDidMount=function(){vs.default.setSystemTrayIcon(this.getIcon())};r.componentDidUpdate=function(){vs.default.setSystemTrayIcon(this.getIcon())};r.componentWillUnmount=function(){
vs.default.setSystemTrayIcon(Km)};r.render=function(){return null};return n}(o.PureComponent),Xm=function(){return null};if(Gt.FB){vs.default.on("SYSTEM_TRAY_TOGGLE_MUTE",(function(){return Ke.Z.toggleSelfMute()}));vs.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",(function(){return Ke.Z.toggleSelfDeaf()}));vs.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",(function(){h.Z.open(M.oAB.VOICE)}));Xm=s.ZP.connectStores([C.Z,qe.Z,Wy.Z,mm.Z,ps.Z,Kd.Z],(function(){var e=mm.Z.getTotalMentionCount(),t=mm.Z.hasAnyUnread(),n=ps.Z.getPendingCount(),r=!Kd.Z.getDisableUnreadBadge()&&!!(t||e+n>0);return{connected:C.Z.isConnected(),speaking:Wy.Z.isCurrentUserSpeaking(),muted:qe.Z.isSelfMute()||qe.Z.isSelfMutedTemporarily(),deafened:qe.Z.isSelfDeaf(),unread:r}}))(qm)}const Qm=Xm
;var $m=n(838297),Jm=n(725749),eb=n(67874),tb=n(180445),nb=n(647446),rb=n(125447),ob=n(539636),ib=n(78470),ab=n(283533),sb=n(558128),cb=n(971906),lb=n(747465),ub=n(99250),fb=n(281081),db=n(925428),pb=n(29189),hb=n(425309),Eb=n(23816),yb=n(691869),mb=n(282528),bb=n(772235),gb=n(630695),Ob=n(402124),vb=n(179468),_b=n(171447),Sb=n(719455),Ib=n(905567),Tb=n(895383),Nb=n.n(Tb);function Cb(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Ab(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Cb(i,r,o,a,s,"next",e)}function s(e){Cb(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Pb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function jb(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Rb=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function xb(e){var t=e.channelId,i=e.baseChannelId,a=e.channelViewSource,c=void 0===a?"Split View":a,l=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(t)})),u=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(null==l?void 0:l.getGuildId())})),f=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),d=(0,s.e7)([vb.Z],(function(){return vb.Z.didAgree(null==l?void 0:l.guild_id)})),p=!0===(null==f?void 0:f.nsfwAllowed),h=(0,Yd.ZP)(l),E=(0,s.e7)([gb.Z],(function(){return null!=(null==u?void 0:u.id)&&gb.Z.isLurking(u.id)}),[u]),y=(0,s.e7)([En.Z],(function(){return En.Z.can(M.Plq.SEND_MESSAGES,l)
})),m=o.useRef(!1);o.useEffect((function(){if(null!=l&&!m.current){m.current=!0;(0,Eb.yw)(M.rMx.CHANNEL_OPENED,{channel_id:l.id,guild_id:l.guild_id,parent_id:l.parent_id,channel_view:c,can_send_message:y})}}),[l,c,y]);if(null==l||null==u)return null;var b=[];E||b.push((0,r.jsx)(mb.Z,{channel:l},"notifications"));b.push((0,r.jsx)(Ib.ZP.Icon,{icon:Sb.Z,tooltip:te.Z.Messages.CLOSE,onClick:function(){return Qf.Z.closeChannelSidebar(i)}},"close"));return!l.isNSFW()||p&&d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(pb.Z,{channel:l,draftType:Ob.d.ChannelMessage}),(0,r.jsx)(Ib.ZP,{toolbar:b,"aria-label":te.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:(0,bb.ud)({channel:l,channelName:h,guild:u,inSidebar:!0,handleContextMenu:function(e){(0,fb.jW)(e,Ab((function(){var e,t;return Rb(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(57501),n.e(12746)]).then(n.bind(n,612746))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,jb(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pb(e,t,n[t])}))}return e}({},e),{channel:l,guild:u}))}]}}))})))},handleClick:function(){var e=_b.Z.getMessages(l.id);(0,X.XU)(l.guild_id,l.id,e.jumpTargetId)}})}),(0,r.jsx)("div",{className:Nb().chat,children:(0,r.jsx)(db.Z,{channel:l,guild:u,chatInputType:yb.I.SIDEBAR},t)})]}):(0,r.jsx)(hb.Z,{guild:u})}var Mb=n(192202),wb=n(805448),Zb=n(820464),Lb=n(897193),Db=n(730381),Ub=n.n(Db),kb=n(810676),Gb=n(124522),Bb=n(272898),Hb=n(481542),Vb=n(808525),Fb=n(14563);function Yb(e,t){var n,r=function(n){var r=e[n],o=t[n];return r.length!==o.length?{v:!1}:r.some((function(e,t){return o[t]!==e}))?void 0:{v:!1}};if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++){var i=r(o)
;if("object"==((n=i)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n))return i.v}return!0}var Wb=n(127394),zb=n(435500),Kb=n(757987),qb=n(240243);function Xb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Qb(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Jb(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,s=void 0===a?"currentColor":a,c=$b(e,["width","height","color"]);return(0,r.jsxs)("svg",Qb(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Xb(e,t,n[t])}))}return e}({},(0,qb.Z)(c)),{width:n,height:i,viewBox:"0 0 16 16",children:[(0,r.jsx)("circle",{cx:"8",cy:"8",r:"5.5",transform:"rotate(180 8 8)",stroke:"#A3A6AA"}),(0,r.jsx)("path",{d:"M13.197 5.00035C12.6704 4.08824 11.913 3.33081 11.0008 2.8042C10.0887 2.27759 9.05406 2.00035 8.00084 2.00035L8.00084 8.00035L13.197 5.00035Z",fill:s})]}))}
function eg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tg(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ng(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function rg(e){
var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,s=void 0===a?"currentColor":a,c=ng(e,["width","height","color"]);return(0,r.jsxs)("svg",tg(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eg(e,t,n[t])}))}return e}({},(0,qb.Z)(c)),{width:n,height:i,viewBox:"0 0 16 16",children:[(0,r.jsx)("circle",{cx:"8.19531",cy:"8.19629",r:"5.5",transform:"rotate(180 8.19531 8.19629)",stroke:"#A3A6AA"}),(0,r.jsx)("path",{
d:"M3.00027 11.1964C3.52688 12.1085 4.28431 12.866 5.19643 13.3926C6.10854 13.9192 7.14321 14.1964 8.19643 14.1964C9.24965 14.1964 10.2843 13.9192 11.1964 13.3926C12.1085 12.866 12.866 12.1085 13.3926 11.1964C13.9192 10.2843 14.1964 9.24965 14.1964 8.19643C14.1964 7.14321 13.9192 6.10854 13.3926 5.19643C12.866 4.28431 12.1085 3.52688 11.1964 3.00027C10.2843 2.47366 9.24964 2.19643 8.19642 2.19643L8.19643 8.19643L3.00027 11.1964Z",fill:s})]}))}function og(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ig(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ag(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function sg(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,s=void 0===a?"currentColor":a,c=ag(e,["width","height","color"]);return(0,r.jsxs)("svg",ig(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){og(e,t,n[t])}))}return e}({},(0,qb.Z)(c)),{width:n,height:i,
viewBox:"0 0 16 16",children:[(0,r.jsx)("circle",{cx:"8.19531",cy:"8.19629",r:"5.5",transform:"rotate(180 8.19531 8.19629)",stroke:"#A3A6AA"}),(0,r.jsx)("path",{d:"M8.19727 14.1963C9.78856 14.1963 11.3147 13.5641 12.4399 12.4389C13.5651 11.3137 14.1973 9.78759 14.1973 8.19629C14.1973 6.60499 13.5651 5.07887 12.4399 3.95365C11.3147 2.82843 9.78857 2.19629 8.19727 2.19629L8.19727 8.19629L8.19727 14.1963Z",fill:s})]}))}var cg=n(766936),lg=n(281757),ug=n.n(lg),fg=n(435696),dg=n.n(fg),pg=n(454675),hg=n.n(pg);function Eg(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function yg(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Eg(i,r,o,a,s,"next",e)}function s(e){Eg(i,r,o,a,s,"throw",e)}a(void 0)}))}}function mg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bg(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mg(e,t,n[t])}))}return e}function gg(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Og,vg=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_g=(Og=yg((function(){return vg(this,(function(e){switch(e.label){case 0:return[4,n.e(54437).then(n.bind(n,854437))];case 1:return[2,e.sent().default]}}))})),function(){
return Og.apply(this,arguments)}),Sg=function(e){var t,n,i,a=e.featuredItem,c=e.className,l=rg,u=(0,s.e7)([Y.default],(function(){return Y.default.getUser(a.details.actorUserId)}),[a]),f=o.useMemo((function(){return null==u?{}:mg({},a.guildId,[u.id])}),[a.guildId,u]);(0,Hb.$)(f);switch(t=(n=a.details.expiresAt,(i=Ub()(n).diff(Ub()(),"s"))<=Fb.qZ.ONE_DAY?"text-danger":i<=Fb.qZ.THREE_DAYS?"text-warning":"text-positive")){case"text-danger":l=Jb;break;case"text-warning":l=sg;break;case"text-positive":l=rg}return(0,r.jsxs)("div",{className:Xp()(c,ug().header),children:[(0,r.jsxs)("div",{className:ug().expirationContainer,children:[(0,r.jsx)(l,{color:kb.v[t],"aria-hidden":!0,className:ug().expiredIcon}),(0,r.jsx)(q.xv,{color:t,variant:"text-sm/normal",children:te.Z.Messages.GUILD_FEED_FEATURED_EXPIRED_IN.format({fromNow:Ub()(a.details.expiresAt).fromNow()})})]}),(0,r.jsx)(Wb.Z,{height:4,width:4,"aria-hidden":"true",className:ug().dotIcon}),(0,r.jsxs)("div",{
className:ug().featuredByContainer,children:[(0,r.jsx)(q.xv,{className:ug().featuredByText,variant:"text-sm/normal",children:te.Z.Messages.GUILD_FEED_FEATURED_BY}),null!=u&&(0,r.jsx)(cg.ZP,{size:cg.ZP.Sizes.SIZE_16,src:u.getAvatarURL(void 0,16),"aria-hidden":!0})]})]})},Ig=function(e){var t=e.channel,n=(0,Yd.ZP)(t),o=(0,Vb.KS)(t),i=(0,Vb.bT)(t);return null==t?null:(0,r.jsxs)("div",{className:ug().channelHeaderContainer,children:[null!=o?(0,r.jsx)(Kb.ZP,{text:i,delay:500,children:function(e){return(0,r.jsx)(o,gg(bg({},e),{className:ug().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(q.X6,{className:ug().channelHeader,variant:"text-sm/semibold",children:n})]})},Tg=o.memo((function(e){var t=e.guildId,n=e.featuredItem,o=(0,s.e7)([Lb.ZP],(function(){return Lb.ZP.getCachedMessage(t,n.message.channel_id,n.message.id)})),i=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(null==o?void 0:o.channel_id)}));if(null==i||null==o)return null;return(0,r.jsxs)(q.P3,{onContextMenu:function(e){
e.stopPropagation();(0,fb.jW)(e,yg((function(){var e;return vg(this,(function(t){switch(t.label){case 0:return[4,_g()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,gg(bg({},t),{messageItem:n,channel:i,message:o}))}]}}))})))},className:ug().featuredItemsGroupWrapper,children:[(0,r.jsx)(Sg,{featuredItem:n.featuredItem}),(0,r.jsx)(Ig,{channel:i}),(0,r.jsx)(zb.Z,{className:ug().featuredItemsGroupCozy,message:o,channel:i})]})})),Ng=o.memo((function(e){var t=e.guildId,n=e.featuredItem,o=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(n.thread.id)})),i=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(null==o?void 0:o.parent_id)})),a=(0,s.e7)([Lb.ZP],(function(){return Lb.ZP.getCachedMessage(t,n.message.channel_id,n.message.id)}));if(null==a||null==i||null==o)return null;return(0,r.jsxs)(q.P3,{onContextMenu:function(e){e.stopPropagation();(0,fb.jW)(e,yg((function(){var e;return vg(this,(function(t){switch(t.label){case 0:return[4,_g()];case 1:e=t.sent();return[2,function(t){
return(0,r.jsx)(e,gg(bg({},t),{messageItem:n,channel:o,message:a}))}]}}))})))},className:ug().featuredItemsGroupWrapper,children:[(0,r.jsx)(Sg,{featuredItem:n.featuredItem}),(0,r.jsx)(Ig,{channel:i}),(0,r.jsx)(q.X6,{className:ug().forumPostHeading,variant:"heading-md/semibold",children:o.name}),(0,r.jsx)(zb.Z,{className:ug().featuredItemsGroupCozy,message:a,channel:o})]},a.id)}));function Cg(e){var t=e===M.BRd.LIGHT?hg():dg();return(0,r.jsxs)("div",{className:ug().emptyPlaceholder,children:[(0,r.jsx)("div",{className:ug().emptyImage,style:{backgroundImage:"url(".concat(t,")")}}),(0,r.jsx)("div",{className:ug().emptyBody,children:te.Z.Messages.GUILD_FEED_FEATURED_ITEMS_NO_ITEMS})]})}function Ag(){return(0,r.jsx)(Bb.h4,{title:te.Z.Messages.GUILD_FEED_FEATURE_MESSAGE})}function Pg(e){var t=e.guildId,n=(0,s.Wu)([Lb.ZP],(function(){return Lb.ZP.getFeaturedItems(t)}),[t]),i=(0,s.e7)([Lb.ZP],(function(){return Lb.ZP.getFeaturedItemsFetchStatus(t)}),[t]);o.useEffect((function(){(0,Zb.ZR)(t)
}),[t]);return(0,r.jsx)(q.Vq,{"aria-label":te.Z.Messages.GUILD_FEED_FEATURED_MESSAGES,children:(0,r.jsx)(Bb.QV,{analyticsName:"Featured Feed Items Popout",listName:"featuredMessages",items:n,loading:i.loading!==Lb.Q.NONE,renderEmptyState:Cg,renderHeader:Ag,renderItem:function(e){return null==e?[]:e.type===Gb.w.MESSAGE?[(0,r.jsx)(Tg,{guildId:t,featuredItem:e},e.id)]:e.type===Gb.w.FORUM_POST?[(0,r.jsx)(Ng,{guildId:t,featuredItem:e},e.id)]:[]}})})}var jg=n(761434),Rg=n(415397);function xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){Mg(e,t,n[t])}))}return e}function Zg(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Lg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xg(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Dg=function(e){var t=e.guildId,n=Lg(o.useState(!1),2),i=n[0],a=n[1],s=o.useCallback((function(){a((function(e){return!e}))}),[]);return(0,r.jsx)(jg.ZP,{shouldShow:i,animation:jg.ZP.Animation.NONE,position:jg.ZP.Positions.BOTTOM,align:jg.ZP.Align.RIGHT,autoInvert:!1,ignoreModalClicks:!0,onRequestClose:function(){return a(!1)},renderPopout:function(e){return(0,r.jsx)(Pg,wg({guildId:t},e))},children:function(e,t){var n=t.isShown;return(0,r.jsx)(Ib.JO,Zg(wg({},e),{onClick:s,tooltip:n?null:te.Z.Messages.GUILD_FEED_FEATURED_ITEMS,icon:Rg.Z,
"aria-label":te.Z.Messages.GUILD_FEED_FEATURED_ITEMS,selected:n}))}})};var Ug=n(782226),kg=n(672549),Gg=n(365723),Bg=n(664970),Hg=n(329480),Vg=n(202552),Fg=n(759194),Yg=n(647349),Wg=n(812197),zg=n(318937),Kg=n(821098),qg=n(814281),Xg=n(449024),Qg=n(533381),$g=n(407723),Jg=n(86046),eO=n(613258),tO=n(217891);function nO(){var e=(0,a.TH)(),t=(0,i.parse)(e.search),n=t.highlight_channel_id,r=t.highlight_message_id;return o.useMemo((function(){return null!=r&&null!=n?{messageId:r,channelId:n}:null}),[n,r])}var rO=n(705475),oO=n(952013),iO=n(179350),aO=n(11229);var sO=n(414597),cO=n(35236);function lO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){
s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fO=function(e){var t=uO(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[I.Z,En.Z,aO.Z],3),n=t[0],r=t[1],o=t[2],i=o.getActiveChannelIds(e),a=null!=i?Array.from(i):[];return a.map((function(e){return n.getChannel(e)})).filter(No.lm).filter((function(e){if(null==e?void 0:e.hasFlag(cO.zZ.ACTIVE_CHANNELS_REMOVED))return!1;if(!(0,Us.Qm)(e.type))return!1;if(!r.can(M.Plq.VIEW_CHANNEL,e))return!1
;var t=n.getChannel(e.parent_id);return!e.isThread()||null==t||!(null==t?void 0:t.hasFlag(cO.zZ.ACTIVE_CHANNELS_REMOVED))}))},dO=function(e,t){var n,r=uO(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[En.Z,I.Z,zy.ZP,kt.Z],4),o=r[0],i=r[1],a=r[2],s=r[3],c=a.getVoiceStates(e),l=Object.keys(c).filter((function(e){return c[e].length>0})),u=null===(n=s.getGuild(e))||void 0===n?void 0:n.afkChannelId;return l.filter((function(e){return e!==u&&e!==(null==t?void 0:t.channel_id)})).map((function(e){return i.getChannel(e)})).filter(No.lm).filter((function(e){return!(null==e?void 0:e.hasFlag(cO.zZ.ACTIVE_CHANNELS_REMOVED))&&o.can(M.Plq.VIEW_CHANNEL,e)}))},pO=n(436053),hO=n(169445),EO=n(462298),yO=n.n(EO),mO=n(572274),bO=n.n(mO);function gO(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function OO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gO(e,t,n[t])}))}return e}function vO(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var _O=o.forwardRef((function(e,t){var n,o=e.shouldUseCollapsedLayout,i=void 0===o||o,a=e.listItemId,s=e.onClick,c=e.icon,l=e.iconTooltipText,u=e.textNode,f=e.header,d=e.accessoryNode,p=e.children,h=(0,cb.Z)(hO.Gj),E=(0,rb.JA)(null!=a?a:"");return(0,r.jsxs)("div",{ref:t,className:Xp()(yO().container,(n={},
gO(n,yO().containerCard,h),gO(n,yO().collapsedLayout,h&&i),n)),children:[(0,r.jsxs)(q.P3,vO(OO({className:yO().body,onClick:s},null!=a?E:void 0),{children:[(0,r.jsxs)("div",{className:yO().details,children:[null!=c?(0,r.jsx)(Kb.ZP,{text:l,delay:500,children:function(e){return(0,r.jsx)("div",vO(OO({},e),{className:yO().iconContainer,children:c}))}}):null,(0,r.jsx)(q.X6,{className:yO().title,variant:"heading-sm/semibold",lineClamp:1,children:f}),(0,r.jsx)("div",{className:yO().subtitle,children:u})]}),null!=d&&(0,r.jsx)("div",{className:yO().accessoryContainer,children:d})]})),p]})})),SO=o.forwardRef((function(e,t){var n=e.children,o=e.guildId,i=e.channel,a=e.text,s=e.activityIndicator,c=e.usersInSummary,l=e.onChannelClick,u=e.channelIconOptions,f=(0,cb.Z)(hO.Gj),d=(0,Vb.KS)(i,null,u);return(0,r.jsx)(_O,{ref:t,textNode:null!=a?(0,r.jsx)(q.xv,{className:yO().channelSubtitle,variant:"text-xs/normal",children:a}):null,listItemId:i.id,accessoryNode:(0,r.jsx)(pO.Z,{guildId:o,users:c,
size:f?pO.u.SIZE_24:pO.u.SIZE_16,max:f?5:3,extraDetail:s}),onClick:l,icon:null!=d&&(0,r.jsx)(d,{width:16,height:16}),iconTooltipText:(0,Vb.bT)(i),header:i.name,children:n})}));function IO(){return(0,r.jsxs)("div",{className:Xp()(yO().container,yO().containerCard,yO().fillerCard),children:[(0,r.jsx)("img",{src:bO(),className:yO().spacerChannelImg,alt:"","aria-hidden":!0}),(0,r.jsxs)("div",{className:yO().fillerText,children:[(0,r.jsx)(q.X6,{className:yO().title,variant:"heading-sm/semibold",children:te.Z.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_TITLE}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",children:te.Z.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_SUBTITLE})]})]})}var TO=n(615595);function NO(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function CO(e){var t=e.guildId,n=(0,cb.Z)(hO.Gj);return(0,r.jsxs)(r.Fragment,{children:[as.times(n?4:3,(function(e){var o;return(0,r.jsxs)("div",{className:Xp()(yO().container,(o={},
NO(o,yO().loadingContainer,!0),NO(o,yO().containerCard,n),NO(o,yO().collapsedLayout,n),o)),children:[(0,r.jsxs)("div",{className:yO().body,children:[(0,r.jsxs)("div",{className:yO().details,children:[(0,r.jsx)("div",{className:yO().iconContainer}),(0,r.jsx)(TO.ZT,{className:yO().title,opacity:.2,width:72}),(0,r.jsx)(TO.ZT,{className:yO().subtitle,opacity:.1,width:100})]}),(0,r.jsx)("div",{className:yO().accessoryContainer,children:(0,r.jsx)(pO.Z,{guildId:t,renderUser:function(){return(0,r.jsx)("div",{className:yO().loadingUser,style:{width:n?24:16,height:n?24:16}})},users:[null,null],size:n?pO.u.SIZE_24:pO.u.SIZE_16,extraDetail:(0,r.jsx)("div",{className:yO().typingIndicator})})})]}),2===e&&(0,r.jsx)("div",{className:yO().previewContainer})]},e)})),(0,r.jsx)("div",{})," "]})}var AO=n(416533),PO=n(475823),jO=n(122768);function RO(e){var t,n=e.guildId,o=e.channel,i=e.trackChannelClick,a=(0,s.Wu)([aO.Z],(function(){return null!==(t=aO.Z.getChannelMessageData(o.id))&&void 0!==t?t:[]
})),c=ss().uniq(ss().map(a,"userId")),l=(0,s.Wu)([Y.default],(function(){return c.map((function(e){return Y.default.getUser(e)}))})),u=(0,s.e7)([PO.Z],(function(){var e=PO.Z.getTypingUsers(o.id);return Object.keys(e).length>0}),[o.id]),f=a.length<aO.L?te.Z.Messages.ACTIVE_CHANNELS_FEW_MESSAGES.format({count:a.length}):te.Z.Messages.ACTIVE_CHANNELS_MANY_MESSAGES,d=u?(0,r.jsx)("div",{className:yO().typingIndicator,children:(0,r.jsx)(jO.Z,{className:yO().ellipsis,dotRadius:2,themed:!0})}):null;return(0,r.jsx)(SO,{guildId:n,channel:o,usersInSummary:l.filter(No.lm),text:f,activityIndicator:d,onChannelClick:function(){i(o);(0,AO.Z)(M.Z5c.CHANNEL(o.guild_id,o.id,bo.Z.fromTimestamp(Date.now())))}})}var xO=n(836303),MO=n(62214),wO=n(306599),ZO=n(852007),LO=n(71284);function DO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return DO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kO(e){var t=e.channel,n=e.voiceStates,o=e.showPlaceholder,i=(0,s.e7)([xr.Z],(function(){return xr.Z.getAllApplicationStreamsForChannel(t.id)[0]})),a=(0,s.e7)([xr.Z],(function(){
return null!=i?xr.Z.getActiveStreamForApplicationStream(i):null})),c=(0,s.e7)([nr.default],(function(){return nr.default.getId()})),l=UO((0,wr.wq)(t),2),u=l[0],f=l[1];if(null==i)return null;var p,h=ss().chain(n).map("member").find(["userId",i.ownerId]).value(),E=ss().chain(n).map("user").find(["id",i.ownerId]).value(),y=null!==(p=null==h?void 0:h.nick)&&void 0!==p?p:null==E?void 0:E.username,m=null!=a&&null!=i&&a.state!==M.jm8.ENDED&&a.ownerId===i.ownerId;return(0,r.jsxs)(q.P3,{onClick:function(){d.default.selectVoiceChannel(t.id);m||(0,Ar.iV)(i)},className:yO().previewContainer,children:[o?(0,r.jsx)(wO.c,{className:yO().previewImage,isLoading:!0}):(0,r.jsx)(wO.Z,{className:yO().previewImage,stream:i}),u?(0,r.jsx)("div",{className:yO().previewHover,children:(0,r.jsx)(q.xv,{variant:"text-sm/normal",color:"none",className:yO().previewButton,children:(0,MO.Z)(i,a,c,f)})}):null,null!=y?(0,r.jsxs)("div",{className:yO().previewName,children:[(0,r.jsx)(LO.Z,{width:18,height:18,
className:yO().icon}),(0,r.jsx)(q.xv,{variant:"text-sm/normal",color:"none",children:y})]}):null]})}function GO(e){var t,n=e.guildId,i=e.channel,a=e.voiceStates,c=e.trackChannelClick,l=e.showPreview,u=a.map((function(e){return e.user})),f=(0,ZO.Z)(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:void 0).needSubscriptionToAccess,d=(0,s.e7)([En.Z],(function(){return!En.Z.can(M.Plq.CONNECT,i)})),p=o.useRef(null),h=function(e){var t=o.useRef(null),n=UO(o.useState(!1),2),r=n[0],i=n[1];o.useEffect((function(){t.current=new IntersectionObserver((function(e){var t=UO(e,1)[0];return i(t.isIntersecting)}))}),[]);o.useEffect((function(){var n;if(null!=e.current){null===(n=t.current)||void 0===n||n.observe(e.current);return function(){var e;null===(e=t.current)||void 0===e||e.disconnect()}}}),[e]);return r}(p),E=o.useRef(!1);o.useEffect((function(){h&&(E.current=!0)}),[h]);var y,m=ss().map(a,(function(e){var t
;return null!==(y=null===(t=e.member)||void 0===t?void 0:t.nick)&&void 0!==y?y:e.user.username})),b=m.join(", ");return(0,r.jsx)(SO,{ref:p,guildId:n,channel:i,text:b,usersInSummary:u,onChannelClick:function(){if((0,Us.bw)(i.type)){var e=A.Z.getVoiceChannelId(),t=!En.Z.can(M.Plq.CONNECT,i);c(i);xO.Z.handleVoiceConnect({channel:i,locked:t,connected:e===i.id,needSubscriptionToAccess:f})}},channelIconOptions:{locked:d},children:l&&(0,r.jsx)(kO,{channel:i,voiceStates:a,showPlaceholder:!E.current})})}var BO=n(777087),HO=n(74907),VO=HO.Z.parseGuildEventDescription,FO=n(87328),YO=n(694470),WO=n(275352),zO=n(338588),KO=n(820498),qO=n(312855),XO=n(695756),QO=n(443429),$O=n(655686),JO=n(998689),ev=n(120227),tv=n.n(ev);function nv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rv(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ov(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var iv=12;function av(e){var t=e.event,n=t.scheduled_start_time,i=t.scheduled_end_time,a=(0,eO.xt)(t),s=ov(o.useState((0,
YO.ub)(n,i)),2),c=s[0],l=c.startDateTimeString,u=c.endDateTimeString,f=c.currentOrPastEvent,d=c.upcomingEvent,p=c.diffMinutes,h=s[1];o.useEffect((function(){var e=setInterval((function(){return h((0,YO.ub)(n,i))}),1e3);return function(){clearInterval(e)}}),[]);var E,y=l,m="header-secondary";if(a){y=te.Z.Messages.STAGE_CHANNEL_LIVE_NOW;m="text-positive"}else if(f){y=te.Z.Messages.STARTING_SOON;m="text-brand"}else if(d){y=p>0?te.Z.Messages.STARTING_IN_MINUTES.format({minutes:p}):te.Z.Messages.STARTING_SOON;m="text-brand"}else null!=u&&""!==u&&(y=te.Z.Messages.START_DATE_TO_END_DATE.format({start:l,end:u}));return(0,r.jsxs)("div",{className:Xp()(tv().eventTime,(E={},rv(E,tv().isActive,a),rv(E,tv().isBrand,f||d),E)),children:[(0,r.jsx)(QO.Z,{width:iv,height:iv}),(0,r.jsxs)(q.xv,{color:m,variant:"text-xs/normal",className:tv().eventTimeLabel,children:[y,(0,r.jsx)("span",{className:tv().separator,children:"•"})]})]})}function sv(e){
var t=e.event,n=e.channel,i=e.isCollapsedSize,a=e.onEventClick,c=(0,s.e7)([En.Z],(function(){return En.Z.can(M.Plq.CONNECT,n)})),l=o.useCallback((function(){if(null!=n&&null!=n.getGuildId()&&c){(0,zO.Cq)(n);(0,X.XU)(n.getGuildId(),n.id)}}),[n,c]),u=(0,WO.Z)(t),f=t.entity_type===JO.WX.STAGE_INSTANCE?te.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON:te.Z.Messages.JOIN;return null==t.image||i?null!=n&&c?(0,r.jsx)("div",{className:tv().eventJoinContainer,children:(0,r.jsx)(Q.Co,{className:tv().joinButton,onClick:l,fullWidth:!0,color:Q.Co.Colors.GREEN,children:f})}):null:null!=n&&c?(0,r.jsxs)(q.P3,{onClick:l,className:tv().eventJoinContainer,children:[(0,r.jsx)("div",{className:tv().eventImg,style:{backgroundImage:"url(".concat(u,")")}}),(0,r.jsx)("div",{className:tv().eventImgHover,children:(0,r.jsx)(q.xv,{variant:"text-sm/normal",color:"none",className:tv().eventImgJoinButton,children:f})})]}):(0,r.jsx)(q.P3,{onClick:a,className:tv().eventJoinContainer,children:(0,r.jsx)("div",{
className:tv().eventImg,style:{backgroundImage:"url(".concat(u,")")}})})}function cv(e){var t,n=e.event,o=e.channel,i=e.isActive,a=e.isCollapsedSize,s=(0,Vb.KS)(o);return(0,r.jsxs)("div",{className:tv().eventInfo,children:[(!i||a)&&(0,r.jsx)(av,{event:n}),(0,r.jsx)("div",{className:tv().location,children:null!=o&&null!=s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{width:iv,height:iv,className:tv().icon}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",className:tv().locationLabel,children:o.name})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($O.Z,{height:iv,width:iv,className:Xp()(tv().channelContainer,tv().icon)}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",className:tv().locationLabel,children:VO(null!==(t=(0,FO.cS)(n))&&void 0!==t?t:void 0,!0)})]})})]})}function lv(e){var t=e.event,n=e.isInList,i=t.guild_id,a=(0,cb.Z)(hO.Gj),c=(0,eO.xt)(t),l=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(t.channel_id)})),u=(0,s.e7)([gb.Z],(function(){return gb.Z.isLurking(i)
}),[i]),f=o.useCallback((function(){Ce.default.track(M.rMx.HOME_EVENT_CLICKED,{guild_id:i,home_session_id:$g.Z.getHomeSessionId(i),guild_scheduled_event_id:t.id,is_active:c});(0,Er.bO)({eventId:t.id,parentGuildId:i})}),[t,i,c]),d=(0,s.Wu)([zy.ZP],(function(){return null==l?[]:zy.ZP.getVoiceStatesForChannel(l).map((function(e){return e.user}))}),[l]),p=(0,s.e7)([KO.Z],(function(){if(null!=l&&l.type===BO.d.GUILD_STAGE_VOICE)return KO.Z.getParticipantCount(null==l?void 0:l.id,qO.pV.AUDIENCE)}),[l]);return(0,r.jsx)(_O,{listItemId:n?t.id:void 0,shouldUseCollapsedLayout:!1,onClick:u?void 0:f,icon:c?(0,r.jsx)("div",{className:tv().liveNowIcon}):(0,r.jsx)(XO.Z,{width:16,height:16}),iconTooltipText:te.Z.Messages.GUILD_HOME_EVENTS_TOOLTIP_TEXT,header:t.name,textNode:(0,r.jsx)(cv,{event:t,channel:l,isActive:c,isCollapsedSize:a}),accessoryNode:c?(0,r.jsx)(pO.Z,{guildId:i,users:d,count:p,size:pO.u.SIZE_16,max:3}):null,children:c&&(0,r.jsx)(sv,{event:t,channel:l,isCollapsedSize:a,onEventClick:f})})}
var uv=n(831689),fv=n.n(uv),dv=n(404024),pv=n.n(dv),hv=n(764728),Ev=n.n(hv);function yv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mv(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bv(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function gv(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ov(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||_v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vv(e){return function(e){if(Array.isArray(e))return yv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_v(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _v(e,t){if(e){if("string"==typeof e)return yv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yv(e,t):void 0}}var Sv={overflowX:void 0,overflowY:void 0};function Iv(){var e="dark"===(0,oO.ZP)()?pv():Ev();return(0,r.jsxs)("div",{className:fv().emptyStateContainer,children:[(0,r.jsx)("img",{className:fv().image,src:e,width:154,height:48,alt:""}),(0,r.jsx)(q.X6,{className:fv().title,variant:"heading-md/semibold",children:te.Z.Messages.ACTIVE_CHANNELS_EMPTY_TITLE}),(0,r.jsx)(q.xv,{className:fv().subtitle,color:"header-secondary",variant:"text-sm/normal",children:te.Z.Messages.ACTIVE_CHANNELS_EMPTY_SUBTITLE})]})}function Tv(e){
var t=e.isUsingCollapsedLayout,n=e.scrollerRef,o=e.handleScroll,i=e.activeChannels,a=e.totalActiveChannels,s=(0,ub.Z)("active-channels",n,{orientation:t?rO.hy.HORIZONTAL:rO.hy.VERTICAL});return(0,r.jsx)(rb.bG,{navigator:s,children:(0,r.jsx)(rb.SJ,{children:function(e){var s=e.ref,c=gv(e,["ref"]);return(0,r.jsxs)(zg.xV,bv(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mv(e,t,n[t])}))}return e}({className:fv().channelList,orientation:"horizontal",paddingFix:!1,onScroll:o,style:t?void 0:Sv,ref:function(e){n.current=e;var t;s.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null;o()}},c),{children:[i,t&&a<4&&(0,r.jsx)(IO,{})]}))}})})}function Nv(e){var t=e.guildId,n=e.isUsingCollapsedLayout,i=(0,s.e7)([aO.Z],(function(){
return aO.Z.getActiveChannelsFetchStatus(t)})),a=function(e){return(0,s.Wu)([I.Z,En.Z,aO.Z],(function(){return fO(e,[I.Z,En.Z,aO.Z])}))}(t),c=(0,tO.k5)(t),l=(0,s.e7)([zy.ZP],(function(){return zy.ZP.getVoiceStates(t)})),u=function(e,t){return(0,s.Wu)([En.Z,I.Z,zy.ZP,kt.Z],(function(){return dO(e,t,[En.Z,I.Z,zy.ZP,kt.Z])}))}(t,c),f=a.length+u.length+(null!=c?1:0),d=f>0,p=o.useRef(null),h=(0,tO.ZP)(t).filter((function(e){return!(0,eO.xt)(e)})),E=Ov(o.useState(0===h.length),2),y=E[0],m=E[1],b=Ov(o.useState(!0),2),g=b[0],O=b[1],v=Ov(o.useState(!1),2),_=v[0],S=v[1],T=(0,sb.Z)(),N=T.ref,C=T.width,A=o.useCallback((function(){var e=p.current;if(null!=e&&null!=C){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth;O(n<=0);S(n>=r-C-1)}}),[C]),P=o.useCallback((function(){var e=p.current;if(null!=e&&null!=C){var t=e.getScrollerState().scrollLeft,n=C+12,r=Math.max(.25*C-9,140),o=Math.ceil((t-n)/r)*r;e.scrollTo({to:Math.max(0,o),animate:!0})}}),[C]),j=o.useCallback((function(){var e=p.current
;if(null!=e&&null!=C){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth,o=C+12,i=Math.max(.25*C-9,140),a=Math.floor((n+o)/i)*i;e.scrollTo({to:Math.min(r,a),animate:!0})}}),[C]);o.useEffect((function(){aO.Z.shouldFetch(t)&&(0,iO.n)(t)}),[t]);!function(e,t,n){var r=(0,s.e7)([aO.Z],(function(){var t=aO.Z.getActiveChannelsFetchStatus(e);return null!=t&&!t.loading}),[e]);o.useEffect((function(){r&&Ce.default.track(M.rMx.ACTIVE_CHANNELS_LOADED,{guild_id:e,text_channels_shown:t.length,voice_channels_shown:n.length,home_session_id:$g.Z.getHomeSessionId(e)})}),[e,r])}(t,a,u);var R=o.useCallback((function(e){Ce.default.track(M.rMx.ACTIVE_CHANNEL_CLICKED,{guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,text_channels_shown:a.length,voice_channels_shown:u.length,home_session_id:$g.Z.getHomeSessionId(e.guild_id)})}),[a,u]),x=a.map((function(e){return(0,r.jsx)(RO,{guildId:t,channel:e,trackChannelClick:R},e.id)})),w=u.map((function(e){return(0,r.jsx)(GO,{guildId:t,channel:e,
voiceStates:l[e.id],trackChannelClick:R,showPreview:!n},e.id)})),Z=[];if(n)Z=vv(x).concat(vv(w));else if(y)Z=as.compact([null!=c&&(0,r.jsx)(lv,{event:c,isInList:!0},"event")].concat(vv(x.slice(0,10)),vv(w)));else{var L=as.take(x,3-(w.length>0?1:0)-(null!=c?1:0)),D=as.take(w,3-L.length-(null!=c?1:0));Z=as.compact([null!=c&&(0,r.jsx)(lv,{event:c,isInList:!0},"event")].concat(vv(L),vv(D)))}return(0,r.jsx)("div",{ref:N,className:fv().container,children:(0,r.jsxs)(q.y5,{component:(0,r.jsxs)("div",{className:fv().header,children:[(0,r.jsx)(q.X6,{variant:"heading-md/semibold",children:te.Z.Messages.ACTIVE_CHANNELS_HEADER}),!n&&!0!==(null==i?void 0:i.loading)&&f>3&&(0,r.jsx)(q.P3,{onClick:function(){return m(!y)},children:(0,r.jsx)(q.xv,{className:fv().showAll,variant:"text-sm/normal",children:y?te.Z.Messages.GUILD_HOME_SEE_LESS:te.Z.Messages.GUILD_HOME_SEE_ALL.format({count:f})})})]}),children:[(null==i?void 0:i.loading)?(0,r.jsx)(zg.xV,{className:fv().channelList,orientation:"horizontal",
paddingFix:!1,children:(0,r.jsx)(CO,{guildId:t})}):d?(0,r.jsx)(Tv,{isUsingCollapsedLayout:n,scrollerRef:p,handleScroll:A,activeChannels:Z,totalActiveChannels:f}):(0,r.jsx)(Iv,{}),n&&d&&!g&&(0,r.jsx)(q.P3,{className:Xp()(fv().scrollIcon,fv().left),onClick:P,"aria-hidden":!0,children:(0,r.jsx)(sO.Z,{direction:sO.Z.Directions.LEFT,height:12,width:12})}),n&&d&&!_&&(0,r.jsx)(q.P3,{className:Xp()(fv().scrollIcon,fv().right),onClick:j,"aria-hidden":!0,children:(0,r.jsx)(sO.Z,{direction:sO.Z.Directions.RIGHT,height:12,width:12})})]})})}var Cv=n(932012),Av=n(483716);function Pv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jv(e){jv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return jv(e)}function Rv(e,t){return!t||"object"!==Mv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function xv(e,t){xv=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return xv(e,t)}var Mv=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function wv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=jv(e);if(t){var o=jv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rv(this,n)}}var Zv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&xv(e,t)}(n,e);var t=wv(n);function n(){Pv(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){
O.Z.subscribe("MESSAGE_REACTION_ADD",this.handleReaction);O.Z.subscribe("MESSAGE_REACTION_REMOVE",this.handleReaction);O.Z.subscribe("SIDEBAR_VIEW_CHANNEL",this.handleSidebarViewChannel);O.Z.subscribe("MESSAGE_CREATE",this.handleMessageCreate);O.Z.subscribe("APP_STATE_UPDATE",this.handleAppStateUpdate)};r._terminate=function(){O.Z.unsubscribe("MESSAGE_REACTION_ADD",this.handleReaction);O.Z.unsubscribe("MESSAGE_REACTION_REMOVE",this.handleReaction);O.Z.unsubscribe("SIDEBAR_VIEW_CHANNEL",this.handleSidebarViewChannel);O.Z.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate);O.Z.unsubscribe("APP_STATE_UPDATE",this.handleAppStateUpdate)};r.handleReaction=function(e){var t=e.type,n=e.userId,r=e.messageId,o=e.optimistic;if(n===nr.default.getId()&&o){var i=P.Z.getGuildId();if(null!=i){var a=A.Z.getChannelId();if((0,cO.ME)(a)){var s=Lb.ZP.getItemForMessageId(i,r);if(null!=s){var c=(0,Cv.ZP)(s);(0,Zb.wA)({feed_item_type:(0,Av.NH)(s.id),feed_item_id:s.id,load_id:Lb.ZP.getLoadId(i),
action_type:"MESSAGE_REACTION_ADD"===t?hO.w8.REACTION_ADDED:hO.w8.REACTION_REMOVED,guild_id:i,channel_id:c.channel_id,message_id:r,home_session_id:$g.Z.getHomeSessionId(i)})}}}}};r.handleSidebarViewChannel=function(e){var t=e.channelId,n=e.baseChannelId;if(e.sidebarType===Bg.t.VIEW_THREAD&&(0,cO.ME)(n)){var r=P.Z.getGuildId();if(null!=r){var o=Lb.ZP.getItemForMessageId(r,t);null!=o&&o.type!==Gb.w.FORUM_POST&&(0,Zb.wA)({feed_item_type:(0,Av.NH)(o.id),feed_item_id:o.id,load_id:Lb.ZP.getLoadId(r),action_type:hO.w8.THREAD_EMBED_CLICKED,guild_id:r,channel_id:(0,Fb.xp)(o),message_id:t,home_session_id:$g.Z.getHomeSessionId(r)})}}};r.handleMessageCreate=function(e){var t=e.optimistic,n=e.message;if(t&&n.state===M.yb.SENDING){var r=P.Z.getGuildId();if(null!=r){var o=zd.ZP.getSidebarState(cO.oC.GUILD_HOME);if(null!=o&&(0,zd.D5)(o)){var i=I.Z.getChannel(o.channelId),a=(0,Fb.FW)(o,i);if(null!=a){var s=Lb.ZP.getItemForMessageId(r,a);if(null!=s){var c,l;if(n.type===M.uaV.DEFAULT){
c=hO.w8.MESSAGED_IN_SIDEBAR;l=a}else if(n.type===M.uaV.REPLY){var u,f;l=null===(u=n.message_reference)||void 0===u?void 0:u.message_id;c=(null===(f=n.message_reference)||void 0===f?void 0:f.message_id)===a?hO.w8.REPLIED_TO_MESSAGE:hO.w8.REPLIED_IN_SIDEBAR}null!=c&&(0,Zb.wA)({feed_item_type:(0,Av.NH)(s.id),feed_item_id:s.id,load_id:Lb.ZP.getLoadId(r),action_type:c,guild_id:r,channel_id:n.channel_id,message_id:l,home_session_id:$g.Z.getHomeSessionId(r)})}}}}}};r.handleAppStateUpdate=function(e){if("background"===e.state){var t=P.Z.getGuildId();null!=t&&Ce.default.track(M.rMx.HOME_BACKGROUNDED,{guild_id:t,home_session_id:$g.Z.getHomeSessionId(t),load_id:Lb.ZP.getLoadId(t)})}};r.__getLocalVars=function(){return{}};return n}(_.Z);const Lv=new Zv;var Dv=n(402580),Uv=n(557426),kv=n(388721);function Gv(e,t,n){for(var r=n.feedItemId,o=n.guildId,i=n.channelId,a=n.messageId,s=e.target;(0,kv.k)(s);){var c,l;if(s===t)break
;var u=null!==(l=null===(c=s.getAttribute("data-role"))||void 0===c?void 0:c.toUpperCase())&&void 0!==l?l:s.tagName;if("A"===u){(0,Zb.wA)({feed_item_type:(0,Av.NH)(r),feed_item_id:r,load_id:Lb.ZP.getLoadId(o),action_type:hO.w8.LINK_CLICKED,guild_id:o,channel_id:i,message_id:a,home_session_id:$g.Z.getHomeSessionId(o)});return!0}if("IMG"===u){(0,Zb.wA)({feed_item_type:(0,Av.NH)(r),feed_item_id:r,load_id:Lb.ZP.getLoadId(o),action_type:hO.w8.IMAGE_CLICKED,guild_id:o,channel_id:i,message_id:a,home_session_id:$g.Z.getHomeSessionId(o)});return!0}if("BUTTON"===u||"button"===s.getAttribute("role")){var f=hO.w8.BUTTON_CLICKED;if("view-more-replies"===s.getAttribute("data-action"))f=hO.w8.VIEW_MORE_REPLIES;(0,Zb.wA)({feed_item_type:(0,Av.NH)(r),feed_item_id:r,load_id:Lb.ZP.getLoadId(o),action_type:f,guild_id:o,channel_id:i,message_id:a,home_session_id:$g.Z.getHomeSessionId(o)});return!0}s=s.parentNode}return!1}function Bv(e){
var t=e.guildId,n=e.channelId,r=e.feedItemId,o=e.onChannelClick,i=e.onContentClick,a=function(e,o){e.stopPropagation();var a=Lb.ZP.getItem(t,r);if(null!=a){var s;(0,Zb.wA)({feed_item_type:(0,Av.NH)(r),feed_item_id:r,load_id:Lb.ZP.getLoadId(t),action_type:hO.w8.MESSAGE_CLICKED,guild_id:t,channel_id:n,message_id:null!==(s=null==o?void 0:o.id)&&void 0!==s?s:(0,Cv.ZP)(a).id,home_session_id:$g.Z.getHomeSessionId(t)});i(o)}};return{handleMessageClick:function(e,o,i){e.stopPropagation();Gv(e,o,{feedItemId:r,guildId:t,channelId:n,messageId:i.id})||a(e,i)},handleChannelClick:function(e){e.stopPropagation();(0,Zb.wA)({feed_item_type:(0,Av.NH)(r),feed_item_id:r,load_id:Lb.ZP.getLoadId(t),action_type:hO.w8.MESSAGE_CHANNEL_CLICKED,guild_id:t,channel_id:n,home_session_id:$g.Z.getHomeSessionId(t)});o()},handleCardClick:function(e,o){Gv(e,o,{feedItemId:r,guildId:t,channelId:n})||a(e)},handleItemClick:a}}
var Hv=n(60890),Vv=n(369218),Fv=n(735093),Yv=n(988233),Wv=n(42220),zv=n(163329),Kv=n(316685),qv=n(43016),Xv=n(967670),Qv=n(23552),$v=n(6349),Jv=n(143989),e_=n.n(Jv);function t_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function n_(e){var t=e.message,n=e.guildId,i=e.animateAvatar,a=e.channel,s=e.author,c=(0,Wv.Z)(t.id,$v.d$),l=c.popouts,u=c.setPopout,f=l.usernameProfile,d=l.avatarProfile,p=o.useMemo((function(){return function(e){return(0,Fv.Z)(e,t)}}),[t]),h=(0,Yv.wq)(t.author.id,a.id),E=(0,Yv.XO)(t,a,f,u),y=(0,Yv.R9)(d,u),m=o.useCallback((function(){return u({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[u]),b=(0,Xv.F2)({props:{message:t,channel:a,author:s,guildId:n,compact:!0,displayCompactAvatars:!0,animate:i,showAvatarPopout:d,showUsernamePopout:f,onContextMenu:h,onClickUsername:E,onClickAvatar:y,onPopoutRequestClose:m},guildId:n,handleRenderPopout:p,className:e_().avatar}),g=(0,
Xv.xP)(e,p),O=(0,Vv.XX)(t),v=(0,Vv.Dv)(t),_="".concat(O," ").concat(v),S=(0,Vv.Gq)(t);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(q.H,{className:e_().header,"aria-describedby":S,"aria-labelledby":_,children:[b,(0,r.jsx)("span",{id:(0,Vv.XX)(t),className:e_().username,children:(0,r.jsx)(r.Fragment,{children:g})}),(0,r.jsx)(Qv.Z,{id:(0,Vv.Dv)(t),timestamp:t.timestamp,className:e_().timestamp})]})})}var r_=o.forwardRef((function(e,t){var n=e.message,i=e.className,a=e.onMessageClick,s=e.children,c=e.isTruncated,l=e.channel,u=e.guildId,f=e.animateAvatar,d=o.useRef(null),p=(0,zv.Z)(n,{hideSimpleEmbedContent:!0}),h=p.content,E=p.hasSpoilerEmbeds,y=(0,Hv.ZP)(n),m=o.useCallback((function(e){a(e,d.current,n)}),[a,n]);return(0,r.jsxs)("div",{ref:d,className:i,onClick:m,role:"article",children:[(0,r.jsx)(nb.tE,{offset:{left:4,right:4},children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n_,{author:y,message:n,channel:l,guildId:u,animateAvatar:f}),(0,r.jsx)(qv.ZP,{
className:Xp()(e_().messageContent,t_({},e_().truncatedReply,c)),message:n,content:h,contentRef:t})]}),(0,Kv.Z)({className:e_().accessories,channelMessageProps:e,hasSpoilerEmbeds:E,isInteracting:!1})]})}),s]})})),o_=n(725608),i_=n(301679),a_=n(266738),s_=n(785741),c_=n.n(s_),l_=n(635232),u_=n.n(l_),f_=n(312154),d_=n.n(f_),p_=n(22513),h_=n.n(p_),E_=n(515861),y_=n.n(E_),m_=n(568909),b_=n.n(m_),g_=n(531239),O_=n.n(g_),v_=n(302048),__=n.n(v_),S_=n(180263),I_=n.n(S_),T_=n(677291),N_=n.n(T_),C_=n(864678),A_=n.n(C_),P_=n(367627),j_=n.n(P_),R_=n(874744),x_=n.n(R_),M_=n(101872),w_=n.n(M_),Z_=n(46802),L_=n.n(Z_),D_=n(726954),U_=n.n(D_),k_=n(897295),G_=n.n(k_);function B_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var V_=[{light:L_(),dark:w_(),selected:U_(),value:a_.Pq.TERRIBLE,altDescription:function(){return te.Z.Messages.GUILD_FEED_FEEDBACK_RATING_TERRIBLE},description:function(){return te.Z.Messages.GUILD_FEED_FEEDBACK_RATING_TERRIBLE}},{light:d_(),dark:u_(),selected:h_(),value:a_.Pq.BAD,altDescription:function(){
return te.Z.Messages.GUILD_FEED_FEEDBACK_RATING_BAD}},{light:j_(),dark:A_(),selected:x_(),value:a_.Pq.OKAY,altDescription:function(){return te.Z.Messages.GUILD_FEED_FEEDBACK_RATING_OKAY}},{light:I_(),dark:__(),selected:N_(),value:a_.Pq.GOOD,altDescription:function(){return te.Z.Messages.GUILD_FEED_FEEDBACK_RATING_GOOD}},{light:b_(),dark:y_(),selected:O_(),value:a_.Pq.EXCELLENT,altDescription:function(){return te.Z.Messages.GUILD_FEED_FEEDBACK_RATING_EXCELLENT},description:function(){return te.Z.Messages.GUILD_FEED_FEEDBACK_RATING_EXCELLENT}}];function F_(e){var t=e.defaultSrc,n=e.selectedSrc,i=e.selected,a=e.disableAnimation,s=e.alt,c=H_((0,im.useSpring)((function(){return{from:{opacity:1},config:{duration:a?0:a_.$D}}}),[i,a]),2),l=c[0],u=c[1],f=H_((0,im.useSpring)((function(){return{from:{opacity:0},config:{duration:a?0:a_.$D}}}),[i,a]),2),d=f[0],p=f[1];o.useEffect((function(){if(i){u({opacity:0});p({opacity:1})}else{u({opacity:1});p({opacity:0})}}),[i,a,u,p]);return(0,
r.jsxs)(r.Fragment,{children:[(0,r.jsx)(im.animated.img,{style:{opacity:d.opacity},src:n,width:40,height:40,alt:s}),(0,r.jsx)(im.animated.img,{className:c_().ratingInner,style:{opacity:l.opacity},src:t,width:40,height:40,alt:s})]})}function Y_(e){var t=e.selectedRating,n=e.setSelectedRating,o=e.disableAnimation,i=(0,oO.ZP)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.X6,{variant:"heading-md/semibold",children:te.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_1_TITLE}),(0,r.jsx)(q.xv,{variant:"text-md/normal",children:te.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_1_SUBTITLE}),(0,r.jsx)("div",{className:c_().ratingsContainer,children:V_.map((function(e){return(0,r.jsxs)("div",{className:c_().ratingContainer,children:[(0,r.jsx)(q.P3,{className:c_().rating,onClick:function(){n(e.value)},children:(0,r.jsx)(F_,{defaultSrc:i===Sc.BR.DARK?e.dark:e.light,selectedSrc:e.selected,selected:t===e.value,alt:e.altDescription(),disableAnimation:o})}),null!=e.description?(0,r.jsx)(q.xv,{
variant:"text-xs/normal",children:e.altDescription()}):null]},e.value)}))})]})}function W_(e){var t,n=e.selectedRating,o=e.selectedReasons,i=e.onSelectedReasons,a=e.onUserFeedbackChanged,s=e.onSubmitPressed,c=e.canSubmit;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.X6,{variant:"heading-md/semibold",children:te.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_2_TITLE.format({rating:n.toLowerCase()})}),(0,r.jsx)("div",{className:c_().pillContainer,children:(null!==(t=a_.gq[n])&&void 0!==t?t:[]).map((function(e){return(0,r.jsx)(q.P3,{onClick:function(){return i(e)},className:Xp()(c_().pill,o.has(e)?c_().pillSelected:null),children:(0,r.jsx)(q.xv,{variant:"text-md/normal",children:(0,o_.i1)(e)})},e)}))}),o.has(a_.Jh.OTHER)?(0,r.jsx)(q.oi,{autoFocus:!0,className:c_().textInput,onChange:a,placeholder:te.Z.Messages.GUILD_FEED_FEEDBACK_OTHER_PLACEHOLDER}):null,(0,r.jsx)(Q.Co,{className:c_().button,disabled:!c,onClick:s,children:te.Z.Messages.SUBMIT})]})}function z_(){return(0,r.jsxs)("div",{
children:[(0,r.jsx)("img",{src:G_(),width:75,height:75,alt:""}),(0,r.jsx)(q.X6,{variant:"heading-md/semibold",children:te.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_3_TITLE})]})}function K_(e){var t,n,o=(0,o_.IT)(e),i=o.selectedRating,a=o.setSelectedRating,s=o.selectedReasons,c=o.setSelectedReasons,l=o.setUserFeedback,u=o.backPressed,f=o.onSubmitPressed,d=o.onBackPressed,p=o.onClosePressed,h=o.showSubmitted,E=o.canSubmit,y=o.isAnimating,m=o.useReducedMotion;if(h){n=!1;t=(0,r.jsx)(z_,{})}else if(null==i||u||y){n=!1;t=(0,r.jsx)(Y_,{disableAnimation:u||m,selectedRating:i,setSelectedRating:a})}else{n=!0;t=(0,r.jsx)(W_,{selectedRating:i,selectedReasons:s,onSelectedReasons:c,onUserFeedbackChanged:l,onBackPressed:d,onSubmitPressed:f,canSubmit:E})}return(0,r.jsx)("div",{className:c_().parentContainer,onClick:function(e){return e.stopPropagation()},children:(0,r.jsxs)("div",{className:Xp()(c_().container,c_().containerDivider),children:[t,n?(0,r.jsx)(q.P3,{className:Xp()(c_().icon,c_().back),
onClick:d,children:(0,r.jsx)(i_.Z,{direction:i_.Z.Directions.LEFT})}):null,(0,r.jsx)(q.P3,{className:Xp()(c_().icon,c_().close),onClick:p,children:(0,r.jsx)(Sb.Z,{})})]})})}var q_=n(365757),X_=n(617493),Q_=n.n(X_);function $_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function eS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){J_(e,t,n[t])}))}return e}function tS(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function nS(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function rS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const oS=o.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.ariaLabel,s=e.onContextMenu,c=e.onCardClick,l=e.onItemClick,u=e.listItemProps,f=e.itemId,d=e.selected,p=nS(e,["className","children","ariaLabel","onContextMenu","onCardClick","onItemClick","listItemProps","itemId","selected"]),h=rS((0,q_.Z)(t),2),E=h[0],y=h[1],m=o.useRef(null);return(0,r.jsxs)("div",tS(eS({ref:y,className:Xp()(Q_().card,Q_().interactiveCard,J_({},Q_().selected,d),n),"data-item-id":f,
onContextMenu:s,onClick:function(e){return null==c?void 0:c(e,E.current)}},p),{children:[(0,r.jsx)(q.P3,eS({className:Q_().clickableTarget,innerRef:m,"aria-label":a,onClick:l},u)),i]}))}));var iS=n(25121),aS=n.n(iS);function sS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cS(e){var t=e.children,n=e.hideBorder;return(0,r.jsx)("div",{className:Xp()(aS().feedItemHeader,sS({},aS().hideBorder,n)),children:t})}var lS=n(557328),uS=n(953346),fS=n.n(uS);function dS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hS(e){e.stopPropagation()}function ES(e){var t=e.renderContextPopout,n=pS(o.useState(!1),2),i=n[0],a=n[1],s=o.useCallback((function(e){null==e||e.stopPropagation();a(!i)}),[i]),c=te.Z.Messages.MORE;return(0,r.jsx)("div",{onClick:hS,onContextMenu:hS,children:(0,r.jsx)(jg.Ke,{renderPopout:function(){return t(s)},shouldShow:i,onRequestClose:s,position:jg.vK.LEFT,align:jg.xM.TOP,animation:jg.Ke.Animation.NONE,children:function(e,t){return(0,r.jsx)(Kb.ZP,{text:c,hideOnClick:!0,
children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave,o=e.onClick;return(0,r.jsx)(Q.Co,{onMouseEnter:t,onMouseLeave:n,look:Q.Co.Looks.BLANK,size:Q.Co.Sizes.NONE,onClick:function(e){null==o||o();s(e)},"aria-label":c,className:fS().overflowButton,children:(0,r.jsx)(lS.Z,{className:fS().icon})})}})}})})}function yS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bS(e,t){var n=mS(o.useState(!1),2),r=n[0],i=n[1];return[r,o.useCallback((function(n,r){n.stopPropagation();i(!0);(0,Zb.wA)({feed_item_type:(0,Av.NH)(t),feed_item_id:t,load_id:Lb.ZP.getLoadId(e),action_type:hO.w8.EXPANDED_ITEM,guild_id:e,channel_id:r.channel_id,message_id:r.id,home_session_id:$g.Z.getHomeSessionId(e)})}),[e,t])]}var gS=n(508528),OS=n(719911),vS=n(88662),_S=n(296965),SS=n(470691),IS=n(369227),TS=n(328203),NS=n.n(TS),CS=n(46427),AS=n.n(CS);function PS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function RS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jS(e,t,n[t])}))}return e}function xS(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function MS(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function wS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return PS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PS(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ZS=o.memo((function(e){var t=e.message,n=e.channel,i=e.animateAvatar,a=e.repliedMessage,s=(0,Wv.Z)(t.id,$v.d$),c=s.popouts,l=s.setPopout,u=c.usernameProfile,f=c.avatarProfile,d=(0,Yv.wq)(t.author.id,n.id),p=(0,Yv.XO)(t,n,u,l),h=(0,Yv.R9)(f,l),E=o.useCallback((function(){return l({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[l]),y=(0,Hv.ZP)(t),m=(0,gS.p9)({guildId:n.guild_id,roleId:y.iconRoleId});return(0,r.jsx)(Xv.ZP,{guildId:n.guild_id,message:t,channel:n,repliedMessage:a,author:y,showTimestampOnHover:t.type!==M.uaV.REPLY,renderPopout:Fv.Z,showAvatarPopout:f,showUsernamePopout:u,onClickAvatar:h,onClickUsername:p,onPopoutRequestClose:E,onContextMenu:d,roleIcon:m,animate:i})})),LS=o.forwardRef((function(e,t){
var n=e.guildId,i=e.channel,a=e.message,c=e.feedItemId,l=e.className,u=e.animateAvatar,f=e.contentClassName,d=e.children,p=e.groupId,h=e.onMessageClick,E=e.hideHeader,y=void 0!==E&&E,m=e.forceAddReactions,b=void 0===m||m,g=MS(e,["guildId","channel","message","feedItemId","className","animateAvatar","contentClassName","children","groupId","onMessageClick","hideHeader","forceAddReactions"]),O=o.useRef(null),v=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(i.id)})),_=null!=v&&a.isFirstMessageInForumPost(v),S=(0,zv.Z)(a,{hideSimpleEmbedContent:!0,allowList:_,allowHeading:_}),T=S.content,N=S.hasSpoilerEmbeds,C=a.type===M.uaV.REPLY?a.messageReference:void 0,A=(0,s.e7)([Wd.Z],(function(){return Wd.Z.getMessageByReference(C)})),P=(0,s.e7)([I.Z],(function(){return a.hasFlag(M.iLy.HAS_THREAD)&&I.Z.getChannel(a.id)})),j=(0,Vv.iG)(a,p,{hasTimestamp:a.id===p}),R=(0,Vv.Gx)(a),x=null!=C?(0,r.jsx)(q.P3,{onClick:function(e){if(null!=A.message){e.stopPropagation();(0,Zb.wA)({feed_item_type:(0,
Av.NH)(c),feed_item_id:c,load_id:Lb.ZP.getLoadId(n),action_type:hO.w8.REFERENCED_MESSAGE_CLICKED,guild_id:n,channel_id:i.id,message_id:a.id,home_session_id:$g.Z.getHomeSessionId(n)});Qf.Z.openChannelAsSidebar({guildId:i.guild_id,channelId:i.id,baseChannelId:cO.oC.GUILD_HOME,details:{type:Bg.F.HOME,initialMessageId:A.message.id}})}},children:(0,SS.Z)(a,i,C,A,!1)}):null,w=(0,OS.Z)(a),Z=o.useCallback((function(e){h(e,O.current,a)}),[h,a]);return(0,r.jsx)(IS.Z,RS({messageRef:O,className:Xp()(l,jS({},AS().mentioned,a.mentioned&&!(0,OS.Z)(a))),onClick:Z,childrenRepliedMessage:x,childrenExecutedCommand:(0,_S.Z)(a,i,!1),childrenHeader:w||y?null:(0,r.jsx)(ZS,{channel:i,message:a,animateAvatar:u,repliedMessage:A}),childrenAccessories:(0,Kv.Z)({channelMessageProps:e,hasSpoilerEmbeds:N,isInteracting:!1,forceAddReactions:b}),childrenMessageContent:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(qv.ZP,{className:f,message:a,content:T,contentRef:t}),d]}),childrenSystemMessage:(0,vS.Z)(e),
hasThread:null!=P&&a.hasFlag(M.iLy.HAS_THREAD),hasReply:a.type===M.uaV.REPLY,isSystemMessage:w,"aria-labelledby":j,"aria-describedby":R},g))}));function DS(e){var t,n=e.message,i=e.guildId,a=e.feedItemId,s=e.disableTruncation,c=n.attachments.length>0,l=wS(o.useState(!1),2),u=l[0],f=l[1],d=wS(bS(i,a),2),p=d[0],h=d[1];return(0,r.jsx)(LS,xS(RS({ref:function(e){null==e||s||f(e.scrollHeight>e.clientHeight)},contentClassName:Xp()((t={},jS(t,NS().clampLarge,!s&&!p&&!c),jS(t,NS().clampSmall,!s&&!p&&c),t))},e),{children:u&&!p?(0,r.jsx)(q.P3,{className:NS().showMore,onClick:function(e){return h(e,n)},"aria-hidden":!0,children:te.Z.Messages.GUILD_FEED_TRUNCATED_MESSAGE_SEE_MORE}):null}))}const US=o.memo(DS);function kS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function BS(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function HS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VS(e){var t=e.guildId,n=e.feedItemId,i=e.messages,a=o.useRef([]),s=i.some((function(e){return e.attachments.length>0}))?4:8,c=HS(o.useState(),2),l=c[0],u=c[1],f=HS(o.useState(),2),d=f[0],p=f[1],h=HS(bS(t,n),2),E=h[0],y=h[1];o.useLayoutEffect((function(){var e=0,t=!0,n=!1,r=void 0;try{for(var o,i=a.current.entries()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var c=HS(o.value,2),l=c[0],f=c[1];if(null!=f){var d,h=parseFloat(null!==(d=window.getComputedStyle(f).getPropertyValue("line-height"))&&void 0!==d?d:"0"),E=f.scrollHeight/h;if((e+=E)>s){u(l);p(E-(e-s));break}}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}),[i,s])
;var m=i[0].id;return(0,r.jsx)(r.Fragment,{children:i.map((function(t,n){if(null!=l&&n>l&&!E)return null;var o=l===n,s=o&&null!=d?function(e){if(e>=10)return NS().clampLarge;if(e>=4&&e<10)return NS().clampMed;if(e<4)return NS().clampSmall;return}(d):null,c=o&&null!=s&&!E;return(0,r.jsx)(LS,BS(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){GS(e,t,n[t])}))}return e}({message:t,groupId:m},e),{contentClassName:c?s:void 0,children:c?(0,r.jsx)(q.P3,{className:NS().showMore,onClick:function(e){return y(e,t)},"aria-hidden":!0,children:te.Z.Messages.GUILD_FEED_TRUNCATED_MESSAGE_SEE_MORE}):null,ref:function(e){return a.current[n]=e},hideHeader:0!==n,forceAddReactions:n===i.length-1}),t.id)}))})}const FS=o.memo(VS);var YS=n(226651),WS=n.n(YS)
;function zS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KS(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function qS(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){KS(i,r,o,a,s,"next",e)}function s(e){KS(i,r,o,a,s,"throw",e)}a(void 0)}))}}function XS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function QS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){XS(e,t,n[t])}))}return e}function $S(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function JS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var eI=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},tI=function(){var e=qS((function(){var e;return eI(this,(function(t){switch(t.label){case 0:return[4,n.e(52228).then(n.bind(n,652228))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();function nI(e){var t=e.item,n=e.referenceMessageBundles,i=e.channel,a=e.guildId,s=e.animateAvatar,c=e.onMessageClick,l=o.useCallback((function(){var e,r,o=n[n.length-2+1];Qf.Z.openChannelAsSidebar({guildId:a,channelId:i.id,baseChannelId:cO.oC.GUILD_HOME,flash:!1,details:{type:Bg.F.HOME,
initialMessageId:null!==(r=null==o||null===(e=o[0])||void 0===e?void 0:e.id)&&void 0!==r?r:n[0][0].id,highlightMessageIds:new Set((0,Cv.bE)(t))}})}),[t,i,a,n]);return(0,r.jsxs)("div",{className:WS().conversationArea,children:[n.slice(0,2).map((function(e,t){var o=e[0];return null==o?null:(0,r.jsx)(r_,{className:Xp()(WS().conversationMessage,XS({},WS().mentioned,o.mentioned)),guildId:a,channel:i,message:o,onMessageClick:c,isTruncated:e.length>1,animateAvatar:s,children:t!==n.length-1&&(0,r.jsx)("div",{className:WS().replySpine})},o.id)})),n.length>2&&(0,r.jsx)("div",{className:Xp()(WS().conversationMessage,WS().viewMoreReplies),children:(0,r.jsx)(q.P3,{onClick:l,"data-action":"view-more-replies",children:te.Z.Messages.GUILD_FEED_TRUNCATED_REPLIES_VIEW_MORE.format({count:n.length-2})})},"view-more")]})}const rI=o.forwardRef((function(e,t){
var n,i,a=e.guildId,c=e.conversationItem,l=e.showFeedback,u=e.setOnDismissedFeedback,f=c.root,d=f.messages,p=f.children,h=d[0],E=d[d.length-1],y=E.channel_id,m=(0,s.Wu)([Lb.ZP],(function(){return d.map((function(e){return Lb.ZP.getCachedMessage(a,y,e.id)})).filter(No.lm)}),[a,y,d]),b=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(y)})),g=(0,Vb.KS)(b,void 0,{textFocused:!0}),O=(0,Vb.bT)(b),v=(0,Yd.ZP)(b),_=JS(o.useState(!1),2),S=_[0],T=_[1],N=(0,s.e7)([ps.Z],(function(){return null!=E&&ps.Z.isBlocked(E.author.id)})),C=(0,rb.JA)(null!==(i=null===(n=m[m.length-1])||void 0===n?void 0:n.id)&&void 0!==i?i:c.id),A=c.id,P=(0,s.e7)([zd.ZP],(function(){return zd.ZP.getSidebarState(cO.oC.GUILD_HOME)})),j=(0,Fb.FW)(P,b),R=null!=j&&h.id===j,x=Bv({guildId:a,channelId:y,feedItemId:A,onChannelClick:function(){return(0,AO.Z)(M.Z5c.CHANNEL(a,y,h.id))},onContentClick:function(e){var t;Qf.Z.openChannelAsSidebar({guildId:a,channelId:y,baseChannelId:cO.oC.GUILD_HOME,flash:!1,details:{type:Bg.F.HOME,
initialMessageId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:h.id,highlightMessageIds:new Set((0,Cv.bE)(c))}})}}),w=x.handleItemClick,Z=x.handleChannelClick,L=x.handleCardClick,D=x.handleMessageClick,U=(0,s.e7)([Lb.ZP],(function(){return null==b?[]:p.map((function(e){return e.messages.map((function(e){return Lb.ZP.getCachedMessage(a,b.id,e.id)})).filter(No.lm)})).filter((function(e){return 0!==e.length}))}),[a,b,p],Yb);if(null==b||null==h||null==E||N)return null;var k,G=function(){var e=qS((function(e){var t;return eI(this,(function(n){switch(n.label){case 0:return[4,tI()];case 1:t=n.sent();return[2,function(n){return(0,r.jsx)(t,{item:c,channel:b,onSelect:e})}]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)(oS,{className:l?WS().containerNoPadding:WS().container,ref:t,selected:R,onCardClick:L,onItemClick:w,onContextMenu:function(e){e.stopPropagation();(0,fb.jW)(e,qS((function(){var e;return eI(this,(function(t){switch(t.label){case 0:return[4,tI()]
;case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,$S(QS({},t),{item:c,channel:b}))}]}}))})))},itemId:A,ariaLabel:te.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:v}),listItemProps:C,onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)},children:[(0,r.jsxs)(q.y5,{component:(0,r.jsxs)(cS,{children:[(0,r.jsx)("div",{className:WS().messageHeaderMenuLeft,children:(0,r.jsxs)(q.P3,{className:WS().channelNameContainer,onClick:Z,children:[null!=g?(0,r.jsx)(Kb.ZP,{text:O,delay:500,children:function(e){return(0,r.jsx)(g,$S(QS({},e),{className:WS().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(q.X6,{lineClamp:1,variant:"heading-sm/semibold",children:v})]})}),(0,r.jsx)("div",{className:WS().messageHeaderMenuRight,children:(0,r.jsx)(ES,{feedItem:c,guildId:a,renderContextPopout:G})})]}),children:[(0,r.jsx)("div",{className:Xp()(WS().messageBundleItemBody,(k={},XS(k,WS().conversationRoot,U.length>0),XS(k,WS().hasReply,h.type===M.uaV.REPLY),k)),
children:(0,r.jsx)(FS,{feedItemId:c.id,guildId:a,channel:b,messages:m,animateAvatar:S,onMessageClick:D})}),(0,r.jsx)(nI,{item:c,channel:b,guildId:a,referenceMessageBundles:U,onMessageClick:D,animateAvatar:S})]}),l&&(0,r.jsx)(K_,{guildId:a,guildFeedItem:c,setOnDismissFeedback:u})]})}));var oI=n(942722),iI=n(226135),aI=n(86511),sI=n(570992),cI=n(469887),lI=n.n(cI);function uI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dI(e){var t=e.guildId,n=e.feedItem,o=e.onSendFeedback,i=(0,Cv.ZP)(n),a=i.channel_id,c=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(a)})),l=(0,Yd.ZP)(c),u=(0,Vb.KS)(c),f=(0,s.e7)([Y.default],(function(){return Y.default.getUser(i.author.id)})),d=(0,s.e7)([I.Z,ls.ZP,ps.Z],(function(){return sI.Z.getName(t,a,f)})),p=function(e){(0,Zb.Jm)(t,e);o()};return(0,r.jsxs)("div",{className:lI().options,children:[(0,r.jsx)(q.P3,{className:lI().option,onClick:function(){return p({channel_id:a,message_id:i.id,entity_type:oI.C.MESSAGE})},children:(0,r.jsx)(q.xv,{variant:"text-md/normal",color:"interactive-active",
children:te.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_NO_LIKE})}),(0,r.jsx)(q.P3,{className:lI().option,onClick:function(){return p({channel_id:a,entity_type:oI.C.CHANNEL})},children:(0,r.jsx)(q.xv,{variant:"text-md/normal",color:"interactive-active",children:te.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_CHANNEL.format({channelName:l,channelNameHook:function(e,t){return(0,r.jsxs)("span",{children:[null!=u&&(0,r.jsx)(u,{className:lI().mentionIcon,width:20,height:20})," ",e]},t)}})})}),(0,r.jsx)(q.P3,{className:lI().option,onClick:function(){var e;return p({user_id:null==i||null===(e=i.author)||void 0===e?void 0:e.id,entity_type:oI.C.USER})},children:(0,r.jsx)(q.xv,{variant:"text-md/normal",color:"interactive-active",children:te.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_USER.format({username:d,usernameHook:function(e,t){return(0,r.jsxs)("span",{children:[(0,r.jsx)(iI.Z,{className:lI().mentionIcon,width:20,height:20})," ",e]},t)}})})})]})}function pI(e){
var t=e.guildId,n=e.feedItem,i=fI(o.useState(!1),2),a=i[0],s=i[1],c=(0,rb.JA)(n.id);return(0,r.jsxs)(oS,{ariaLabel:te.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM,listItemProps:c,children:[(0,r.jsxs)(cS,{hideBorder:a,children:[(0,r.jsx)(aI.Z,{className:lI().icon,width:16,height:16,foregroundColor:"currentColor"}),a?(0,r.jsxs)("div",{className:lI().title,children:[(0,r.jsx)(q.xv,{className:lI().title,variant:"text-md/medium",color:"interactive-active",children:te.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_TITLE}),(0,r.jsx)(q.xv,{className:lI().title,variant:"text-xs/medium",color:"interactive-normal",children:te.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_SUBTITLE})]}):(0,r.jsx)(q.xv,{className:lI().title,variant:"text-md/medium",color:"interactive-active",children:te.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM}),(0,r.jsx)(Q.Co,{size:Q.Co.Sizes.SMALL,color:Q.Co.Colors.PRIMARY,onClick:function(){(0,Zb.L0)(n,t)},children:te.Z.Messages.UNDO})]}),!a&&(0,
r.jsx)(dI,{guildId:t,feedItem:n,onSendFeedback:function(){return s(!0)}})]})}var hI=n(364022),EI=n.n(hI);function yI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mI(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function bI(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){mI(i,r,o,a,s,"next",e)}function s(e){mI(i,r,o,a,s,"throw",e)}a(void 0)}))}}function gI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function OI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gI(e,t,n[t])}))}return e}function vI(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var SI=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},II=function(){var e=bI((function(){var e;return SI(this,(function(t){switch(t.label){case 0:return[4,n.e(54437).then(n.bind(n,854437))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();function TI(e){var t=e.guildId,n=e.maxUsers,o=e.users,i=e.text;return(0,r.jsxs)("div",{className:EI().referenceMessagesText,children:[(0,r.jsx)(pO.Z,{guildId:t,users:o,size:pO.u.SIZE_16,className:EI().userSummaryItem,max:n,showDefaultAvatarsForNullUsers:!0}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"header-secondary",children:i})]})}function NI(e){
var t=e.referenceMessages,n=e.guildId,i=o.useMemo((function(){var e=new Set;return t.map((function(e){return e.author})).filter((function(t){if(null==t||e.has(t.id))return!1;e.add(t.id);return!0})).slice(0,3)}),[t]),a=t.length;if(0===a)return null;var s=a>3?te.Z.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:3}):te.Z.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:a});return(0,r.jsx)(TI,{guildId:n,users:i,text:s})}const CI=o.forwardRef((function(e,t){var n,i,a=e.guildId,c=e.messageItem,l=e.showFeedback,u=e.setOnDismissedFeedback,f=c.message.channel_id,d=c.message.id,p=(0,s.cj)([Lb.ZP],(function(){var e=Lb.ZP.getCachedMessage(a,f,d);return{message:e,isFeaturedMessage:null!=e&&Lb.ZP.getIsItemFeatured({guildId:a,entity:e,entityType:Gb.w.MESSAGE})}}),[a,f,d]),h=p.message,E=p.isFeaturedMessage,y=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(f)})),m=(0,Vb.KS)(y,void 0,{textFocused:!0}),b=(0,
Vb.bT)(y),g=null!==(n=null==c?void 0:c.referenceMessages)&&void 0!==n?n:[],O=(0,Yd.ZP)(y),v=_I(o.useState(!1),2),_=v[0],S=v[1],T=(0,s.e7)([ps.Z],(function(){return null!=h&&ps.Z.isBlocked(null==h?void 0:h.author.id)})),N=(0,rb.JA)(null!==(i=null==h?void 0:h.id)&&void 0!==i?i:d),C=(0,Av.ZP)(c),A=(0,s.e7)([zd.ZP],(function(){return zd.ZP.getSidebarState(cO.oC.GUILD_HOME)})),P=(0,Fb.FW)(A,y),j=null!=P&&c.message.id===P,R=c.highlighted?te.Z.Messages.GUILD_FEED_SPECIAL_HIGHLIGHT:E?te.Z.Messages.GUILD_FEED_FEATURED_BY_MODERATORS:null,x=Bv({guildId:a,channelId:f,feedItemId:C,onChannelClick:function(){return(0,AO.Z)(M.Z5c.CHANNEL(a,f,d))},onContentClick:function(){Qf.Z.openChannelAsSidebar({guildId:a,channelId:f,baseChannelId:cO.oC.GUILD_HOME,details:{type:Bg.F.HOME,initialMessageId:d,highlightMessageIds:new Set([d])}})}}),w=x.handleItemClick,Z=x.handleChannelClick,L=x.handleCardClick,D=x.handleMessageClick;if(null==y||null==h||null==c||T)return null;var U=function(){var e=bI((function(e){
var t;return SI(this,(function(n){switch(n.label){case 0:return[4,II()];case 1:t=n.sent();return[2,function(n){return(0,r.jsx)(t,{messageItem:c,message:h,channel:y,onSelect:e})}]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)(oS,{className:l?EI().containerNoPadding:EI().container,ref:t,selected:j,onCardClick:L,onItemClick:w,onContextMenu:function(e){e.stopPropagation();(0,fb.jW)(e,bI((function(){var e;return SI(this,(function(t){switch(t.label){case 0:return[4,II()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,vI(OI({},t),{messageItem:c,channel:y,message:h}))}]}}))})))},itemId:C,ariaLabel:te.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:O}),listItemProps:N,onMouseEnter:function(){return S(!0)},onMouseLeave:function(){return S(!1)},children:[(0,r.jsxs)(q.y5,{component:(0,r.jsxs)(cS,{children:[(0,r.jsxs)("div",{className:EI().messageHeaderMenuLeft,children:[(0,r.jsxs)(q.P3,{className:EI().channelNameContainer,onClick:Z,
children:[null!=m?(0,r.jsx)(Kb.ZP,{text:b,delay:500,children:function(e){return(0,r.jsx)(m,vI(OI({},e),{className:EI().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(q.X6,{lineClamp:1,variant:"heading-sm/semibold",children:O})]}),null!=R&&(0,r.jsxs)("div",{className:EI().featuredMessageContainer,children:[(0,r.jsx)(Wb.Z,{height:4,width:4,"aria-hidden":"true",className:EI().featuredMessageIcon}),(0,r.jsx)(q.xv,{className:EI().featuredMessageText,variant:"text-sm/normal",color:"header-secondary",children:R})]})]}),(0,r.jsx)("div",{className:EI().messageHeaderMenuRight,children:(0,r.jsx)(ES,{feedItem:c,guildId:a,renderContextPopout:U})})]}),children:[(0,r.jsx)(US,{className:EI().messageItemBody,guildId:a,animateAvatar:_,channel:y,message:h,feedItemId:c.id,onMessageClick:D}),(0,r.jsx)(NI,{referenceMessages:g,guildId:a})]}),l&&(0,r.jsx)(K_,{guildId:a,guildFeedItem:c,setOnDismissFeedback:u})]})}));var AI=n(970669),PI=n.n(AI);function jI(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RI(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function xI(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){RI(i,r,o,a,s,"next",e)}function s(e){RI(i,r,o,a,s,"throw",e)}a(void 0)}))}}function MI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){MI(e,t,n[t])}))}return e}function ZI(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function LI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jI(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var DI=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},UI=function(){var e=xI((function(){var e;return DI(this,(function(t){switch(t.label){case 0:return[4,n.e(52228).then(n.bind(n,652228))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();const kI=o.forwardRef((function(e,t){var n,i,a,c=e.guildId,l=e.messageBundleItem,u=e.showFeedback,f=e.setOnDismissedFeedback,d=l.messages,p=d[0].message,h=d[d.length-1].message,E=h.channel_id,y=(0,s.Wu)([Lb.ZP],(function(){return d.map((function(e){return Lb.ZP.getCachedMessage(c,E,e.message.id)})).filter(No.lm)}),[c,E,d]),m=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(E)})),b=(0,Vb.KS)(m,void 0,{textFocused:!0}),g=(0,Vb.bT)(m),O=(0,Yd.ZP)(m),v=LI(o.useState(!1),2),_=v[0],S=v[1],T=(0,
s.e7)([ps.Z],(function(){return null!=h&&ps.Z.isBlocked(h.author.id)})),N=(0,rb.JA)(null!==(i=null===(n=y[y.length-1])||void 0===n?void 0:n.id)&&void 0!==i?i:l.id),C=l.id,A=(0,s.e7)([zd.ZP],(function(){return zd.ZP.getSidebarState(cO.oC.GUILD_HOME)})),P=(0,Fb.FW)(A,m),j=null!=P&&p.id===P,R=Bv({guildId:c,channelId:E,feedItemId:C,onChannelClick:function(){return(0,AO.Z)(M.Z5c.CHANNEL(c,E,p.id))},onContentClick:function(e){var t;Qf.Z.openChannelAsSidebar({guildId:c,channelId:E,baseChannelId:cO.oC.GUILD_HOME,flash:!1,details:{type:Bg.F.HOME,initialMessageId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:p.id,highlightMessageIds:new Set((0,Cv.bE)(l))}})}}),x=R.handleItemClick,w=R.handleChannelClick,Z=R.handleCardClick,L=R.handleMessageClick,D=o.useMemo((function(){return d.map((function(e){return null!==(a=e.referenceMessages)&&void 0!==a?a:[]})).flat()}),[d]);if(null==m||null==p||null==h||T)return null;var U=function(){var e=xI((function(e){var t;return DI(this,(function(n){switch(n.label){
case 0:return[4,UI()];case 1:t=n.sent();return[2,function(n){return(0,r.jsx)(t,{item:l,channel:m,onSelect:e})}]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)(oS,{className:u?PI().containerNoPadding:PI().container,ref:t,selected:j,onCardClick:Z,onItemClick:x,onContextMenu:function(e){e.stopPropagation();(0,fb.jW)(e,xI((function(){var e;return DI(this,(function(t){switch(t.label){case 0:return[4,UI()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,ZI(wI({},t),{item:l,channel:m}))}]}}))})))},itemId:C,ariaLabel:te.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:O}),listItemProps:N,onMouseEnter:function(){return S(!0)},onMouseLeave:function(){return S(!1)},children:[(0,r.jsxs)(q.y5,{component:(0,r.jsxs)(cS,{children:[(0,r.jsx)("div",{className:PI().messageHeaderMenuLeft,children:(0,r.jsxs)(q.P3,{className:PI().channelNameContainer,onClick:w,children:[null!=b?(0,r.jsx)(Kb.ZP,{text:g,delay:500,children:function(e){return(0,
r.jsx)(b,ZI(wI({},e),{className:PI().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(q.X6,{lineClamp:1,variant:"heading-sm/semibold",children:O})]})}),(0,r.jsx)("div",{className:PI().messageHeaderMenuRight,children:(0,r.jsx)(ES,{feedItem:l,guildId:c,renderContextPopout:U})})]}),children:[(0,r.jsx)("div",{className:PI().messageBundleItemBody,children:(0,r.jsx)(FS,{feedItemId:l.id,guildId:c,channel:m,messages:y,animateAvatar:_,onMessageClick:L})}),(0,r.jsx)(NI,{referenceMessages:D,guildId:c})]}),u&&(0,r.jsx)(K_,{guildId:c,guildFeedItem:l,setOnDismissFeedback:f})]})}));var GI=n(715753),BI=n(240709),HI=n(320489),VI=n(3056),FI=n(504003),YI=n(775039),WI=n.n(YI);function zI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KI(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function qI(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){KI(i,r,o,a,s,"next",e)}function s(e){KI(i,r,o,a,s,"throw",e)}a(void 0)}))}}function XI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function QI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){XI(e,t,n[t])}))}return e}function $I(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function JI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var eT=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},tT=new Set(["Electron","Chrome"]),nT=function(){
var e=qI((function(){var e;return eT(this,(function(t){switch(t.label){case 0:return[4,n.e(54437).then(n.bind(n,854437))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();function rT(e){var t,n=e.channel,o=(0,s.e7)([VI.Z],(function(){return null!==(t=VI.Z.getCount(n.id))&&void 0!==t?t:0})),i=o>=FI.M3?te.Z.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:FI.M3}):te.Z.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:o}),a=(0,s.e7)([HI.Z],(function(){return HI.Z.getMemberIdsPreview(n.id)})),c=(0,GI.iM)(n,null!=a?a:[]);return 0===o?null:(0,r.jsx)(TI,{guildId:n.guild_id,maxUsers:5,users:c,text:i})}const oT=o.forwardRef((function(e,t){var n,i=e.guildId,a=e.postItem,c=e.showFeedback,l=e.setOnDismissedFeedback,u=a.thread,f=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(u.id)}),[u.id]),d=(0,s.cj)([Lb.ZP],(function(){return{message:Lb.ZP.getCachedMessage(i,u.id,a.message.id),isFeaturedPost:Lb.ZP.getIsItemFeatured({
guildId:i,entity:u,entityType:Gb.w.FORUM_POST})}}),[i,a.message.id,u]),p=d.message,h=d.isFeaturedPost,E=(0,Yd.ZP)(u),y=(0,s.e7)([ps.Z],(function(){return null!=p&&ps.Z.isBlocked(null==p?void 0:p.author.id)})),m=(0,rb.JA)(null!==(n=null==p?void 0:p.id)&&void 0!==n?n:a.message.id),b=(0,Av.ZP)(a),g=(0,Vb.bT)(u),O=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(u.parent_id)})),v=(0,Yd.ZP)(O),_=(0,Vb.KS)(O),S=JI(o.useState(!1),2),T=S[0],N=S[1],C=(0,s.e7)([zd.ZP],(function(){return zd.ZP.getSidebarState(cO.oC.GUILD_HOME)})),A=(0,Fb.FW)(C,f),P=null!=A&&a.message.id===A,j=a.highlighted?te.Z.Messages.GUILD_FEED_SPECIAL_HIGHLIGHT:h?te.Z.Messages.GUILD_FEED_FEATURED_BY_MODERATORS:null,R=Bv({guildId:i,channelId:u.id,feedItemId:b,onChannelClick:function(){return(0,AO.Z)(M.Z5c.CHANNEL(i,u.parent_id))},onContentClick:function(){return Qf.Z.openThreadAsSidebar({guildId:i,baseChannelId:cO.oC.GUILD_HOME,channelId:u.id})}
}),x=R.handleItemClick,w=R.handleChannelClick,Z=R.handleCardClick,L=R.handleMessageClick,D=JI((0,GI.ur)(u),2),U=D[0],k=D[1],G=U[0],B=(0,GI.eV)(u).slice(1),H=null!=Em().name&&!tT.has(Em().name);if(null==u||null==f||null==p||null==a||y)return null;var V=function(){var e=qI((function(e){var t;return eT(this,(function(n){switch(n.label){case 0:return[4,nT()];case 1:t=n.sent();return[2,function(n){return(0,r.jsx)(t,{messageItem:a,message:p,channel:f,onSelect:e})}]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)(oS,{className:c?WI().containerNoPadding:WI().container,ref:t,selected:P,onCardClick:Z,onItemClick:x,onContextMenu:function(e){e.stopPropagation();(0,fb.jW)(e,qI((function(){var e;return eT(this,(function(t){switch(t.label){case 0:return[4,nT()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,$I(QI({},t),{messageItem:a,channel:f,message:p}))}]}}))})))},itemId:b,ariaLabel:te.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:E}),
listItemProps:m,onMouseEnter:function(){return N(!0)},onMouseLeave:function(){return N(!1)},children:[(0,r.jsx)(q.y5,{component:(0,r.jsxs)(cS,{children:[(0,r.jsxs)("div",{className:WI().postHeaderMenuLeft,children:[(0,r.jsxs)(q.P3,{className:WI().channelNameContainer,onClick:w,children:[null!=_?(0,r.jsx)(Kb.ZP,{text:g,delay:500,children:function(e){return(0,r.jsx)(_,$I(QI({},e),{className:WI().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(q.X6,{className:WI().channelName,variant:"heading-sm/semibold",lineClamp:1,children:v})]}),null!=j&&(0,r.jsxs)("div",{className:WI().featuredPostContainer,children:[(0,r.jsx)(Wb.Z,{height:4,width:4,"aria-hidden":"true",className:WI().featuredPostIcon}),(0,r.jsx)(q.xv,{className:WI().featuredPostText,variant:"text-sm/normal",color:"header-secondary",children:j})]})]}),(0,r.jsx)("div",{className:WI().postHeaderMenuRight,children:(0,r.jsx)(ES,{feedItem:a,guildId:i,renderContextPopout:V})})]}),children:(0,r.jsxs)(q.y5,{component:(0,r.jsxs)("div",{
className:WI().titleContainer,children:[(0,r.jsx)(q.X6,{className:WI().title,variant:"heading-lg/semibold",children:u.name}),null!=G?(0,r.jsxs)("div",{className:WI().tags,children:[(0,r.jsx)(BI.ZP,{tag:G,size:BI.ZP.Sizes.SMALL}),k>0?(0,r.jsx)(BI.fz,{tags:B,count:k,size:BI.ZP.Sizes.SMALL}):null]}):null]}),children:[(0,r.jsx)(US,{className:WI().messageItemBody,guildId:u.guild_id,animateAvatar:T,channel:u,message:p,feedItemId:a.id,onMessageClick:L,disableTruncation:H}),(0,r.jsx)(rT,{channel:u})]})}),c&&(0,r.jsx)(K_,{guildId:i,guildFeedItem:a,setOnDismissFeedback:l})]})}));function iT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e
}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return iT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const sT=o.memo((function(e){var t=e.guildId,n=e.itemId,i=e.scrollerHeight,a=e.scrollerRef,c=e.showFeedback,l=e.setOnDismissedFeedback,u=aT((0,s.Wu)([Lb.ZP],(function(){return[Lb.ZP.getItem(t,n),Lb.ZP.getIsItemHiding(t,n),Lb.ZP.getIsItemHidden(t,n)]})),3),f=u[0],d=u[1],p=u[2],h=o.useRef(null);o.useEffect((function(){var e,r=h.current;if(null!=r&&null!=i){
var o=r.clientHeight,s=null===(e=a.current)||void 0===e?void 0:e.getScrollerNode();if(null!=s){var c=Math.min(.5,.5*i/o),l=new IntersectionObserver((function(e){return function(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,l=c.target.dataset.itemId;if(null==l)return;var u=Date.now();c.intersectionRatio>=t?(0,Zb.pb)(e,l,u):(0,Zb.v)(e,l,u)}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}(t,c,e)}),{root:s,rootMargin:"0px 100000px 0px 100000px",threshold:c});l.observe(r);return function(){l.disconnect()}}}else(0,Zb.v)(t,n,Date.now())}),[n,t,a,i,d,p]);if(null==f||p)return null;if(d)return(0,r.jsx)(pI,{guildId:t,feedItem:f});switch(f.type){case Gb.w.FORUM_POST:return(0,r.jsx)(oT,{ref:h,guildId:t,postItem:f,showFeedback:c,setOnDismissedFeedback:l});case Gb.w.MESSAGE:return(0,r.jsx)(CI,{ref:h,guildId:t,messageItem:f,showFeedback:c,setOnDismissedFeedback:l});case Gb.w.MESSAGE_BUNDLE:return(0,
r.jsx)(kI,{ref:h,guildId:t,messageBundleItem:f,showFeedback:c,setOnDismissedFeedback:l});case Gb.w.CONVERSATION:return(0,r.jsx)(rI,{ref:h,guildId:t,conversationItem:f,showFeedback:c,setOnDismissedFeedback:l});default:(0,No.vE)(f)}}));var cT=n(33055),lT=n(554062),uT=n(266644),fT=n(170161),dT=n(357409),pT=n(81951),hT=n(1812);function ET(e){var t=(0,s.e7)([hT.ZP],(function(){return hT.ZP.getChannels(e)}))[hT.sH];return(0,s.Wu)([qd.Z],(function(){return t.filter((function(e){var t=e.channel;return BO.T.READABLE.has(t.type)&&!BO.T.GUILD_VOCAL.has(t.type)})).filter((function(t){var n=t.channel;return qd.Z.isChannelMuted(e,n.id)||qd.Z.isCategoryMuted(e,n.id)}))}),[e,t]).length}var yT=n(577084),mT=n.n(yT);function bT(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function gT(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bT(i,r,o,a,s,"next",e)}function s(e){
bT(i,r,o,a,s,"throw",e)}a(void 0)}))}}function OT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vT(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var _T=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ST(e,t,o){return(0,r.jsx)(q.P3,{className:mT().mutedChannelsHook,onClick:function(){(0,W.ZD)(gT((function(){var e,t;return _T(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(19936)]).then(n.bind(n,19936))];case 1:e=i.sent(),t=e.default
;return[2,function(e){return(0,r.jsx)(t,vT(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){OT(e,t,n[t])}))}return e}({},e),{guildId:o}))}]}}))})))},children:e},t)}var IT=o.memo((function(e){var t=e.guildId,n=e.onReloadClick,o=ET(t);return(0,r.jsxs)("div",{className:Xp()(mT().container,mT().footerContainer),children:[(0,r.jsxs)("div",{className:mT().iconContainer,children:[(0,r.jsx)(fT.Z,{className:mT().icon,width:20,height:20}),(0,r.jsx)(dT.Z,{className:mT().stars,width:52,height:40})]}),(0,r.jsx)(q.X6,{className:mT().header,variant:"heading-md/semibold",children:te.Z.Messages.GUILD_FEED_FOOTER_TITLE}),(0,r.jsx)(q.xv,{color:"header-secondary",variant:"text-sm/normal",children:o>0?te.Z.Messages.GUILD_FEED_MUTED_CHANNELS_SUBTITLE.format({
numMutedChannels:o,mutedChannelsHook:function(e,n){return ST(e,n,t)}}):te.Z.Messages.GUILD_FEED_FOOTER_SUBTITLE}),(0,r.jsx)(Q.Co,{onClick:n,className:mT().button,children:te.Z.Messages.GUILD_FEED_RELOAD})]})})),TT=o.memo((function(e){var t=e.guildId,n=e.onReloadClick,o=ET(t);return(0,r.jsxs)("div",{className:Xp()(mT().container,mT().background),children:[(0,r.jsxs)("div",{className:mT().iconContainer,children:[(0,r.jsx)(fT.Z,{className:mT().icon,width:36,height:36}),(0,r.jsx)(dT.Z,{className:mT().stars})]}),(0,r.jsx)(q.X6,{className:mT().header,variant:"heading-md/semibold",children:te.Z.Messages.GUILD_FEED_EMPTY_TITLE}),(0,r.jsx)(q.xv,{color:"header-secondary",variant:"text-sm/normal",children:o>0?te.Z.Messages.GUILD_FEED_MUTED_CHANNELS_SUBTITLE.format({numMutedChannels:o,mutedChannelsHook:function(e,n){return ST(e,n,t)}}):te.Z.Messages.GUILD_FEED_EMPTY_SUBTITLE}),(0,r.jsx)(Q.Co,{onClick:n,className:mT().button,children:te.Z.Messages.GUILD_FEED_RELOAD})]})})),NT=o.memo((function(e){
var t=e.onReloadClick;return(0,r.jsxs)("div",{className:Xp()(mT().container,mT().background),children:[(0,r.jsx)("div",{className:mT().iconContainer,children:(0,r.jsx)(pT.Z,{className:mT().icon,width:36,height:36})}),(0,r.jsx)(q.X6,{className:mT().header,variant:"heading-md/semibold",children:te.Z.Messages.GUILD_FEED_ERROR_TITLE}),(0,r.jsx)(q.xv,{color:"header-secondary",variant:"text-sm/normal",children:te.Z.Messages.GUILD_FEED_ERROR_SUBTITLE.format({url:M.yXt.STATUS})}),(0,r.jsx)(Q.Co,{onClick:t,className:mT().button,children:te.Z.Messages.GUILD_FEED_RELOAD})]})})),CT=o.memo((function(e){var t=e.onReloadClick;return(0,r.jsxs)("div",{className:Xp()(mT().container,mT().paginationContainer,mT().primaryBackground),children:[(0,r.jsx)("div",{className:mT().iconContainer,children:(0,r.jsx)(pT.Z,{className:mT().icon,width:36,height:36})}),(0,r.jsx)(q.X6,{className:mT().header,variant:"heading-md/semibold",children:te.Z.Messages.GUILD_FEED_ERROR_TITLE}),(0,r.jsx)(q.xv,{
color:"header-secondary",variant:"text-sm/normal",children:te.Z.Messages.GUILD_FEED_ERROR_SUBTITLE.format({url:M.yXt.STATUS})}),(0,r.jsx)(Q.Co,{onClick:t,className:mT().button,children:te.Z.Messages.RETRY})]})})),AT=n(833924),PT=n(266161),jT=n.n(PT);function RT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xT(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function MT(){var e=o.useMemo((function(){if(!(ss().random(1)<.5))return xT(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){RT(e,t,n[t])}))}return e}({},(0,AT.Rr)()),{last:!0})}),[]);return(0,r.jsxs)(oS,{"aria-hidden":!0,ariaLabel:"",children:[(0,r.jsx)(cS,{children:(0,r.jsx)(TO.ZT,{className:jT().channelName,opacity:.3,width:80})}),(0,r.jsx)("div",{className:jT().body,children:(0,r.jsx)(TO.ZP,{messages:5,attachmentSpecs:e})})]})}const wT=o.memo((function(e){var t=e.count;return(0,r.jsx)(r.Fragment,{children:ss().times(null!=t?t:5,(function(e){return(0,r.jsx)(MT,{},e)}))})}));var ZT=n(95048),LT=n(892472),DT=n(460015);function UT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kT(e){kT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return kT(e)}function GT(e,t){
return!t||"object"!==HT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BT(e,t){BT=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return BT(e,t)}var HT=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function VT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kT(e);if(t){var o=kT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GT(this,n)}}var FT={};var YT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&BT(e,t)}(n,e);var t=VT(n);function n(){UT(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){if(null!=e){var t;FT=null!==(t=e.numCleanLoadsForGuild)&&void 0!==t?t:{}}};r.getState=function(){return{numCleanLoadsForGuild:FT}};r.getTotalNumCleanLoads=function(){var e=0;for(var t in FT){var n;e+=null!==(n=FT[t])&&void 0!==n?n:0}return e};r.__getLocalVars=function(){return{MAX_NUM_CLEAN_LOADS:50,numCleanLoadsForGuild:FT}};return n}(s.ZP.PersistedStore);YT.displayName="GuildHomeFeedbackStore";YT.persistKey="GuildHomeFeedbackStore";const WT=new YT(O.Z,{GUILD_FEED_FETCH_SUCCESS:function(e){var t,n=e.guildId;if(!e.fresh)return!1;FT[n]=Math.min(50,(null!==(t=FT[n])&&void 0!==t?t:0)+1)},LOGOUT:function(){FT={}}});var zT=new Date(Date.UTC(2022,7,6));var KT=n(646756),qT=n.n(KT),XT=n(934104),QT=n.n(XT);function $T(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}
s.done?t(c):Promise.resolve(c).then(r,o)}function JT(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$T(i,r,o,a,s,"next",e)}function s(e){$T(i,r,o,a,s,"throw",e)}a(void 0)}))}}function eN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var tN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop()
;a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function nN(e){var t=e.children,n=e.onClose;return(0,r.jsxs)("div",{className:qT().container,children:[(0,r.jsx)(q.P3,{className:qT().closeButton,onClick:n,children:(0,r.jsx)(Sb.Z,{className:qT().closeIcon})}),(0,r.jsx)("div",{className:qT().textContainer,children:t}),(0,r.jsx)("img",{className:qT().image,src:QT(),alt:""})]})}function rN(e){var t=e.onClose;return(0,r.jsxs)(nN,{onClose:t,children:[(0,r.jsx)(q.X6,{style:{color:"white"},variant:"heading-lg/semibold",color:"none",children:te.Z.Messages.GUILD_FEED_NUX_MEMBER_TITLE}),(0,r.jsx)(q.xv,{
className:qT().bodySection,variant:"text-sm/normal",color:"none",children:te.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_1}),(0,r.jsx)(q.xv,{className:qT().bodySection,variant:"text-sm/normal",color:"none",children:te.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_2}),(0,r.jsx)(LT.Z,{className:Xp()(qT().cta,qT().ctaLink,(0,Q.nY)({look:Q.Co.Looks.LINK,color:Q.Co.Colors.WHITE})),href:ee.Z.getArticleURL(M.BhN.GUILD_HOME),children:te.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_3})]})}function oN(){(0,W.ZD)(JT((function(){var e,t;return tN(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(20607)]).then(n.bind(n,420607))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){eN(e,t,n[t])}))}return e}({},e))}]}}))})))}function iN(e){var t=e.onClose;return(0,r.jsxs)(nN,{onClose:t,children:[(0,r.jsx)(q.X6,{style:{color:"white"},variant:"heading-lg/semibold",color:"none",children:te.Z.Messages.GUILD_FEED_NUX_MODERATOR_TITLE}),(0,r.jsx)(q.xv,{className:qT().bodySection,variant:"text-sm/normal",color:"none",children:te.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_1}),(0,r.jsx)(q.xv,{className:qT().bodySection,variant:"text-sm/normal",color:"none",children:te.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_2}),(0,r.jsx)(Q.Co,{className:qT().cta,look:Q.Co.Looks.INVERTED,color:Q.Co.Colors.BRAND,onClick:oN,children:te.Z.Messages.GUILD_FEED_NUX_MODERATOR_CTA})]})}function aN(e){var t=e.guild,n=e.onClose,i=(0,s.e7)([En.Z],(function(){return En.Z.can(M.Plq.MANAGE_MESSAGES,t)})),a=function(e,t){var n=(0,DT.ZP)([WT],(function(){return WT.getTotalNumCleanLoads()<=2})),r=(0,DT.ZP)([Y.default],(function(){var e=Y.default.getCurrentUser()
;return null==e||e.createdAt.getTime()<zT.getTime()})),i=o.useMemo((function(){return null!=(null==e?void 0:e.joinedAt)&&zT.getTime()>e.joinedAt.getTime()}),[null==e?void 0:e.joinedAt]),a=n&&r&&!i;o.useEffect((function(){a||t(mn.L.AUTO)}),[a]);return a||!0}(t,n);return a?i?(0,r.jsx)(iN,{onClose:n}):(0,r.jsx)(rN,{onClose:n}):null}var sN=[dn.z$.GUILD_FEED_NUX_CARD];const cN=o.memo((function(e){var t=e.guild;return(0,r.jsx)(ZT.Z,{contentTypes:sN,groupName:mn.R.GUILD_FEED_TOP,children:function(e){var n=e.visibleContent,o=e.markAsDismissed;return n===dn.z$.GUILD_FEED_NUX_CARD?(0,r.jsx)(aN,{guild:t,onClose:o}):null}})}));var lN=n(983067),uN=n(12820),fN=n.n(uN);const dN=o.memo((function(){return(0,r.jsxs)("div",{className:fN().container,children:[(0,r.jsxs)("div",{className:fN().divider,children:[(0,r.jsx)("div",{className:fN().line}),(0,r.jsx)("div",{className:fN().icon,children:(0,r.jsx)(lN.Z,{height:24,width:24})}),(0,r.jsx)("div",{className:fN().line})]}),(0,r.jsx)(q.xv,{
className:fN().title,color:"header-primary",variant:"text-md/semibold",children:te.Z.Messages.GUILD_FEED_UNREAD_DIVIDER_TITLE}),(0,r.jsx)(q.xv,{className:fN().subtitle,color:"header-secondary",variant:"text-sm/normal",children:te.Z.Messages.GUILD_FEED_UNREAD_DIVIDER_SUBTITLE})]})}));var pN=n(832010),hN=n(709990),EN=n(969225),yN=n(889373),mN=n(106027),bN=n(760654),gN=n(865862),ON=n.n(gN),vN=n(404940),_N=n.n(vN),SN=n(185802),IN=n.n(SN);function TN(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function NN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){TN(i,r,o,a,s,"next",e)}function s(e){TN(i,r,o,a,s,"throw",e)}a(void 0)}))}}function CN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function AN(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var PN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},jN=function(e){var t=o.useMemo((function(){return null==e?null:qs.ZP.getGuildHomeHeaderURL({id:e.id,homeHeader:e.homeHeader})}),[e]);return{homeHeaderImage:t,isHomeHeaderImageSet:null!=t,homeHeaderScroll:null!=t?200:0}};function RN(e){var t=e.guild,n=function(){yr.Z.open(t.id,M.pNK.OVERVIEW,void 0,M.KsC.DISPLAY)};return t.hasFeature(M.oNc.BANNER)?(0,r.jsxs)(Q.Co,{className:ON().editButton,innerClassName:ON().editButtonInner,type:"button",size:Q.Co.Sizes.MEDIUM,color:Q.Co.Colors.BRAND,onClick:n,
children:[(0,r.jsx)(bN.Z,{height:16,width:16,color:(0,pN.Lq)(M.Ilk.WHITE_500)}),te.Z.Messages.EDIT_IMAGE]}):(0,r.jsxs)(yN.C,{color:Q.Co.Colors.GREEN,className:ON().editButton,innerClassName:ON().editButtonInner,onClick:n,children:[(0,r.jsx)(mN.Z,{height:16,width:16,className:ON().premiumUpsellBadge}),te.Z.Messages.PREMIUM_GUILD_UNLOCK_WTH_BOOSTING_CTA]})}var xN=o.memo((function(e){var t=e.guild,o=jN(t),i=o.homeHeaderImage,a=o.isHomeHeaderImageSet,c=(0,s.e7)([En.Z],(function(){return En.Z.can(M.Plq.MANAGE_GUILD,t)})),l=(0,s.e7)([En.Z],(function(){return(0,bu.b)(En.Z,t)})),u="dark"===(0,oO.ZP)()?_N():IN();return(0,r.jsxs)("div",{className:ON().header,children:[(0,r.jsxs)("div",{className:ON().headerArtWrapper,children:[(0,r.jsx)("div",{className:Xp()(ON().headerArt,CN({},ON().headerArtPlaceholder,!a)),style:{backgroundImage:"url(".concat(a?i:u,")")}}),c&&(0,r.jsx)(RN,{guild:t})]}),(0,r.jsx)(EN.Z,{className:ON().headerIcon,guild:t,size:EN.Z.Sizes.XLARGE,active:!0}),(0,r.jsx)(q.y5,{
children:(0,r.jsxs)("div",{className:ON().headerName,children:[(0,r.jsx)(q.X6,{className:ON().headerName,variant:"heading-xxl/bold",children:t.name}),(0,r.jsx)(hN.Z,{size:24,guild:t,tooltipPosition:Kb.ZP.Positions.BOTTOM,tooltipColor:Kb.ZP.Colors.PRIMARY,className:ON().guildBadge}),l&&(0,r.jsx)(Q.Co,{className:ON().inviteButton,size:Q.Co.Sizes.MEDIUM,color:Q.Co.Colors.PRIMARY,onClick:function(){return(0,W.ZD)(NN((function(){var e,o;return PN(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(15793)]).then(n.bind(n,715793))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,AN(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){CN(e,t,n[t])}))}return e}({},e),{guild:t,source:M.t4x.GUILD_HOME}))}]
}}))})))},children:te.Z.Messages.INSTANT_INVITE})]})})]})}));const MN=xN;var wN=n(960251),ZN=n.n(wN);function LN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DN(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function UN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){DN(i,r,o,a,s,"next",e)}function s(e){DN(i,r,o,a,s,"throw",e)}a(void 0)}))}}function kN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||BN(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GN(e){return function(e){if(Array.isArray(e))return LN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||BN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BN(e,t){if(e){if("string"==typeof e)return LN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LN(e,t):void 0}}var HN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},VN=o.memo((function(e){var t=e.guildId;return(0,s.e7)([cT.Z],(function(){
return cT.Z.isViewingRoles(t)}))?(0,r.jsx)(lT.Z,{messageType:lT.Q.WARNING,children:te.Z.Messages.GUILD_FEED_VIEW_AS_ROLE_WARNING}):null}));var FN=o.memo((function(e){var t=e.guildId,n=e.hasMoreItems,i=e.scrollerRef,a=e.error,s=e.fetchPage,c=e.onReloadClick,l=o.useRef(null);o.useEffect((function(){var e,t=l.current,r=null===(e=i.current)||void 0===e?void 0:e.getScrollerNode();if(null!=r&&null!=t&&n){var o=new IntersectionObserver((function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.intersectionRatio>0&&s()}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}),{root:r,rootMargin:"0px 0px 200px 0px",threshold:0});o.observe(t);return function(){o.disconnect()}}}),[i,l,s,t,n]);return null!=a?(0,r.jsx)(CT,{guildId:t,onReloadClick:s}):n?(0,r.jsx)("div",{className:ZN().container,ref:l,children:(0,r.jsx)(wT,{count:1})}):(0,r.jsx)(IT,{guildId:t,onReloadClick:c})}));function YN(e){
var t,n,i,a=e.guild,c=e.renderMode,l=e.scrollerRef,u=e.seenManagerRef,f=nO(),d=kN((0,s.Wu)([Lb.ZP],(function(){return[hO.Ji.READ,hO.Ji.UNREAD,hO.Ji.HIGHLIGHTED,hO.Ji.ALL].map((function(e){return Lb.ZP.getFeedItemSection(a.id,e)}))})),4),p=d[0],h=d[1],E=d[2],y=d[3],m=(0,s.e7)([Lb.ZP],(function(){return Lb.ZP.getLoadId(a.id)})),b=(0,s.e7)([$g.Z],(function(){return $g.Z.getHomeSessionId(a.id)})),g=(0,Uv.Z)({guildId:a.id,highlightedItemData:f}),O=g.loading,v=g.error,_=g.fetchFresh,S=g.fetchPage,I=(0,s.e7)([Lb.ZP],(function(){return Lb.ZP.getPaginationStatus(a.id)})).hasMoreItems,T=Qg.M.useExperiment({guildId:a.id}).hasNewHeader,N=jN(a).homeHeaderScroll;o.useEffect((function(){Lv.initialize();return function(){Lv.terminate()}}),[]);o.useLayoutEffect((function(){if(null!=m&&null!=b){(0,Zb.Ps)(a.id);var e=(0,uT.UU)(),t=new Dv.Z({guildId:a.id,loadId:m,homeSessionId:b,windowId:e,isPaused:!Qe.Z.isFocused(e)});t.initialize();u.current=t;return function(){t.terminate()}}}),[u,a.id,m,b])
;var C=function(e){var t=kN(o.useState(null),2),n=t[0],r=t[1];o.useEffect((function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.getScrollerNode();if(null!=n){var o=new ResizeObserver((function(e){var t=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;r(s.contentRect.height)}}catch(e){n=!0;o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}}));o.observe(n);return function(){o.disconnect()}}}),[e]);return n}(l),A=o.useMemo((function(){return c!==hO.EO.NEW?[]:GN(y).sort((function(e,t){return-bo.Z.compare((0,Cv.ZP)(e).id,(0,Cv.ZP)(t).id)}))}),[y,c]),P=o.useCallback(UN((function(){var e;return HN(this,(function(t){switch(t.label){case 0:return[4,null===(e=u.current)||void 0===e?void 0:e.maybeFlushSeenItems(Kg.cs.IMMEDIATE)];case 1:t.sent();_({force:!0,flushSeenItems:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.maybeFlushSeenItems(Kg.cs.IMMEDIATE)}});return[2]}}))})),[u,_]);o.useEffect((function(){
if(O===Lb.Q.LOADING_FRESH_FEED)if(T){var e;null===(e=l.current)||void 0===e||e.scrollTo({to:N})}else{var t;null===(t=l.current)||void 0===t||t.scrollToTop()}}),[O,T,N]);var j,R,x=0===y.length,M=(0,o_.vL)(),w=M.showFeedback,Z=M.setOnDismissedFeedback;if(x)return O===Lb.Q.LOADING_FRESH_FEED?(0,r.jsx)("div",{className:ZN().container,children:(0,r.jsx)(wT,{})}):null!=v?(0,r.jsx)(NT,{guildId:a.id,onReloadClick:P}):(0,r.jsx)(TT,{guildId:a.id,onReloadClick:P});if(c===hO.EO.TOP)return(0,r.jsxs)("div",{className:ZN().container,children:[(0,r.jsx)(cN,{guild:a}),y.map((function(e,t){return(0,r.jsx)(sT,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:l,showFeedback:0===t&&w,setOnDismissedFeedback:Z},e.id)})),(0,r.jsx)(FN,{guildId:a.id,hasMoreItems:null!=I&&I,scrollerRef:l,error:v,fetchPage:S,onReloadClick:P})]});if(c===hO.EO.NEW)return(0,r.jsxs)("div",{className:ZN().container,children:[(0,r.jsx)(cN,{guild:a}),A.map((function(e,t){return(0,r.jsx)(sT,{guildId:a.id,itemId:e.id,
scrollerHeight:C,scrollerRef:l,showFeedback:0===t&&w,setOnDismissedFeedback:Z},e.id)})),(0,r.jsx)(FN,{guildId:a.id,hasMoreItems:null!=I&&I,scrollerRef:l,error:v,fetchPage:S,onReloadClick:P})]});var L=null!==(R=null!==(j=null===(t=E[0])||void 0===t?void 0:t.id)&&void 0!==j?j:null===(n=h[0])||void 0===n?void 0:n.id)&&void 0!==R?R:null===(i=p[0])||void 0===i?void 0:i.id;return(0,r.jsxs)("div",{className:ZN().container,children:[(0,r.jsx)(VN,{guildId:a.id}),(0,r.jsx)(cN,{guild:a}),E.map((function(e){return(0,r.jsx)(sT,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:l,showFeedback:e.id===L&&w,setOnDismissedFeedback:Z},e.id)})),h.map((function(e){return(0,r.jsx)(sT,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:l,showFeedback:e.id===L&&w,setOnDismissedFeedback:Z},e.id)})),p.length>0?(0,r.jsx)(dN,{}):null,p.map((function(e){return(0,r.jsx)(sT,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:l,showFeedback:e.id===L&&w,setOnDismissedFeedback:Z},e.id)})),(0,r.jsx)(FN,{
guildId:a.id,hasMoreItems:null!=I&&I,scrollerRef:l,error:v,fetchPage:S,onReloadClick:P})]})}var WN=n(516682),zN=n.n(WN);function KN(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function qN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){KN(i,r,o,a,s,"next",e)}function s(e){KN(i,r,o,a,s,"throw",e)}a(void 0)}))}}function XN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function QN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){XN(e,t,n[t])}))}return e}function $N(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var JN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function eC(e){var t=e.guild,i=(0,cb.Z)(hO.Gj),a=(0,tO.ZP)(t.id),s=o.useMemo((function(){var e=a.filter((function(e){return(0,eO.xt)(e)}));return i&&e.length>0?ss().head(e):ss().chain(a).filter((function(e){return!(0,eO.xt)(e)})).minBy((function(e){return Ub()(e.scheduled_start_time)})).value()}),[a,i]);if(null==s)return null;function c(){c=qN((function(){return JN(this,(function(e){switch(e.label){case 0:return[4,(0,W.ZD)(qN((function(){var e,o;return JN(this,(function(i){switch(i.label){
case 0:return[4,Promise.all([n.e(40532),n.e(55527),n.e(48657)]).then(n.bind(n,248657))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,$N(QN({},e),{guildId:t.id}))}]}}))})))];case 1:e.sent();(0,pn.EW)(dn.z$.GUILD_HEADER_EVENT_UPSELL);return[2]}}))}));return c.apply(this,arguments)}return(0,r.jsxs)("div",{className:zN().container,children:[(0,r.jsxs)("div",{className:zN().header,children:[(0,r.jsx)(q.X6,{variant:"heading-md/semibold",children:i?te.Z.Messages.GUILD_EVENTS:te.Z.Messages.GUILD_HOME_EVENTS_TITLE}),a.length>=2?(0,r.jsx)(q.P3,{onClick:function(){return c.apply(this,arguments)},children:(0,r.jsx)(q.xv,{className:zN().showEvents,variant:"text-sm/normal",children:te.Z.Messages.GUILD_HOME_SEE_ALL.format({count:a.length})})}):null]}),(0,r.jsx)("div",{className:zN().events,children:(0,r.jsx)(lv,{event:s,isInList:!1})})]})}var tC=n(271265),nC=n(312220),rC=n(383198),oC=n.n(rC);function iC(e){var t=e.guild;o.useEffect((function(){(0,tC.P)(t.id)}),[t.id])
;var n=(0,s.e7)([nC.Z],(function(){return nC.Z.getGuild(t.id)}),[t]);return(0,r.jsxs)("div",{className:oC().memberInfo,children:[null!=(null==n?void 0:n.presenceCount)?(0,r.jsxs)("div",{className:oC().memberCount,children:[(0,r.jsx)("div",{className:oC().dotOnline}),(0,r.jsx)(q.xv,{variant:"text-sm/normal",className:oC().memberText,children:te.Z.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount})})]}):null,null!=(null==n?void 0:n.memberCount)?(0,r.jsxs)("div",{className:oC().memberCount,children:[(0,r.jsx)("div",{className:oC().dotOffline}),(0,r.jsx)(q.xv,{variant:"text-sm/normal",className:oC().memberText,children:te.Z.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount})})]}):null]})}function aC(e){var t=e.guild;return(0,r.jsxs)("div",{className:oC().container,children:[(0,r.jsx)(EN.Z,{className:oC().icon,guild:t,size:EN.Z.Sizes.LARGER,active:!0}),(0,r.jsx)(q.xv,{tag:"div",className:oC().name,variant:"heading-xl/semibold",children:t.name
}),null!=t.description?(0,r.jsx)(q.xv,{className:oC().description,variant:"text-md/normal",children:t.description}):null,(0,r.jsx)(iC,{guild:t})]})}const sC=o.memo(aC);var cC=n(811442);function lC(e){var t=e.guild;o.useEffect((function(){(0,tC.P)(t.id)}),[t.id]);var n=(0,s.e7)([nC.Z],(function(){return nC.Z.getGuild(t.id)}),[t]);return(0,r.jsxs)("div",{className:oC().memberInfo,children:[t.hasCommunityInfoSubheader()&&(0,r.jsxs)("div",{className:oC().memberCount,children:[(0,r.jsx)(cC.Z,{width:14,height:14}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"text-muted",children:te.Z.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC})]}),null!=(null==n?void 0:n.presenceCount)&&(0,r.jsxs)("div",{className:oC().memberCount,children:[(0,r.jsx)("div",{className:oC().dotOnline}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"text-muted",children:te.Z.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount})})]}),null!=(null==n?void 0:n.memberCount)&&(0,r.jsxs)("div",{
className:oC().memberCount,children:[(0,r.jsx)("div",{className:oC().dotOffline}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"text-muted",children:te.Z.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount})})]})]})}function uC(e){var t=e.guild;return(0,r.jsx)("div",{className:oC().container,children:(0,r.jsxs)(q.y5,{component:(0,r.jsx)("div",{className:oC().header,children:(0,r.jsx)(q.X6,{variant:"heading-md/medium",children:te.Z.Messages.GUILD_HOME_ABOUT})}),children:[null!=t.description?(0,r.jsx)(q.xv,{className:oC().description,variant:"text-md/normal",children:t.description}):null,(0,r.jsx)(lC,{guild:t})]})})}const fC=o.memo(uC);var dC=n(738862),pC=n.n(dC),hC=n(149563),EC=n.n(hC);function yC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bC(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mC(e,t,n[t])}))}return e}function gC(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function OC(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function vC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var _C=o.memo((function(e){var t=e.guild,n=function(e,t){var n=Xg.jD.useExperiment({}).showRefreshButton;o.useEffect((function(){Xg.jD.trackExposure({})}),[]);var i=(0,s.e7)([En.Z],(function(){return En.Z.can(M.Plq.MANAGE_MESSAGES,e)}),[e]),a=[];n&&a.push((0,r.jsx)(Ib.JO,{tooltip:te.Z.Messages.REFRESH,icon:Wg.Z,onClick:function(){(0,Zb.QF)({guildId:e.id,refresh:!0,flushSeenItems:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.maybeFlushSeenItems(Kg.cs.IMMEDIATE)}})}}));i&&a.push((0,r.jsx)(Dg,{guildId:e.id}));return a}(t,e.seenManagerRef);return(0,r.jsxs)(Ug.Z,{channelId:cO.oC.GUILD_HOME,guildId:t.id,className:Xp()(EC().title,pC().background),innerClassname:pC().headerBarInner,toolbar:n,children:[(0,r.jsx)(Ug.Z.Icon,{icon:Yg.Z,"aria-hidden":!0}),(0,r.jsxs)(Ug.Z.Title,{children:[(0,r.jsx)(lb.Z,{children:t.name}),te.Z.Messages.GUILD_HOME]}),(0,r.jsx)(Mb.Z,{})]})})),SC=o.memo((function(e){
var t=e.guild,n=e.containerHeight,i=e.isUsingCollapsedLayout,a=vC(o.useState(0),2),s=a[0],c=a[1],l=(0,sb.Z)(),u=l.ref,f=l.height;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,tO.ZP)(e);o.useEffect((function(){t&&Ce.default.track(M.rMx.HOME_EVENTS_LOADED,{guild_id:e,active_events_shown:n.some((function(e){return(0,eO.xt)(e)}))?1:0,upcoming_events_shown:n.some((function(e){return!(0,eO.xt)(e)}))?1:0,home_session_id:$g.Z.getHomeSessionId(e)})}),[e,t])}(t.id);o.useEffect((function(){if(null!=f){c(f+128-n)}}),[n,f]);var d=(0,wb.mF)(),p=Qg.M.useExperiment({guildId:t.id}).hasNewHeader,h=p?-48:0;return(0,r.jsx)("aside",{className:pC().widgets,style:{top:Math.min(-s,h)},children:(0,r.jsx)(nb.tE,{children:(0,r.jsxs)("div",gC(bC({className:pC().widgetsContainer,ref:u,tabIndex:i?void 0:0,"aria-label":te.Z.Messages.GUILD_HOME_SIDEBAR_A11Y_LABEL},i?{}:d),{children:[p?(0,r.jsx)(fC,{guild:t}):(0,r.jsx)(sC,{guild:t}),(0,r.jsx)(Nv,{guildId:t.id,
isUsingCollapsedLayout:i}),(0,r.jsx)(eC,{guild:t})]}))})})}));function IC(e){var t=e.pageWidth,n=e.onSidebarResize,o=(0,s.e7)([zd.ZP],(function(){return zd.ZP.getSidebarState(cO.oC.GUILD_HOME)}));if(null==o)return null;var i,a=t-M.PrS-552;o.type===Bg.t.VIEW_THREAD?i=(0,r.jsx)(Hg.Z,{channelId:o.channelId,baseChannelId:cO.oC.GUILD_HOME,channelViewSource:"Home View"}):o.type===Bg.t.VIEW_CHANNEL&&(i=(0,r.jsx)(xb,{channelId:o.channelId,baseChannelId:cO.oC.GUILD_HOME,channelViewSource:"Home View"}));return(0,r.jsx)(ob.Z,{sidebarType:ob.y.HomeSidebar,maxWidth:a,onWidthChange:n,children:i})}var TC=[{label:"Segment Reads",value:hO.EO.SEGMENTED_READ},{label:"Top",value:hO.EO.TOP},{label:"New",value:hO.EO.NEW}];function NC(e){var t=e.renderMode,n=e.setRenderMode;return Xg.Dx.useExperiment({}).showSelector?(0,r.jsx)(q.Ph,{className:pC().selector,options:TC,select:n,isSelected:function(e){return e===t},serialize:function(e){return String(e)}}):null}var CC=(0,ab.Z)((function(e){
var t=e.guild,n=e.width,i=e.height,a=t.id,c=(0,s.e7)([zd.ZP],(function(){return zd.ZP.getSection(cO.oC.GUILD_HOME)})),l=(0,s.e7)([Fg.Z],(function(){return Fg.Z.getCurrentSearchId()})),u=vC(o.useState(!1),2),f=u[0],d=u[1],p=vC(o.useState(M.$Y6),2),h=p[0],E=p[1],y=c===M.ULH.SEARCH,m=c===M.ULH.SIDEBAR_CHAT,b=y||m,g=o.useRef(null),O=(0,ub.Z)("top-messages",g),v=(0,sb.Z)().ref,_=vC(o.useState(hO.EO.SEGMENTED_READ),2),S=_[0],I=_[1],T=(0,cb.Z)(hO.Gj),N=o.useRef(!1),C=Qg.M.useExperiment({guildId:a}).hasNewHeader,A=jN(t).homeHeaderScroll;o.useEffect((function(){N.current=!1}),[a]);o.useEffect((function(){null==Lb.ZP.getLoadId(a)&&Qf.Z.closeChannelSidebar(cO.oC.GUILD_HOME)}),[a]);!function(e){o.useEffect((function(){var t=$g.Z.getHomeSessionId(e);return function(){Ce.default.track(M.rMx.HOME_EXITED,{guild_id:e,home_session_id:t})}}),[e])}(a);o.useLayoutEffect((function(){var e=$g.Z.getSavedScrollPosition(a);if(!C||0!==e&&null!=e){if(null!=e){var t;null===(t=g.current)||void 0===t||t.scrollTo({
to:e})}}else{var n;null===(n=g.current)||void 0===n||n.scrollTo({to:A})}return function(){var e,t=null===(e=g.current)||void 0===e?void 0:e.getScrollerState();null!=t&&(0,qg.lY)(a,t.scrollTop)}}),[a,C,A]);var P=n-M.PrS-h,j=!(b&&P<936)||T,R=o.useRef(null),x=o.useCallback((function(){if(!N.current){(0,Jg.X)(a);N.current=!0;Ce.default.track(M.rMx.HOME_FIRST_SCROLL_STARTED,{guild_id:a,home_session_id:$g.Z.getHomeSessionId(a)})}}),[a]);(0,ym.Tt)({location:te.Z.Messages.GUILD_HOME_HTML_TITLE.format({guildName:t.name})});var w,Z=(0,wb.mF)(),L=j?(0,r.jsx)(SC,{guild:t,containerHeight:i,isUsingCollapsedLayout:T},"widgets"):null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:Xp()(EC().chat,pC().background,(w={},mC(w,EC().threadSidebarOpen,b),mC(w,EC().threadSidebarFloating,b&&f),w)),children:[(0,r.jsx)(_C,{guild:t,seenManagerRef:R}),(0,r.jsxs)("div",{ref:v,className:EC().content,children:[(0,r.jsx)(rb.bG,{navigator:O,children:(0,r.jsx)(rb.SJ,{children:function(e){
var n=e.ref,o=OC(e,["ref"]);return(0,r.jsxs)(zg.yW,gC(bC({onScroll:x,className:Xp()(pC().homeContainer,mC({},pC().homeContainerCollapsed,T)),ref:function(e){g.current=e;var t;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null}},o,Z),{children:[C&&(0,r.jsx)(MN,{guild:t}),T?L:null,(0,r.jsx)("div",{className:pC().homeContent,children:(0,r.jsx)(q.y5,{component:(0,r.jsxs)("div",{className:pC().topMessagesHeader,children:[(0,r.jsx)(q.X6,{variant:"heading-md/semibold",children:te.Z.Messages.GUILD_FEED_TITLE}),(0,r.jsx)(NC,{renderMode:S,setRenderMode:I})]}),children:(0,r.jsx)(YN,{guild:t,renderMode:S,scrollerRef:g,seenManagerRef:R})})}),T?null:L]}))}})}),y&&null!=l&&(0,r.jsx)(Gg.Z,{searchId:l})]})]}),m?(0,r.jsx)(IC,{pageWidth:n,onSidebarResize:function(e,t){d(t);E(e)}}):null]})}));const AC=function(e){var t=e.guildId,n=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(t)}),[t]),i=nO(),a=(0,s.e7)([Vg.Z],(function(){return Vg.Z.hasLoadedExperiments}))
;o.useLayoutEffect((function(){(0,qg.VW)(t)}),[t]);o.useEffect((function(){if(a){var e=$g.Z.getHomeSessionSource(t),n=(0,Xg.YM)(t);if(null!=i){var r=i.channelId,o=i.messageId;if(!n){(0,kg.jd)(r,o);return}e=hO.SB.HIGHLIGHTS}else if(!n){f.Z.escapeToDefaultChannel(t);return}(0,qg.m2)(t,e)}}),[t,i,a]);return null==n?(0,r.jsx)(ib.Z,{channelId:void 0}):(0,r.jsx)(CC,{guild:n})};var PC=n(699685),jC=n(743221),RC=n(57859),xC=n(377305),MC=n(448536),wC=n(570239),ZC=n(748737),LC=n(185328),DC=n(133766),UC=n.n(DC),kC=n(692760),GC=n.n(kC);const BC=function(e){var t=e.onCancel,n=e.onLeave,o=e.guild,i=void 0===o?null:o;return(0,r.jsxs)("div",{className:UC().confirmation,children:[(0,r.jsxs)("div",{className:UC().confirmationContent,children:[null!==i?(0,r.jsx)(EN.Z,{size:EN.Z.Sizes.LARGER,guild:i,className:UC().guildIcon}):(0,r.jsx)("img",{alt:te.Z.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_ICON,src:GC(),className:UC().verificationStateIcon}),(0,r.jsx)(q.X6,{variant:"heading-xl/semibold",
className:UC().header,children:null!=(null==i?void 0:i.name)?te.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE_WITH_GUILD_NAME.format({guildName:i.name}):te.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE}),(0,r.jsx)(q.xv,{variant:"text-sm/normal",color:"header-secondary",children:te.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE})]}),(0,r.jsxs)("div",{className:UC().confirmationButtonColumn,children:[(0,r.jsx)(Q.Co,{onClick:t,look:Q.Co.Looks.LINK,color:Q.Co.Colors.LINK,size:Q.Co.Sizes.SMALL,children:te.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION}),(0,r.jsx)(Q.Co,{onClick:n,look:Q.Co.Looks.LINK,color:Q.Co.Colors.LINK,size:Q.Co.Sizes.SMALL,children:te.Z.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_MODAL_WITHDRAW_AND_LEAVE})]})]})};var HC=n(291352),VC=n(554031),FC=n(613599),YC=n.n(FC);function WC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zC(e,t,n,r,o,i,a){try{
var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function KC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function qC(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function XC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return WC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var QC=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const $C=function(e){var t,n=e.guildId,i=e.inviteCode,a=XC(o.useState(VC.hO.INITIAL),2),c=a[0],l=a[1],u=(0,s.e7)([MC.Z],(function(){return MC.Z.get(n)})),f=(0,s.e7)([ZC.Z],(function(){return ZC.Z.getRequest(n)})),d=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(n)})),p=(0,s.cj)([ZC.Z],(function(){return{
hasFetchedRequestToJoinGuilds:ZC.Z.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:ZC.Z.getJoinRequestGuild(n)}})),h=p.hasFetchedRequestToJoinGuilds,E=p.guildPreviewDisabled;o.useEffect((function(){null!=d&&(0,X.uL)(M.Z5c.CHANNEL(n))}),[d,n]);o.useEffect((function(){h||RC.Z.fetchRequestToJoinGuilds()}),[h]);var y=o.useCallback((function(e){l((function(t){return Math.max(t,e)}))}),[]),m=function(e,t){return function(){(0,W.h7)((function(n){return(0,r.jsx)(bh.default,qC(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){KC(e,t,n[t])}))}return e}({header:te.Z.Messages.MEMBER_VERIFICATION_CONFIRM_LEAVE_TITLE,cancelText:te.Z.Messages.NEVERMIND,onConfirm:t,confirmText:te.Z.Messages.YES_TEXT,confirmButtonColor:Q.Co.Colors.RED},n),{children:(0,
r.jsx)(q.xv,{variant:"text-sm/normal",color:"header-secondary",children:e})}))}))}},b=function(){var e,t=(e=function(e){return QC(this,(function(t){switch(t.label){case 0:return[4,xC.Z.submitVerificationForm(n,e)];case 1:t.sent();return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zC(i,r,o,a,s,"next",e)}function s(e){zC(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),g=function(){RC.Z.resetGuildJoinRequest(n)},O=m(te.Z.Messages.LEAVE_SERVER_BODY.format({name:null==d?void 0:d.toString()}),(function(){l(Math.max(c,VC.hO.FILLING));RC.Z.removeGuildJoinRequest(n);(0,X.uL)(M.Z5c.ME)})),v=null!=(null==u||null===(t=u.guild)||void 0===t?void 0:t.splash)?qs.ZP.getGuildSplashURL({id:u.guild.id,splash:u.guild.splash}):(0,jC.gK)();return(0,r.jsx)("div",{className:YC().page,children:(0,r.jsxs)(PC.Z,{embedded:!0,splash:v,waveState:c,showLogo:!1,updateWaveState:y,children:[(0,r.jsx)("div",{
className:YC().dragRegion}),(0,r.jsx)("div",{className:YC().contentWrapper,children:function(){switch(null==f?void 0:f.applicationStatus){case wC.wB.SUBMITTED:return(0,r.jsx)(BC,{onCancel:m(te.Z.Messages.MEMBER_VERIFICATION_CANCEL_PENDING_APPLICATION_MODAL_TITLE,g),onLeave:O,guild:E});case wC.wB.REJECTED:return(0,r.jsx)(LC.Z,{reapplyText:te.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REAPPLY,onReapply:g,confirmText:te.Z.Messages.LEAVE_SERVER,onConfirm:O,rejectionReason:null==f?void 0:f.rejectionReason,guild:E});default:return(0,r.jsx)(HC.Z,{guildId:n,inviteCode:i,onComplete:b})}}()})]})})};var JC=n(775041),eA=n(922780);function tA(e){var t=e.guildId;return(0,s.e7)([eA.Z],(function(){return eA.Z.getSelectedGuildJoinRequest(t)}),[t])}var nA=n(277563),rA=n(323657);function oA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iA(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}
function aA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){aA(e,t,n[t])}))}return e}function cA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},uA=wC.tB*wC.hW;function fA(e){var t=e.guildId,n=e.guildJoinRequests,r=o.useRef(!1),i=cA(o.useState(null),2),a=i[0],s=i[1],c=o.useRef(null),l=o.useRef(!1),u=o.useCallback(function(){var e,o=(e=function(e,o){var i,u,f,d,p,h;return lA(this,(function(E){switch(E.label){case 0:if(r.current)return[2];i="".concat(e,"-").concat(o);u=!1;if(i!==c.current){c.current=i;l.current=!1;u=!0}if(l.current)return[2];null!=a&&s(null);f=function(e,t,n,r){var o=n===wC.wB.SUBMITTED;if(t===wC.Nw.TIMESTAMP_DESC){if(r)return{
before:nA.default.fromTimestamp((new Date).getTime())};var i=e[e.length-1];return{before:o?i.id:i.actionedAt}}if(r)return{after:nA.default.fromTimestamp(Ub()().subtract(180,"days").valueOf())};var a=e[e.length-1];return{after:o?a.id:a.actionedAt}}(n,e,o,u);E.label=1;case 1:E.trys.push([1,3,4,5]);r.current=!0;return[4,RC.Z.fetchGuildJoinRequests(sA({guildId:t,status:o,limit:uA},f))];case 2:null!=(d=E.sent())&&d.body.guild_join_requests.length<uA&&(l.current=!0);return[3,5];case 3:p=E.sent();h=new rA.Hx(p);s(h.getAnyErrorMessage());return[3,5];case 4:r.current=!1;return[7];case 5:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){iA(i,r,o,a,s,"next",e)}function s(e){iA(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,t){return o.apply(this,arguments)}}(),[a,t,n]);return{fetchNextPage:u,error:a}}function dA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pA(e){
return function(e){if(Array.isArray(e))return dA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hA=n(398705);const EA=function(e){var t=e.className,n=e.sortOrder,i=e.onSortChange,a=o.useMemo((function(){return[{value:wC.Nw.TIMESTAMP_DESC,label:te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_NEWEST},{value:wC.Nw.TIMESTAMP_ASC,label:te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_OLDEST}]}),[]);return(0,r.jsx)(q.q4,{className:t,
onChange:i,value:n,options:a})};var yA=n(497762),mA=n(146458),bA=n(624774),gA=n.n(bA);const OA=function(e){var t=e.pendingGuildJoinRequestsTotal,n=e.applicationStatus,o=e.onTabItemSelect;return(0,r.jsxs)(Ug.Z,{className:gA().container,hideSearch:!0,toolbar:(0,r.jsx)("div",{}),children:[(0,r.jsx)(Ug.Z.Icon,{icon:mA.Z,disabled:!0,"aria-label":te.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),(0,r.jsx)(Ug.Z.Title,{className:gA().title,children:te.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),(0,r.jsx)(Ug.Z.Divider,{className:gA().divider}),(0,r.jsxs)(yA.ZP,{"aria-label":te.Z.Messages.FRIENDS,selectedItem:n,type:yA.Yk.TOP_PILL,onItemSelect:o,className:gA().tabBar,children:[(0,r.jsx)(yA.ck,{id:wC.wB.SUBMITTED,children:0===t?te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING:te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT.format({count:t})}),(0,r.jsx)(yA.ck,{id:wC.wB.APPROVED,children:te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED}),(0,
r.jsx)(yA.ck,{id:wC.wB.REJECTED,children:te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED})]})]})};var vA=n(922932),_A=n(981201),SA=n(991338),IA=n(880068),TA=n(409830),NA=n(112712),CA=n(911324),AA=n(631447),PA=n.n(AA);function jA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RA(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function xA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){RA(i,r,o,a,s,"next",e)}function s(e){RA(i,r,o,a,s,"throw",e)}a(void 0)}))}}function MA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wA(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ZA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jA(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var LA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function DA(e){var t=e.icon,n=e.onClick,o=e.submitting,i=e.disabled;return(0,r.jsx)(q.P3,{className:Xp()(PA().actionIconContainer,MA({},PA().disabled,i||o)),onClick:n,children:o?(0,r.jsx)(jO.Z,{className:PA().icon,dotRadius:2,themed:!0}):(0,r.jsx)(t,{className:PA().icon,height:12,width:12})})}function UA(e){var t=e.applicationStatus,i=e.guild,a=e.guildJoinRequest,s=e.className,c=e.onClick,l=ZA(o.useState(null),2),u=l[0],f=l[1],d=a.user,p=a.createdAt;if(null==d)throw new Error("Missing user on this guild join request!");var h=o.useMemo((function(){return new JC.Z(d)}),[d]),E=qs.ZP.getUserAvatarURL(h),y=t===wC.wB.SUBMITTED,m=o.useCallback(function(){var e=xA((function(e,t){var n,r;return LA(this,(function(o){switch(o.label){case 0:n=e.guildId,r=e.userId
;if(null!=u)return[2];f(t);o.label=1;case 1:o.trys.push([1,3,,4]);return[4,RC.Z.updateGuildJoinRequest(n,r,t)];case 2:o.sent();return[3,4];case 3:o.sent();(0,CA.CF)((0,NA.Yz)(te.Z.Messages.ERROR_GENERIC_TITLE,NA.pC.FAILURE));f(null);return[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),[u]),b=function(){var e=xA((function(){return LA(this,(function(e){switch(e.label){case 0:return[4,m(a,wC.wB.APPROVED)];case 1:e.sent();return[2]}}))}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=xA((function(){return LA(this,(function(e){switch(e.label){case 0:return[4,m(a,wC.wB.REJECTED)];case 1:e.sent();return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)(q.P3,{className:Xp()(PA().container,s),onClick:c,children:[(0,r.jsx)(cg.ZP,{src:E,size:cg.ZP.Sizes.SIZE_40,"aria-label":d.username,className:PA().spacer}),(0,r.jsxs)("div",{className:PA().userDetails,children:[(0,r.jsx)(q.xv,{
variant:"text-md/semibold",color:"header-primary",children:d.username}),(0,r.jsx)(q.xv,{className:PA().createdAt,variant:"text-sm/normal",color:"header-secondary",children:Ub()(p).format("lll")})]}),y&&(0,r.jsx)(DA,{icon:lN.Z,onClick:b,submitting:u===wC.wB.APPROVED,disabled:null!=u&&u!==wC.wB.APPROVED}),y&&(0,r.jsx)(DA,{icon:Sb.Z,onClick:g,submitting:u===wC.wB.REJECTED,disabled:null!=u&&u!==wC.wB.REJECTED}),(0,r.jsx)(q.P3,{className:Xp()(PA().overflowMenuContainer,MA({},PA().disabled,null!=u)),onClick:function(e){(0,fb.jW)(e,xA((function(){var e,t;return LA(this,(function(o){switch(o.label){case 0:return[4,n.e(1752).then(n.bind(n,701752))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,wA(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){MA(e,t,n[t])}))}return e}({},e),{guild:i,user:h}))}]}}))})),{position:TA.vK.BOTTOM,align:TA.xM.RIGHT})},children:(0,r.jsx)(lS.Z,{className:PA().icon,width:18})})]})}function kA(){var e="".concat(Math.floor(50*Math.random())+100,"px"),t="".concat(Math.floor(25*Math.random())+50,"px");return(0,r.jsxs)("div",{className:PA().placeholder,children:[(0,r.jsx)("div",{className:Xp()(PA().placeholderAvatar)}),(0,r.jsxs)("div",{className:PA().userDetails,children:[(0,r.jsx)("div",{className:PA().placeholderUsername,style:{maxWidth:e}}),(0,r.jsx)("div",{className:PA().placeholderCreatedAt,style:{maxWidth:t}})]})]})}function GA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function BA(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var HA=function(){return null};function VA(e,t){var n=t.toLocaleString();switch(e){case wC.wB.SUBMITTED:return te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT_HYPEN.format({count:n});case wC.wB.REJECTED:return te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED_COUNT_HYPEN.format({count:n});case wC.wB.APPROVED:return te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED_COUNT_HYPEN.format({count:n});default:return""}}function FA(e){var t=e.status,n=te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_TITLE,o=te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_BODY;switch(t){case wC.wB.REJECTED:n=te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_REJECTED_APPLICATIONS_TITLE;o=te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_REJECTED_APPLICATIONS_BODY
;break;case wC.wB.APPROVED:n=te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_APPROVED_APPLICATIONS_TITLE;o=te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_APPROVED_APPLICATIONS_BODY;break;default:n=te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_TITLE;o=te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_BODY}return(0,r.jsxs)("div",{className:PA().emptyContainer,children:[(0,r.jsxs)("div",{className:PA().emptyIcon,children:[(0,r.jsx)(SA.Z,{className:PA().star}),(0,r.jsx)(lN.Z,{className:PA().checkmark}),(0,r.jsx)(_A.Z,{className:PA().plus})]}),(0,r.jsx)(q.X6,{variant:"heading-xl/semibold",children:n}),(0,r.jsx)(q.xv,{color:"header-secondary",className:PA().emptyBody,variant:"text-sm/normal",children:o})]})}const YA=function(e){var t=e.applicationStatus,n=e.guildJoinRequests,o=e.guildId,i=e.onScroll,a=e.listRef,c=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(o)}),[o]),l=(0,s.e7)([eA.Z],(function(){
return eA.Z.isFetching()})),u=l?[n.length+25]:[n.length],f=tA({guildId:o}),d=(0,hA.A)({guildId:o}),p=(0,vA.Z)("guild-join-requests"),h=function(e){var i,a=e.row,s=n[a];return null==s?(0,r.jsx)(kA,{},a):(0,r.jsx)(UA,{className:Xp()((i={},GA(i,PA().selected,f===s),GA(i,PA().siblingSelected,f===n[a-1]),i)),guild:c,guildJoinRequest:s,onClick:function(){return RC.Z.setSelectedGuildJoinRequest(o,s)},applicationStatus:t},"".concat(s.userId,"-").concat(s.applicationStatus,"-").concat(a))};return l||0!==n.length?(0,r.jsxs)(r.Fragment,{children:[0!==d&&t===wC.wB.SUBMITTED&&(0,r.jsx)(q.xv,{className:PA().title,variant:"text-xs/semibold",color:"header-secondary",children:VA(t,d).toUpperCase()}),(0,r.jsx)(rb.bG,{navigator:p,children:(0,r.jsx)(rb.SJ,{children:function(e){var t=e.ref,n=e.role,o=BA(e,["ref","role"]);return(0,r.jsx)(IA.ZP,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){GA(e,t,n[t])}))}return e}({innerRole:n,innerAriaLabel:te.Z.Messages.MEMBERS,ref:function(e){a.current=e;var n;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},paddingTop:0,paddingBottom:16,sectionHeight:0,rowHeight:64,renderSection:HA,renderRow:h,sections:u,onScroll:i,fade:!0},o),"guild-application-review")}})})]}):(0,r.jsx)(FA,{status:t})};var WA=n(690919),zA=n.n(WA);function KA(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function qA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){KA(i,r,o,a,s,"next",e)}function s(e){KA(i,r,o,a,s,"throw",e)}a(void 0)}))}}var XA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1]
;return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}
;function QA(e){var t=e.guildId,n=o.useRef(null),i=function(e){var t=e.guildId;return(0,s.e7)([eA.Z],(function(){return eA.Z.getSelectedApplicationStatus(t)}),[t])}({guildId:t}),a=function(e){var t=e.guildId;return(0,s.e7)([eA.Z],(function(){return eA.Z.getSelectedSortOrder(t)}),[t])}({guildId:t}),c=tA({guildId:t}),l=(0,hA.A)({guildId:t}),u=function(e){var t=e.guildId,n=e.applicationStatus,r=e.sortOrder,i=(0,s.e7)([eA.Z],(function(){return eA.Z.getRequests(t,n)}),[n,t]);return{guildJoinRequests:o.useMemo((function(){return r===wC.Nw.TIMESTAMP_DESC?pA(i).reverse():i}),[r,i])}}({guildId:t,applicationStatus:i,sortOrder:a}).guildJoinRequests,f=fA({guildId:t,guildJoinRequests:u}).fetchNextPage,d=o.useRef(!1);if(!d.current){d.current=!0;f(a,i)}var p=o.useRef(!1);o.useEffect((function(){p.current=!0}),[a,i]);o.useEffect((function(){if(p.current&&0!==u.length){var e;p.current=!1;RC.Z.setSelectedGuildJoinRequest(t,u[0]);null===(e=n.current)||void 0===e||e.scrollToTop()}}),[t,u,c])
;var h=o.useCallback(function(){var e=qA((function(e){return XA(this,(function(n){switch(n.label){case 0:if(a===e)return[2];RC.Z.setSelectedSortOrder(t,e);return[4,f(e,i)];case 1:n.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[i,a,t,f]),E=o.useCallback(function(){var e=qA((function(e){return XA(this,(function(n){switch(n.label){case 0:if(i===e)return[2];RC.Z.setSelectedApplicationStatus(t,e);RC.Z.setSelectedGuildJoinRequest(t,null);return[4,f(a,e)];case 1:n.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[i,a,t,f]),y=o.useCallback(qA((function(){var e,t;return XA(this,(function(r){switch(r.label){case 0:return null==(t=null===(e=n.current)||void 0===e?void 0:e.getScrollerState())?[2]:t.scrollHeight-t.scrollTop-t.offsetHeight<200?[4,f(a,i)]:[3,2];case 1:r.sent();r.label=2;case 2:return[2]}}))})),[i,a,f]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(OA,{applicationStatus:i,onTabItemSelect:E,pendingGuildJoinRequestsTotal:l
}),(0,r.jsxs)("div",{className:zA().content,children:[(0,r.jsx)("div",{className:zA().listControls,children:(0,r.jsx)(EA,{className:zA().sortSelect,sortOrder:a,onSortChange:h})}),(0,r.jsx)(q.xv,{className:zA().description,variant:"text-xs/normal",color:"header-secondary",children:te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_LIST_DESCRIPTION}),(0,r.jsx)(YA,{applicationStatus:i,guildJoinRequests:u,guildId:t,onScroll:y,listRef:n})]})]})}const $A=o.memo(QA);var JA=n(191368);function eP(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tP(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function nP(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function rP(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.foreground,l=nP(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",tP(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eP(e,t,n[t])}))}return e}({},(0,
qb.Z)(l)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:c,fill:s,d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z"})}))}var oP=n(847072),iP=n(464497),aP=n(928575),sP=n(678050),cP=n(404102);const lP=function(e){var t=e.formFields,n=e.user;return null==(0,s.e7)([Y.default],(function(){return null!=n?n:Y.default.getCurrentUser()}))?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(oP.Ih,{icon:rP,text:te.Z.Messages.MEMBER_VERIFICATION_FORM_PASSED_REQUIREMENTS,meetsRequirement:!0}),t.map((function(e,t){return function(e,t){switch(e.field_type){case wC.QJ.TERMS:return(0,r.jsx)(sP.QC,{formField:e},t);case wC.QJ.TEXT_INPUT:return(0,r.jsx)(cP.YJ,{formField:e},t);case wC.QJ.PARAGRAPH:return(0,r.jsx)(aP.jn,{formField:e},t);case wC.QJ.MULTIPLE_CHOICE:return(0,r.jsx)(iP.QH,{formField:e},t)}}(e,t)}))]})};var uP=n(449953),fP=n(523283),dP=n(559675),pP=n(328690),hP=n.n(pP)
;function EP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yP(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function mP(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){yP(i,r,o,a,s,"next",e)}function s(e){yP(i,r,o,a,s,"throw",e)}a(void 0)}))}}function bP(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gP(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e
}function OP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return EP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vP=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_P=24;function SP(e){
var t,i=e.guildJoinRequest,a=e.guild,c=e.guildJoinRequestUser,l=OP(o.useState(!1),2),u=l[0],f=l[1],d=i.createdAt,p=i.actionedAt,h=i.guildId,E=i.userId,y=null===(t=i.actionedByUser)||void 0===t?void 0:t.id,m=(0,s.e7)([Y.default],(function(){return Y.default.getUser(y)})),b=(0,s.e7)([ls.ZP],(function(){return null!=y?ls.ZP.getMember(h,y):null}),[y,h]),g=o.useCallback((function(){(0,CA.CF)((0,NA.Yz)(te.Z.Messages.ERROR_GENERIC_TITLE,NA.pC.FAILURE))}),[]),O=function(){var e=mP((function(){return vP(this,(function(e){switch(e.label){case 0:if(u)return[2];f(!0);e.label=1;case 1:e.trys.push([1,3,4,5]);return[4,RC.Z.updateGuildJoinRequest(h,E,wC.wB.APPROVED)];case 2:e.sent();return[3,5];case 3:e.sent();g();return[3,5];case 4:f(!1);return[7];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),v=te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING,_=(0,r.jsx)(dP.Z,{width:_P,height:_P,className:hP().icon});if(i.applicationStatus===wC.wB.APPROVED){
v=te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED;_=(0,r.jsx)(uP.Z,{width:_P,height:_P,className:hP().iconApproved,backgroundColor:(0,pN.Lq)(M.Ilk.WHITE_500)})}else if(i.applicationStatus===wC.wB.REJECTED){v=te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED;_=(0,r.jsx)(fP.Z,{width:_P,height:_P,className:hP().iconRejected,backgroundColor:(0,pN.Lq)(M.Ilk.WHITE_500)})}var S=null!=m&&null!=p?te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_ACTIONED_BY_HOOK.format({date:Ub()(nA.default.extractTimestamp(p)).format("ll"),usernameHook:function(){var e;return(0,r.jsx)(q.P3,{className:hP().actionedByUser,onClick:function(){return(0,bp.m)({userId:m.id,guildId:h,analyticsLocation:{section:M.jXE.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:M.qAy.ACTIONED_BY_USER}})},tag:"div",role:"link",children:(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"header-primary",children:null!==(e=null==b?void 0:b.nick)&&void 0!==e?e:m.username})},"username-hook")}}):Ub()(d).format("lll")
;return(0,r.jsxs)("div",{className:hP().container,children:[(0,r.jsxs)("div",{className:hP().wrapper,children:[(0,r.jsxs)("div",{className:hP().inline,children:[_,(0,r.jsxs)("div",{children:[(0,r.jsx)(q.X6,{variant:"heading-sm/semibold",children:v}),(0,r.jsx)(q.xv,{className:hP().headerSubtext,variant:"text-xs/normal",color:"header-secondary",children:S})]})]}),(0,r.jsxs)("div",{className:hP().inline,children:[i.applicationStatus===wC.wB.SUBMITTED&&(0,r.jsxs)("div",{className:hP().buttons,children:[(0,r.jsx)(Q.Co,{color:Q.Co.Colors.GREEN,submitting:u,onClick:function(){return O()},children:te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVE_APPLICATION}),(0,r.jsx)(Q.Co,{color:Q.Co.Colors.RED,onClick:function(){(0,W.ZD)(mP((function(){var e,t;return vP(this,(function(o){switch(o.label){case 0:return[4,n.e(40035).then(n.bind(n,540035))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,{modalProps:e,guildId:h,userId:E,onError:g})}]}}))})))},disabled:u,
children:te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_DENY_APPLICATION})]}),(0,r.jsx)(q.P3,{onClick:function(e){(0,fb.jW)(e,mP((function(){var e,t;return vP(this,(function(o){switch(o.label){case 0:return[4,n.e(1752).then(n.bind(n,701752))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,gP(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bP(e,t,n[t])}))}return e}({},e),{guild:a,user:c}))}]}}))})))},className:hP().overflow,children:(0,r.jsx)(lS.Z,{width:20,height:20,className:hP().iconInteractive})})]})]}),i.applicationStatus===wC.wB.REJECTED&&null!=i.rejectionReason&&(0,r.jsx)("div",{className:hP().rejectionReason,children:(0,r.jsx)(q.xv,{variant:"text-sm/normal",children:i.rejectionReason})})]})}
var IP=n(734787),TP=n.n(IP);function NP(e){var t=e.user,n=e.className,o=t.discriminator,i=t.username,a=qs.ZP.getUserAvatarURL(t);return(0,r.jsxs)("div",{className:Xp()(TP().container,n),children:[(0,r.jsx)(cg.ZP,{src:a,size:cg.ZP.Sizes.SIZE_80,"aria-label":i,className:TP().avatar}),(0,r.jsxs)("div",{className:TP().username,children:[(0,r.jsx)(q.X6,{variant:"heading-xl/semibold",children:i}),(0,r.jsxs)(q.xv,{variant:"text-md/normal",color:"header-secondary",children:["#",o]})]}),(0,r.jsx)(LT.Z,{onClick:function(){(0,bp.m)({userId:t.id,analyticsLocation:{section:M.jXE.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:M.qAy.JOIN_REQUEST}})},children:te.Z.Messages.VIEW_PROFILE})]})}var CP=n(800660),AP=n.n(CP);const PP=function(e){var t,n=e.guild,i=e.guildJoinRequest,a=e.guildJoinRequestUser,s=e.onClose,c=o.useMemo((function(){return null!==(t=i.formResponses)&&void 0!==t?t:[]}),[i.formResponses]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Ib.ZP,{toolbar:(0,r.jsx)(Ib.ZP.Icon,{
icon:Sb.Z,onClick:s,tooltip:te.Z.Messages.CLOSE}),children:[(0,r.jsx)(Ib.ZP.Icon,{icon:JA.Z,disabled:!0,"aria-label":te.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATION}),(0,r.jsx)(q.X6,{variant:"heading-md/semibold",children:a.toString()})]}),(0,r.jsx)(SP,{guildJoinRequest:i,guildJoinRequestUser:a,guild:n}),(0,r.jsxs)(eE.ZP,{children:[(0,r.jsx)(NP,{user:a,className:AP().container}),(0,r.jsx)("div",{className:AP().disabledFormRenderer,children:(0,r.jsx)(lP,{guildId:n.id,formFields:c,user:a})})]})]})};var jP=n(851007),RP=n.n(jP);const xP=function(e){var t=e.guildId,n=tA({guildId:t}),i=(null!=n?n:{}).user,a=o.useMemo((function(){return null!=i?new JC.Z(i):null}),[i]),c=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(t)}),[t]);(0,ym.Tt)({subsection:te.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REQUIREMENTS,location:null==c?void 0:c.name});o.useEffect((function(){xC.Z.fetchVerificationForm(t)}),[t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:RP().content,
children:(0,r.jsx)($A,{guildId:t})}),null!=n&&null!=c&&null!=a&&(0,r.jsx)("section",{className:RP().sidebar,children:(0,r.jsx)(PP,{guild:c,guildJoinRequest:n,guildJoinRequestUser:a,onClose:function(){return RC.Z.setSelectedGuildJoinRequest(t,null)}})})]})};var MP=n(298586),wP=n(772041),ZP=n(384995),LP=n(31165),DP=n(54168),UP=n(495798),kP=n(26271),GP=n(577028),BP=n(810873),HP=n(226300),VP=n(354445),FP=n(710348),YP=n(290495),WP=n(218892);function zP(e){O.Z.dispatch({type:"CLEAR_PENDING_CHANNEL_AND_ROLE_UPDATES",guildId:e})}function KP(e,t,n){return(0,s.e7)([qd.Z],(function(){return t===n?qd.Z.isChannelOptedIn(e,t,!0):function(e,t,n){return!!(0,WP.hi)(e)||n.isChannelOptedIn(e,t,!0)}(e,t,qd.Z)||null!=n&&qd.Z.isChannelOptedIn(e,n,!0)}))}function qP(e,t,n){return(0,s.e7)([qd.Z],(function(){return t!==n&&null!=n&&qd.Z.isChannelOptedIn(e,n,!0)}))}var XP=n(682130),QP=n(513073),$P=n(997226),JP=n.n($P),ej=n(522627),tj=n.n(ej);function nj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rj(e){var t=e.guild,n=(0,QP.te)(t.id),o=(0,pn.wE)(dn.z$.GUILD_HEADER_COMMUNITY_ONBOARDING_ADMIN_UPSELL),i=n&&!o?dn.z$.GUILD_HEADER_COMMUNITY_ONBOARDING_ADMIN_UPSELL:dn.z$.CHANNEL_BROWSER_NUX;(0,pn.kk)(i);var a=n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(q.X6,{className:JP().heading,color:"always-white",variant:"heading-lg/semibold",children:te.Z.Messages.CHANNEL_BROWSER_ADMIN_NUX_TITLE}),(0,r.jsx)(q.xv,{variant:"text-md/normal",color:"always-white",children:te.Z.Messages.CHANNEL_BROWSER_ADMIN_NUX_DESCRIPTION}),(0,r.jsx)(Q.Co,{className:JP().checkItOut,onClick:function(){yr.Z.open(t.id,M.pNK.ONBOARDING);(0,pn.EW)(i,{dismissAction:mn.L.PRIMARY})},look:Q.Co.Looks.INVERTED,children:(0,r.jsx)(q.xv,{variant:"text-md/medium",color:"none",children:te.Z.Messages.CHANNEL_BROWSER_ADMIN_NUX_CTA})})]}),(0,r.jsx)(XP.j,{isTooltip:!0})]}):(0,r.jsxs)("div",{className:JP().nuxContent,children:[(0,
r.jsx)("img",{width:180,className:JP().image,src:tj(),alt:"","aria-hidden":!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)(q.X6,{className:JP().heading,variant:"heading-lg/semibold",color:"header-primary",children:te.Z.Messages.CHANNEL_BROWSER_NUX_TITLE}),(0,r.jsx)(q.xv,{variant:"text-md/normal",color:"header-secondary",children:te.Z.Messages.CHANNEL_BROWSER_NUX_DESCRIPTION}),(0,r.jsx)(q.xv,{className:JP().tip,variant:"text-md/normal",color:"header-secondary",children:te.Z.Messages.CHANNEL_BROWSER_NUX_DESCRIPTION_2.format()})]})]});return(0,r.jsxs)("div",{className:Xp()(JP().container,nj({},JP().adminUpsell,n)),children:[(0,r.jsx)(q.P3,{className:JP().closeButton,onClick:function(){(0,pn.EW)(i,{dismissAction:mn.L.DISMISS})},children:(0,r.jsx)(Sb.Z,{})}),a]})}var oj=n(961134),ij=n.n(oj);function aj(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function sj(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){aj(i,r,o,a,s,"next",e)}function s(e){aj(i,r,o,a,s,"throw",e)}a(void 0)}))}}function cj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cj(e,t,n[t])}))}return e}function uj(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var fj=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},dj=new Set([M.d4z.GUILD_FORUM]),pj=new Set([M.d4z.GUILD_VOICE,M.d4z.GUILD_STAGE_VOICE]);function hj(e){var t=e.guild,o=e.channel,i=e.onCategoryClick,a=KP(t.id,o.id,o.id),s=qP(t.id,o.id,o.id);return(0,r.jsxs)("div",{className:Xp()(ij().categoryRow,cj({},ij().uncategorized,"null"===o.id)),onContextMenu:function(e){(0,fb.jW)(e,sj((function(){var e,i;return fj(this,(function(a){switch(a.label){case 0:return[4,n.e(81664).then(n.bind(n,981664))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,uj(lj({},e),{channel:o,guild:t}))}]}}))})))},children:[(0,r.jsx)(q.xv,{className:ij().categoryText,color:"text-muted",variant:"text-xs/semibold",lineClamp:1,children:o.name}),"null"!==o.id&&!s&&(0,r.jsxs)(q.P3,{className:ij().selectAll,onClick:function(){s||i(t.id,o.id,o.id)},children:[(0,r.jsx)(q.XZ,{
className:ij().selectAllCheckbox,size:14,shape:q.XZ.Shapes.SMALL_BOX,value:a,type:q.XZ.Types.INVERTED,displayOnly:!0}),(0,r.jsx)(q.xv,{color:"text-muted",variant:"text-xs/medium",children:te.Z.Messages.CHANNEL_BROWSER_SELECT_ALL})]})]})}var Ej=o.memo((function(){return(0,r.jsx)("div",{className:ij().separator})})),yj=o.memo((function(e){var t=e.index;return(0,r.jsx)(q.xv,{variant:"text-xs/normal",className:ij().subtitleSeparator,children:"·"},"separator-".concat(t))}));var mj=o.memo((function(e){var t,o,i=e.channel,a=e.category,c=e.guild,l=e.isFirstChannel,u=e.isLastChannel,f=e.onChannelClick,d=e.tooltipDirection,p=void 0===d?Kb.ZP.Positions.RIGHT:d,h=KP(c.id,i.id,a.id),E=qP(c.id,i.id,a.id),y=(t=c.id,o=a.id,(0,s.e7)([qd.Z],(function(){if(null!=o&&qd.Z.isChannelOptedIn(t,o,!0))return te.Z.Messages.CHANNEL_BROWSER_DISABLED_BY_CATEGORY}))),m=(0,s.e7)([GP.Z],(function(){return GP.Z.getActiveThreadCount(c.id,i.id)})),b=(0,s.e7)([UP.Z],(function(){
return UP.Z.getHighlightedMessageIdCount(i.id)})),g=(0,s.e7)([kP.Z],(function(){return kP.Z.shouldIndicateNewChannel(c.id,i.id)})),O=function(e){if(!E){e.stopPropagation();f(c.id,i.id,a.id);return!0}},v=function(e){i.isGuildVocal()?(0,fb.jW)(e,sj((function(){var e,t;return fj(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(87996),n.e(57501),n.e(2464),n.e(13277)]).then(n.bind(n,213277))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,uj(lj({},e),{channel:i,guild:c}))}]}}))}))):(0,fb.jW)(e,sj((function(){var e,t;return fj(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(87996),n.e(57501),n.e(2464),n.e(22619)]).then(n.bind(n,922619))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,uj(lj({},e),{channel:i,guild:c}))}]}}))})))},_=function(e,t,n){var o=[];n>0&&o.push((0,r.jsx)(q.xv,{variant:"text-xs/medium",className:ij().channelSubtitle,color:"text-brand",children:te.Z.Messages.CHANNEL_HIGHLIGHTS_COUNT.format({
count:n})},"thread-count"));e.type===M.d4z.GUILD_FORUM&&t>=1&&o.push((0,r.jsx)(q.xv,{variant:"text-xs/normal",className:ij().channelSubtitle,children:te.Z.Messages.ACTIVE_FORUM_POST_COUNT.format({count:t})},"thread-count"));pj.has(e.type)||o.push((0,r.jsx)(q.xv,{variant:"text-xs/normal",className:ij().channelSubtitle,children:(0,wP.qw)(e.id)},"active"));null!=e.topic&&e.topic.length>0&&o.push((0,r.jsx)(BP.Z,{children:(0,r.jsx)(q.xv,{className:ij().topic,variant:"text-xs/normal",children:HO.Z.parseTopic(e.topic,!0,{channelId:e.id})})},"topic"));return[o.map((function(e,t){return[e,(0,r.jsx)(yj,{index:t},"subtitle-separator-".concat(t))]}))].flat(2).slice(0,-1)}(i,m,b),S=function(e){e.stopPropagation();if(dj.has(i.type)||e.shiftKey){(0,X.XU)(c.id,i.id);return!0}if(i.isGuildStageVoice()||i.isGuildVoice()){(0,zO.Cq)(i);return!0}Qf.Z.openChannelAsSidebar({guildId:i.guild_id,channelId:i.id,baseChannelId:cO.oC.CHANNEL_BROWSER});return!0},I=te.Z.Messages.CHANNEL_BROWSER_VIEW
;i.isGuildStageVoice()||i.isGuildVoice()?I=te.Z.Messages.JOIN:i.isForumChannel()&&(I=te.Z.Messages.OPEN);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Kb.ZP,{text:y,delay:500,position:p,children:function(e){var t;return(0,r.jsxs)(q.P3,uj(lj({className:Xp()(ij().channelRow,(t={},cj(t,ij().firstChannel,l),cj(t,ij().lastChannel,u),cj(t,ij().disabled,E),t))},e),{onClick:O,onContextMenu:v,children:[(0,r.jsxs)("div",{className:ij().channelInfo,children:[(0,r.jsxs)("div",{className:ij().channelName,children:[(0,r.jsx)(MP._,{channel:i,guild:c}),(0,r.jsx)(BP.Z,{className:ij().name,children:(0,r.jsx)(q.xv,{className:ij().channelText,variant:"text-md/medium",lineClamp:1,color:E?"text-muted":"text-normal",children:i.name})}),g?(0,r.jsx)(HP.IG,{text:te.Z.Messages.NEW,color:(0,pN.Lq)(M.Ilk.BRAND_260),className:ij().titleBadge}):null]}),(0,r.jsx)("div",{className:ij().channelSubtitles,children:_})]}),(0,r.jsxs)("div",{className:ij().channelActions,children:[(0,r.jsx)(Q.Co,{look:Q.iL.OUTLINED,
color:Q.Tt.PRIMARY,size:Q.Ph.SMALL,className:ij().viewChannelButton,onClick:S,children:I}),(0,r.jsx)(q.XZ,{"aria-checked":h,value:h,type:q.XZ.Types.INVERTED,disabled:E,innerClassName:ij().checkboxInner,displayOnly:!0})]})]}))}}),!u&&(0,r.jsx)(Ej,{})]})}));function bj(e){var t,n=e.categories,i=e.guild,a=e.className,c=e.innerClassName,l=e.hasSidebar,u=function(e){var t=(0,s.e7)([qd.Z],(function(){return qd.Z.getPendingChannelUpdates(e)}));o.useEffect((function(){zP(e);return function(){return zP(e)}}),[e]);o.useEffect((function(){null!=t&&(0,YP.C1)(e,t)}),[e,t]);var n=o.useCallback((function(e,t,n){var r=qd.Z.isChannelOptedIn(e,t),o=t===n;!r&&FP.Z.isCollapsed(n)&&null!=n&&(0,VP.mJ)(n);(0,WP.hi)(e)?o?(0,WP.rz)(e,{include:new Set([t])}):(0,WP.rz)(e,{exclude:new Set([t])}):(0,YP.k$)(e,t,!r,{section:M.jXE.CHANNEL_BROWSER})}),[]);return{onChannelClick:n}}(i.id).onChannelClick,f=(0,pn.wE)(dn.z$.CHANNEL_BROWSER_NUX)?0:-1,d=o.useCallback((function(e){var t=e.section;if(0===t&&-1===f)return null
;var o=n._categories[t+f];return(0,r.jsx)(hj,{channel:o.channel,guild:i,onCategoryClick:u},o.channel.id)}),[n,i,f,u]),p=o.useCallback((function(e){var t=e.section,o=e.row;if(0===t&&-1===f)return(0,r.jsx)(rj,{guild:i});var a=n._categories[t+f],s=n[a.channel.id][o];return null==s?null:(0,r.jsx)(mj,{category:a.channel,channel:s.channel,guild:i,isFirstChannel:0===o,isLastChannel:n[a.channel.id].length-1===o,tooltipDirection:l?Kb.ZP.Positions.RIGHT:Kb.ZP.Positions.TOP,onChannelClick:u},s.channel.id)}),[n,i,f,l,u]),h=(t=i.id,(0,QP.te)(t)?250:152),E=(0,wP.tn)(i.id,n,64,h);return(0,r.jsx)(IA._2,{className:a,innerClassName:Xp()(c,ij().scrollerInner),sectionHeight:48,rowHeight:function(e){return E[e].rowHeight},renderSection:d,renderRow:p,sections:E.map((function(e){return e.rowCount}))},"channel-browser-list")}var gj=n(193025),Oj=n.n(gj);function vj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _j(e,t,n,r,o,i,a){try{
var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Sj(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_j(i,r,o,a,s,"next",e)}function s(e){_j(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ij(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Tj(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Nj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Cj=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Aj(e){var t=e.channelId;return(0,r.jsx)(ob.Z,{
sidebarType:ob.y.ThreadSidebar,maxWidth:600,children:(0,r.jsx)(xb,{channelId:t,baseChannelId:cO.oC.CHANNEL_BROWSER})})}function Pj(e){var t=e.guildId,i=Nj(o.useState(""),2),a=i[0],c=i[1],l=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(t)})),u=(0,s.e7)([hT.ZP],(function(){return hT.ZP.getChannels(t)})),f=(0,s.e7)([ZP.Z],(function(){return ZP.Z.getCategories(t)})),d=(0,wP.Fo)(f,u,a),p=(0,s.e7)([En.Z],(function(){return En.Z.canWithPartialContext(M.Plq.MANAGE_CHANNELS,{guildId:t})})),h=(0,s.e7)([zd.ZP],(function(){return null!=zd.ZP.getCurrentSidebarChannelId(cO.oC.CHANNEL_BROWSER)})),E=o.useCallback((function(){return c("")}),[c]),y=o.useCallback((function(){(0,W.ZD)(Sj((function(){var e,o;return Cj(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(17810)]).then(n.bind(n,217810))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Tj(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ij(e,t,n[t])}))}return e}({},e),{channelType:null,guildId:t}))}]}}))})))}),[t]);return null==l?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:Xp()(EC().chat,Oj().container),children:(0,r.jsxs)("div",{className:Xp()(Oj().pageBody),children:[(0,r.jsxs)("div",{className:Oj().header,children:[(0,r.jsx)(LP.Z,{className:Oj().search,size:LP.Z.Sizes.MEDIUM,query:a,onChange:function(e){""===a&&""!==e&&Ce.default.track(M.rMx.SEARCH_STARTED,{search_type:"channel browser"});c(e.toLowerCase())},onClear:E,placeholder:te.Z.Messages.CHANNEL_BROWSER_SEARCH_PLACEHOLDER}),p?(0,r.jsxs)(Q.Co,{className:Oj().createButton,innerClassName:Oj().createButtonInner,onClick:y,children:[(0,r.jsx)(DP.Z,{className:Oj().createIcon}),te.Z.Messages.CREATE]}):null]}),(0,r.jsx)(bj,{className:Oj().browser,
channels:u,categories:d,guild:l,hasSidebar:h})]})})})}var jj=n(263154),Rj=n(153445),xj=n(316921),Mj=n(823569),wj=n(879022),Zj=n(373312),Lj=n(356002),Dj=n(185139),Uj=n(811778),kj=n(153532),Gj=n(182434),Bj=n(836670),Hj=n(17611),Vj=n(656284);function Fj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Yj(e){O.Z.dispatch({type:"CLEAR_PENDING_CHANNEL_AND_ROLE_UPDATES",guildId:e})}function Wj(e){var t,n=(0,s.e7)([Bj.Z],(function(){return null!==(t=Bj.Z.getPendingResponseOptions(e))&&void 0!==t?t:{}}),[e]);o.useEffect((function(){Yj(e);return function(){return Yj(e)}}),[e]);o.useEffect((function(){null!=n&&0!==Object.keys(n).length&&Vj.Z.updateOnboardingResponses(e)}),[e,n]);var r=o.useCallback((function(t,n,r){var o=Bj.Z.getOnboardingResponses(e),i=function(e,t,n,r){var o=[],i=[];if(e.singleSelect&&n){var a,s,c,l,u=e.options.find((function(e){return r.includes(e.id)}))
;o=ss().difference(null!==(a=t.roleIds)&&void 0!==a?a:[],null!==(s=null==u?void 0:u.roleIds)&&void 0!==s?s:[]);i=ss().difference(null!==(c=null==u?void 0:u.roleIds)&&void 0!==c?c:[],null!==(l=t.roleIds)&&void 0!==l?l:[])}else if(n){var f;o=null!==(f=t.roleIds)&&void 0!==f?f:[];i=[]}else{var d=e.options.filter((function(e){return r.includes(e.id)})),p=d.filter((function(e){return t.id!==e.id})),h=d.map((function(e){return e.roleIds})).flat().filter(No.lm),E=p.map((function(e){return e.roleIds})).flat().filter(No.lm);o=[];i=ss().difference(h,E)}return{addedRoleIds:o,removedRoleIds:i}}(t,n,r,o),a=i.addedRoleIds,s=i.removedRoleIds,c=function(e,t,n,r){var o=[],i=[];if(e.singleSelect&&n){var a,s,c,l,u=e.options.find((function(e){return r.includes(e.id)}));o=ss().difference(null!==(a=t.channelIds)&&void 0!==a?a:[],null!==(s=null==u?void 0:u.channelIds)&&void 0!==s?s:[]);i=ss().difference(null!==(c=null==u?void 0:u.channelIds)&&void 0!==c?c:[],null!==(l=t.channelIds)&&void 0!==l?l:[])
}else if(n){var f;o=null!==(f=t.channelIds)&&void 0!==f?f:[];i=[]}else{var d=e.options.filter((function(e){return r.includes(e.id)})),p=d.filter((function(e){return t.id!==e.id})),h=d.map((function(e){return e.channelIds})).flat().filter(No.lm),E=p.map((function(e){return e.channelIds})).flat().filter(No.lm);o=[];i=ss().difference(h,E)}return{addedChannelIds:o,removedChannelIds:i}}(t,n,r,o),l=c.addedChannelIds,u=c.removedChannelIds,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Fj(e,t,n[t])}))}return e}({},l.reduce((function(t,n){var r=qd.Z.getGuildChannelFlags(e,n);t[n]={flags:(0,Rs.mB)(r,yE.ic.OPT_IN_ENABLED,!0)};return t}),{}),u.reduce((function(t,n){var r=qd.Z.getGuildChannelFlags(e,n);t[n]={flags:(0,
Rs.mB)(r,yE.ic.OPT_IN_ENABLED,!1)};return t}),{}));Vj.Z.selectOption(e,t.id,n.id,r);O.Z.dispatch({type:"USER_GUILD_SETTINGS_CHANNEL_UPDATE_BULK",guildId:e,overrides:f});Vj.Z.updateRolesLocal(e,a,s)}),[e]);return{handleSelectOption:r}}function zj(e,t,n){return 0===e.length?"":(n?te.Z.Messages.ONBOARDING_HELP_TEXT_ADD_ROLES_ALSO:te.Z.Messages.ONBOARDING_HELP_TEXT_ADD_ROLES).format({count:e.length,extraCount:Math.max(e.length-2,0),role1:e[0],role2:e[1],itemHook:t})}function Kj(e){var t,n=e.guild,r=e.prompt,o=e.selectedRoleIds,i=e.selectedChannelIds,a=e.itemHook,c=(0,s.Wu)([I.Z,Y.default,ps.Z],(function(){return Array.from(i).map((function(e){return I.Z.getChannel(e)})).filter(No.lm).map((function(e){return(0,Yd.F6)(e,Y.default,ps.Z,!0)}))})),l=Array.from(o).map((function(e){var r;return null===(r=(null!==(t=null==n?void 0:n.roles)&&void 0!==t?t:{})[e])||void 0===r?void 0:r.name})).filter(No.lm).map((function(e){return"@".concat(e)
})),u=(null==r?void 0:r.singleSelect)?"":te.Z.Messages.ONBOARDING_CHOOSE_ALL_OPTIONS,f="";if(0===c.length&&l.length>0)u=zj(l,a);else if(c.length>0){u=function(e,t){return 0===e.length?"":te.Z.Messages.ONBOARDING_HELP_TEXT_ADD_CHANNELS.format({count:e.length,extraCount:Math.max(e.length-2,0),channel1:e[0],channel2:e[1],itemHook:t})}(c,a);l.length>0&&(f=zj(l,a,!0))}return{helpText:u,helpTextAdditional:f}}function qj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xj(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function Qj(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function $j(e){var t=e.width,n=void 0===t?120:t,o=e.height,i=void 0===o?80:o,a=e.backgroundColor,s=e.foregroundColor,c=Qj(e,["width","height","backgroundColor","foregroundColor"]);return(0,r.jsxs)("svg",Xj(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qj(e,t,n[t])}))}return e}({},(0,qb.Z)(c)),{width:n,height:i,viewBox:"0 0 120 80",fill:"none",
xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"60",cy:"40",r:"32",fill:a}),(0,r.jsx)("path",{
d:"M75.0832 29.8546L75.0835 29.8548C75.1362 29.884 75.1683 29.9391 75.1683 29.9983C75.1683 30.5369 75.1197 37.4409 73.0784 44.1629C71.005 50.9907 67.1615 56.8317 60.0016 56.8317C52.8418 56.8317 48.9982 50.9907 46.9248 44.1629C44.8836 37.4409 44.835 30.5369 44.835 29.9983C44.835 29.9391 44.8671 29.884 44.9197 29.8548L44.9201 29.8546L59.919 21.5218C59.9191 21.5218 59.9193 21.5217 59.9194 21.5216C59.9718 21.4928 60.0316 21.4928 60.0839 21.5217C60.084 21.5217 60.0842 21.5218 60.0843 21.5218L75.0832 29.8546ZM52.2516 46.6667V48.1667H53.7516H66.2516H67.7516V46.6667C67.7516 44.43 67.0409 42.4584 65.6254 41.0429C64.7687 40.1861 63.7082 39.5876 62.5086 39.2485C64.3809 38.3237 65.6683 36.3949 65.6683 34.165C65.6683 31.0349 63.1317 28.4983 60.0016 28.4983C56.8715 28.4983 54.335 31.0349 54.335 34.165C54.335 36.3949 55.6224 38.3237 57.4947 39.2485C56.295 39.5876 55.2346 40.1861 54.3778 41.0429C52.9623 42.4584 52.2516 44.43 52.2516 46.6667Z",fill:s,stroke:s,strokeWidth:"3"}),(0,r.jsx)("path",{
d:"M103.67 1.80634C103.67 0.808724 102.862 0 101.864 0C100.866 0 100.058 0.808724 100.058 1.80634V3.64278C100.058 4.64039 100.866 5.44911 101.864 5.44911C102.862 5.44911 103.67 4.64039 103.67 3.64278V1.80634Z",fill:"#58F287"}),(0,r.jsx)("path",{d:"M103.67 16.3574C103.67 15.3597 102.862 14.551 101.864 14.551C100.866 14.551 100.058 15.3597 100.058 16.3574V18.1938C100.058 19.1914 100.866 20.0001 101.864 20.0001C102.862 20.0001 103.67 19.1914 103.67 18.1938V16.3574Z",fill:"#58F287"}),(0,r.jsx)("path",{d:"M110.194 11.8412C111.191 11.8412 112 11.0325 112 10.0349C112 9.03724 111.191 8.22852 110.194 8.22852H108.357C107.36 8.22852 106.551 9.03724 106.551 10.0349C106.551 11.0325 107.36 11.8412 108.357 11.8412H110.194Z",fill:"#58F287"}),(0,r.jsx)("path",{d:"M95.6429 11.7413C96.6405 11.7413 97.4492 10.9326 97.4492 9.935C97.4492 8.93739 96.6405 8.12866 95.6429 8.12866H93.8064C92.8088 8.12866 92.0001 8.93739 92.0001 9.935C92.0001 10.9326 92.8088 11.7413 93.8064 11.7413H95.6429Z",fill:"#58F287"}),(0,
r.jsx)("path",{
d:"M19.1501 74.4573L23.3147 73.0684C23.5192 72.9747 23.6925 72.8241 23.814 72.6347C23.9354 72.4454 24 72.225 24 72C24 71.775 23.9354 71.5546 23.814 71.3653C23.6925 71.1759 23.5192 71.0253 23.3147 70.9316L19.1501 69.5427C18.8657 69.4142 18.6378 69.1862 18.5094 68.9016L17.0145 64.7348C16.9442 64.521 16.8083 64.3349 16.6262 64.203C16.444 64.071 16.2249 64 16 64C15.7751 64 15.556 64.071 15.3738 64.203C15.1917 64.3349 15.0558 64.521 14.9855 64.7348L13.4906 68.9016C13.3622 69.1862 13.1343 69.4142 12.8499 69.5427L8.68528 70.9316C8.4808 71.0253 8.30752 71.1759 8.18604 71.3653C8.06457 71.5546 8 71.775 8 72C8 72.225 8.06457 72.4454 8.18604 72.6347C8.30752 72.8241 8.4808 72.9747 8.68528 73.0684L12.8499 74.4573C13.0011 74.5032 13.1387 74.5858 13.2505 74.6976C13.3622 74.8094 13.4447 74.9471 13.4906 75.0984L14.9855 79.2652C15.0558 79.479 15.1917 79.6651 15.3738 79.797C15.556 79.929 15.7751 80 16 80C16.2249 80 16.444 79.929 16.6262 79.797C16.8083 79.6651 16.9442 79.479 17.0145 79.2652L18.5094 75.0984C18.5553 74.9471 18.6378 74.8094 18.7495 74.6976C18.8613 74.5858 18.9989 74.5032 19.1501 74.4573Z",
fill:"#FFD01A"})]}))}var Jj=n(152163),eR=n(39802),tR=n(294334),nR=n(392115);function rR(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function oR(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function iR(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function aR(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.foreground,l=iR(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",oR(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rR(e,t,n[t])}))}return e}({},(0,qb.Z)(l)),{width:n,height:i,viewBox:"0 0 11 10",children:(0,r.jsx)("path",{className:c,fill:s,fillRule:"evenodd",clipRule:"evenodd",d:"M4.20096 9.92805L0.157959 5.88505L1.92496 4.11705L3.88196 6.07305L8.02396 0.274048L10.059 1.72705L4.20096 9.92805Z"})}))}var sR=n(944822),cR=n.n(sR);function lR(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uR(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||pR(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dR(e){return function(e){if(Array.isArray(e))return lR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pR(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pR(e,t){if(e){if("string"==typeof e)return lR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lR(e,t):void 0}}function hR(e){var t,n,i=e.guildId,a=e.option,s=e.selected,c=e.onSelect,l=e.hideMemberCount,u=fR(o.useState(!1),2),f=u[0],d=u[1],p=f&&!l,h=o.useRef(null),E=o.useContext(eR.S).reducedMotion,y=(0,DT.ZP)([nR.Z],(function(){var e;return null!=a.emojiId&&null!==(n=null===(e=nR.Z.getCustomEmojiById(a.emojiId))||void 0===e?void 0:e.animated)&&void 0!==n&&n})),m=(0,tR.Z)(i,1e3),b=null==m||null==a.roleIds?0:(t=Math).max.apply(t,dR(a.roleIds.map((function(e){return m[e]})))),g=(0,im.useSpring)({transform:s||E.enabled?"scale(1)":"scale(0.7)",opacity:s?1:0,
config:{duration:150}}),O=(0,im.useTransition)(p,{from:{transform:E.enabled?"translateX(0)":"translateX(8px)",opacity:0},enter:{transform:"translateX(0)",opacity:1},leave:{opacity:0},trail:400,config:{duration:150}}),v=fR(o.useState(!1),2),_=v[0],S=v[1];o.useEffect((function(){if(p){h.current=setTimeout((function(){d(!1);h.current=null}),3e3);return function(){null!=h.current&&clearTimeout(h.current)}}}),[p]);var I;return(0,r.jsxs)(q.P3,{className:Xp()(cR().optionButton,(I={},uR(I,cR().selected,s),uR(I,cR().pressed,_),I)),onClick:function(){d(!s);c(!s)},onMouseDown:function(){return S(!0)},onMouseUp:function(){return S(!1)},children:[null!=(null!=a.emojiId||a.emojiName)&&(0,r.jsx)(Jj.Z,{animated:y,className:cR().buttonEmoji,emojiId:a.emojiId,emojiName:a.emojiName}),(0,r.jsxs)("div",{className:cR().buttonText,children:[(0,r.jsx)(q.xv,{variant:"text-md/medium",color:"header-primary",children:a.title}),a.description.length>0?(0,r.jsx)(q.xv,{variant:"text-xs/normal",
color:"header-secondary",children:a.description}):null]}),(0,r.jsx)(im.animated.div,{className:cR().checkIcon,style:g,children:(0,r.jsx)(aR,{width:10,height:10,color:(0,pN.Lq)(M.Ilk.WHITE_500)})}),O((function(e,t){return b>0&&t&&(0,r.jsx)(im.animated.div,{className:cR().memberCount,style:e,children:(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"always-white",children:te.Z.Messages.ONBOARDING_OPTION_ROLE_COUNTS.format({memberCount:b})})})}))]})}var ER=n(977898),yR=n(645707),mR=n.n(yR),bR=n(169595),gR=n.n(bR);function OR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vR(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vR(e,t,n[t])}))}return e}function SR(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function IR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||NR(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TR(e){return function(e){if(Array.isArray(e))return OR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||NR(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NR(e,t){if(e){if("string"==typeof e)return OR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OR(e,t):void 0}}var CR=cg.u8.SIZE_80,AR="required";function PR(e){var t=e.guild,n=e.user,i=(0,Uj.w)({user:n,guildId:t.id,size:120}),a=i.avatarSrc,c=i.eventHandlers,l=i.isAvatarAnimating,u=(0,
Mj.U)().canUseAvatarDecorations?(0,qs.NZ)({userId:n.id,avatarDecoration:n.avatarDecoration,size:(0,wj.y)(CR),canAnimate:l}):null,f=(0,s.e7)([ls.ZP],(function(){return ls.ZP.getMember(t.id,n.id)})),d=(0,s.Wu)([ls.ZP],(function(){return ls.ZP.getMemberRoleWithPendingUpdates(t.id,n.id)})),p=ss()(d).filter((function(e){return t.roles.hasOwnProperty(e)})).map((function(e){return t.roles[e]})).orderBy("position","desc").value(),h=(0,Dj.Z)(n.id,t.id);o.useEffect((function(){(0,Lj.Z)(n.id,n.getAvatarURL(t.id,80),{guildId:t.id})}),[]);var E,y=(0,Zj.Y)(null==h?void 0:h.bio),m=vs.default.getEnableHardwareAcceleration()?cg.Xo:cg.ZP;return(0,r.jsxs)("div",{className:mR().profile,children:[(0,r.jsx)(q.X6,{variant:"heading-md/semibold",color:"header-primary",children:te.Z.Messages.CUSTOMIZE_COMMUNITY_PROFILE}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"text-muted",children:te.Z.Messages.CUSTOMIZE_COMMUNITY_PROFILE_DESCRIPTION}),(0,r.jsxs)("div",{className:mR().profileCard,children:[(0,
r.jsx)("div",SR(_R({},c),{children:(0,r.jsx)(m,{src:a,avatarDecoration:u,size:CR,"aria-label":n.username})})),(0,r.jsx)(q.xv,{variant:"text-lg/medium",color:"header-primary",className:mR().username,children:null!==(E=null==f?void 0:f.nick)&&void 0!==E?E:n.username}),(0,r.jsx)(q.xv,{variant:"text-sm/normal",color:"text-muted",className:Xp()(gR().markup,mR().bio),children:y}),null!=p&&p.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:mR().separator}),(0,r.jsx)(q.xv,{variant:"text-xs/semibold",color:"text-muted",className:mR().title,children:te.Z.Messages.ROLES}),(0,r.jsx)("div",{className:mR().roles,children:null==p?void 0:p.map((function(e){var t;return(0,r.jsxs)("div",{className:mR().role,children:[(0,r.jsx)(kj.x,{color:null!==(t=e.colorString)&&void 0!==t?t:(0,xj.Rf)(M.p6O),className:mR().roleDot}),(0,r.jsx)(q.xv,{variant:"text-xs/medium",color:"header-primary",children:e.name})]},e.id)}))})]})]})]})}function jR(e){
var t,n=e.prompt,i=e.guild,a=IR(o.useState(null),2),c=a[0],l=a[1],u=IR(o.useState(new Set),2),f=u[0],d=u[1],p=null==n||null===(t=n.options)||void 0===t?void 0:t.filter((function(e){return f.has(e.id)})),h=(0,Hj.L6)(p),E=(0,Hj.dX)(p),y=(0,s.Wu)([Bj.Z],(function(){return Bj.Z.getOnboardingResponsesForPrompt(i.id,n.id)})),m=function(e){var t,n=e.guild,r=e.prompt,o=e.selectedRoleIds,i=e.selectedChannelIds,a=e.itemHook,c=(0,s.Wu)([I.Z,Y.default,ps.Z],(function(){return Array.from(i).map((function(e){return I.Z.getChannel(e)})).filter(No.lm).map((function(e){return(0,Yd.F6)(e,Y.default,ps.Z,!0)}))})),l=Array.from(o).map((function(e){var r;return null===(r=(null!==(t=null==n?void 0:n.roles)&&void 0!==t?t:{})[e])||void 0===r?void 0:r.name})).filter(No.lm).map((function(e){return"@".concat(e)})),u=(null==r?void 0:r.singleSelect)?"":te.Z.Messages.ONBOARDING_CHOOSE_ALL_OPTIONS;0===c.length&&l.length>0?u=te.Z.Messages.CUSTOMIZE_COMMUNITY_ADD_ROLES.format({count:l.length,
extraCount:Math.max(l.length-2,0),role1:l[0],role2:l[1],itemHook:a}):c.length>0&&0===l.length?u=te.Z.Messages.CUSTOMIZE_COMMUNITY_ADD_CHANNELS.format({count:c.length,extraCount:Math.max(c.length-2,0),channel1:c[0],channel2:c[1],itemHook:a}):c.length>0&&l.length>0&&(u=te.Z.Messages.CUSTOMIZE_COMMUNITY_ADD_CHANNELS_AND_ROLES.format({channelCount:c.length,extraChannelCount:Math.max(c.length-2,0),channel1:c[0],channel2:c[1],itemHook:a,roleCount:l.length,extraRoleCount:Math.max(l.length-2,0),role1:l[0],role2:l[1]}));return{helpText:u,helpTextAdditional:""}}({guild:i,prompt:n,selectedRoleIds:h,selectedChannelIds:E,itemHook:function(e,t){return(0,r.jsx)(q.xv,{variant:"text-xs/medium",color:"header-primary",children:e},t)}}),b=m.helpText,g=m.helpTextAdditional,O=Wj(i.id).handleSelectOption;return(0,r.jsxs)("div",{className:mR().prompt,children:[(0,r.jsxs)(q.X6,{className:mR().promptTitle,variant:"heading-md/semibold",color:"header-primary",children:[n.title,n.required?(0,r.jsx)("span",{
className:Xp()(mR().required,vR({},mR().error,(null==c?void 0:c.type)===AR)),children:"*"}):null]}),(0,r.jsx)("div",{className:mR().promptOptions,children:n.options.map((function(e){return(0,r.jsx)(hR,{hideMemberCount:!0,guildId:i.id,option:e,onSelect:function(t){return function(e,t){if(t||1!==y.length||!n.required){O(n,e,null!=t&&t);n.singleSelect&&t&&n.options.forEach((function(e){return f.delete(e.id)}));t?f.add(e.id):f.delete(e.id);d(new Set(f));l(null)}else l({type:AR})}(e,t)},selected:y.includes(e.id)},e.id)}))}),(0,r.jsxs)(q.xv,{variant:"text-xs/normal",color:"text-muted",className:mR().helpText,children:[b," ",g]})]})}function RR(e){var t=e.guildId,n=e.onBrowseChannels,i=(0,oO.ZP)()===M.BRd.DARK,a=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(t)})),c=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),l=(0,cb.Z)("(min-width: 1344px)")&&null!=c,u=o.useCallback((function(){(0,X.uL)(M.Z5c.CHANNEL(t,cO.oC.CHANNEL_BROWSER));null==n||n()}),[t,n]),f=(0,
s.Wu)([Bj.Z],(function(){return Bj.Z.getEnabledOnboardingPrompts(t)})),d=o.useMemo((function(){return TR(f.filter((function(e){return!e.inOnboarding}))).concat(TR(f.filter((function(e){return e.inOnboarding}))))}),[f]);o.useEffect((function(){if(null!=(null==a?void 0:a.id)&&!cT.Z.isFullServerPreview(a.id)){(0,Gj.eM)(a.id);Bj.Z.shouldFetchPrompts(a.id)&&(0,Gj.eM)(a.id);(0,yu.Ju)(a.id,ER.W.GUILD_ONBOARDING_QUESTION,Bj.Z.ackIdForGuild(a.id))}}),[null==a?void 0:a.id]);if(null==a)return null;if(0===d.length){var p=(0,pN.Lq)(i?M.Ilk.PRIMARY_DARK_300:M.Ilk.PRIMARY_LIGHT_600),h=(0,pN.Lq)(i?M.Ilk.PRIMARY_DARK_700:M.Ilk.PRIMARY_LIGHT_200);return(0,r.jsx)("div",{className:EC().chat,children:(0,r.jsx)("div",{className:Xp()(EC().content,mR().emptyPage),children:(0,r.jsxs)("div",{className:mR().emptyContainer,children:[(0,r.jsx)($j,{className:mR().emptyIcon,foregroundColor:p,backgroundColor:h}),(0,r.jsx)(q.X6,{className:mR().emptyHeader,variant:"heading-md/semibold",
children:te.Z.Messages.CUSTOMIZE_COMMUNITY_EMPTY_HEADER}),(0,r.jsx)(q.xv,{variant:"text-sm/medium",children:te.Z.Messages.CUSTOMIZE_COMMUNITY_EMPTY_SUBHEADER.format({onBrowseChannels:u})})]})})})}return(0,r.jsx)("div",{className:Xp()(EC().chat,mR().scrollerContainer),children:(0,r.jsxs)(zg.ZP,{className:mR().scroller,fade:!0,children:[(0,r.jsxs)("div",{className:mR().pageBody,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(q.X6,{variant:"heading-md/semibold",color:"header-primary",children:te.Z.Messages.ONBOARDING_PROMPT_SETTINGS_HEADER}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"text-muted",children:te.Z.Messages.ONBOARDING_PROMPT_MEMBER_DESCRIPTION})]}),d.map((function(e){return(0,r.jsx)(jR,{prompt:e,guild:a},e.id)}))]}),l&&(0,r.jsx)(PR,{guild:a,user:c})]})})}var xR=n(353637),MR=n(325574),wR=n.n(MR);function ZR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LR(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function DR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ZR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UR(e){var t=e.guild,n=e.previousChannel,i=(0,Rj.Z)(t)
;o.useEffect((function(){(0,pn.EW)(dn.z$.CHANNEL_BROWSER_NEW_BADGE_NUX,{dismissAction:mn.L.DISMISS})}));var a=i?te.Z.Messages.CHANNELS_AND_ROLES_HTML_TITLE.format({guildName:t.name}):te.Z.Messages.CHANNEL_BROWSER_HTML_TITLE.format({guildName:t.name}),s=i?te.Z.Messages.CHANNELS_AND_ROLES:te.Z.Messages.CHANNEL_BROWSER_TITLE;(0,ym.Tt)({location:a});return(0,r.jsxs)(Ug.Z,{className:wR().header,innerClassname:wR().innerHeader,hideSearch:!0,channelId:cO.oC.CUSTOMIZE_COMMUNITY,guildId:t.id,toolbar:null!=n?(0,r.jsx)(Q.Co,{className:wR().returnButton,size:Q.Co.Sizes.SMALL,look:Q.Co.Looks.OUTLINED,color:Q.Co.Colors.PRIMARY,onClick:function(){null!=n&&(0,X.XU)(t.id,n.id)},children:(0,r.jsx)(q.xv,{className:wR().returnButtonText,variant:"text-xs/medium",children:te.Z.Messages.RETURN_TO_CHANNEL.format({channelNameHook:function(){return null==n?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(MP._,{className:wR().returnIcon,guild:t,channel:n}),(0,r.jsx)(BP.Z,{children:(0,r.jsx)(q.xv,{
variant:"text-xs/medium",children:n.name})})]})}})})}):[],children:[(0,r.jsx)(Ug.Z.Icon,{icon:jj.Z,"aria-hidden":!0}),(0,r.jsx)(Ug.Z.Title,{children:s})]})}function kR(e){var t=e.guildId,n=e.selectedSection,i=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(t)})),a=(0,Rj.Z)(i),c=DR(o.useState(null!=n?n:xR.l7.CUSTOMIZE),2),l=c[0],u=c[1];o.useEffect((function(){null!=n&&u(n)}),[n]);var f=(0,s.e7)([A.Z],(function(){return A.Z.getLastSelectedChannelId(t)})),d=(0,s.e7)([zd.ZP],(function(){return zd.ZP.getCurrentSidebarChannelId(cO.oC.CHANNEL_BROWSER)})),p=null!=d&&l===xR.l7.BROWSE,h=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(f)})),E=(0,s.e7)([kP.Z],(function(){return kP.Z.getNewChannelIds(t).size>0})),y=(0,wP.fU)(t);return null==i?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:Xp()(EC().chat,LR({},EC().threadSidebarOpen,p)),children:[(0,r.jsx)(UR,{guild:i,previousChannel:h}),(0,r.jsxs)("div",{className:Xp()(EC().content,wR().container),children:[a&&(0,
r.jsxs)(yA.ZP,{className:wR().tabBar,type:yA.ZP.Types.TOP,look:yA.ZP.Looks.BRAND,selectedItem:l,onItemSelect:function(e){return u(e)},children:[(0,r.jsx)(yA.ZP.Item,{className:wR().tabBarItem,id:xR.l7.CUSTOMIZE,children:te.Z.Messages.OPT_IN_GUILD_NOTICE_CTA},xR.l7.CUSTOMIZE),(0,r.jsxs)(yA.ZP.Item,{className:wR().tabBarItem,id:xR.l7.BROWSE,"aria-label":te.Z.Messages.CHANNEL_BROWSER_TITLE,children:[te.Z.Messages.CHANNEL_BROWSER_TITLE,(0,r.jsx)(HP.IG,{text:E?te.Z.Messages.CHANNEL_TYPE_NEW:y,color:E?(0,pN.Lq)(M.Ilk.BRAND_260):(0,pN.r7)(M.tPk.BACKGROUND_ACCENT),className:Xp()(LR({},wR().newBadge,E))})]},xR.l7.BROWSE)]}),function(){switch(l){case xR.l7.CUSTOMIZE:return(0,r.jsx)(RR,{guildId:t,onBrowseChannels:function(){return u(xR.l7.BROWSE)}});case xR.l7.BROWSE:default:return(0,r.jsx)(Pj,{guildId:t})}}()]})]}),p&&(0,r.jsx)(Aj,{channelId:d})]})}var GR=n(706908),BR=n(158033),HR=n(102253),VR=n(959011),FR=n(853524),YR=n(997046),WR=n(553494);const zR=(0,WR.B)({kind:"user",
id:"2023-01_guild_onboarding_includes_rules",label:"Guild Onboarding includes rules experience",defaultConfig:{includeRules:!1},treatments:[{id:1,label:"Last page of onboarding is rules",config:{includeRules:!0}}]});var KR=n(483667),qR=n(410887),XR=n.n(qR);function QR(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){QR(e,t,n[t])}))}return e}function JR(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ex(e,t){return(0,r.jsx)("span",{className:XR().helpTextItem,children:e},t)}function tx(e){var t=e.guild,n=e.prompts,i=e.step,a=e.selectOption,s=e.completeOnboarding,c=e.setCurrentStep,l=e.headerId,u=e.disableTracking,f=(0,DT.ZP)([MC.Z],(function(){return MC.Z.getRulesPrompt(t.id)})),d=(zR.getCurrentConfig({}).includeRules||KR.Z.getCurrentConfig({}).landOnHome)&&null!=f;o.useEffect((function(){xC.Z.fetchVerificationForm(t.id)}),[t.id]);var p=n[i],h=(0,DT.Wu)([Bj.Z],(function(){return Bj.Z.getOnboardingResponsesForPrompt(t.id,p.id)})),E=0===h.length&&(null==p?void 0:p.required),y=i+1>=n.length&&!d,m=null==p?void 0:p.options.filter((function(e){return h.includes(e.id)})),b=(0,Hj.L6)(m),g=(0,Hj.dX)(m),O=Kj({guild:t,prompt:p,selectedRoleIds:b,selectedChannelIds:g,itemHook:ex
}),v=O.helpText,_=O.helpTextAdditional,S=n[0].required;o.useEffect((function(){u||Ce.default.track(M.rMx.GUILD_ONBOARDING_STEP_VIEWED,JR($R({},(0,Eb.hH)(t.id)),{step:0,required:S}))}),[t.id,S,u]);var I=function(){if(!u){Ce.default.track(M.rMx.GUILD_ONBOARDING_STEP_COMPLETED,JR($R({},(0,Eb.hH)(t.id)),{step:i,options_selected:h.length,skipped:0===h.length,back:!1,in_onboarding:!0,is_final_step:!1}));i<n.length-1&&Ce.default.track(M.rMx.GUILD_ONBOARDING_STEP_VIEWED,JR($R({},(0,Eb.hH)(t.id)),{step:i,required:n[i+1].required}))}i+1<n.length?c(i+1):d&&c("rules")},T=0===h.length;return(0,r.jsx)("div",{className:XR().prompt,children:(0,r.jsxs)("div",{className:XR().promptContent,children:[(0,r.jsxs)(eE.ZP,{className:XR().scrollerContent,children:[(0,r.jsxs)("div",{className:XR().questionHeader,children:[(0,r.jsx)(q.xv,{variant:"text-sm/medium",color:"text-muted",children:te.Z.Messages.ONBOARDING_QUESTION_COUNT.format({currentQuestion:i+1,questionCount:n.length})
}),(null==p?void 0:p.required)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.xv,{variant:"text-xs/normal",className:XR().headerSeparator,children:"·"}),(0,r.jsx)(q.xv,{variant:"text-sm/medium",color:"text-brand",children:te.Z.Messages.ONBOARDING_PROMPT_REQUIRED_LABEL})]}):null]}),(0,r.jsx)(q.X6,{className:XR().title,variant:"heading-xl/semibold",color:"header-primary",id:l,children:p.title}),(0,r.jsx)("div",{className:XR().promptOptions,children:p.options.map((function(e){return(0,r.jsx)(hR,{guildId:t.id,option:e,onSelect:function(t){return a(p.id,e.id,null!=t&&t)},selected:h.includes(e.id)},e.id)}))})]}),(0,r.jsxs)("div",{className:XR().navButtons,children:[(0,r.jsx)("div",{className:XR().leftButtons,children:i>0&&(0,r.jsxs)(Q.Co,{innerClassName:XR().buttonInner,onClick:function(){if(!u){Ce.default.track(M.rMx.GUILD_ONBOARDING_STEP_COMPLETED,JR($R({},(0,Eb.hH)(t.id)),{step:i,skipped:!1,back:!0,options_selected:h.length,in_onboarding:!0,is_final_step:!1}))
;i>0&&Ce.default.track(M.rMx.GUILD_ONBOARDING_STEP_VIEWED,JR($R({},(0,Eb.hH)(t.id)),{step:i-1,required:n[i-1].required}))}c(Math.max(0,i-1))},size:Q.Co.Sizes.MEDIUM,look:Q.Co.Looks.OUTLINED,grow:!1,color:Q.Co.Colors.PRIMARY,children:[(0,r.jsx)(i_.Z,{className:XR().arrow,direction:i_.Z.Directions.LEFT}),te.Z.Messages.BACK]})}),(0,r.jsxs)("div",{className:XR().rightButtons,children:[(0,r.jsxs)(q.xv,{className:XR().helpText,variant:"text-xs/normal",color:"text-muted",children:[v," ",_]}),(0,r.jsx)(Kb.ZP,{text:E?te.Z.Messages.ONBOARDING_REQUIRED_QUESTION:null,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(Q.Co,{innerClassName:XR().buttonInner,onMouseEnter:t,onMouseLeave:n,onClick:y?s:I,disabled:E,size:Q.Co.Sizes.MEDIUM,look:Q.Co.Looks.FILLED,grow:!1,color:T?Q.Co.Colors.PRIMARY:Q.Co.Colors.BRAND,children:y?(0,r.jsxs)(r.Fragment,{children:[te.Z.Messages.FINISH,(0,r.jsx)("span",{className:XR().finishEmoji,role:"img","aria-hidden":!0,children:"🎉"})]}):(0,
r.jsxs)(r.Fragment,{children:[T?te.Z.Messages.SKIP:te.Z.Messages.NEXT,(0,r.jsx)(i_.Z,{className:XR().arrow,direction:i_.Z.Directions.RIGHT})]})})}})]})]})]})})}function nx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rx(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function ox(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rx(i,r,o,a,s,"next",e)}function s(e){rx(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ix(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ax(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){ix(e,t,n[t])}))}return e}function sx(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function cx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nx(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lx=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1}
;case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ux(e){var t,n=e.guild,i=e.prompts,a=e.completeOnboarding,s=e.setCurrentStep,c=e.disableTracking,l=e.previousPromptIndex,u=o.useRef(null),f=(0,DT.ZP)([MC.Z],(function(){return MC.Z.getRulesPrompt(n.id)})),d=cx(o.useState(null!==(t=null==f?void 0:f.response)&&void 0!==t&&t),2),p=d[0],h=d[1],E=(0,DT.ZP)([MC.Z],(function(){return MC.Z.get(n.id)})),y=o.useCallback(ox((function(){return lx(this,(function(e){switch(e.label){case 0:if(null==E||null==f)return[2];e.label=1;case 1:e.trys.push([1,3,,4])
;return[4,xC.Z.submitVerificationForm(n.id,sx(ax({},E),{formFields:[sx(ax({},f),{response:p})]}))];case 2:e.sent();return[3,4];case 3:e.sent();return[3,4];case 4:a();return[2]}}))})),[n.id,E,f,p,a]);o.useEffect((function(){null!=u.current&&u.current.isScrolledToBottom()&&h(!0)}),[n.id,h,u]);return null==f?null:(0,r.jsx)("div",{className:XR().prompt,children:(0,r.jsxs)("div",{className:XR().promptContent,children:[(0,r.jsxs)(zg.ZP,{className:XR().scrollerContent,ref:u,onScroll:function(){null!=u.current&&u.current.isScrolledToBottom()&&h(!0)},children:[(0,r.jsx)(q.xv,{variant:"text-sm/medium",color:"text-muted",children:te.Z.Messages.ONBOARDING_RULES_STEP}),(0,r.jsx)(q.X6,{variant:"heading-xl/semibold",children:te.Z.Messages.ONBOARDING_RULES_TITLE}),(0,r.jsx)("div",{className:XR().termsFieldBody,children:f.values.map((function(e,t){return(0,r.jsxs)("div",{className:XR().termsRow,children:[(0,r.jsx)(q.xv,{variant:"text-sm/normal",color:"text-muted",children:"".concat(t+1,".")}),(0,
r.jsx)(q.xv,{variant:"text-sm/normal",className:XR().termsRowContent,children:HO.Z.parseGuildVerificationFormRule(e,!0,{channelId:n.rulesChannelId})})]},"term-".concat(t))}))})]}),(0,r.jsx)("div",{className:XR().overlay}),(0,r.jsxs)("div",{className:XR().navButtons,children:[(0,r.jsx)("div",{className:XR().leftButtons,children:-1!==l&&(0,r.jsxs)(Q.Co,{innerClassName:XR().buttonInner,onClick:function(){if(!c){Ce.default.track(M.rMx.GUILD_ONBOARDING_STEP_COMPLETED,sx(ax({},(0,Eb.hH)(n.id)),{step:-1,skipped:!1,back:!0,options_selected:0,in_onboarding:!0,is_final_step:!1}));l>=0&&Ce.default.track(M.rMx.GUILD_ONBOARDING_STEP_VIEWED,sx(ax({},(0,Eb.hH)(n.id)),{step:l,required:i[l].required}))}s(l)},size:Q.Co.Sizes.MEDIUM,look:Q.Co.Looks.OUTLINED,grow:!1,color:Q.Co.Colors.PRIMARY,children:[(0,r.jsx)(i_.Z,{className:XR().arrow,direction:i_.Z.Directions.LEFT}),te.Z.Messages.BACK]})}),(0,r.jsxs)("div",{className:XR().rightButtons,children:[(0,r.jsx)(q.xv,{className:XR().helpText,
variant:"text-xs/normal",color:"text-muted",children:p?te.Z.Messages.MEMBER_VERIFICATION_READ_AGREE_RULES:te.Z.Messages.MEMBER_VERIFICATION_MUST_READ_RULES}),(0,r.jsxs)(Q.Co,{innerClassName:XR().buttonInner,onClick:y,disabled:!p,size:Q.Co.Sizes.MEDIUM,look:Q.Co.Looks.FILLED,grow:!1,color:Q.Co.Colors.BRAND,children:[te.Z.Messages.FINISH,(0,r.jsx)("span",{className:XR().finishEmoji,role:"img","aria-hidden":!0,children:"🎉"})]})]})]})]})})}var fx=n(488723),dx=n.n(fx);function px(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hx(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Ex(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){hx(i,r,o,a,s,"next",e)}function s(e){hx(i,r,o,a,s,"throw",e)}a(void 0)}))}}function yx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return px(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return px(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mx=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function bx(){return(bx=Ex((function(e){var t;return mx(this,(function(n){
switch(n.label){case 0:return[4,new Promise((function(t,n){var r=new Image;r.crossOrigin="Anonymous";r.onerror=function(e){n(e);r.onerror=r.onload=null;r=null};r.onload=function(){t((0,Xs.XN)(r,2,10));r.onerror=r.onload=null;r=null};r.src=e}))];case 1:return[2,null==(t=n.sent())?void 0:t.map((function(e){var t=yx(e,3),n=t[0],r=t[1],o=t[2];return(0,VR.vq)(n,r,o)}))]}}))}))).apply(this,arguments)}function gx(e){var t=e.guildId,n=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion})),i=(0,sb.Z)(),a=i.ref,c=i.width,l=i.height,u=yx(o.useState(),2),d=u[0],p=u[1],h=(0,s.Wu)([Bj.Z],(function(){return Bj.Z.getOnboardingPromptsForOnboarding(t)})),y=(0,s.e7)([Bj.Z],(function(){return Bj.Z.getEnabled(t)})),m=o.useCallback((function(e,n,r){Vj.Z.selectOption(t,e,n,r)}),[t]),b=o.useCallback((function(){Vj.Z.completeOnboarding(t,h)}),[t,h]),g=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(t)})),O=o.useMemo((function(){return null==g?null:qs.ZP.getGuildSplashURL({id:g.id,splash:g.splash})
}),[g]),v=(0,s.e7)([FR.ZP],(function(){return FR.ZP.getCurrentOnboardingStep(t)})),_=yx(o.useState(null!=O?null:"cover"),2),S=_[0],I=_[1];null!=O&&null==d&&function(e){return bx.apply(this,arguments)}(O).then((function(e){p(e[0])}));var T=o.useCallback((function(e){I(v);Vj.Z.setUserOnboardingStep(t,e)}),[t,v]),N=(0,s.e7)([FR.ZP],(function(){return FR.ZP.getOnboardingStatus(t)})),C=null!=h&&h.length>0,A=o.useCallback((function(){(0,FR.kp)(N)&&y&&C?T(0):b()}),[N,y,C,T,b]);o.useEffect((function(){if(!FR.ZP.shouldShowOnboarding(t))return f.Z.escapeToDefaultChannel(t);(0,BR.E)(t)}),[t]);var P=(0,im.useTransition)(v,{config:im.config.default,from:{scale:.8,opacity:0},enter:{scale:1,opacity:1},immediate:n||"cover"!==S&&null!==S}),j=FR.ZP.shouldShowOnboarding(t),R=null==g;o.useEffect((function(){if(!j||R){var e=setTimeout((function(){0;(0,X.uL)(M.Z5c.CHANNEL(t))}),1e3);return function(){return clearTimeout(e)}}}),[j,R,t]);if(!FR.ZP.shouldShowOnboarding(t))return null;if(null==g)return null
;var x=function(){switch(v){case"cover":return(0,r.jsx)(YR.ZP,{guild:g,onboardingStatus:FR.uX.READY,onStart:A});case"rules":return(0,r.jsx)(ux,{setCurrentStep:T,previousPromptIndex:h.length-1,guild:g,prompts:h,completeOnboarding:b});case null:return null;default:return(0,r.jsx)(tx,{guild:g,prompts:h,step:v,selectOption:m,completeOnboarding:b,setCurrentStep:T})}};return(0,r.jsxs)("div",{className:dx().main,ref:a,children:[null!=O?(0,r.jsx)(HR.Z,{className:Xp()(dx().artwork),src:O,width:c,height:l}):(0,r.jsx)(GR.Z,{className:dx().artwork,preserveAspectRatio:"xMinYMin slice"}),null!=d&&(0,r.jsx)("div",{className:dx().gradient,style:{background:"linear-gradient(180deg, ".concat((0,VR.aD)(d,.16)," 0%, ").concat((0,VR.aD)(d,1)," 100%)")}}),(0,r.jsx)("div",{className:dx().gradient}),P((function(e,t,n){var o=n.key;return(0,r.jsx)(im.animated.div,{ref:t===v?a:null,style:e,children:x()},o)})),"cover"===v&&(0,r.jsx)("div",{className:dx().bottomCenterContent,children:(0,r.jsx)(q.X6,{
variant:"heading-sm/normal",color:"header-secondary",children:te.Z.Messages.ONBOARDING_COVER_PRIVACY_POLICY.format({privacyLink:M.EYA.PRIVACY})})})]})}var Ox=n(261317),vx=n(106803),_x=n(975533),Sx=n(378564),Ix=n(82961),Tx=n(954946),Nx=n(938105),Cx=n(989928),Ax=n(973935),Px=n(997030),jx=n(653191),Rx=n(787470),xx=n(168965),Mx=n(87309),wx=n(258507),Zx=n.n(wx);function Lx(e){var t=e.buttonText,n=e.onGoBack,o=e.onDismiss,i=e.showCloseButton;return(0,r.jsxs)(Mx.ZP,{className:Zx().backNotice,children:[i&&(0,r.jsx)(Mx.Ry,{onClick:o,noticeType:M.kVF.BACK_TO_PREVIOUS_SCREEN}),(0,r.jsxs)(Q.Co,{className:Zx().backButton,innerClassName:Zx().backButtonInner,look:Q.Co.Looks.OUTLINED,color:Q.Co.Colors.WHITE,size:Q.Co.Sizes.NONE,onClick:n,children:[(0,r.jsx)(xx.Z,{width:16,height:16,direction:xx.Z.Directions.LEFT,className:Zx().backArrow}),t]})]})}var Dx=n(276842),Ux=n(976703),kx=n(58689),Gx=n(56435),Bx=n(935406),Hx=n(349693),Vx=n(331454),Fx=n(80142),Yx=n(514047),Wx=n.n(Yx);function zx(e){
var t,n,o=e.value,i=e.type;if(0===o)return null;if(i===Fx.Qs.CHANNEL){t=Ux.Z;n=te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CHANNEL_BENEFIT_PREVIEW.format({value:o})}else{if(i!==Fx.Qs.INTANGIBLE)throw new Error("Unsupported benefit type");t=kx.Z;n=te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_INTANGIBLE_BENEFIT_PREVIEW.format({value:o})}return(0,r.jsxs)(q.xv,{variant:"text-sm/normal",color:"interactive-normal",className:Wx().benefitSummary,children:[(0,r.jsx)(t,{className:Wx().benefitIcon})," ",n]})}function Kx(e){var t=e.listing,n=t.subscription_plans[0],o=(0,Bx._W)(t.application_id,t.image_asset,40),i=t.role_benefits.benefits.filter((function(e){return e.ref_type===Fx.Qs.CHANNEL})).length,a=t.role_benefits.benefits.filter((function(e){return e.ref_type===Fx.Qs.INTANGIBLE})).length,s=i+a>0;return(0,r.jsxs)("div",{className:Wx().listingPreview,children:[(0,r.jsx)("img",{src:o,alt:"",className:Wx().listingPreviewImage}),(0,r.jsxs)("div",{className:Wx().listingPreviewText,
children:[(0,r.jsx)(q.xv,{variant:"text-md/normal",color:"interactive-active",children:t.name}),(0,r.jsx)(Dx.Z,{size:2}),(0,r.jsxs)(q.xv,{variant:"text-sm/normal",color:"interactive-normal",children:[(0,Gx.T4)(n.price,n.currency)," / ",(0,Hx.JE)(n)]}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Dx.Z,{size:12}),(0,r.jsxs)("div",{className:Wx().benefitSummaries,children:[(0,r.jsx)(zx,{type:Fx.Qs.CHANNEL,value:i}),(0,r.jsx)(zx,{type:Fx.Qs.INTANGIBLE,value:a})]})]})]})]})}function qx(e){var t=e.groupListing,n=e.onSelectGroup,o=(0,Tx._k)(t.id),i=(0,s.e7)([cT.Z],(function(){return cT.Z.isViewingSubscriptionRoles(t.guild_id)})),a=o.filter((function(e){return i||e.published})),c=(0,cb.Z)(Fx.iP),l=(0,$.Dt)(),u=(0,$.Dt)();return 0===a.length?null:(0,r.jsx)("article",{className:Wx().container,"aria-labelledby":l,children:(0,r.jsxs)(q.y5,{component:(0,r.jsx)(q.X6,{variant:"heading-lg/semibold",id:l,children:t.name}),children:[(0,r.jsx)(Dx.Z,{size:8}),(0,r.jsx)(q.xv,{variant:"text-md/normal",
color:"header-secondary",children:t.description}),(0,r.jsx)("div",{className:Wx().divider}),(0,r.jsx)(q.X6,{variant:"heading-deprecated-12/semibold",className:Wx().sectionHeader,id:u,children:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_AVAILABLE_TIERS.format({numTiers:a.length})}),c?(0,r.jsx)("ul",{className:Wx().subscriptionCardContainer,"aria-labelledby":u,children:a.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)(Vx.Z,{guildId:t.guild_id,groupListingId:t.id,listingId:e.id,analyticsLocation:M.Sbl.ROLE_SUBSCRIPTIONS_TAB},e.id)},e.id)}))}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("ul",{className:Wx().listingPreviews,"aria-labelledby":u,children:a.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)(Kx,{listing:e},e.id)},e.id)}))}),(0,r.jsx)(Dx.Z,{size:24}),(0,r.jsx)(Q.Co,{onClick:n,fullWidth:!0,children:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CARD_CTA})]})]})})}var Xx=n(486180),Qx=n(901378),$x=n(209585),Jx=n(271075),eM=n(615522),tM=n(578016)
;function nM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oM(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aM(e){var t=iM(function(){
var e=rM((0,tM.Z)(),2),t=e[0],n=e[1],r=rM(o.useState(),2),i=r[0],a=r[1];o.useEffect((function(){null==i&&null!=n&&a(n)}),[i,n]);return[t,i]}(),2),n=t[0],r=t[1];return[n,null!=(null==e?void 0:e.application_id)&&null!=r?(0,Bx._W)(e.application_id,e,r):void 0]}var sM=n(355457),cM=n.n(sM);function lM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fM(e){var t=e.coverImageAsset,n=e.title,o=e.guild,i=e.description,a=e.children,s=uM(aM(null!=t?t:void 0),2),c=s[0],l=s[1];return(0,r.jsxs)("div",{className:cM().container,children:[(0,r.jsx)("div",{ref:c,className:cM().coverImageContainer,children:null!=l&&(0,r.jsx)("img",{src:l,alt:"",className:cM().coverImage})}),(0,r.jsx)("div",{className:cM().guildIconContainer,children:(0,r.jsx)(EN.Z,{guild:o,size:EN.Z.Sizes.XLARGE})}),(0,r.jsx)(q.X6,{variant:"heading-xl/semibold",className:cM().ctaTitle,children:n}),(0,r.jsx)(q.xv,{className:cM().ctaSubtitle,variant:"text-md/normal",color:"header-secondary",children:i}),a]})}var dM=n(633485),pM=n.n(dM),hM=function(e){var t=e.subscription;if(null==t)return null
;if(t.status===M.O0b.PAST_DUE){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Dx.Z,{size:16}),(0,r.jsx)(Jx.Z,{message:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,ctaMessage:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_CTA,onClick:function(){h.Z.open(M.oAB.SUBSCRIPTIONS,yE.cP)}})]})}return null};const EM=function(e){var t=e.guild,n=e.groupListing,o=e.singleGroupView,i=e.editGroupId;(0,$x.Z)({guildId:t.id,groupListingId:null==n?void 0:n.id,location:M.Sbl.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:null==n?void 0:n.subscription_listings_ids});var a,s,c,l=(0,Qx.Z)(null==n?void 0:n.id).activeSubscription,u=(0,Tx.YB)(t.id),f=o?null==u?void 0:u.description:null==n?void 0:n.description,d=Xx.B7(null!==(a=null==n?void 0:n.id)&&void 0!==a?a:null,i).editStateIds;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(fM,{title:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:t.toString()}),
description:null!=f?f:null,coverImageAsset:null!==(s=null==u?void 0:u.cover_image_asset)&&void 0!==s?s:null,guild:t,children:[null!=n?(0,r.jsx)(eM.Z,{className:pM().pendingPlanChangeNotice,groupListingId:n.id,subscription:l}):null,(0,r.jsx)(hM,{subscription:l})]}),(0,r.jsx)(q.y5,{children:(0,r.jsx)(Rx.Z,{guildId:t.id,children:d.map((function(e){return(0,r.jsx)(Vx.Z,{guildId:t.id,groupListingId:null!==(c=null==n?void 0:n.id)&&void 0!==c?c:"",listingId:e,analyticsLocation:M.Sbl.ROLE_SUBSCRIPTIONS_TAB},e)}))})})]})};var yM="guild-role-subscription-overview-notice",mM=n(991938),bM=n.n(mM);function gM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}
}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vM(e){var t=e.onGoBack,n=e.onDismiss,i=o.useMemo((function(){return document.getElementById(yM)}),[]);return null==i?null:Ax.createPortal((0,r.jsx)(Lx,{buttonText:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_GROUPS_VIEW_CTA,onGoBack:t,onDismiss:n,showCloseButton:!1}),i)}function _M(e){var t=e.guild,n=(0,Px.z5)(t.id),i=(0,Tx.YB)(t.id),a=(0,Tx.GG)(t.id),c=OM(o.useState(null),2),l=c[0],u=c[1],f=(0,
s.e7)([cT.Z],(function(){return cT.Z.isViewingSubscriptionRoles(t.id)})),d=OM(o.useState(!1),2),p=d[0],h=d[1],E=(0,s.Wu)([jx.Z],(function(){return a.filter((function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e.subscription_listings_ids[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=jx.Z.getSubscriptionListing(a);if(null!=s&&(f||s.published))return!0}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1}))}),[a,f]);if(!n){var y=E[0];return null!=y||f?(0,r.jsx)(EM,{guild:t,groupListing:y,singleGroupView:!0,editGroupId:t.id}):null}var m,b,g=E.find((function(e){return e.id===l}));return null!=g?(0,r.jsxs)(r.Fragment,{children:[!p&&(0,r.jsx)(vM,{onGoBack:function(){return u(null)},onDismiss:function(){return h(!0)}}),(0,r.jsx)(EM,{guild:t,groupListing:g,singleGroupView:!1,editGroupId:g.id})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(fM,{title:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({
serverName:t.toString()}),description:null!==(m=null==i?void 0:i.description)&&void 0!==m?m:null,coverImageAsset:null!==(b=null==i?void 0:i.cover_image_asset)&&void 0!==b?b:null,guild:t}),(0,r.jsx)(q.y5,{children:(0,r.jsx)(Rx.Z,{className:bM().groupListings,guildId:t.id,children:E.map((function(e){return(0,r.jsx)(qx,{groupListing:e,onSelectGroup:function(){return u(e.id)}},e.id)}))})})]})}var SM,IM=n(913412),TM=n.n(IM),NM=n(302147),CM=n.n(NM);!function(e){e.GUILD_NOT_ELIGIBLE="guild_not_eligible";e.NOT_GUILD_MEMBER="not_guild_member"}(SM||(SM={}));var AM=function(e){var t=e.errorType;(0,Fp.Z)({type:K.nv.PAGE,name:K.zs.ROLE_SUBSCRIPTION_LISTING_UPSELL_ERROR_PAGE,properties:{error_page_type:t}});return(0,r.jsx)("div",{className:TM().errorPageContainer,children:(0,r.jsxs)("div",{className:TM().errorPageContent,children:[(0,r.jsx)("img",{src:CM(),alt:"",className:TM().errorPageIllo}),(0,r.jsx)(q.X6,{variant:"heading-xl/extrabold",className:TM().errorPageTitle,
children:t===SM.GUILD_NOT_ELIGIBLE?te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_TITLE:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_TITLE}),(0,r.jsx)(q.xv,{variant:"text-md/normal",className:TM().errorPagSubtitle,children:t===SM.GUILD_NOT_ELIGIBLE?te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_SUBTITLE:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_SUBTITLE})]})})},PM=n(896574),jM=n.n(PM),RM=n(691634),xM=n.n(RM);function MM(){return(0,r.jsx)("div",{className:jM().container,children:(0,r.jsxs)("div",{className:jM().content,children:[(0,r.jsx)("img",{src:xM(),alt:te.Z.Messages.CREATOR_MONETIZATION_NOTICE_ILLO_A11Y_LABEL}),(0,r.jsx)(Dx.Z,{size:12}),(0,r.jsx)(q.X6,{className:jM().header,variant:"heading-lg/semibold",children:te.Z.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_TITLE}),(0,r.jsx)(Dx.Z,{size:8}),(0,r.jsx)(q.xv,{color:"header-secondary",variant:"text-sm/normal",
children:te.Z.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_DESCRIPTION})]})})}var wM=n(536261),ZM=n.n(wM);function LM(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function DM(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){LM(i,r,o,a,s,"next",e)}function s(e){LM(i,r,o,a,s,"throw",e)}a(void 0)}))}}function UM(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var kM=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const GM=function(e){var t=e.guildId,i=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(t)}),[t]),a=(0,s.e7)([iy.Z],(function(){return iy.Z.isConnected()})),c=(0,vx.Z)(t),l=(0,Nx.Z)(t),u=(0,s.e7)([Sx.Z],(function(){return Sx.Z.isSubscriptionFetching})),f=(0,Tx.tT)(null==i?void 0:i.id,{refetchOnMount:!0}).listingsLoaded,d=(0,
_x.VV)(t),p=d.shouldHideRoleSubscriptionPurchaseEntryPoints,h=d.restrictionsLoading,E=null==i||!f||u||h;(0,ym.Tt)({subsection:te.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL,location:null==i?void 0:i.name});(0,Ox.Z)(ao.tq?"role-subscriptions-overview":void 0);var y=a&&(null==i||!(c||l)||p&&!h);o.useEffect((function(){zi.jg()}),[]);o.useEffect((function(){if(y&&!ao.tq){(0,W.ZD)(DM((function(){var e,t;return kM(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(68082)]).then(n.bind(n,168082))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){UM(e,t,n[t])}))}return e}({},e))}]}}))})));if(A.Z.getChannelId(t)===cO.oC.ROLE_SUBSCRIPTIONS){var e
;(0,X.dL)(M.Z5c.CHANNEL(t,null===(e=hT.ZP.getDefaultChannel(t))||void 0===e?void 0:e.id))}else(0,X.dL)(oy.Z.defaultRoute)}}),[t,y]);if(ao.tq&&y){var m=null==i?SM.NOT_GUILD_MEMBER:SM.GUILD_NOT_ELIGIBLE;return(0,r.jsx)(AM,{errorType:m})}return(0,r.jsxs)("div",{className:ZM().container,children:[(0,r.jsxs)(Ug.Z,{toolbar:(0,r.jsx)(o.Fragment,{}),className:ZM().headerBar,children:[(0,r.jsx)(Ug.Z.Icon,{icon:Cx.Z,"aria-hidden":!0}),(0,r.jsx)(Ug.Z.Title,{children:te.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL})]}),(0,r.jsx)("div",{id:yM}),(0,r.jsx)("div",{className:ZM().content,children:c?(0,r.jsx)(eE.u2,{className:ZM().scroller,children:(0,r.jsx)("div",{className:ZM().scrollerContent,children:E?(0,r.jsx)(Ix.Z,{}):(0,r.jsx)(_M,{guild:i})})}):(0,r.jsx)(MM,{})})]})};var BM=n(797776),HM=n(248613),VM=(0,WR.B)({kind:"user",id:"2022-11_activitiesbashoutcoachmark",label:"Bash Out Coach Mark",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,
label:"Enable Bash Out Coach Mark",config:{enabled:!0}}]}),FM=n(64833),YM=n(414247);function WM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zM(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function KM(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zM(i,r,o,a,s,"next",e)}function s(e){zM(i,r,o,a,s,"throw",e)}a(void 0)}))}}function qM(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function XM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o
}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return WM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var QM=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value])
;switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function $M(e){var t,i,a=e.canManageGuild,s=e.guildId,c=XM(o.useState(!1),2),l=c[0],u=c[1],f=(0,YM.canUseApplicationDirectory)(!1,s),d=YM.ApplicationDirectoryUpsellModalExperiment.useExperiment({}).enabled&&f&&a,p=(t=dn.z$.APP_DIRECTORY_UPSELL_MODAL,i=d,!(0,pn.wE)(t)&&va(t,i));o.useEffect((function(){if(p&&!l){u(!0);Ce.default.track(M.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:dn.z$[dn.z$.APP_DIRECTORY_UPSELL_MODAL],guild_id:s})
;(0,W.ZD)(KM((function(){var e,t;return QM(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(9932)]).then(n.bind(n,809932))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qM(e,t,n[t])}))}return e}({guildId:s},e))}]}}))})),{onCloseCallback:function(){return(0,pn.EW)(dn.z$.APP_DIRECTORY_UPSELL_MODAL,{forceTrack:!0,dismissAction:mn.L.AUTO,guildId:s})}})}}),[s,p,l]);var h=(0,Jh.QP)((function(e){return e.fullScreenLayers.length>0})),E=(0,pn.wE)(dn.z$.APP_DIRECTORY_UPSELL_MODAL),y=d&&E,m=h,b=(0,Jt.bn)(dn.z$.APP_DIRECTORY_COACH_MARK);o.useEffect((function(){return function(){b&&(0,pn.EW)(dn.z$.APP_DIRECTORY_COACH_MARK,{dismissAction:mn.L.AUTO,
guildId:s})}}),[s,b]);return{shouldRenderAppDirectoryCoachMark:y,hidesAppDirectoryCoachMark:m}}var JM=n(155208),ew=n(361417),tw=n(130462),nw=n(756328),rw=n(20086);function ow(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iw(e){iw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return iw(e)}function aw(e,t){return!t||"object"!==cw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sw(e,t){sw=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return sw(e,t)}var cw=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function lw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=iw(e);if(t){var o=iw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aw(this,n)}}var uw={hiddenEventsAndStages:[]};function fw(e){var t=e.eventId,n=e.stageId;null==t&&null==n||O.Z.dispatch({type:"LIVE_CHANNEL_NOTICE_HIDE",eventId:t,stageId:n})}var dw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&sw(e,t)}(n,e);var t=lw(n);function n(){ow(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&null!=e.hiddenEventsAndStages&&(uw=e)};r.isLiveChannelNoticeHidden=function(e){var t=e.eventId,n=e.stageId
;return!(null==n||!uw.hiddenEventsAndStages.includes("stage-".concat(n)))||null!=t&&uw.hiddenEventsAndStages.includes("event-".concat(t))};r.getState=function(){return uw};r.__getLocalVars=function(){return{state:uw}};return n}(s.ZP.PersistedStore);dw.displayName="LiveChannelNoticesStore";dw.persistKey="liveChannelNotices_v2";const pw=new dw(O.Z,{LIVE_CHANNEL_NOTICE_HIDE:function(e){var t=e.eventId,n=e.stageId;null!=t?uw.hiddenEventsAndStages.push("event-".concat(t)):null!=n&&uw.hiddenEventsAndStages.push("stage-".concat(n))},GUILD_SCHEDULED_EVENT_UPDATE:function(e){var t=e.guildScheduledEvent,n="event-".concat(t.id);!uw.hiddenEventsAndStages.includes(n)||t.status!==JO.p1.CANCELED&&t.status!==JO.p1.COMPLETED||(uw.hiddenEventsAndStages=uw.hiddenEventsAndStages.filter((function(e){return e!==n})))},GUILD_SCHEDULED_EVENT_DELETE:function(e){var t=e.guildScheduledEvent,n="event-".concat(t.id)
;uw.hiddenEventsAndStages.includes(n)&&(uw.hiddenEventsAndStages=uw.hiddenEventsAndStages.filter((function(e){return e!==n})))},STAGE_INSTANCE_DELETE:function(e){var t=e.instance,n="stage-".concat(t.id);uw.hiddenEventsAndStages.includes(n)&&(uw.hiddenEventsAndStages=uw.hiddenEventsAndStages.filter((function(e){return e!==n})))}});var hw=(0,WR.B)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]}),Ew=function(e){o.useEffect((function(){null!=e&&e.hasFeature(M.oNc.HUB)&&hw.trackExposure({guildId:e.id})}),[e]);var t;return hw.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{disable:null==e||!e.hasFeature(M.oNc.HUB)})};var yw=n(82029),mw=n(54814);function bw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gw(e){gw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return gw(e)}function Ow(e,t){return!t||"object"!==_w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vw(e,t){vw=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return vw(e,t)}var _w=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Sw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=gw(e);if(t){var o=gw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ow(this,n)}}var Iw="publicUpsellChannelNoticeGuilds",Tw=new Set;var Nw=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&vw(e,t)}(n,e);var t=Sw(n);function n(){bw(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(En.Z,kt.Z,hn.Z);this.syncWith([En.Z,kt.Z,hn.Z],M.dG4);var e;Tw=null!==(e=new Set(Ne.Z.get(Iw)))&&void 0!==e?e:new Set};r.isVisible=function(e){if(null!=e){var t=hn.Z.getMemberCount(e.id);return!Tw.has(e.id)&&null!=t&&t>=mw.U3&&En.Z.can(M.Plq.ADMINISTRATOR,e)&&!e.hasFeature(M.oNc.COMMUNITY)}};r.__getLocalVars=function(){return{PUBLIC_UPSELL_CHANNEL_NOTICE_GUILDS_KEY:Iw,guildIds:Tw}};return n}(s.ZP.Store);Nw.displayName="EnablePublicGuildUpsellNoticeStore";const Cw=new Nw(O.Z,{PUBLIC_UPSELL_NOTICE_DISMISS:function(e){var t=e.guildId;if(!Tw.has(t)){Tw.add(t);Ne.Z.set(Iw,Tw);return!0}}});var Aw=n(129230),Pw=n(75141);function jw(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rw(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xw(e){xw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xw(e)}function Mw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Rw(e,t,n[t])}))}return e}function ww(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)
}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Zw(e,t){return!t||"object"!==Dw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lw(e,t){Lw=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Lw(e,t)}var Dw=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Uw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xw(e);if(t){var o=xw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zw(this,n)}}var kw={},Gw=function(){kw={lastDismissedGracePeriods:{},
isVisible:{}}};Gw();var Bw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Lw(e,t)}(n,e);var t=Uw(n);function n(){jw(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(kw=e)};r.getLastDismissedGracePeriodForGuild=function(e){return null!=kw.lastDismissedGracePeriods[e]?kw.lastDismissedGracePeriods[e]:null};r.isVisible=function(e){return null!=e&&(null!=kw.isVisible[e]&&kw.isVisible[e])};r.getState=function(){return kw};r.__getLocalVars=function(){return{state:kw,setDefaultState:Gw}};return n}(s.ZP.PersistedStore);Bw.displayName="GuildBoostingGracePeriodNoticeStore";Bw.persistKey="PremiumGuildGracePeriodNoticeStore";Bw.migrations=[function(e){return ww(Mw({},e),{lastDismissedGracePeriods:null!=e?Mw({},e.lastDismissedGracePeriods):{},isVisible:{}})}]
;const Hw=new Bw(O.Z,{GUILD_APPLIED_BOOSTS_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.appliedBoosts,r=null!=kw.lastDismissedGracePeriods[t]?kw.lastDismissedGracePeriods[t]:null,o=null!=r&&Date.now()-r<=M.Dge,i=null!=n&&!o&&(0,Pw.Vx)(n,t);kw=ww(Mw({},kw),{isVisible:ww(Mw({},kw.isVisible),Rw({},t,i))})},BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS:function(e){var t=e.guildId;kw=ww(Mw({},kw),{lastDismissedGracePeriods:ww(Mw({},kw.lastDismissedGracePeriods),Rw({},t,Date.now())),isVisible:ww(Mw({},kw.isVisible),Rw({},t,!1))})}});function Vw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fw(e){Fw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Fw(e)}function Yw(e,t){return!t||"object"!==zw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ww(e,t){
Ww=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ww(e,t)}var zw=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Kw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Fw(e);if(t){var o=Fw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yw(this,n)}}var qw=null;function Xw(){var e=Y.default.getCurrentUser();if(null==e||e.mfaEnabled===qw)return!1;qw=e.mfaEnabled}var Qw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ww(e,t)}(n,e);var t=Kw(n);function n(){
Vw(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Y.default,hT.ZP);this.syncWith([Y.default,hT.ZP],Xw)};r.isVisible=function(e){return null!=e&&e.mfaLevel===M.BpS.ELEVATED&&!1===qw&&hT.ZP.hasElevatedPermissions(e.id)};r.__getLocalVars=function(){return{mfaEnabled:qw}};return n}(s.ZP.Store);Qw.displayName="GuildMFAWarningStore";const $w=new Qw(O.Z,{CONNECTION_OPEN:Xw,GUILD_UPDATE:function(){return!0}});function Jw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eZ(e){eZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return eZ(e)}function tZ(e,t){return!t||"object"!==rZ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nZ(e,t){nZ=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return nZ(e,t)}var rZ=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function oZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=eZ(e);if(t){var o=eZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tZ(this,n)}}var iZ={MAX_MEMBER_COUNT:new Set};var aZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&nZ(e,t)}(n,e);var t=oZ(n);function n(){Jw(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(En.Z,kt.Z,hn.Z);this.syncWith([En.Z,kt.Z,hn.Z],M.dG4)
;Ne.Z.remove(M.vID.MAX_MEMBER_COUNT_100);Ne.Z.remove(M.vID.MAX_MEMBER_COUNT_250);var e;iZ[M.vID.MAX_MEMBER_COUNT]=null!==(e=new Set(Ne.Z.get(M.vID.MAX_MEMBER_COUNT)))&&void 0!==e?e:new Set};r.isVisible=function(e){if(null==e)return!1;var t,n=null!==(t=hn.Z.getMemberCount(e.id))&&void 0!==t?t:0,r=En.Z.can(M.Plq.ADMINISTRATOR,e);return!iZ[M.vID.MAX_MEMBER_COUNT].has(e.id)&&r&&e.maxMembers>0&&e.maxMembers-n<=1e4};r.__getLocalVars=function(){return{CHANNEL_MEMBER_CAP_THRESHOLD:1e4,guildIds:iZ}};return n}(s.ZP.Store);aZ.displayName="MaxMemberCountChannelNoticeStore";const sZ=new aZ(O.Z,{MAX_MEMBER_COUNT_NOTICE_DISMISS:function(e){var t=e.guildId;if(!iZ[M.vID.MAX_MEMBER_COUNT].has(t)){iZ[M.vID.MAX_MEMBER_COUNT].add(t);Ne.Z.set(M.vID.MAX_MEMBER_COUNT,iZ[M.vID.MAX_MEMBER_COUNT]);return!0}}});var cZ;!function(e){e[e.ENABLE_PUBLIC_GUILD=0]="ENABLE_PUBLIC_GUILD";e[e.APPLIED_GUILD_BOOST_GRACE_PERIOD=1]="APPLIED_GUILD_BOOST_GRACE_PERIOD";e[e.MAX_MEMBER_COUNT=2]="MAX_MEMBER_COUNT"
;e[e.GUILD_LIVE_CHANNEL=3]="GUILD_LIVE_CHANNEL";e[e.GUILD_MFA_WARNING=4]="GUILD_MFA_WARNING";e[e.COMMANDS_MIGRATION=5]="COMMANDS_MIGRATION";e[e.APPLICATION_SUBSCRIPTION_EXPIRATION=6]="APPLICATION_SUBSCRIPTION_EXPIRATION";e[e.HUB_STUDY_ROOM=7]="HUB_STUDY_ROOM"}(cZ||(cZ={}));function lZ(e){var t,n=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",r=(0,s.cj)([Aw.Z],(function(){return{appliedGuildBoosts:Aw.Z.getAppliedGuildBoostsForGuild(n),lastFetchedAt:Aw.Z.getLastFetchedAtForGuild(n)}})).lastFetchedAt,i=(0,s.cj)([Hw],(function(){return{lastDismissedGracePeriod:Hw.getLastDismissedGracePeriodForGuild(n),isGracePeriodVisible:Hw.isVisible(n)}})),a=i.lastDismissedGracePeriod,c=i.isGracePeriodVisible,l=(0,s.e7)([Cw],(function(){return Cw.isVisible(e)})),u=(0,s.e7)([sZ],(function(){return sZ.isVisible(e)})),f=(0,s.e7)([En.Z],(function(){return En.Z.can(M.Plq.ADMINISTRATOR,e)})),d=null!=a&&Date.now()-a<=M.Dge,p=null!=e?e.premiumSubscriberCount:0,h=(0,
Pw.rF)(p,n)!==M.Eu4.NONE,E=!(null!=r&&Date.now()-r<=432e5)&&(!d&&f&&h),y=function(e){var t,n=(0,rw.ZP)(e),r=I.Z.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),o=(0,s.e7)([nw.Z],(function(){return nw.Z.getStageInstanceByChannel(null==r?void 0:r.id)}),[r]),i=(0,tO.k5)(e),a=(0,s.cj)([pw],(function(){return{isStageNoticeHidden:pw.isLiveChannelNoticeHidden({stageId:null==o?void 0:o.id}),isEventNoticeHidden:pw.isLiveChannelNoticeHidden({eventId:null==i?void 0:i.id})}}),[o,i]),c=a.isStageNoticeHidden,l=a.isEventNoticeHidden;return null!=i?null!=o?!c:!l:null!=o&&!c}(n),m=(0,s.e7)([$w],(function(){return $w.isVisible(e)})),b=yw.Z.useShouldShowChannelNotice(n),g=(0,tw.h6)(e),O=Ew(e).enableStudyGroup,v=g.length>0,_=O&&!Boolean(null==e?void 0:e.hasFeature(M.oNc.HUB));o.useEffect((function(){var e=-1;E&&(e=window.setTimeout((function(){null!=n&&(0,ew.C0)(n)}),30*Math.random()*1e3));return function(){window.clearTimeout(e)}}),[n,E])
;return l?cZ.ENABLE_PUBLIC_GUILD:c?cZ.APPLIED_GUILD_BOOST_GRACE_PERIOD:u?cZ.MAX_MEMBER_COUNT:y?cZ.GUILD_LIVE_CHANNEL:m?cZ.GUILD_MFA_WARNING:b?cZ.COMMANDS_MIGRATION:v?cZ.APPLICATION_SUBSCRIPTION_EXPIRATION:_?cZ.HUB_STUDY_ROOM:null}var uZ=n(319982),fZ=n(108870),dZ=n(464855),pZ=n(956922),hZ=n(666722),EZ=n(586128),yZ=n(939532),mZ=n(733346);function bZ(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function gZ(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bZ(i,r,o,a,s,"next",e)}function s(e){bZ(i,r,o,a,s,"throw",e)}a(void 0)}))}}function OZ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var vZ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),
i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function _Z(e){var t,i=(0,EZ.SE)(e),a=mw.$X.some((function(t){return(null==e?void 0:e.id)!==mZ._&&ml.ZP.canEveryone(t,e)
})),s=(null==e?void 0:e.defaultMessageNotifications)===M.bL.ALL_MESSAGES,c=(0,yZ.F)(dn.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""),l=i&&(a||s)&&!c,u=o.useCallback((function(){var t;(0,yZ.Q)(dn.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",!0,mn.L.DISMISS)}),[e]),f=o.useRef(!1);o.useEffect((function(){if(l&&!f.current){(0,W.ZD)(gZ((function(){var t,o;return vZ(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(6321)]).then(n.bind(n,406321))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){OZ(e,t,n[t])}))}return e}({guild:e,
canEveryoneModerate:a,isDefaultNotificationsAllMessages:s},t))}]}}))})),{onCloseCallback:u});var t;Ce.default.track(M.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:dn.CW[dn.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE],guild_id:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""});f.current=!0}}),[a,e,u,s,l])}var SZ=n(814709);var IZ=n(218276);function TZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NZ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function CZ(e){CZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return CZ(e)}function AZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){NZ(e,t,n[t])
}))}return e}function PZ(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jZ(e,t){return!t||"object"!==xZ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function RZ(e,t){RZ=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return RZ(e,t)}var xZ=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function MZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=CZ(e);if(t){var o=CZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jZ(this,n)}}var wZ="hasSeenGuildTemplatePromotionTooltip",ZZ={},LZ=!0===Ne.Z.get(wZ);function DZ(e){var t=e.guildId;ZZ=PZ(AZ({},ZZ),NZ({},t,!1))}var UZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&RZ(e,t)}(n,e);var t=MZ(n);function n(){TZ(this,n);return t.apply(this,arguments)}var r=n.prototype;r.shouldShowGuildTemplateDirtyTooltip=function(e){var t;return null!==(t=ZZ[e])&&void 0!==t&&t};r.shouldShowGuildTemplatePromotionTooltip=function(){return!LZ};r.__getLocalVars=function(){return{
HAS_SEEN_GUILD_TEMPLATE_PROMOTION_TOOLTIP_KEY:wZ,showGuildTemplateDirtyTooltipFlags:ZZ,seenGuildTemplatePromotionTooltip:LZ}};return n}(s.ZP.Store);UZ.displayName="GuildTemplateTooltipStore";const kZ=new UZ(O.Z,{GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH:function(e){var t=e.guildTemplate;ZZ=PZ(AZ({},ZZ),NZ({},t.source_guild_id,t.is_dirty||!1))},GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE:function(){Ne.Z.set(wZ,!0);LZ=!0},GUILD_TEMPLATE_SYNC_SUCCESS:function(e){ZZ=PZ(AZ({},ZZ),NZ({},e.guildTemplate.source_guild_id,!1))},GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE:DZ,GUILD_TEMPLATE_DELETE_SUCCESS:DZ});var GZ,BZ=n(517959),HZ=n(648863),VZ=n(891983),FZ=n(553257),YZ=n(226042),WZ=n(887380),zZ=n(969357),KZ=n(973381),qZ=n(875673),XZ=n(525709),QZ=n(803204),$Z=n(145072),JZ=n(796080),eL=n(827449),tL=n(35599),nL=n(428801),rL=n(109813),oL=n(741093),iL=n.n(oL);!function(e){e.BOOSTING="BOOSTING";e.NITRO="NITRO";e.BASH_OUT="BASH_OUT"}(GZ||(GZ={}))
;var aL="https://cdn.discordapp.com/attachments/860252504826445825/1029516100356018217/Activities_NUX_GL_1.mp4",sL="https://cdn.discordapp.com/attachments/887469171804356628/916446867586416660/activities-video-poster-512.png";var cL=function(e){var t=e.channelId,n=e.markAsDismissed,i=function(e){switch(e){case GZ.BOOSTING:return{analyticsLocation:vf.Z.ACTIVITY_COACH_MARK_BOOSTING,analyticsType:"embedded_activity_discovery_tutorial",description:te.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_WTP_DESCRIPTION,learnMore:!0,title:te.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_TITLE,videoPosterUrl:sL,videoUrl:aL,ctaText:te.Z.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT};case GZ.NITRO:return{analyticsLocation:vf.Z.ACTIVITY_COACH_MARK_NITRO,analyticsType:"embedded_activity_nitro_discovery_tutorial",description:te.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_DESCRIPTION,learnMore:!0,title:te.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_TITLE,videoPosterUrl:sL,videoUrl:aL,
ctaText:te.Z.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT};case GZ.BASH_OUT:return{analyticsLocation:vf.Z.ACTIVITY_COACH_MARK_BASH_OUT,analyticsType:"embedded_activity_bash_out_tutorial",description:te.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_BASH_OUT_DESCRIPTION,learnMore:!1,title:te.Z.Messages.EMBEDDED_ACTIVITIES_AVAILABLE_NOW,videoPosterUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1037963592227635230/bash_out.jpg",videoUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1037967755955146762/bash_out.mp4",ctaText:te.Z.Messages.PLAY};default:return{analyticsLocation:vf.Z.ACTIVITY_COACH_MARK_NITRO,analyticsType:"",description:"",learnMore:!1,title:"",videoPosterUrl:"",videoUrl:"",ctaText:""}}}(e.tutorialType),a=i.analyticsLocation,c=i.analyticsType,l=i.ctaText,u=i.description,f=i.learnMore,d=i.title,p=i.videoPosterUrl,h=i.videoUrl,E=(0,FM.Z)(a),y=E.analyticsLocations,m=E.AnalyticsLocationProvider;o.useEffect((function(){Ce.default.track(M.rMx.TOOLTIP_VIEWED,{type:c})
}),[c]);var b=(0,tL.bp)()===M.IlC.POPOUT,g=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(t)}),[t]);return(0,r.jsx)(m,{children:(0,r.jsx)("div",{className:iL().wrapper,children:(0,r.jsx)("div",{className:iL().container,children:(0,r.jsxs)("div",{className:iL().content,children:[(0,r.jsx)(rL.Z,{className:iL().video,src:h,poster:p,width:224,height:126,loop:!0,muted:!0,autoPlay:!0}),(0,r.jsx)("div",{className:iL().header,children:(0,r.jsx)(q.X6,{className:iL().headerText,variant:"text-sm/bold",color:"always-white",children:d})}),(0,r.jsxs)(q.xv,{className:iL().subheaderText,variant:"text-xs/normal",color:"always-white",children:[u,f?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(LT.Z,{className:iL().learnMoreLink,href:"https://support.discord.com/hc/articles/4422142836759",children:te.Z.Messages.LEARN_MORE})]}):null]}),(0,r.jsxs)("div",{className:iL().ctaActionWrapper,children:[(0,r.jsx)(Q.Co,{color:Q.Co.Colors.BRAND,onClick:function(){n()},children:te.Z.Messages.DISMISS}),(0,
r.jsx)(Q.Co,{color:Q.Co.Colors.BRAND,look:Q.Co.Looks.INVERTED,onClick:function(){n();if(null!=g){(0,nL.Z)({channel:g.isGuildVoice()?g:void 0,guildId:g.guild_id,locationObject:{page:M.ZY5.GUILD_CHANNEL,section:M.jXE.GUILD_CHANNEL_LIST,object:M.qAy.ACTIVITIES_COACH_MARK,objectType:M.Qqv.ACTIVITY},openInPopout:b,analyticsLocations:y});(0,jc.w1)(g.guild_id)}},children:l})]})]})})})})},lL=n(807370),uL=n(404769),fL=n(722100),dL=n.n(fL),pL=n(694111),hL=n.n(pL);function EL(e){var t=e.guild,n=e.markAsDismissed;return(0,r.jsx)(QZ.ZP,{header:te.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_TITLE,content:te.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_DESCRIPTION,asset:(0,r.jsx)("div",{className:dL().image,children:(0,r.jsx)("img",{alt:"",src:hL()})}),buttonCTA:te.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_ACCEPT,onClick:function(e){!function(e,t){t&&yr.Z.open(e.id,M.pNK.DISCOVERY_LANDING_PAGE)}(t,!0)},secondaryButtonCTA:te.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_DISMISS,
onSecondaryClick:function(){},markAsDismissed:n})}var yL=n(292607),mL=n(812099),bL=n.n(mL);function gL(e){var t=e.onClick,n=e.onSecondaryClick,i=e.onComponentMount,a=e.markAsDismissed;o.useEffect((function(){null==i||i()}),[i]);var s=o.useCallback((function(e){t(e);null==a||a(mn.L.PRIMARY)}),[t,a]),c=o.useCallback((function(){null==n||n();null==a||a(mn.L.SECONDARY)}),[n,a]);return(0,r.jsxs)("div",{className:bL().tooltipWrapper,children:[(0,r.jsx)(q.X6,{className:bL().tooltipHeader,variant:"heading-md/semibold",children:te.Z.Messages.SERVER_DISCOVERY_TOOLTIP_TITLE}),(0,r.jsx)(q.xv,{className:bL().tooltipText,variant:"text-sm/normal",children:te.Z.Messages.SERVER_DISCOVERY_TOOLTIP_DESCRIPTION.format({count:yL.WZ})}),(0,r.jsxs)("div",{className:bL().buttonsContainer,children:[(0,r.jsx)(Q.Co,{fullWidth:!0,size:Q.Co.Sizes.SMALL,color:Q.Co.Colors.BRAND,onClick:s,children:te.Z.Messages.LEARN_MORE}),(0,r.jsx)(Q.Co,{fullWidth:!0,size:Q.Co.Sizes.SMALL,look:Q.Co.Looks.BLANK,onClick:c,
children:te.Z.Messages.NO_THANKS})]})]})}var OL=n(997903),vL=n(114573),_L=n(402919),SL=n(808433),IL=n(445993),TL=n.n(IL);function NL(){var e=(0,_L.j)(!0);return(0,r.jsx)("div",{children:(0,r.jsx)(cg.ZP,{src:e,size:cg.ZP.Sizes.SIZE_40,"aria-label":te.Z.Messages.GUILD_AUTOMOD_USERNAME})})}function CL(e){var t=e.guildId,n=e.onDismissed;o.useEffect((function(){SL.l.trackExposure({guildId:t})}),[t]);return(0,r.jsx)(QZ.ZP,{className:TL().message,header:te.Z.Messages.GUILD_ANTIRAID_UPSELL_HEADER,content:te.Z.Messages.GUILD_ANTIRAID_UPSELL_CONTENT.format(),onComponentMount:function(){Ce.default.track(M.rMx.TOOLTIP_VIEWED,{type:"guild_anti_raid_upsell",location:{page:M.ZY5.GUILD_CHANNEL}})},asset:(0,r.jsx)("div",{className:TL().container,children:(0,r.jsxs)("div",{className:TL().card,children:[(0,r.jsx)(NL,{}),(0,r.jsxs)("div",{className:TL().content,children:[(0,r.jsxs)("div",{className:TL().name,children:[(0,r.jsx)(q.xv,{variant:"text-sm/semibold",color:"text-brand",className:TL().nameText,
children:te.Z.Messages.GUILD_ANTIRAID_UPSELL_ASSET_HEADER}),(0,r.jsx)(vL.Z,{width:16,height:16,color:OL.Z.LINK,className:TL().shield})]}),(0,r.jsx)("div",{className:TL().spoiler})]})]})}),buttonCTA:te.Z.Messages.GUILD_ANTIRAID_UPSELL_CTA,onClick:function(){n();yr.Z.open(t,M.pNK.MODERATION)},secondaryButtonCTA:te.Z.Messages.GUILD_ANTIRAID_UPSELL_DISMISSAL,markAsDismissed:n})}function AL(){var e=(0,_L.j)(!0);return(0,r.jsx)("div",{children:(0,r.jsx)(cg.ZP,{src:e,size:cg.ZP.Sizes.SIZE_40,"aria-label":te.Z.Messages.GUILD_AUTOMOD_USERNAME})})}function PL(e){var t=e.guildId,n=e.onDismissed;return(0,r.jsx)(QZ.ZP,{className:TL().message,header:te.Z.Messages.GUILD_MENTION_RAID_LIMIT_UPSELL_HEADER,content:te.Z.Messages.GUILD_MENTION_RAID_LIMIT_UPSELL_CONTENT,onComponentMount:function(){Ce.default.track(M.rMx.TOOLTIP_VIEWED,{type:"guild_mention_raid_limit",location:{page:M.ZY5.GUILD_CHANNEL}})},asset:(0,r.jsx)("div",{className:TL().container,children:(0,r.jsxs)("div",{className:TL().card,
children:[(0,r.jsx)(AL,{}),(0,r.jsxs)("div",{className:TL().content,children:[(0,r.jsxs)("div",{className:TL().name,children:[(0,r.jsx)(q.xv,{variant:"text-sm/semibold",color:"text-brand",className:TL().nameText,children:te.Z.Messages.GUILD_MENTION_RAID_LIMIT_UPSELL_ASSET_HEADER}),(0,r.jsx)(vL.Z,{width:16,height:16,color:OL.Z.LINK,className:TL().shield})]}),(0,r.jsx)("div",{className:TL().spoiler})]})]})}),buttonCTA:te.Z.Messages.GUILD_MENTION_RAID_LIMIT_UPSELL_CTA,onClick:function(){n();yr.Z.open(t,M.pNK.GUILD_AUTOMOD);yr.Z.setSection(M.pNK.GUILD_AUTOMOD,M.KsC.AUTOMOD_MENTION_SPAM)},secondaryButtonCTA:te.Z.Messages.GUILD_MENTION_RAID_LIMIT_UPSELL_DISMISSAL,markAsDismissed:n})}var jL=n(714523),RL=n(323167),xL=n.n(RL),ML=n(204186),wL=n.n(ML);function ZL(e){var t=e.guildId,n=e.markAsDismissed,o=(0,DT.ZP)([kt.Z,Y.default],(function(){var e=Y.default.getCurrentUser(),n=kt.Z.getGuild(t);return!0===(null==n?void 0:n.isOwner(e))}));(0,Fp.Z)({type:K.nv.POPOUT,
name:K.zs.CREATOR_PROMO_PAGE_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:o}});return(0,r.jsx)("div",{className:xL().container,children:(0,r.jsx)(QZ.ZP,{header:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PROMO_PAGE_UPSELL_HEADER,content:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PROMO_PAGE_UPSELL_BODY,asset:(0,r.jsx)("div",{className:xL().image,children:(0,r.jsx)("img",{alt:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_IMG_ALT,src:wL(),className:xL().image})}),buttonCTA:te.Z.Messages.CHECK_IT_OUT,onClick:function(){yr.Z.open(t,M.pNK.ROLE_SUBSCRIPTIONS_STORE_PAGE)},secondaryButtonCTA:te.Z.Messages.DISMISS,markAsDismissed:n})})}var LL=n(743861),DL=n.n(LL);function UL(e){var t=e.guildId,n=e.markAsDismissed,o=(0,DT.ZP)([kt.Z,Y.default],(function(){var e=Y.default.getCurrentUser(),n=kt.Z.getGuild(t);return!0===(null==n?void 0:n.isOwner(e))}));(0,Fp.Z)({type:K.nv.POPOUT,name:K.zs.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:o}});return(0,r.jsx)("div",{
className:DL().container,children:(0,r.jsx)(QZ.ZP,{header:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_HEADER,content:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_BODY,asset:(0,r.jsx)("div",{className:DL().image,children:(0,r.jsx)("img",{alt:te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_IMG_ALT,src:xM(),className:DL().image})}),buttonCTA:te.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_UPSELL_CTA,onClick:function(){yr.Z.open(t,M.pNK.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:te.Z.Messages.DISMISS,markAsDismissed:n})})}var kL=n(755122),GL=n.n(kL);function BL(e){var t=e.markAsDismissed;return(0,r.jsxs)("div",{className:GL().container,children:[(0,r.jsx)("div",{className:GL().pointer}),(0,r.jsx)(q.xv,{variant:"text-sm/normal",className:GL().content,children:te.Z.Messages.HUB_PRIVACY_SETTINGS_TOOLTIP}),(0,r.jsx)(Q.Co,{look:Q.Co.Looks.INVERTED,fullWidth:!0,onClick:function(){t(mn.L.AUTO)},children:te.Z.Messages.GOT_IT})]})}
var HL=n(830504),VL=n(636443),FL=n.n(VL),YL=n(135849),WL=n.n(YL),zL=n(998240),KL=n.n(zL),qL=n(705206),XL=n.n(qL),QL=n(567012),$L=n.n(QL),JL=n(862470),eD=n.n(JL);function tD(e){null!=e&&yr.Z.open(e.id,M.pNK.OVERVIEW,{section:M.jXE.PREMIUM_GUILD_PROGRESS_BAR},M.KsC.DISPLAY)}function nD(e,t){t&&yr.Z.open(e.id,M.pNK.DISCOVERY)}function rD(e,t){null!=t&&((0,Pw.f2)(t,M.Eu4.TIER_1)?yr.Z.open(t.id,M.pNK.OVERVIEW,{section:M.jXE.PREMIUM_GUILD_INVITE_SPLASH},M.KsC.INVITE):(0,jL.Z)({analyticsLocations:e,analyticsSourceLocation:M.jXE.PREMIUM_GUILD_INVITE_SPLASH,guild:t,perks:(0,HL.o9)()}))}function oD(e){var t=e.renderPopout,n=e.renderGuildHeaderDropdownButton;return(0,r.jsx)(jg.ZP,{renderPopout:function(){return(0,r.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:t})},position:jg.ZP.Positions.BOTTOM,align:jg.ZP.Align.CENTER,animation:jg.ZP.Animation.TRANSLATE,shouldShow:!0,children:function(){return n()}})}const iD=o.memo((function(e){
var t=e.contentTypes,n=e.theme,o=e.guild,i=e.canManageRoles,a=e.renderGuildHeaderDropdownButton,s=e.hidesAppDirectoryCoachMark,c=e.useReducedMotion,l=(0,FM.Z)().analyticsLocations,u=function(){Ce.default.track(M.rMx.TOOLTIP_VIEWED,{type:na.cd.PREMIUM_PROGRESS_BAR,location:{page:M.ZY5.GUILD_CHANNEL}})},f=function(){Ce.default.track(M.rMx.PREMIUM_UPSELL_VIEWED,{type:na.cd.INVITE_SPLASH_UPSELL,location:{page:M.ZY5.GUILD_CHANNEL},location_stack:l})},d=n===Sc.BR.DARK?$L():eD();return(0,r.jsx)(ZT.Z,{contentTypes:t,groupName:mn.R.GUILD_HEADER_TOOLTIPS,children:function(e){var t=e.visibleContent,n=e.markAsDismissed;switch(t){case dn.z$.GUILD_MENTION_RAID_LIMIT:return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(PL,{guildId:o.id,onDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.ANTI_RAID_SAFETY_ALERT_NOTICE:return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(CL,{guildId:o.id,onDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:return(0,r.jsx)(oD,{
renderPopout:(0,r.jsx)(QZ.ZP,{onComponentMount:u,header:te.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_TITLE,asset:(0,r.jsx)("img",{alt:"",src:d,className:WL().fullWidthImage}),content:te.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CONTENT.format(),buttonCTA:te.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:te.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return tD()},onClick:function(){return tD(o)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK:return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(QZ.ZP,{onComponentMount:u,header:te.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_TITLE,asset:(0,r.jsx)("img",{alt:"",src:d,className:WL().fullWidthImage}),content:te.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_CONTENT.format(),
buttonCTA:te.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:te.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return tD()},onClick:function(){return tD(o)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(UL,{guildId:o.id,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP:return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(gL,{onClick:function(){return nD(o,!0)},onSecondaryClick:function(){return nD(o)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(EL,{guild:o,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.GUILD_HEADER_INVITE_SPLASH:var p=(0,
Pw.f2)(o,M.Eu4.TIER_1)?te.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT.format():te.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT_LOCKED.format({boostCount:(0,Pw.KK)(o,M.Eu4.TIER_1)}),h=(0,Pw.f2)(o,M.Eu4.TIER_1)?te.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS:te.Z.Messages.LEARN_MORE;return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(QZ.ZP,{onComponentMount:f,header:te.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_TITLE,asset:(0,r.jsx)("img",{alt:"",src:XL(),className:WL().fullWidthImage}),content:p,buttonCTA:h,secondaryButtonCTA:te.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return rD(l)},onClick:function(){return rD(l,o)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS:return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(QZ.ZP,{header:te.Z.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_HEADER,asset:(0,r.jsx)("img",{alt:"",src:KL(),
className:FL().tooltipIntegrationsPermissionsAsset}),content:te.Z.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CONTENT,buttonCTA:te.Z.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CTA,onClick:function(){yr.Z.open(o.id,M.pNK.INTEGRATIONS)},secondaryButtonCTA:te.Z.Messages.DISMISS,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP:return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(BL,{markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.GUILD_HEADER_ACTIVE_THREADS_NOTICE:return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(QZ.ZP,{className:FL().tooltipOverrideColor,header:te.Z.Messages.ACTIVE_THREADS_UPSELL_HEADER,content:te.Z.Messages.ACTIVE_THREADS_UPSELL_CONTENT,buttonCTA:te.Z.Messages.GOT_IT,onClick:function(){return n()},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.APP_DIRECTORY_COACH_MARK:return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(QZ.ZP,{className:s?FL().visibilityHidden:void 0,
content:te.Z.Messages.APP_DIRECTORY_COACHMARK,buttonCTA:te.Z.Messages.GOT_IT,onClick:function(){return n()},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case dn.z$.VERIFIED_ROLES_COACH_MARK:var E=i?"https://cdn.discordapp.com/attachments/1049469146498334781/1049763848305000458/linked_roles_admin_nux_final.mp4":"https://cdn.discordapp.com/attachments/1049469146498334781/1049763935072550952/Linked_roles_member_nux_final.mp4";return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(QZ.ZP,{className:FL().tooltipContainer,onComponentMount:function(){return function(e){Ce.default.track(M.rMx.TOOLTIP_VIEWED,{type:e?"VERIFIED_ROLES_ADMIN_COACH_MARK":"VERIFIED_ROLES_COACH_MARK",location:{page:M.ZY5.GUILD_CHANNEL}})}(i)},header:(0,r.jsxs)(r.Fragment,{children:[i?te.Z.Messages.VERIFIED_ROLES_ADMIN_COACHMARK_HEADER:te.Z.Messages.VERIFIED_ROLES_COACHMARK_HEADER,(0,r.jsx)(Mb.Z,{className:FL().betaTag,color:(0,pN.Lq)(M.Ilk.WHITE_500)})]}),headerClassName:FL().tooltipHeaderContainer,asset:(0,
r.jsx)(rL.Z,{className:FL().tooltipVideo,src:E,loop:!0,autoPlay:!c,width:240,height:135}),content:(i?te.Z.Messages.VERIFIED_ROLES_ADMIN_COACHMARK_CONTENT:te.Z.Messages.VERIFIED_ROLES_COACHMARK_CONTENT).format({helpdeskArticle:ee.Z.getArticleURL(M.BhN.CONNECTION_DETAILS)}),buttonCTA:te.Z.Messages.CHECK_IT_OUT,secondaryButtonCTA:te.Z.Messages.DISMISS,onClick:function(){if(i){yr.Z.init(o.id);yr.Z.open(o.id,M.pNK.ROLES)}else(0,uL.Am)(o.id)},markAsDismissed:function(){!function(e){Ce.default.track(M.rMx.DISMISSIBLE_CONTENT_DISMISSED,{type:e?"VERIFIED_ROLES_ADMIN_COACH_MARK":"VERIFIED_ROLES_COACH_MARK",location:{page:M.ZY5.GUILD_CHANNEL}})}(i);n()}}),renderGuildHeaderDropdownButton:a});case dn.z$.CREATOR_PROMO_PAGE_COACH_MARK:return(0,r.jsx)(oD,{renderPopout:(0,r.jsx)(ZL,{guildId:o.id,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});default:return a()}}})}));var aD=n(75736),sD=(0,WR.B)({kind:"user",id:"2022-12_channel_notice_redesign",label:"Channel Notice Redesign",defaultConfig:{
showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!1},treatments:[{id:1,label:"Show Redesigned Channel Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!1}},{id:2,label:"Show Redesigned Stage/Event Notices",config:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!0}},{id:3,label:"Show Redesigned Channel Notices & Stage/Event Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!0}}]});function cD(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=sD.useExperiment({},{autoTrackExposure:e}),n=t.showRedesignedChannelNotice,r=t.showRedesignedLiveChannelNotice;return{showRedesignedChannelNotice:n,showRedesignedLiveChannelNotice:r}}var lD=n(993176),uD=n.n(lD);function fD(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var dD=(0,as.debounce)(Eb.ZP.trackWithMetadata,500);const pD=function(e){
var t=e.guild,n=e.title,i=e.message,a=e.image,s=e.type,c=e.imageMarginX,l=e.imageMarginTop,u=e.trackingSource,f=e.undismissable,d=e.onDismissed,p=e.onClick,h=e.cta,E=e.ctaColor;o.useEffect((function(){dD(M.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:s,guild_id:t.id})}),[t.id,s]);var y=null;"function"==typeof h?y=h():null!=h&&(y=(0,r.jsx)(Q.Co,{className:uD().button,size:Q.Co.Sizes.SMALL,onClick:function(){null!=s&&Ce.default.track(M.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:u,guild_id:t.id,notice_type:s});null==p||p()},fullWidth:!0,color:E,children:h}));var m=null!=c?"".concat(c,"px"):"16px";return(0,r.jsxs)("div",{className:uD().container,children:[!0===f?null:(0,r.jsx)(q.P3,{onClick:function(){Eb.ZP.trackWithMetadata(M.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:s});null==d||d()},className:uD().close,"aria-label":te.Z.Messages.DISMISS,children:(0,r.jsx)(Sb.Z,{className:uD().closeIcon})}),null!=a&&(0,r.jsx)("div",{className:uD().imageContainer,style:{marginTop:"".concat(l,"px"),marginLeft:m,
marginRight:m},children:(0,r.jsx)("img",{className:uD().image,src:a,alt:""})}),(0,r.jsxs)("div",{className:uD().message,children:[null!=n?(0,r.jsx)(q.xv,{variant:"text-md/medium",color:"header-primary",className:Xp()(uD().title,fD({},uD().noImageTitle,null==a)),children:n}):null,(0,r.jsx)(q.xv,{variant:"text-sm/normal",color:"text-muted",children:i}),y]})]})};var hD=n(595408),ED=n.n(hD);function yD(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yD(e,t,n[t])}))}return e}var bD=ss().debounce(Eb.ZP.trackWithMetadata,500),gD=function(e){
var t=e.guild,n=e.title,i=e.message,a=e.image,s=e.type,c=e.imageMarginX,l=e.imageMarginTop,u=e.trackingSource,f=e.undismissable,d=e.onDismissed,p=e.onClick,h=e.cta,E=e.ctaColor;o.useEffect((function(){bD(M.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:s,guild_id:t.id})}),[t.id,s]);var y=null;"function"==typeof h?y=h():null!=h&&(y=(0,r.jsx)(Q.Co,{className:ED().btn,size:Q.Co.Sizes.SMALL,onClick:function(){null!=s&&Ce.default.track(M.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:u,guild_id:t.id,notice_type:s});null==p||p()},fullWidth:!0,color:E,children:h}));var m=null!=c?"".concat(c,"px"):"16px";return(0,r.jsxs)("div",{className:ED().channelNotice,children:[!0===f?null:(0,r.jsx)(q.P3,{onClick:function(){Eb.ZP.trackWithMetadata(M.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:s});null==d||d()},className:ED().close,"aria-label":te.Z.Messages.DISMISS,children:(0,r.jsx)(Sb.Z,{className:ED().closeIcon})}),(0,r.jsx)("div",{className:ED().imageContainer,style:{marginTop:"".concat(l,"px"),marginLeft:m,marginRight:m
},children:(0,r.jsx)("img",{className:ED().image,src:a,alt:""})}),(0,r.jsxs)("div",{className:ED().message,children:[null!=n?(0,r.jsx)(q.X6,{variant:"heading-md/semibold",className:ED().title,children:n}):null,(0,r.jsx)(q.xv,{variant:"text-sm/normal",children:i}),y]})]})};const OD=function(e){return cD(!0).showRedesignedChannelNotice?(0,r.jsx)(pD,mD({},e)):(0,r.jsx)(gD,mD({},e))};var vD=n(660856),_D=n(108881),SD=n.n(_D);function ID(e){var t=e.guild,n=(0,tw.h6)(t),i=function(){return(0,vD.sB)(t.id)},a=o.useMemo((function(){return new Set(n.map((function(e){return e.applicationId})))}),[n]),c=(0,s.e7)([aD.Z],(function(){return aD.Z.getApplications()})),l=o.useMemo((function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=a[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,l=c[s];null!=l&&e.push(l)}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}),[c,a]);if(0===l.length)return null;var u=""
;u=1===l.length?te.Z.Messages.ONE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:l[0].name}):2===l.length?te.Z.Messages.TWO_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:l[0].name,b:l[1].name}):3===l.length?te.Z.Messages.THREE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:l[0].name,b:l[1].name,c:l[2].name}):te.Z.Messages.MORE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT;return(0,r.jsx)(OD,{guild:t,onDismissed:i,message:u,type:M.vID.APPLICATION_SUBSCRIPTION_EXPIRATION,image:SD(),onClick:function(){i();yr.Z.open(t.id,M.pNK.INTEGRATIONS)},imageMarginTop:6,imageMarginX:46,cta:te.Z.Messages.APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CTA})}var TD=n(229629);var ND=n(509142),CD=n.n(ND);function AD(e){var t=e.guild,n=e.markAsDismissed,o=(0,DT.ZP)([ed.Z],(function(){return ed.Z.getKeybindForAction(M.kg4.SAVE_CLIP)}));return null==o?null:(0,r.jsx)(OD,{image:CD(),guild:t,onDismissed:n,onClick:n,
message:te.Z.Messages.CLIPS_CHANNEL_NOTICE_EDUCATION_BODY.format({keybind:Rf.BB(o.shortcut,!0)}),cta:te.Z.Messages.GOT_IT,trackingSource:M.PsQ.CLIPS_EDUCATION,type:M.vID.CLIPS_EDUCATION})}var PD=n(226867),jD=n.n(PD);function RD(e){var t=e.guild,n=e.markAsDismissed;return(0,r.jsx)(OD,{image:jD(),guild:t,onDismissed:n,onClick:function(){open(ee.Z.getArticleURL(M.BhN.CONNECTION_DETAILS));n()},title:te.Z.Messages.LINKED_ROLES_ADMIN_NUX_TITLE,message:te.Z.Messages.LINKED_ROLES_ADMIN_NUX_CONTENT,cta:te.Z.Messages.LEARN_MORE,trackingSource:M.PsQ.LINKED_ROLES_ADMIN_NUX,type:M.vID.LINKED_ROLES_ADMIN})}var xD=n(23943),MD=n.n(xD);const wD=function(e){var t=e.guild,n=t.id,o=(0,s.e7)([Aw.Z],(function(){return Aw.Z.getAppliedGuildBoostsForGuild(t.id)}));return null==o||(0,Pw._k)(o,n)<=0?null:(0,r.jsx)(OD,{guild:t,onDismissed:function(){!function(e){O.Z.dispatch({type:"BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS",guildId:e})}(n)},onClick:function(){yr.Z.open(n,M.pNK.GUILD_PREMIUM)},
message:te.Z.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE,trackingSource:M.PsQ.GRACE_PERIOD_NOTICE,type:M.vID.GUILD_BOOSTING_GRACE_PERIOD,image:MD(),cta:te.Z.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE_BUTTON,ctaColor:Q.Tt.PRIMARY})};var ZD=n(484771),LD=n.n(ZD);function DD(e){var t=e.guild,n=e.markAsDismissed,o=(0,Pw.KK)(t,M.Eu4.TIER_2),i=(0,FM.Z)(vf.Z.GUILD_BANNER_NOTICE).analyticsLocations;return(0,r.jsx)(OD,{guild:t,onDismissed:n,cta:te.Z.Messages.GUILD_BANNER_NOTICE_CTA,message:te.Z.Messages.GUILD_BANNER_NOTICE.format({boostsNeeded:o}),type:M.vID.GUILD_BANNER,image:LD(),onClick:function(){return(0,jL.Z)({analyticsLocations:i,analyticsSourceLocation:{section:M.jXE.CHANNEL_NOTICE,object:M.qAy.SERVER_BANNER_TOOLTIP},guild:t,perks:(0,HL.XO)()})},imageMarginTop:15,imageMarginX:22})}var UD=n(727869),kD=n.n(UD);function GD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BD(e){BD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return BD(e)}function HD(e,t){return!t||"object"!==FD(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function VD(e,t){VD=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return VD(e,t)}var FD=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function YD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=BD(e);if(t){var o=BD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HD(this,n)}}var WD=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&VD(e,t)}(n,e);var t=YD(n);function n(){GD(this,n);var e;(e=t.apply(this,arguments)).handleButtonClick=function(){var t=e.props.guild;(0,hZ.f)({guildId:t.id,location:{section:M.jXE.CHANNEL_NOTICE,object:M.qAy.SERVER_STATUS_CTA}})};return e}n.prototype.render=function(){var e=this.props,t=e.guild,n=e.memberCount,o=e.markAsDismissed,i=null==n||n<M.gpl;return(0,r.jsx)(OD,{guild:t,onDismissed:o,onClick:this.handleButtonClick,message:i?te.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_SMALL_GUILD:te.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE,cta:te.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_BUTTON,trackingSource:M.PsQ.GUILD_SUBSCRIPTION_NOTICE,type:M.vID.GUILD_BOOSTING,image:kD(),imageMarginX:26})};return n}(o.PureComponent);const zD=s.ZP.connectStores([hn.Z],(function(e){var t=e.guild
;return{memberCount:hn.Z.getMemberCount(t.id)}}))(WD);var KD=n(194266);function qD(e){var t,n=(0,tO.eF)(e),r=(0,rw.ZP)(e),o=I.Z.getChannel(null===(t=r[0])||void 0===t?void 0:t.id);return null!=n?n:o}var XD=n(975906);function QD(e){return(0,s.e7)([nr.default,A.Z,XD.ZP],(function(){var t=nr.default.getId();return A.Z.getVoiceChannelId()===e?XD.ZP.getPermissionsForUser(t,e):null}),[e])}var $D=n(327090),JD=n(449223);function eU(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tU(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function nU(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function rU(e){var t=e.width,n=void 0===t?32:t,o=e.height,i=void 0===o?32:o,a=e.color,s=void 0===a?"currentColor":a,c=nU(e,["width","height","color"]);return(0,r.jsx)("svg",tU(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eU(e,t,n[t])}))}return e}({},(0,qb.Z)(c)),{width:n,height:i,viewBox:"0 0 ".concat(n," ").concat(i),fill:"none",children:(0,r.jsx)("path",{
fillRule:"evenodd",clipRule:"evenodd",d:"M8 3C7.44772 3 7 3.44772 7 4V12C7 12.5523 7.44772 13 8 13C8.55228 13 9 12.5523 9 12V4C9 3.44772 8.55228 3 8 3ZM3 6C3 5.44772 3.44772 5 4 5C4.55228 5 5 5.44772 5 6V10C5 10.5523 4.55228 11 4 11C3.44772 11 3 10.5523 3 10V6ZM11 6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V10C13 10.5523 12.5523 11 12 11C11.4477 11 11 10.5523 11 10V6Z",fill:s})}))}var oU=n(806008);function iU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aU(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){aU(e,t,n[t])}))}return e}function cU(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function lU(e){return function(e){if(Array.isArray(e))return iU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return iU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iU(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var uU,fU=16,dU=12;!function(e){e[e.STAGE=0]="STAGE";e[e.EVENT_EXTERNAL=1]="EVENT_EXTERNAL";e[e.EVENT_VOICE=2]="EVENT_VOICE";e[e.STUDY_ROOM=3]="STUDY_ROOM"}(uU||(uU={}));function pU(e){var t=e.guild,n=e.isStudyRoomNotice,i=void 0!==n&&n,a=qD(t.id),c=(0,tO.k5)(t.id),l=(0,s.e7)([nw.Z],(function(){return nw.Z.getStageInstanceByChannel(null==a?void 0:a.id)}),[a]),u=(0,s.cj)([pw],(function(){return{isStageNoticeHidden:pw.isLiveChannelNoticeHidden({stageId:null==l?void 0:l.id}),isEventNoticeHidden:pw.isLiveChannelNoticeHidden({eventId:null==c?void 0:c.id})}}),[l,c]),f=u.isStageNoticeHidden,d=u.isEventNoticeHidden,p=(0,s.cj)([KO.Z],(function(){var e=KO.Z.getMutableParticipants(null==a?void 0:a.id,qO.pV.SPEAKER),t=null!=a?KO.Z.getParticipantCount(a.id,qO.pV.AUDIENCE):0;return{speakers:lU(new Set(e.map((function(e){return e.user})))),
listenerCount:t}}),[null==a?void 0:a.id]),h=p.speakers,E=p.listenerCount,y=(0,s.e7)([En.Z],(function(){return En.Z.can(M.Plq.CONNECT,a)})),m=QD(null==a?void 0:a.id),b=null==c?void 0:c.creator_id,g=(0,s.e7)([Y.default],(function(){return Y.default.getUser(b)}),[b]);o.useEffect((function(){null!=b&&(0,qc.PR)(b)}),[b]);var O=o.useMemo((function(){return function(e){var t=e.guildEvent,n=e.stageInstance,o=e.activeChannel,i=e.canConnect,a=e.myRole,s=e.eventCreator,c=e.speakers,l=e.listenerCount,u=e.isEventNoticeHidden,f=e.isStageNoticeHidden,d=e.isStudyRoomNotice,p=null!=n&&null!=o&&!f;if(d&&null!=o){var h=(0,Vb.KS)(o);return{noticeType:uU.STUDY_ROOM,title:"📚☕ ".concat(o.name),location:te.Z.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=h?(0,r.jsx)(h,{width:fU,height:fU,className:uD().locationIcon}):null,canListenIn:i,buttonText:te.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA,users:[],overflowUsers:null}}if(null==t||u){if(p){var E=te.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON
;(null==a?void 0:a.speaker)?E=te.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=a&&(E=te.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);return{noticeType:uU.STAGE,title:n.topic,location:o.name,locationIcon:(0,r.jsx)(oU.Z,{width:fU,height:fU,className:uD().locationIcon}),canListenIn:i,buttonText:E,onClose:function(){return fw({stageId:null==n?void 0:n.id})},users:c.length>5?c.slice(0,5):c,overflowUsers:l<1?null:(0,r.jsxs)("div",{className:uD().pill,children:[(0,r.jsx)(JD.Z,{width:dU,height:dU,className:uD().pillIcon}),(0,r.jsx)(q.xv,{variant:"text-xs/medium",color:"header-secondary",className:uD().pillLabel,children:l})]})}}}else{if(t.entity_type===JO.WX.STAGE_INSTANCE&&p){var y=te.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON;(null==a?void 0:a.speaker)?y=te.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=a&&(y=te.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);return{noticeType:uU.STAGE,title:n.topic,location:o.name,locationIcon:(0,r.jsx)(oU.Z,{width:fU,height:fU,
className:uD().locationIcon}),canListenIn:i,buttonText:y,onClose:function(){return fw({stageId:null==n?void 0:n.id})},users:c.length>5?c.slice(0,5):c,overflowUsers:l<1?null:(0,r.jsxs)("div",{className:uD().pill,children:[(0,r.jsx)(JD.Z,{width:dU,height:dU,className:uD().pillIcon}),(0,r.jsx)(q.xv,{variant:"text-xs/medium",color:"header-secondary",className:uD().pillLabel,children:l})]})}}if(t.entity_type===JO.WX.EXTERNAL){var m=(0,FO.cS)(t);return null==m?{noticeType:null}:{noticeType:uU.EVENT_EXTERNAL,title:t.name,location:(0,KD.m)(m,!0),locationIcon:(0,r.jsx)($O.Z,{width:fU,height:fU,className:uD().locationIcon}),canListenIn:!1,buttonText:te.Z.Messages.GUILD_EVENT_DETAILS_INFO_TAB_TITLE,onClose:function(){return fw({eventId:null==t?void 0:t.id})},users:null==s?[]:[s],overflowUsers:null==t.user_count||t.user_count<1?null:(0,r.jsxs)("div",{className:uD().pill,children:[(0,r.jsx)(Rg.Z,{width:dU,height:dU,className:uD().pillIcon}),(0,r.jsx)(q.xv,{variant:"text-xs/medium",
color:"header-secondary",className:uD().pillLabel,children:t.user_count})]})}}if(t.entity_type===JO.WX.VOICE&&null!=o){var b=(0,Vb.KS)(o);return{noticeType:uU.EVENT_VOICE,title:t.name,location:o.name,locationIcon:null!=b?(0,r.jsx)(b,{width:fU,height:fU,className:uD().locationIcon}):null,canListenIn:i,buttonText:te.Z.Messages.GUILD_EVENT_JOIN,onClose:function(){return fw({eventId:null==t?void 0:t.id})},users:null==s?[]:[s],overflowUsers:null==t.user_count||t.user_count<1?null:(0,r.jsxs)("div",{className:uD().pill,children:[(0,r.jsx)(Rg.Z,{width:dU,height:dU,className:uD().pillIcon}),(0,r.jsx)(q.xv,{variant:"text-xs/medium",color:"header-secondary",className:uD().pillLabel,children:t.user_count})]})}}}return{noticeType:null}}({guildEvent:c,stageInstance:l,activeChannel:a,canConnect:y,myRole:m,eventCreator:g,speakers:h,listenerCount:E,isEventNoticeHidden:d,isStageNoticeHidden:f,isStudyRoomNotice:i})
}),[c,l,a,y,m,g,h,E,d,f,i]),v=O.noticeType,_=O.title,S=O.location,I=O.locationIcon,T=O.canListenIn,N=O.buttonText,C=O.users,A=O.overflowUsers,P=O.onClose;if(null==v)return null;return(0,r.jsxs)("div",{className:uD().container,children:[null!=P?(0,r.jsx)(q.P3,{onClick:P,className:uD().close,"aria-label":te.Z.Messages.DISMISS,children:(0,r.jsx)(Sb.Z,{className:uD().closeIcon})}):null,(0,r.jsxs)("div",{className:uD().header,children:[(0,r.jsx)(rU,{color:(0,pN.Lq)(M.Ilk.STATUS_GREEN_500),width:fU,height:fU}),(0,r.jsx)(q.xv,{variant:"text-xs/semibold",color:"text-positive",children:te.Z.Messages.LIVE})]}),(C.length>0||null!=A)&&(0,r.jsxs)("div",{className:uD().participants,children:[C.map((function(e){return(0,r.jsx)(jg.ZP,{preload:function(){return(0,Lj.Z)(e.id,e.getAvatarURL(t.id,80),{guildId:t.id})},renderPopout:function(t){return(0,r.jsx)($D.Z,cU(sU({},t),{userId:e.id}))},position:jg.ZP.Positions.RIGHT,children:function(n){return(0,r.jsx)(cg.ZP,cU(sU({},n),{src:e.getAvatarURL(t.id,24),
"aria-label":e.username,size:cg.ZP.Sizes.SIZE_24,className:uD().avatar}))}},e.id)})),A]}),(0,r.jsx)(q.xv,{variant:"text-md/medium",color:"header-primary",className:Xp()(uD().title,uD().live),children:_}),(0,r.jsxs)("div",{className:uD().locationContainer,children:[I,(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"text-muted",className:uD().location,children:S})]}),T||v===uU.EVENT_EXTERNAL?(0,r.jsx)(Q.Co,{size:Q.Co.Sizes.SMALL,color:Q.Co.Colors.GREEN,onClick:function(){if(T){if(null==a||null==a.getGuildId())return;(0,zO.Cq)(a);(0,X.XU)(a.getGuildId(),a.id)}else{if(null==c)return;(0,Er.bO)({eventId:c.id})}},className:uD().button,fullWidth:!0,children:N}):null]})}var hU=n(204369),EU=n(139875),yU=n.n(EU);function mU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bU(e){return function(e){if(Array.isArray(e))return mU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)
}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gU,OU=16,vU=o.memo((function(e){var t=e.heading,n=e.location,o=e.locationIcon,i=e.details,a=e.detailsIcon,s=e.topic,c=e.onClickCloseIcon,l=e.children;return(0,r.jsxs)("div",{className:yU().channelNotice,children:[(0,r.jsxs)("div",{className:yU().textBlock,children:[(0,r.jsx)("div",{className:yU().liveIndicator}),(0,r.jsx)(q.xv,{color:"text-positive",variant:"text-xs/bold",className:yU().liveNowText,children:t}),null!=c&&(0,r.jsx)(q.P3,{onClick:c,className:yU().closeIcon,"aria-label":te.Z.Messages.CLOSE,
children:(0,r.jsx)(Sb.Z,{height:16,width:16})})]}),(0,r.jsx)(q.xv,{color:"header-primary",variant:"text-md/semibold",className:yU().eventName,children:s}),(0,r.jsxs)("div",{className:yU().textBlock,children:[o,(0,r.jsx)(q.xv,{color:"header-secondary",variant:"text-xs/normal",className:yU().channelName,children:n}),null!=i&&null!=a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.xv,{className:yU().dotDivider,color:"header-secondary",variant:"text-xs/normal",children:"•"}),a,(0,r.jsx)(q.xv,{color:"header-secondary",variant:"text-xs/normal",children:i})]})]}),l]})}));function _U(e){var t=e.guildEvent,n=e.channel,o=(0,s.Wu)([zy.ZP],(function(){return zy.ZP.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),i=(0,Vb.KS)(n);return(0,r.jsx)(vU,{onClickCloseIcon:function(){return fw({eventId:null==t?void 0:t.id})},heading:te.Z.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t.name,location:n.name,locationIcon:null!=i?(0,r.jsx)(i,{width:OU,height:OU,className:yU().stageIcon}):null,
children:(0,r.jsx)(CU,{channel:n,speakers:o,voiceType:gU.VOICE})})}function SU(e){var t=e.guildEvent,n=(0,FO.cS)(t);return null==n?null:(0,r.jsx)(vU,{onClickCloseIcon:function(){return fw({eventId:null==t?void 0:t.id})},heading:te.Z.Messages.HAPPENING_NOW,topic:t.name,location:(0,KD.m)(n,!0),locationIcon:(0,r.jsx)($O.Z,{width:OU,height:OU,className:yU().stageIcon}),children:(0,r.jsx)(IU,{guildEvent:t})})}function IU(e){var t=e.guildEvent,n=o.useCallback((function(){(0,Er.bO)({eventId:t.id})}),[t]);return(0,r.jsx)(Q.Co,{fullWidth:!0,className:yU().joinButton,onClick:n,color:Q.Co.Colors.GREEN,size:Q.Co.Sizes.SMALL,children:te.Z.Messages.SEE_DETAIL})}function TU(e){var t=e.channel,n=e.label;return(0,r.jsx)(Q.Co,{fullWidth:!0,className:yU().joinButton,onClick:function(){if(null!=t&&null!=t.getGuildId()){(0,zO.Cq)(t);(0,X.XU)(t.getGuildId(),t.id)}},color:Q.Co.Colors.GREEN,size:Q.Co.Sizes.SMALL,children:n})}function NU(e){var t=e.stageInstance,n=e.channel,o=(0,s.cj)([KO.Z],(function(){
var e=KO.Z.getMutableParticipants(n.id,qO.pV.SPEAKER),t=KO.Z.getParticipantCount(n.id,qO.pV.AUDIENCE);return{speakers:bU(new Set(e.map((function(e){return e.user})))),listenerCount:t}}),[n.id]),i=o.speakers,a=o.listenerCount,c=te.Z.Messages.LISTENING_COUNT.format({count:"".concat(a)});return(0,r.jsx)(vU,{onClickCloseIcon:function(){return fw({stageId:null==t?void 0:t.id})},heading:te.Z.Messages.STAGE_CHANNEL_LIVE_NOW,location:n.name,details:c,detailsIcon:(0,r.jsx)(JD.Z,{width:14,height:14,className:yU().stageIcon}),locationIcon:(0,r.jsx)(oU.Z,{width:OU,height:OU,className:yU().stageIcon}),topic:t.topic,children:(0,r.jsx)(CU,{channel:n,speakers:i,voiceType:gU.STAGE})})}!function(e){e[e.VOICE=1]="VOICE";e[e.STAGE=2]="STAGE";e[e.STUDY_ROOM=3]="STUDY_ROOM"}(gU||(gU={}));function CU(e){var t=e.channel,n=e.speakers,i=e.voiceType,a=t.getGuildId(),c=o.useMemo((function(){return n.slice(0,3)}),[n]),l=(0,s.e7)([En.Z],(function(){return En.Z.can(M.Plq.CONNECT,t)})),u=QD(t.id),f=te.Z.Messages.JOIN
;switch(i){case gU.VOICE:f=te.Z.Messages.JOIN;break;case gU.STAGE:f=te.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON;(null==u?void 0:u.speaker)?f=te.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=u&&(f=te.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);break;case gU.STUDY_ROOM:f=te.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA;break;default:(0,No.vE)(i)}return null==a?null:(0,r.jsxs)(r.Fragment,{children:[c.length>0?(0,r.jsxs)("div",{className:yU().textBlock,children:[(0,r.jsx)(pO.Z,{guildId:a,users:c,showUserPopout:!0,size:pO.u.SIZE_16}),(0,r.jsx)(q.xv,{color:"header-secondary",variant:"text-xs/normal",className:yU().userNames,children:(0,hU.ER)(a,c,null==t?void 0:t.id,n.length)})]}):null,l&&null==u&&(0,r.jsx)(TU,{channel:t,label:f})]})}const AU=o.memo((function(e){var t=e.guild,n=cD(!0).showRedesignedLiveChannelNotice,o=qD(t.id),i=(0,tO.k5)(t.id),a=(0,s.e7)([nw.Z],(function(){return nw.Z.getStageInstanceByChannel(null==o?void 0:o.id)}),[o]),c=(0,s.cj)([pw],(function(){return{
isStageNoticeHidden:pw.isLiveChannelNoticeHidden({stageId:null==a?void 0:a.id}),isEventNoticeHidden:pw.isLiveChannelNoticeHidden({eventId:null==i?void 0:i.id})}}),[a,i]),l=c.isStageNoticeHidden,u=c.isEventNoticeHidden,f=null,d=null!=a&&null!=o&&!l;if(n)return(0,r.jsx)(pU,{guild:t});null==i||u?d&&(f=(0,r.jsx)(NU,{stageInstance:a,channel:o})):i.entity_type===JO.WX.STAGE_INSTANCE&&d?f=(0,r.jsx)(NU,{stageInstance:a,channel:o}):i.entity_type===JO.WX.EXTERNAL?f=(0,r.jsx)(SU,{guildEvent:i}):i.entity_type===JO.WX.VOICE&&null!=o&&(f=(0,r.jsx)(_U,{guildEvent:i,channel:o}));return f}));var PU=n(140561),jU=n.n(PU);function RU(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function xU(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){RU(i,r,o,a,s,"next",e)}function s(e){RU(i,r,o,a,s,"throw",e)}a(void 0)}))}}function MU(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}var wU=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}
i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ZU(e){var t=e.guild,o=e.markAsDismissed;return(0,r.jsx)(OD,{guild:t,onDismissed:o,onClick:function(){(0,W.ZD)(xU((function(){var e,t;return wU(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,553589))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){MU(e,t,n[t])}))}return e}({},e))}]}}))})))},message:te.Z.Messages.HUB_LINK_CHANNEL_NOTICE_BODY,cta:te.Z.Messages.LEARN_MORE,trackingSource:M.PsQ.HUB_LINK_NOTICE,type:M.vID.HUB_LINK,image:jU()})}var LU=n(976518),DU=n.n(LU);const UU=function(e){
var t=e.channel,n=e.guild;return(0,r.jsx)(OD,{guild:n,onDismissed:function(){(0,$f.Kw)($f.v6.HUB_STUDY_ROOM_NOTICE)},onClick:function(){(0,$f.Kw)($f.v6.HUB_STUDY_ROOM_NOTICE);if(null!=t&&null!=t.getGuildId()){(0,zO.Cq)(t);(0,X.XU)(t.getGuildId(),t.id)}},title:te.Z.Messages.HUB_STUDY_ROOM_NOTICE_TITLE,message:te.Z.Messages.HUB_STUDY_ROOM_NOTICE_DESCRIPTION,cta:te.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA,image:DU(),type:M.vID.HUB_STUDY_ROOM})};var kU=n(692657),GU=n.n(kU);const BU=function(e){var t=e.name,n=e.channel,o=(0,s.Wu)([zy.ZP],(function(){return zy.ZP.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),i=(0,Vb.KS)(n);return(0,r.jsx)(vU,{heading:te.Z.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t,location:te.Z.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=i?(0,r.jsx)(i,{width:16,height:16,className:GU().icon}):null,children:(0,r.jsx)(CU,{channel:n,speakers:o,voiceType:gU.STUDY_ROOM})})};var HU=n(495049);function VU(e){var t=e.channel,n=e.guild,o=(0,
s.e7)([$f.qc],(function(){return $f.qc.hasHotspot($f.v6.HUB_STUDY_ROOM_NOTICE)})),i=(0,HU.r)(t.guild_id),a=(0,im.useSpring)({maxHeight:i?0:300,overflow:"hidden",delay:400});return(0,r.jsx)(im.animated.div,{style:a,children:o?(0,r.jsx)(UU,{channel:t,guild:n}):(0,r.jsx)(BU,{name:"📚☕ ".concat(t.name),channel:t})})}const FU=function(e){var t=e.guild,n=(0,s.e7)([hT.ZP],(function(){return hT.ZP.getChannels(t.id)[hT.Zb][0]})),o=(0,s.e7)([En.Z],(function(){return null!=n&&En.Z.can(M.Plq.CONNECT,n.channel)}));return t.hasFeature(M.oNc.HUB)?null==n?null:o?(0,r.jsx)(VU,{channel:n.channel,guild:t}):null:null};var YU=n(323236),WU=n.n(YU);function zU(e){var t=e.guild,n=function(){return yw.Z.dismissNotice(t.id)};return(0,r.jsx)(OD,{guild:t,onDismissed:n,cta:te.Z.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CTA,message:te.Z.Messages.COMMANDS_SCOPE_MIGRATION_ADMIN_NOTICE.format(),type:M.vID.COMMANDS_MIGRATION,image:WU(),onClick:function(){n();yr.Z.open(t.id,M.pNK.INTEGRATIONS)},imageMarginTop:15,
imageMarginX:22})}var KU=n(864244),qU=n.n(KU);const XU=function(e){var t=e.guild,n=o.useCallback((function(){e=t.id,O.Z.dispatch({type:"PUBLIC_UPSELL_NOTICE_DISMISS",guildId:e});var e}),[t.id]);return(0,r.jsx)(OD,{guild:t,onDismissed:n,onClick:function(){return yr.Z.open(t.id,M.pNK.COMMUNITY)},message:te.Z.Messages.NOTICE_ENABLE_PUBLIC_GUILD_UPSELL_MESSAGE,trackingSource:M.PsQ.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:M.vID.PUBLIC_UPSELL,image:qU(),cta:te.Z.Messages.LEARN_MORE})};var QU=n(785538),$U=n.n(QU);function JU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ek(e){ek=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ek(e)}function tk(e,t){return!t||"object"!==rk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nk(e,t){nk=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return nk(e,t)}var rk=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ok(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ek(e);if(t){var o=ek(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tk(this,n)}}var ik=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&nk(e,t)}(n,e);var t=ok(n);function n(){JU(this,n);return t.apply(this,arguments)}n.prototype.render=function(){return(0,r.jsx)(OD,{guild:this.props.guild,onClick:function(){
return h.Z.open(M.oAB.ACCOUNT)},message:te.Z.Messages.TWO_FA_GUILD_MFA_WARNING_MESSAGE_WITH_SPACING.format(),cta:te.Z.Messages.TWO_FA_GUILD_MFA_WARNING_RESOLVE_BUTTON,trackingSource:M.PsQ.GUILD_MFA_WARNING,type:M.vID.MFA_WARNING,image:$U(),imageMarginX:54,undismissable:!0})};return n}(o.PureComponent);const ak=ik;const sk=function(e){var t=e.guild,n=e.markAsDismissed,i=o.useCallback((function(){yr.Z.open(t.id,M.pNK.ONBOARDING);(0,pn.EW)(dn.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE,{dismissAction:mn.L.PRIMARY})}),[t.id]);return(0,r.jsx)(pD,{guild:t,onDismissed:n,onClick:i,title:te.Z.Messages.GUILD_ONBOARDING_CHANNEL_NOTICE_TITLE,message:te.Z.Messages.GUILD_ONBOARDING_CHANNEL_NOTICE_MESSAGE,cta:te.Z.Messages.CHECK_IT_OUT,trackingSource:M.PsQ.GUILD_ONBOARDING_UPSELL_NOTICE,type:M.vID.GUILD_ONBOARDING_UPSELL})};var ck=n(549425),lk=n(947079),uk=n.n(lk);function fk(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function dk(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fk(i,r,o,a,s,"next",e)}function s(e){fk(i,r,o,a,s,"throw",e)}a(void 0)}))}}function pk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hk(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ek(e){Ek=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ek(e)}function yk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){hk(e,t,n[t])}))}return e}function mk(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function bk(e,t){return!t||"object"!==Ok(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gk(e,t){gk=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return gk(e,t)}var Ok=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function vk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ek(e);if(t){var o=Ek(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bk(this,n)}}var _k=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Sk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&gk(e,t)}(o,e);var t=vk(o);function o(){pk(this,o);var e;(e=t.apply(this,arguments)).handleInvite=function(){var t=e.props.guild;(0,W.ZD)(dk((function(){var e,o;return _k(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(15793)]).then(n.bind(n,715793))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,mk(yk({},e),{guild:t,source:M.t4x.INVITE_NOTICE}))}]}}))})))}
;e.handleClose=function(){var t=A.Z.getChannelId();e.props.markAsDismissed();null!=t&&ck.Z.sendBotMessage(t,te.Z.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:te.Z.Messages.INVITE_PEOPLE}))};return e}o.prototype.render=function(){var e="".concat(te.Z.Messages.INVITE_NOTICE_MESSAGE,"\n").concat(te.Z.Messages.INVITE_NOTICE_MESSAGE_PART_2);return(0,r.jsx)(OD,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:te.Z.Messages.INVITE_PEOPLE,trackingSource:M.PsQ.INVITE_NOTICE,type:M.vID.INVITE,image:uk(),imageMarginX:46})};return o}(o.PureComponent);const Ik=Sk;var Tk=n(389515),Nk=n.n(Tk);const Ck=function(e){var t=e.guild,n=o.useCallback((function(){e=t.id,O.Z.dispatch({type:"MAX_MEMBER_COUNT_NOTICE_DISMISS",guildId:e});var e}),[t.id]);return(0,r.jsx)(OD,{guild:t,onDismissed:n,message:te.Z.Messages.NOTICE_CHANNEL_MAX_MEMBERS_CAP_REACHED_MESSAGE.format({maxMemberCount:t.maxMembers,maxMembersUrl:ee.Z.getArticleURL(M.BhN.MAX_MEMBERS)}),
type:M.vID.MAX_MEMBER_COUNT,image:Nk(),imageMarginX:61})};var Ak=n(836042),Pk=n(112886),jk=n(10439),Rk=n.n(jk);const xk=function(e){var t=Ak.$.binds[0].split("+").map((function(e){return null!=am.c[e]?am.c[e]():e})).join(" + ").toUpperCase();return(0,r.jsx)(OD,{guild:e.guild,onDismissed:e.markAsDismissed,onClick:function(){return(0,Pk.$Z)("CHANNEL_NOTICE")},message:te.Z.Messages.QUICKSWITCHER_NOTICE,cta:t,trackingSource:M.PsQ.QUICK_SWITCHER_NOTICE,type:M.vID.QUICKSWITCHER,image:Rk(),imageMarginX:50})};var Mk=n(776319),wk=n(337285),Zk=n.n(wk);function Lk(e){var t=e.guild,n=e.markAsDismissed;return(0,r.jsx)(OD,{guild:t,onDismissed:n,onClick:function(){return(0,Mk.J)((0,ks.wR)(t.id,cO.oC.ROLE_SUBSCRIPTIONS))},message:te.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_MWEB_PURCHASE_DESKTOP_UPSELL_BODY,cta:te.Z.Messages.COPY_LINK,trackingSource:M.PsQ.ROLE_SUBSCRIPTION_MWEB_PURCHASE_NOTICE,type:M.vID.ROLE_SUBSCRIPTION_MWEB_PURCHASE,image:Zk()})}function Dk(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uk(e){Uk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Uk(e)}function kk(e,t){return!t||"object"!==Bk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gk(e,t){Gk=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Gk(e,t)}var Bk=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Hk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Uk(e);if(t){var o=Uk(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return kk(this,n)}}var Vk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Gk(e,t)}(n,e);var t=Hk(n);function n(){Dk(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.syncWith([kt.Z,En.Z],M.dG4)};r.channelNoticePredicate=function(e,t){return Date.now()-t>=M.Hqc&&e.hasFeature(M.oNc.CREATOR_MONETIZABLE)&&e.hasFeature(M.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&(0,Ut.H2)(e)&&(0,Px.LA)(e.id)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);Vk.displayName="RoleSubscriptionMWebPurchaseNoticeStore";const Fk=new Vk(O.Z);var Yk=n(215390);function Wk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zk(e){zk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return zk(e)}function Kk(e,t){return!t||"object"!==Xk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qk(e,t){qk=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return qk(e,t)}var Xk=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Qk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=zk(e);if(t){var o=zk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kk(this,n)}}var $k=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&qk(e,t)}(n,e);var t=Qk(n);function n(){Wk(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(kt.Z);this.syncWith([kt.Z],M.dG4)};r.channelNoticePredicate=function(e,t){return!e.hasFeature(M.oNc.BANNER)&&Date.now()-t>=M.Hqc};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);$k.displayName="GuildBoostingNoticeStore";const Jk=new $k(O.Z);function eG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tG(e){tG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return tG(e)}function nG(e,t){return!t||"object"!==oG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return e}(e):t}function rG(e,t){rG=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return rG(e,t)}var oG=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function iG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=tG(e);if(t){var o=tG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nG(this,n)}}var aG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&rG(e,t)}(n,e);var t=iG(n);function n(){eG(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){
this.waitFor(En.Z);this.syncWith([En.Z],M.dG4)};r.channelNoticePredicate=function(e,t){return Date.now()-t>=M.Hqc&&En.Z.can(M.Plq.MANAGE_GUILD,e)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);aG.displayName="GuildBoostingNoticeStore";const sG=new aG(O.Z);function cG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lG(e){lG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return lG(e)}function uG(e,t){return!t||"object"!==dG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fG(e,t){fG=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fG(e,t)}var dG=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=lG(e);if(t){var o=lG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uG(this,n)}}function hG(){return!0}var EG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fG(e,t)}(n,e);var t=pG(n);function n(){cG(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(En.Z);this.syncWith([En.Z],hG)};r.channelNoticePredicate=function(e){var t=(0,Hj.wC)(e.id),n=e.hasFeature(M.oNc.GUILD_ONBOARDING_EVER_ENABLED);return t&&!n};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);EG.displayName="GuildOnboardingUpsellNoticeStore"
;const yG=new EG(O.Z);function mG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bG(e){bG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return bG(e)}function gG(e,t){return!t||"object"!==vG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function OG(e,t){OG=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return OG(e,t)}var vG=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=bG(e);if(t){var o=bG(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gG(this,n)}}var SG=!1;function IG(e){var t=kt.Z.getGuild(e);if(null==t)return!1;if(!t.hasFeature(M.oNc.HUB))return!1;SG=!0;return!0}function TG(){return!0}var NG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&OG(e,t)}(n,e);var t=_G(n);function n(){mG(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(kt.Z,Jf.Z);this.syncWith([Jf.Z],TG)};r.channelNoticePredicate=function(e){return!!e.hasFeature(M.oNc.LINKED_TO_HUB)&&!SG};r.__getLocalVars=function(){return{isAlreadyInHub:SG}};return n}(s.ZP.Store);NG.displayName="HubLinkNoticeStore";const CG=new NG(O.Z,{CONNECTION_OPEN:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e.guilds[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){
if(IG(o.value.id))return!0}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1},GUILD_CREATE:function(e){return IG(e.guild.id)}});function AG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PG(e){PG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return PG(e)}function jG(e,t){return!t||"object"!==xG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function RG(e,t){RG=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return RG(e,t)}var xG=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function MG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=PG(e);if(t){var o=PG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jG(this,n)}}function wG(){return!0}var ZG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&RG(e,t)}(n,e);var t=MG(n);function n(){AG(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(En.Z);this.syncWith([En.Z],wG)};r.channelNoticePredicate=function(e,t){return Date.now()-t>=M.Hqc&&En.Z.can(M.Plq.ADMINISTRATOR,e)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);ZG.displayName="InviteNoticeStore";const LG=new ZG(O.Z);var DG="lastHiddenChannelNotice",UG=[{type:M.vID.GUILD_BOOSTING,store:sG,
dismissibleContentType:dn.z$.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:M.vID.GUILD_BANNER,store:Jk,dismissibleContentType:dn.z$.CHANNEL_NOTICE_GUILD_BANNER},{type:M.vID.INVITE,store:LG,dismissibleContentType:dn.z$.CHANNEL_NOTICE_INVITE},{type:M.vID.HUB_LINK,store:CG,dismissibleContentType:dn.z$.CHANNEL_NOTICE_HUBLINK},{type:M.vID.QUICKSWITCHER,store:Yk.Z,dismissibleContentType:dn.z$.CHANNEL_NOTICE_QUICKSWITCHER},{type:M.vID.ROLE_SUBSCRIPTION_MWEB_PURCHASE,store:Fk,dismissibleContentType:dn.z$.GUILD_ROLE_SUBSCRIPTION_MWEB_PURCHASE_UPSELL},{type:M.vID.GUILD_ONBOARDING_UPSELL,store:yG,dismissibleContentType:dn.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE},{type:M.vID.CLIPS_EDUCATION,dismissibleContentType:dn.z$.CLIPS_CHANNEL_NOTICE_EDUCATION},{type:M.vID.LINKED_ROLES_ADMIN,dismissibleContentType:dn.z$.LINKED_ROLE_ADMIN_GUILD}],kG=UG.map((function(e){return e.store})).filter(No.lm);function GG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function BG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GG(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HG(e){e.stopPropagation()}function VG(e){
var t,n,i,a=e.guild,c=BG(o.useState(null!==(t=Ne.Z.get(DG))&&void 0!==t?t:0),2),l=c[0],u=c[1],f=(0,s.Wu)(kG,(function(){return UG.filter((function(e){var t=e.store;return null==t?void 0:t.channelNoticePredicate(a,l)})).map((function(e){return e.dismissibleContentType}))}));(n=TD.N.useExperiment({}).enableUpsells,i=Gt.nI(),n&&i)&&f.push(dn.z$.CLIPS_CHANNEL_NOTICE_EDUCATION);return(0,r.jsx)(ZT.Z,{contentTypes:f,groupName:mn.R.CHANNEL_NOTICES,children:function(e){var t=e.visibleContent,n=e.markAsDismissed,o=function(){!function(e){Ne.Z.set(DG,e);u(e)}(Date.now());n()},i=function(){switch(t){case dn.z$.CHANNEL_NOTICE_HUBLINK:return(0,r.jsx)(ZU,{guild:a,markAsDismissed:o});case dn.z$.CHANNEL_NOTICE_INVITE:return(0,r.jsx)(Ik,{guild:a,markAsDismissed:o});case dn.z$.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:return(0,r.jsx)(zD,{guild:a,markAsDismissed:o});case dn.z$.CHANNEL_NOTICE_QUICKSWITCHER:return(0,r.jsx)(xk,{guild:a,markAsDismissed:o});case dn.z$.CHANNEL_NOTICE_GUILD_BANNER:return(0,
r.jsx)(DD,{guild:a,markAsDismissed:o});case dn.z$.GUILD_ROLE_SUBSCRIPTION_MWEB_PURCHASE_UPSELL:return(0,r.jsx)(Lk,{guild:a,markAsDismissed:o});case dn.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE:return(0,r.jsx)(sk,{guild:a,markAsDismissed:o});case dn.z$.CLIPS_CHANNEL_NOTICE_EDUCATION:return(0,r.jsx)(AD,{guild:a,markAsDismissed:n});case dn.z$.LINKED_ROLE_ADMIN_GUILD:return(0,r.jsx)(RD,{guild:a,markAsDismissed:n});default:return null}}();return null==i?null:(0,r.jsx)("div",{onContextMenu:HG,children:i})}})}const FG=function(e){var t=e.guild;switch(lZ(t)){case cZ.ENABLE_PUBLIC_GUILD:return(0,r.jsx)(XU,{guild:t});case cZ.APPLIED_GUILD_BOOST_GRACE_PERIOD:return(0,r.jsx)(wD,{guild:t});case cZ.MAX_MEMBER_COUNT:return(0,r.jsx)(Ck,{guild:t});case cZ.GUILD_LIVE_CHANNEL:return(0,r.jsx)(AU,{guild:t});case cZ.GUILD_MFA_WARNING:return(0,r.jsx)(ak,{guild:t});case cZ.COMMANDS_MIGRATION:return(0,r.jsx)(zU,{guild:t});case cZ.APPLICATION_SUBSCRIPTION_EXPIRATION:return(0,r.jsx)(ID,{guild:t})
;case cZ.HUB_STUDY_ROOM:return(0,r.jsx)(FU,{guild:t})}return Ji.s.isDisallowPopupsSet()?null:(0,r.jsx)(VG,{guild:e.guild})};var YG=n(462179),WG=n.n(YG);function zG(e){var t=e.guild,n=e.setHasSubheader,i=o.useRef(null);o.useLayoutEffect((function(){var e=i.current;null!=e&&n(e.childNodes.length>0)}));return(0,r.jsx)("div",{className:WG().container,ref:i,children:(0,r.jsx)(FG,{guild:t})})}var KG=n(101545),qG=n.n(KG);function XG(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var QG=function(){return(0,r.jsx)("div",{className:qG().spacer})},$G=function(){return(0,r.jsx)("div",{className:qG().category})},JG=function(e){var t=e.width;return(0,r.jsxs)("div",{className:qG().channel,children:[(0,r.jsx)("div",{className:qG().channelIcon}),(0,r.jsx)("div",{className:qG().channelName,style:{width:"".concat(t,"px")}})]})};const eB=function(e){var t=e.withBannerPadding;return(0,r.jsxs)("div",{
className:Xp()(qG().container,XG({},qG().bannerPadding,t)),children:[(0,r.jsx)($G,{}),(0,r.jsx)(JG,{width:100}),(0,r.jsx)(JG,{width:74}),(0,r.jsx)(JG,{width:100}),(0,r.jsx)(JG,{width:70}),(0,r.jsx)(JG,{width:112}),(0,r.jsx)(JG,{width:175}),(0,r.jsx)(QG,{}),(0,r.jsx)($G,{}),(0,r.jsx)(JG,{width:100}),(0,r.jsx)(JG,{width:74}),(0,r.jsx)(JG,{width:100}),(0,r.jsx)(JG,{width:70}),(0,r.jsx)(JG,{width:112}),(0,r.jsx)(JG,{width:56})]})};function tB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rB(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function oB(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rB(i,r,o,a,s,"next",e)}function s(e){rB(i,r,o,a,s,"throw",e)}a(void 0)}))}}function iB(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aB(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sB(e){sB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return sB(e)}function cB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){aB(e,t,n[t])}))}return e}function lB(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)
}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function uB(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function fB(e,t){return!t||"object"!==hB(t)&&"function"!=typeof t?nB(e):t}function dB(e,t){dB=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return dB(e,t)}function pB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hB=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function EB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=sB(e);if(t){var o=sB(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fB(this,n)}}var yB=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},mB=88,bB=1e3,gB="server-settings",OB={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}},vB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&dB(e,t)}(o,e);var t=EB(o);function o(){iB(this,o);var e;(e=t.apply(this,arguments)).historyUnlisten=function(){};e.showTimeout=new Ru.V7;e.state={controller:new im.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:mB,hasGuildSubheader:!1};e.handleHistoryChange=function(t){null!=t.state&&t.state.shouldShowSubscribeTooltip&&e.showTimeout.start(bB,(function(){return e.setState({
shouldShowSubscribeTooltip:!0})}))};e.handleHeaderMenuToggle=function(t){var n=e.props.isHeaderPopoutOpen;t.stopPropagation();(0,dZ.l)(!n);(0,HZ.Kz)(VZ.s.BOOSTING_FLOW);e.closeAllHeaderNotices()};e.handleContextMenu=function(t){var o=e.props.guild;null!=o&&(0,fb.jW)(t,oB((function(){var e,t;return yB(this,(function(i){switch(i.label){case 0:return[4,n.e(560).then(n.bind(n,200560))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,lB(cB({},e),{guild:o}))}]}}))})))};e.handleHeaderContextMenu=function(t){var o=e.props.guild;null!=o&&(0,fb.jW)(t,oB((function(){var e,t;return yB(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(13112),n.e(47018)]).then(n.bind(n,847018))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,lB(cB({},e),{guild:o}))}]}}))})))};e.closeAllHeaderNotices=function(){e.handleCloseSubscribeTooltip();e.handleCloseTemplateDirtyTooltip();e.handleCloseStudentHubPrivacySettingsTooltip()}
;e.handleCloseStudentHubPrivacySettingsTooltip=function(){var t,n=(0,pn.un)(dn.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),r=null===(t=e.props.guild)||void 0===t?void 0:t.hasFeature(M.oNc.HUB);!n&&r&&(0,pn.EW)(dn.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP,{dismissAction:mn.L.AUTO})};e.handleCloseSubscribeTooltip=function(){e.showTimeout.stop();e.state.shouldShowSubscribeTooltip&&e.setState({shouldShowSubscribeTooltip:!1})};e.handleCloseTemplateDirtyTooltip=function(){var t=e.props,n=t.guild,r=t.showGuildTemplateDirtyTooltip;null!=n&&r&&IZ.Z.hideGuildTemplateDirtyTooltip(n.id)};var i=nB(e);e.renderMenuPopout=oB((function(){var e,t;return yB(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(13112),n.e(60020)]).then(n.bind(n,760020))];case 1:e=o.sent(),t=e.default;return[2,function(e){var n=e.closePopout,o=i.props.guild;return null!=o&&(0,r.jsx)(t,{onClose:n,guild:o})}]}}))}));e.renderGuildHeaderUpsellPopout=function(t){
var n=e.props,o=n.showGuildBoostingProgressBarUpsell,i=n.showGuildBoostingProgressBarSizeUpsell,a=n.showRoleSubscriptionUpsell,s=n.showDiscoveryTooltip,c=n.showInviteSplashUpsell,l=n.showIntegrationPermissionTooltip,u=n.showDiscoveryLandingPageSettingsUpsell,f=n.showHubPrivacySettingsTooltip,d=n.showActiveThreadsNotice,p=n.showAntiRaidUpsellNotice,h=n.showMentionRaidLimitUpsell,E=n.shouldRenderAppDirectoryCoachMark,y=n.showVerifiedRolesCoachmark,m=n.showCreatorPromoPageTooltip,b=n.guild,g=n.theme,O=n.hidesAppDirectoryCoachMark,v=n.canManageRoles,_=n.useReducedMotion;if(null==b)return e.renderGuildHeaderDropdownButton(t);var S=[];f&&S.push(dn.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP);d&&S.push(dn.z$.GUILD_HEADER_ACTIVE_THREADS_NOTICE);o&&S.push(dn.z$.GUILD_HEADER_PREMIUM_GUILD_PROGRESS);i&&S.push(dn.z$.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK);a&&S.push(dn.z$.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL);c&&S.push(dn.z$.GUILD_HEADER_INVITE_SPLASH)
;s&&S.push(dn.z$.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP);u&&S.push(dn.z$.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL);l&&S.push(dn.z$.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS);E&&S.push(dn.z$.APP_DIRECTORY_COACH_MARK);y&&S.push(dn.z$.VERIFIED_ROLES_COACH_MARK);m&&S.push(dn.z$.CREATOR_PROMO_PAGE_COACH_MARK);p&&S.push(dn.z$.ANTI_RAID_SAFETY_ALERT_NOTICE);h&&S.push(dn.z$.GUILD_MENTION_RAID_LIMIT);return 0===S.length?e.renderGuildHeaderDropdownButton(t):(0,r.jsx)(iD,{contentTypes:S,theme:g,guild:b,renderGuildHeaderDropdownButton:function(){return e.renderGuildHeaderDropdownButton(t)},hidesAppDirectoryCoachMark:O,canManageRoles:v,useReducedMotion:_})};e.renderGuildHeaderDropdownButton=function(t){var n=e.props,o=n.guild,i=n.shouldShowBoostingHighlight,a=n.isTutorialHighlightDismissed,s=YZ.Z.getCurrentConfig({}).hasTrial,c=FZ.Z.getCurrentConfig({},{disable:!s}).hasTutorial,l=i&&!a,u=c&&!t||null==o;return(0,r.jsx)(zZ.X2,{step:na.dq.BOOSTING,dismissOnUnmount:!1,
preventInternalStepProgression:!0,children:(0,r.jsx)(zZ.WO,{highlightType:zZ.Vm.CUSTOM,substep:na.fJ.BOOSTING_GUILD_MENU_ITEM,suppressTooltip:u,tooltipPosition:Kb.as.RIGHT,tooltipSpacing:16,onNextSubstep:function(){null!=o&&(0,hZ.f)({guildId:o.id,location:{section:M.jXE.GUILD_HEADER_POPOUT}})},shouldFireFlowStartEvent:!0,children:function(e){return(0,r.jsx)("div",{className:Xp()(aB({},FL().dropdownWrapperHighlighted,l)),children:(0,r.jsx)(BM.Z,{open:t,className:FL().dropdownButton,withHighlight:l})})}})})};e.pinBannerOrGuildInfo=function(t){var n=t.scrollTop;e.setAnimatedValue(n)};return e}var i=o.prototype;i.componentDidMount=function(){var e,t=this;this.setAnimatedValue(0);O.Z.subscribe("LAYER_PUSH",this.closeAllHeaderNotices);this.historyUnlisten=os.Z.addRouteChangeListener(this.handleHistoryChange);(null===(e=os.Z.getHistory().location.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(bB,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))
};i.componentWillUnmount=function(){this.showTimeout.stop();this.state.controller.dispose();this.historyUnlisten();O.Z.unsubscribe("LAYER_PUSH",this.closeAllHeaderNotices)};i.getGuildBannerHash=function(){var e=this.props,t=e.guild,n=e.hasChannelNotice;return null==t||n?null:t.banner};i.renderGuildHeaderNotices=function(e){var t=this,n=this.props,o=n.showGuildTemplateDirtyTooltip,i=n.showGuildHeaderTutorial,a=n.anyLayerOpen,s=this.state.shouldShowSubscribeTooltip;return i?(0,r.jsx)("div",{onClick:function(t){return e?null:t.stopPropagation()},children:(0,r.jsx)(qZ.Z,{tutorialId:gB,position:JZ.q_.BOTTOM,inlineSpecs:OB,children:this.renderGuildHeaderDropdownButton(e)})}):o?(0,r.jsx)(Kb.ZP,{forceOpen:!0,color:Kb.FG.BRAND,position:TA.vK.BOTTOM,shouldShow:!e&&!a,text:te.Z.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,"aria-label":te.Z.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,children:function(){return t.renderGuildHeaderDropdownButton(e)}}):a||e?this.renderGuildHeaderDropdownButton(e):s?(0,
r.jsx)(jg.ZP,{renderPopout:function(){return(0,r.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:(0,r.jsx)(QZ.ZP,{header:te.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_HEADER,content:te.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_TEXT,buttonCTA:te.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_CLOSE,onClick:t.handleCloseSubscribeTooltip})})},position:jg.ZP.Positions.BOTTOM,align:jg.ZP.Align.CENTER,animation:jg.ZP.Animation.TRANSLATE,shouldShow:!0,children:function(){return t.renderGuildHeaderDropdownButton(e)}}):this.renderGuildHeaderUpsellPopout(e)};i.renderGuildHeader=function(e){
var t=this,n=this.props,o=n.guild,i=n.isHeaderPopoutOpen,a=n.showGuildHeaderTutorial,s=n.showGuildTemplateDirtyTooltip,c=n.isGuildHeaderDismissibleTooltipShown,l=n.HeaderAnalyticsLocationProvider,u=this.state,f=u.controller,d=u.renderBanner,p=u.bannerVisible,h=u.bannerVisibleHeight,E=u.communityInfoVisible,y=a||s||c,m=YZ.Z.getCurrentConfig({}).hasTrial,b=FZ.Z.getCurrentConfig({},{disable:!m}).hasTutorial;return null==o?null:(0,r.jsx)(l,{children:(0,r.jsx)(jg.Ke,{renderPopout:this.renderMenuPopout,position:jg.ZP.Positions.BOTTOM,align:jg.ZP.Align.CENTER,animation:jg.ZP.Animation.SCALE,shouldShow:i,onRequestClose:function(){b&&(0,pn.EW)(na.dq.BOOSTING);(0,dZ.l)(!1)},children:function(n){n.onClick;var a=uB(n,["onClick"]);return(0,r.jsx)(lL.ZP,lB(cB({guild:o,controller:f,renderBanner:d,hasSubheader:e,bannerVisible:p,communityInfoVisible:E,guildBanner:t.getGuildBannerHash(),onClick:t.handleHeaderMenuToggle,onContextMenu:t.handleHeaderContextMenu,disableBannerAnimation:y,
animationOverlayHeight:h},a),{children:t.renderGuildHeaderNotices(i)}))}})})};i.setAnimatedValue=function(e){var t=this.props.guild,n=null!=this.getGuildBannerHash(),r=null==t?void 0:t.hasCommunityInfoSubheader();null!=t&&(n||r)&&(n?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e))};i.setAnimatedValueForBanner=function(e){var t=this.state,n=t.renderBanner,r=t.communityInfoVisible,o=t.bannerVisible,i=t.bannerVisibleHeight,a=t.controller;(e>=64&&o||e<64&&!o)&&(o=!o);(e>=mB&&!n||e<mB&&n)&&(n=!n);i=Math.max(mB-e,0);r=o;n===this.state.renderBanner&&o===this.state.bannerVisible&&i===this.state.bannerVisibleHeight&&r===this.state.communityInfoVisible||this.setState({renderBanner:n,bannerVisible:o,bannerVisibleHeight:i,communityInfoVisible:r});a.update({value:Math.min(1,Math.max(0,1-e/mB)),immediate:!0}).start()};i.setAnimatedValueForGuildInfo=function(e){var t=this.state,n=t.communityInfoVisible,r=t.controller;(e>=20&&n||e<20&&!n)&&(n=!n)
;n!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:n});r.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()};i.renderChannelList=function(){var e=this.props,t=e.isUnavailable,n=e.guild,o=e.selectedChannel,i=e.enableStudyGroup,a=uB(e,["isUnavailable","guild","selectedChannel","enableStudyGroup"]);if(t||null==n)return(0,r.jsx)(eB,{withBannerPadding:null!=n&&null!=this.getGuildBannerHash()});if(n.hasFeature(M.oNc.HUB)&&!i)return(0,r.jsx)("div",{className:FL().hubContainer,children:(0,r.jsx)(BZ.Z,{guild:n,channel:null!=o?o:hT.ZP.getDefaultChannel(n.id)})});var s=n.id===mZ._?eL.j:eL.E;return(0,r.jsx)(s,lB(cB({guild:n},a),{guildBanner:this.getGuildBannerHash(),hasGuildSubheader:this.state.hasGuildSubheader,onScroll:null==n||null==this.getGuildBannerHash()&&!n.hasCommunityInfoSubheader()?null:this.pinBannerOrGuildInfo}))};i.renderFooter=function(){
var e=this.props,t=e.selectedChannelId,n=e.shouldRenderNitroActivitiesCoachMark,o=e.shouldRenderBashOutCoachMark,i=[];n&&i.push(dn.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2);o&&i.push(dn.z$.BASH_OUT_COACH_MARK);return(0,r.jsx)(ZT.Z,{contentTypes:i,children:function(e){var n=e.visibleContent,o=e.markAsDismissed;switch(n){case dn.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2:return(0,r.jsx)(cL,{channelId:null!=t?t:void 0,markAsDismissed:function(){(0,pn.EW)(dn.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2,{forceTrack:!0,dismissAction:mn.L.DISMISS});i.includes(dn.z$.BASH_OUT_COACH_MARK)&&(0,pn.EW)(dn.z$.BASH_OUT_COACH_MARK,{forceTrack:!0,dismissAction:mn.L.AUTO})},tutorialType:GZ.NITRO});case dn.z$.BASH_OUT_COACH_MARK:return(0,r.jsx)(cL,{channelId:null!=t?t:void 0,markAsDismissed:o,tutorialType:GZ.BASH_OUT});default:return(0,r.jsx)(r.Fragment,{})}}})};i.render=function(){var e=this,t=this.props,n=t.guild,o=t.FooterAnalyticsLocationProvider;return(0,r.jsxs)("nav",{className:FL().container,
onContextMenu:this.handleContextMenu,"aria-label":te.Z.Messages.GUILD_SIDEBAR_A11Y_LABEL.format({guildName:null!=n?n.toString():""}),children:[null!=n&&this.renderGuildHeader(this.state.hasGuildSubheader),null!=n&&(0,r.jsx)(zG,{guild:n,setHasSubheader:function(t){return e.setState({hasGuildSubheader:t})}}),this.renderChannelList(),(0,r.jsx)(o,{children:this.renderFooter()})]})};o.getDerivedStateFromProps=function(e){var t=e.guild,n=e.hasChannelNotice;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null};return o}(o.PureComponent);function _B(e){var t=e.guildId,n=e.hideSelectedChannel,i=e.selectedChannelId,a=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(t)})),c=(0,fZ.Z)(t),l=(0,s.e7)([$Z.Z],(function(){return $Z.Z.getGuildDimensions(t).scrollTo})),u=(0,s.e7)([C.Z],(function(){return C.Z.getChannelId()})),f=pB((0,s.Wu)([En.Z],(function(){return[En.Z.can(M.Plq.MANAGE_GUILD,a),En.Z.can(M.Plq.MANAGE_ROLES,a),En.Z.can(M.Plq.MANAGE_THREADS,a)]
})),3),d=f[0],p=f[1],h=f[2],y=(0,s.e7)([To.Z],(function(){return To.Z.isUnavailable(t)})),m=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),b=(0,s.e7)([Wp.Z],(function(){return Wp.Z.darkSidebar?M.BRd.DARK:Wp.Z.theme})),g=Ew(a).enableStudyGroup,O=HM.s8.useExperiment({},{autoTrackExposure:!0}).enableNitroActivities,v=(0,Jt.ZP)((function(e){return e.currentlyShown.has(dn.z$.NAGBAR_NOTICE_CONNECT_PLAYSTATION)})),_=pB(o.useState(!v),2),S=_[0],N=_[1],A=(0,Hp.Z)(t),P=(0,FM.Z)(vf.Z.GUILD_HEADER).AnalyticsLocationProvider,j=(0,FM.Z)(vf.Z.GUILD_CHANNEL_LIST_FOOTER).AnalyticsLocationProvider;o.useEffect((function(){t!==A&&N(!v)}),[t,A,v]);var R=pB((0,Jt.ZP)((function(e){return[UG.some((function(t){return e.currentlyShown.has(t.dismissibleContentType)})),e.currentlyShownGroup.has(mn.R.GUILD_HEADER_TOOLTIPS)]})),2),x=R[0],w=R[1],Z=null!=lZ(a)||x,L=(0,W.s9)(W.JQ),D=(0,s.e7)([T.Z],(function(){return T.Z.hasLayers()})),U=(0,s.e7)([XZ.Z],(function(){return XZ.Z.shouldShow(gB)
})),k=d&&!1===(null==a?void 0:a.premiumProgressBarEnabled)&&!Ji.s.isDisallowPopupsSet(),G=(0,s.e7)([hn.Z],(function(){return hn.Z.getMemberCount(t)})),B=d&&null!=G&&G>=30&&!1===(null==a?void 0:a.premiumProgressBarEnabled)&&!Ji.s.isDisallowPopupsSet(),H=function(e){var t,n=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(e)})),r=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),o=(null==n?void 0:n.ownerId)===(null==r?void 0:r.id),i=(0,SZ.Sd)();return o&&null!==(t=null==n?void 0:n.hasFeature(M.oNc.COMMUNITY))&&void 0!==t&&t&&i&&!((null==n?void 0:n.hasFeature(M.oNc.CREATOR_MONETIZABLE))||(null==n?void 0:n.hasFeature(M.oNc.CREATOR_MONETIZABLE_PROVISIONAL))||(null==n?void 0:n.hasFeature(M.oNc.CREATOR_MONETIZABLE_DISABLED)))}(t),V=(0,uZ._)(t),F=d&&p,z=!0===(null==a?void 0:a.hasFeature(M.oNc.HUB)),K=d&&!0===(null==a?void 0:a.hasFeature(M.oNc.DISCOVERABLE)),q=(0,JM.Q)(),X=(d||(null==a?void 0:a.premiumTier)===M.Eu4.NONE)&&!Ji.s.isDisallowPopupsSet()&&!q,Q=(0,
s.e7)([kZ,T.Z],(function(){return null!=a&&null!=m&&d&&!T.Z.hasLayers()&&kZ.shouldShowGuildTemplateDirtyTooltip(t)})),$=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(i)})),J=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion})),ee=(0,dZ.y)().isPopoutOpen,te=(0,QP.i8)(t),ne=(0,s.e7)([KZ.Z],(function(){return!ss().isEmpty(KZ.Z.getThreadsForGuild(t))})),re=h&&null!=G&&G>=200&&ne,oe=O&&S;o.useEffect((function(){oe&&Ce.default.track(M.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:dn.z$[dn.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2],guild_id:t})}),[t,oe]);var ie=!0===(null==a?void 0:a.hasFeature(M.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)),ae=(0,Px.vS)(a)&&d&&ie,se=(0,WZ.A)(!0),ce=$M({canManageGuild:d,guildId:t}),le=ce.shouldRenderAppDirectoryCoachMark,ue=ce.hidesAppDirectoryCoachMark,fe=VM.useExperiment({},{autoTrackExposure:!0}).enabled,de=$i.ZP.canUsePremiumActivities(m),pe=O&&S&&fe&&de,he=!1;void 0!==a&&(he=Object.values(a.roles).some((function(e){var t
;return null===(null==e||null===(t=e.tags)||void 0===t?void 0:t.guild_connections)})));var Ee=he||p;o.useEffect((function(){pe&&Ce.default.track(M.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:dn.z$[dn.z$.BASH_OUT_COACH_MARK],guild_id:t})}),[t,pe]);_Z(a);var ye=(0,s.e7)([VZ.Z],(function(){return VZ.Z.hasTooltipBeenDismissed(VZ.s.BOOSTING_FLOW)})),me=(0,pZ.MR)(a),be=(0,pZ.WR)(a);return(0,r.jsx)(vB,{guildId:t,hideSelectedChannel:n,guild:a,scrollToChannel:l,selectedChannelId:n?null:i,selectedChannel:$,selectedVoiceChannelId:u,voiceStates:c,isUnavailable:y,theme:b,user:m,hasChannelNotice:Z,anyLayerOpen:L||D,showGuildBoostingProgressBarUpsell:k,showGuildBoostingProgressBarSizeUpsell:B,showInviteSplashUpsell:X,showDiscoveryLandingPageSettingsUpsell:K,showGuildHeaderTutorial:U,showGuildTemplateDirtyTooltip:Q,showRoleSubscriptionUpsell:H,showDiscoveryTooltip:V,showIntegrationPermissionTooltip:F,showHubPrivacySettingsTooltip:z,showCreatorPromoPageTooltip:ae,showNewUnreadsBar:te,
showActiveThreadsNotice:re,showAntiRaidUpsellNotice:me,showMentionRaidLimitUpsell:be,isHeaderPopoutOpen:ee,enableStudyGroup:g,isGuildHeaderDismissibleTooltipShown:w,canShowCoachMarkAtBottom:S,HeaderAnalyticsLocationProvider:P,FooterAnalyticsLocationProvider:j,shouldRenderNitroActivitiesCoachMark:oe,shouldShowBoostingHighlight:se,shouldRenderAppDirectoryCoachMark:le,hidesAppDirectoryCoachMark:ue,shouldRenderBashOutCoachMark:pe,showVerifiedRolesCoachmark:Ee,canManageRoles:p,useReducedMotion:J,isTutorialHighlightDismissed:ye})}var SB=n(323287),IB=n(142583),TB=n(553589),NB=n(400110),CB=n.n(NB);function AB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}
}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return AB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const jB=function(e){var t=e.guildId,n=e.inviteCode,i=PB(o.useState(VC.hO.INITIAL),2),a=i[0],c=i[1],l=PB(o.useState(null!=n),2),u=l[0],f=l[1];o.useEffect((function(){null!=n&&cr.Z.resolveInvite(n,"Hub").finally((function(){return f(!1)}))}),[n]);var d=(0,s.e7)([IB.Z],(function(){return null!=n?IB.Z.getInvite(n):null})),p=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(t)}));o.useEffect((function(){null!=p&&(0,
X.uL)(M.Z5c.CHANNEL(t))}),[p,t]);var h=o.useCallback((function(e){c((function(t){return Math.max(t,e)}))}),[]),E=(0,jC.gK)();return(0,r.jsx)("div",{className:CB().page,children:(0,r.jsxs)(PC.Z,{embedded:!0,splash:E,waveState:a,showLogo:!1,updateWaveState:h,children:[(0,r.jsx)("div",{className:CB().dragRegion}),(0,r.jsx)("div",{className:CB().contentWrapper,children:!u&&(0,r.jsx)(TB.HubEmailConnectionModalView,{invite:d})})]})})};var RB=n(895721);function xB(e){O.Z.dispatch({type:"APP_VIEW_SET_HOME_LINK",link:e})}var MB=(0,WR.B)({kind:"user",id:"2023-01_clear_all_message_requests",label:"Safety Experience Reject All Message Requests",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function wB(){return MB.useExperiment({},{autoTrackExposure:!0}).enabled}var ZB=n(35197),LB=n(47195),DB=n(776624);function UB(){return(0,s.e7)([LB.Z],(function(){return LB.Z.getSpamChannelsCount()}))}function kB(){var e=(0,DB.q)(),t=o.useRef(e),n=(0,
s.e7)([ZB.Z],(function(){return ZB.Z.isReady()})),r=o.useRef(n);o.useEffect((function(){if(n&&!r.current){r.current=!0;t.current=e}}),[n,e]);return t.current<=1&&1===e}function GB(){var e=UB(),t=o.useRef(e),n=(0,s.e7)([LB.Z],(function(){return LB.Z.isReady()})),r=o.useRef(n);o.useEffect((function(){if(n&&!r.current){r.current=!0;t.current=e}}),[n,e]);return t.current<=1&&1===e}var BB=n(266662),HB=n(27029),VB=n(441640),FB=n(882281),YB=n.n(FB);function WB(e){var t=e.channel,n=e.baseChannelId,i=(0,Yd.ZP)(t),a=kB(),c=GB(),l=(0,s.e7)([ZB.Z],(function(){return ZB.Z.isMessageRequest(t.id)})),u=(0,s.e7)([LB.Z],(function(){return LB.Z.isSpam(t.id)})),f=(0,HB.V)(t.id,t.getRecipientId()),d=o.useCallback((function(){Qf.Z.closeChannelSidebar(zd.uZ);l&&a&&(0,kg.Kh)(t.id);u&&c&&(0,kg.Kh)(t.id)}),[t.id,u,c,l,a]),p=o.useCallback((function(){(0,CA.CF)((0,NA.Yz)(te.Z.Messages.MESSAGE_REQUESTS_SPAM_ERROR_ALERT_TITLE,VB.pC.FAILURE))}),[]),h=(0,BB.m)({onAcceptSuccess:d,onError:p}).markAsNotSpam
;if(null==t||!t.isDM())return null;var E=[(0,r.jsx)(Ib.ZP.Icon,{icon:Sb.Z,tooltip:te.Z.Messages.CLOSE,onClick:function(){return Qf.Z.closeChannelSidebar(n)}},"close")];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ib.ZP,{toolbar:E,"aria-label":te.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:(0,bb.ud)({channel:t,channelName:i,inSidebar:!0})}),u&&(0,r.jsxs)("div",{className:YB().hamBanner,children:[(0,r.jsx)(q.xv,{className:YB().hamBannerText,variant:"text-sm/normal",children:te.Z.Messages.MESSAGE_REQUESTS_CHANNEL_SIDEBAR_HAM_HEADER}),(0,r.jsx)(Q.Co,{className:YB().hamBannerButton,size:Q.Ph.SMALL,onClick:function(){return h(t,f)},children:te.Z.Messages.MESSAGE_REQUESTS_CHANNEL_SIDEBAR_HAM_BUTTON})]}),(0,r.jsx)("div",{className:Nb().chat,children:(0,r.jsx)(db.Z,{channel:t,guild:null,chatInputType:yb.I.SIDEBAR},t.id)})]})}var zB=n(419315),KB=n(324954),qB=n(855209),XB=n(669525),QB=n(170729),$B=n(681888),JB=n(781405);function eH(e){return e.sort((function(e,t){
return nA.default.compare(e.lastMessageId,t.lastMessageId)})).reverse()}var tH=n(246887),nH=n(911249),rH=n(339123),oH=n.n(rH),iH=n(96972),aH=n.n(iH),sH=n(540579),cH=n.n(sH);function lH(e){return e===nH.pS.SPAM?te.Z.Messages.MESSAGE_REQUESTS_SPAM_EMPTY_STATE_BODY:te.Z.Messages.MESSAGE_REQUESTS_EMPTY_STATE_BODY}function uH(e){var t=e.section,n=(0,s.e7)([Wp.Z],(function(){return Wp.Z.theme}));return(0,r.jsxs)(tH.ZP,{theme:n,className:oH().emptyStateContainer,children:[(0,r.jsx)(tH.ZP.Image,{width:415,height:200,lightSrc:cH(),darkSrc:aH()}),(0,r.jsx)(tH.ZP.Text,{note:lH(t)})]})}var fH=n(789358),dH=n.n(fH);function pH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hH(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function EH(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){hH(i,r,o,a,s,"next",e)}function s(e){
hH(i,r,o,a,s,"throw",e)}a(void 0)}))}}function yH(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yH(e,t,n[t])}))}return e}function bH(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function gH(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pH(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var OH=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const vH=function(e){
var t=e.children,i=e.user,a=e.channel,s=e.onClick,c=e.isFocused,l=e.isActive,u=e.onOtherHover,f=e.className,d=gH(o.useState(!1),2),p=d[0],h=d[1],E=gH(o.useState(!1),2),y=E[0],m=E[1],b=function(){h(!0);!c||l||y||null==u||u()},g=function(){h(!1)};return(0,r.jsx)(rb.mh,{id:a.id,children:function(e){return(0,r.jsx)(nb.tE,{offset:{left:-8,right:-8},children:(0,r.jsx)(Di.Z.div,bH(mH({className:Xp()(dH().messageRequestItem,f,yH({},dH().active,l||y)),onContextMenu:function(e){return function(e,t){if(null!=t){m(!0);(0,fb.jW)(e,EH((function(){var e,o;return OH(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,bH(mH({},e),{user:t}))}]}}))})),{onClose:function(){m(!1)}})}}(e,i)},onMouseEnter:b,onMouseLeave:g,onClick:null!=s?s:void 0,style:{LIST_ROW_HEIGHT:nH.WN,opacity:1}},e),{children:t(p||l||y)}))})}})}
;var _H=n(895076),SH=n(125628),IH=n(437803),TH=n(283369),NH=n(10559);function CH(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function AH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){CH(e,t,n[t])}))}return e}function PH(e){var t=e.lastMessageId,n=e.message;return e.loaded&&null!=n?nA.default.extractTimestamp(n.id):null!=t?nA.default.extractTimestamp(t):null}var jH=n(382394),RH=n(978571),xH=n(631512),MH=n(352297),wH=n(948387),ZH=n.n(wH);function LH(e){var t=e.channel,n=(0,NH.a)(t),i=n.loaded,a=n.error,c=n.message,l=(0,s.e7)([ps.Z],(function(){return null!=c&&ps.Z.isBlocked(c.author.id)}),[c]),u=(0,s.e7)([En.Z],(function(){return En.Z.can(M.Plq.MANAGE_MESSAGES,t)
})),f=ft.cC.useSetting(),d=o.useMemo((function(){return null!=(null==c?void 0:c.content)&&""!==c.content?(0,RH.ZP)(c,{formatInline:!0,noStyleAndInteraction:!0}):{content:null}}),[c]).content,p=null;if(a)p=(0,r.jsx)(q.xv,{className:ZH().messageReplacement,variant:"text-sm/normal",color:"text-muted",children:te.Z.Messages.MESSAGE_REQUESTS_ERROR_LOADING_PREVIEW});else if(i)if(null!=c&&l)p=(0,r.jsx)(q.xv,{className:ZH().messageReplacement,variant:"text-sm/normal",color:"text-muted",children:te.Z.Messages.MESSAGE_REQUESTS_BLOCKED_MESSAGE});else if(null!=c){var h=(0,MH.f)(c,d,l,Xp()(ZH().messageContent,gR().inlineFormat,gR().smallFontSize),ZH().messageContentIcon),E=h.contentPlaceholder,y=h.renderedContent;p=null!=y?(0,r.jsx)(q.xv,{variant:"text-sm/normal",color:"text-muted",className:ZH().messageContent,children:y}):(0,r.jsx)(q.xv,{tag:"span",variant:"text-sm/normal",color:"text-muted",className:ZH().messageReplacement,children:E})}else p=(0,r.jsx)(q.xv,{className:ZH().messageReplacement,
variant:"text-sm/normal",color:"text-muted",children:te.Z.Messages.MESSAGE_REQUESTS_DELETED_MESSAGE});else p=null;return(0,r.jsx)(xH.Z.Provider,{value:(0,jH.Z)(f,u),children:(0,r.jsx)(q.Rn,{className:ZH().messageFocusBlock,children:p})})}const DH=o.memo(LH);var UH=n(203355),kH=n.n(UH),GH=vs.default.getEnableHardwareAcceleration()?cg.Xo:cg.ZP;function BH(e){var t=e.channel,n=e.otherUser,o=e.active,i=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion})),a=(0,s.e7)([ps.Z],(function(){return null==n?null:ps.Z.getNickname(n.id)})),c=(0,Mj.U)().canUseAvatarDecorations,l=!i&&o,u=function(e){var t=(0,NH.a)(e),n=PH(AH({lastMessageId:(0,s.e7)([TH.ZP],(function(){return TH.ZP.lastMessageId(e.id)}))},t));return null==n?"":(0,IH.Ye)(n)}(t),f=c?(0,qs.NZ)({userId:n.id,avatarDecoration:n.avatarDecoration,size:(0,wj.y)(cg.u8.SIZE_40),canAnimate:l}):null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(GH,{className:kH().avatar,src:(0,SH.x)(t,40,l),avatarDecoration:f,size:cg.ZP.Sizes.SIZE_40,
"aria-label":n.username}),(0,r.jsxs)("div",{className:kH().userPreview,children:[(0,r.jsxs)("div",{className:kH().userContainerWithPreview,children:[(0,r.jsx)(_H.Z,{nick:a,user:n,className:kH().tagContainer,usernameClass:kH().username,discriminatorClass:kH().discriminator}),(0,r.jsx)(q.xv,{className:kH().timestampWithPreview,color:"text-muted",variant:"text-xs/normal",children:u})]}),(0,r.jsx)("div",{className:kH().messagePreview,children:(0,r.jsx)(DH,{channel:t})})]})]})}var HH=n(705825),VH=n.n(HH);function FH(e){var t=e.active,n=e.user,i=e.channel,a=kB(),s=o.useCallback((function(){(0,CA.CF)((0,NA.Yz)(te.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,NA.pC.FAILURE))}),[]),c=o.useCallback((function(){Qf.Z.closeChannelSidebar(zd.uZ)}),[]),l=o.useCallback((function(){Qf.Z.closeChannelSidebar(zd.uZ);a&&(0,kg.Kh)(i.id)}),[i.id,a]),u=(0,BB.m)({user:n,onAcceptSuccess:l,onRejectSuccess:c,onError:s
}),f=u.acceptMessageRequest,d=u.rejectMessageRequest,p=u.isAcceptLoading,h=u.isRejectLoading,E=u.isUserProfileLoading,y=u.isOptimisticAccepted,m=u.isOptimisticRejected,b=p||h||E||(y||m);return(0,r.jsxs)("div",{className:VH().container,children:[(0,r.jsx)(BH,{channel:i,otherUser:n,active:t}),(0,r.jsxs)("div",{className:VH().actions,children:[(0,r.jsx)(Q.Co,{className:VH().button,color:Q.Tt.PRIMARY,size:Q.Co.Sizes.SMALL,onClick:function(e){e.stopPropagation();d(i.id)},disabled:b,submitting:h||m,children:te.Z.Messages.MESSAGE_REQUEST_IGNORE}),(0,r.jsx)(Q.Co,{className:VH().button,color:Q.Tt.BRAND,size:Q.Co.Sizes.SMALL,onClick:function(e){e.stopPropagation();f(i.id)},disabled:b,submitting:p||E||y,children:te.Z.Messages.MESSAGE_REQUEST_ACCEPT})]})]})}function YH(e){var t=e.className,n=e.channel,o=e.user,i=e.hasSingleMessageRequest,a=(0,JB._)().channelId;return(0,r.jsx)(vH,{className:t,isFocused:a===n.id,channel:n,user:o,onClick:function(e){e.stopPropagation()
;Qf.Z.openPrivateChannelAsSidebar({channelId:n.id,baseChannelId:zd.uZ,hasSingleMessageRequest:i});setTimeout((function(){Ul.S.dispatch(M.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:n.id})}),0)},children:function(e){return(0,r.jsx)(FH,{active:e,user:o,channel:n})}})}var WH=n(905339),zH=n(515554),KH=n.n(zH);function qH(e){var t=e.active,n=e.user,i=e.channel,a=GB(),s=o.useCallback((function(){(0,CA.CF)((0,NA.Yz)(te.Z.Messages.MESSAGE_REQUESTS_SPAM_ERROR_ALERT_TITLE,NA.pC.FAILURE));zB.Z.increment({name:RB.V.SPAM_MESSAGE_REQUEST_ERROR_VIEW})}),[]),c=o.useCallback((function(){Qf.Z.closeChannelSidebar(zd.uZ)}),[]),l=o.useCallback((function(){Qf.Z.closeChannelSidebar(zd.uZ);a&&(0,kg.Kh)(i.id)}),[i.id,a]),u=(0,BB.m)({user:n,onAcceptSuccess:l,onRejectSuccess:c,onError:s}),f=u.acceptMessageRequest,d=u.isAcceptLoading,p=u.isUserProfileLoading,h=u.isOptimisticAccepted,E=d||p,y=E||h;return(0,r.jsxs)("div",{className:KH().container,children:[(0,r.jsx)(BH,{otherUser:n,channel:i,active:t}),(0,
r.jsxs)("div",{className:KH().actions,children:[(0,r.jsx)(Q.Co,{className:KH().button,color:Q.Tt.PRIMARY,size:Q.Co.Sizes.SMALL,onClick:function(e){f(i.id);e.stopPropagation()},disabled:y,submitting:E,children:te.Z.Messages.MESSAGE_REQUESTS_SPAM_ACCEPT}),(0,r.jsx)(WH.Z,{className:KH().button,channel:i,buttonSize:Q.Co.Sizes.SMALL})]})]})}function XH(e){var t=e.className,n=e.channel,o=e.user,i=e.hasSingleMessageRequest;return(0,r.jsx)(vH,{className:t,isFocused:!1,channel:n,user:o,onClick:function(e){e.stopPropagation();Qf.Z.openPrivateChannelAsSidebar({channelId:n.id,baseChannelId:zd.uZ,hasSingleMessageRequest:i});setTimeout((function(){Ul.S.dispatch(M.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:n.id})}),0)},children:function(e){return(0,r.jsx)(qH,{active:e,user:o,channel:n})}})}var QH=n(829374),$H=n.n(QH);function JH(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function eV(e,t){if(null==e)return{};var n,r,o=function(e,t){
if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function tV(){var e=o.useRef(null),t=function(){var e=(0,s.e7)([I.Z],(function(){return I.Z.getPrivateChannelsVersion()})),t=(0,s.Wu)([I.Z,LB.Z],(function(){var e=I.Z.getMutablePrivateChannels();return eH(Array.from(LB.Z.getSpamChannelIds()).map((function(t){return e[t]})).filter((function(e){return null!=e})))}),[e]),n=(0,s.cj)([Y.default],(function(){var e={};t.forEach((function(t){var n=Y.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}));return e}),[t]);return o.useMemo((function(){return t.map((function(e){return{channel:e,user:n[e.id]}}))}),[t,n])}(),n=UB(),i=GB(),a=wB(),c=(0,vA.Z)("message-requests-spam-list"),l=(0,JB._)().channelId,u=o.useCallback((function(){(0,
CA.CF)((0,NA.Yz)(te.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,NA.pC.FAILURE))}),[]),f=(0,BB.m)({onError:u}).rejectAll,d=o.useCallback((function(){var e=t.map((function(e){return e.channel.id}));f(e)}),[t,f]);o.useEffect((function(){Ce.default.track(M.rMx.SPAM_MESSAGE_REQUESTS_VIEWED,{num_spam_message_requests:n});zB.Z.increment({name:RB.V.SPAM_MESSAGE_REQUEST_VIEW})}),[]);var p=o.useCallback((function(e){var n,o,a,s=e.row,c=t[s],u=null===(n=t[s+1])||void 0===n||null===(o=n.channel)||void 0===o?void 0:o.id,f=c.channel.id,d=null!=l&&l===f,p=null!=l&&l===u;return(0,r.jsx)(XH,{className:Xp()((a={},JH(a,$H().selected,d),JH(a,$H().siblingSelected,p),a)),channel:c.channel,user:c.user,hasSingleMessageRequest:i},f)}),[t,i,l]),h=o.useCallback((function(){return(0,r.jsxs)(XB.Z,{className:$H().sectionTitle,children:[te.Z.Messages.MESSAGE_REQUESTS_SPAM_HEADER.format({count:n}),a&&n>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.xv,{className:$H().titleDivider,variant:"eyebrow",
color:"header-secondary",tag:"span",children:"•"}),(0,r.jsx)(Q.Co,{onClick:d,look:Q.iL.LINK,color:Q.Tt.LINK,size:Q.Ph.SMALL,className:$H().clearAllButton,"aria-label":te.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL,children:te.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL})]}):null]},"message-requests-spam-title")}),[n,d,a]);return 0===t.length?(0,r.jsx)(uH,{section:nH.pS.SPAM}):(0,r.jsx)(rb.bG,{navigator:c,children:(0,r.jsx)(rb.SJ,{children:function(n){var o=n.ref,i=n.role,a=eV(n,["ref","role"]);return(0,r.jsx)(IA.ZP,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){JH(e,t,n[t])}))}return e}({className:$H().list,innerRole:i,innerAriaLabel:te.Z.Messages.MESSAGE_REQUESTS,ref:function(t){e.current=t;var n
;o.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:nH.oi,rowHeight:nH.WN,renderSection:h,renderRow:p,sections:[t.length],chunkSize:30,fade:!0},a),"message-requests-spam-list")}})})}var nV=n(928064),rV=n.n(nV);function oV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iV(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function aV(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function sV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cV(){var e=o.useRef(null),t=(0,DB.q)(),n=function(){var e=(0,s.e7)([I.Z],(function(){return I.Z.getPrivateChannelsVersion()})),t=(0,s.Wu)([I.Z,ZB.Z],(function(){var e=I.Z.getMutablePrivateChannels()
;return eH(Array.from(ZB.Z.getMessageRequestChannelIds()).map((function(t){return e[t]})).filter((function(e){return null!=e})))}),[e]),n=(0,s.cj)([Y.default],(function(){var e={};t.forEach((function(t){var n=Y.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}));return e}),[t]);return o.useMemo((function(){return t.map((function(e){return{channel:e,user:n[e.id]}}))}),[t,n])}(),i=kB(),a=wB(),c=o.useCallback((function(){(0,CA.CF)((0,NA.Yz)(te.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,NA.pC.FAILURE))}),[]),l=(0,BB.m)({onError:c}).rejectAll,u=(0,vA.Z)("message-requests-list"),f=(0,JB._)().channelId,d=o.useCallback((function(){var e=n.map((function(e){return e.channel.id}));l(e)}),[n,l]),p=o.useCallback((function(e){var t,o,a,s=e.row,c=n[s],l=null===(t=n[s+1])||void 0===t||null===(o=t.channel)||void 0===o?void 0:o.id,u=c.channel.id,d=null!=f&&f===u,p=null!=f&&f===l;return(0,r.jsx)(YH,{className:Xp()((a={},iV(a,rV().selected,d),iV(a,rV().siblingSelected,p),a)),
channel:c.channel,user:c.user,hasSingleMessageRequest:i},u)}),[i,n,f]),h=o.useCallback((function(){return(0,r.jsxs)(XB.Z,{className:rV().sectionTitle,children:[t>0?te.Z.Messages.MESSAGE_REQUESTS_PAGE_TITLE_WITH_COUNT.format({count:t}):te.Z.Messages.MESSAGE_REQUESTS_PAGE_TITLE,a&&t>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.xv,{className:rV().titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:"•"}),(0,r.jsx)(Q.Co,{onClick:d,look:Q.iL.LINK,color:Q.Tt.LINK,size:Q.Ph.SMALL,className:rV().clearAllButton,"aria-label":te.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL,children:te.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL})]}):null]},"title")}),[t,d,a]);n.length!==t&&zB.Z.increment({name:RB.V.MESSAGE_REQUEST_COUNT_DRIFT});return 0===n.length?(0,r.jsx)(uH,{section:nH.pS.REQUESTS}):(0,r.jsx)(rb.bG,{navigator:u,children:(0,r.jsx)(rb.SJ,{children:function(t){var o=t.ref,i=t.role,a=aV(t,["ref","role"]);return(0,r.jsx)(IA.ZP,function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){iV(e,t,n[t])}))}return e}({className:rV().list,innerRole:i,innerAriaLabel:te.Z.Messages.MESSAGE_REQUESTS,ref:function(t){e.current=t;var n;o.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:nH.oi,rowHeight:nH.WN,renderSection:h,renderRow:p,sections:[n.length],chunkSize:30,fade:!0},a),"message-requests-list")}})})}function lV(e){var t=e.pageWidth,n=e.onSidebarResize,o=(0,s.e7)([zd.ZP],(function(){return zd.ZP.getSidebarState(zd.uZ)})),i=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(null==o?void 0:o.channelId)}));if(null==o||o.type!==Bg.t.VIEW_MESSAGE_REQUEST||null==i||!i.isPrivate())return null;var a=t-M.R7I;return(0,r.jsx)(ob.Z,{
sidebarType:ob.y.MessageRequestSidebar,maxWidth:a,onWidthChange:n,children:(0,r.jsx)(WB,{channel:i,baseChannelId:zd.uZ})})}var uV=function(e){var t=e.markAsDismissed;return(0,r.jsx)(QZ.ZP,{header:te.Z.Messages.MESSAGE_REQUESTS_COACHMARK_TITLE,content:te.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONTENT_TEENS,buttonCTA:te.Z.Messages.MESSAGE_REQUESTS_COACHMARK_DISMISS,className:rV().messageRequestCoachmark,onClick:t,markAsDismissed:t,caretPosition:QZ.DF.TOP_CENTER,headerClassName:rV().header})},fV=function(e){var t=(0,$B.Z)(),n=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion}));o.useEffect((function(){(0,pn.kk)(dn.z$.MESSAGE_REQUEST_SETTINGS_COACH_MARK)}),[]);return(0,r.jsx)(ZT.Z,{contentTypes:[dn.z$.MESSAGE_REQUEST_SETTINGS_COACH_MARK],children:function(o){var i=o.visibleContent,a=o.markAsDismissed;return i===dn.z$.MESSAGE_REQUEST_SETTINGS_COACH_MARK?(0,r.jsx)(jg.ZP,{renderPopout:function(){return t?(0,r.jsx)(uV,{markAsDismissed:a}):(0,r.jsx)(QZ.ZP,{
header:te.Z.Messages.MESSAGE_REQUESTS_COACHMARK_TITLE,content:te.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONTENT,buttonCTA:te.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONFIRM,secondaryButtonCTA:te.Z.Messages.MESSAGE_REQUESTS_COACHMARK_DISMISS,className:rV().messageRequestCoachmark,onClick:function(e){e.stopPropagation();(0,X.uL)(M.Z5c.SETTINGS("privacy-and-safety"))},markAsDismissed:a,caretPosition:QZ.DF.TOP_CENTER,headerClassName:rV().header})},position:jg.ZP.Positions.BOTTOM,align:jg.ZP.Align.CENTER,animation:n?jg.ZP.Animation.NONE:jg.ZP.Animation.TRANSLATE,shouldShow:!(T.Z.hasLayers()||(0,W.$s)()),spacing:16,children:function(){return e.children}}):e.children}})};function dV(e){return e.section===nH.pS.SPAM?(0,r.jsx)(tV,{}):(0,r.jsx)(cV,{})}var pV=(0,ab.Z)((function(e){var t=e.width,n=(0,DB.q)();o.useEffect((function(){xB(M.Z5c.MESSAGE_REQUESTS);(0,KB.e)("message-requests");Ce.default.track(M.rMx.MESSAGE_REQUESTS_VIEWED,{num_message_requests:n});zB.Z.increment({
name:RB.V.MESSAGE_REQUEST_VIEW})}),[]);var i,a=(0,s.e7)([Wp.Z],(function(){return Wp.Z.theme})),c=UB(),l=sV(o.useState(!1),2),u=l[0],f=l[1],d=(0,s.e7)([zd.ZP,ZB.Z,LB.Z],(function(){var e=zd.ZP.getSidebarState(zd.uZ);return null!=e&&e.type===Bg.t.VIEW_MESSAGE_REQUEST&&(ZB.Z.isMessageRequest(e.channelId)||LB.Z.isSpam(e.channelId))})),p=sV(o.useState(nH.pS.REQUESTS),2),h=p[0],E=p[1];(0,ym.Tt)({location:te.Z.Messages.MESSAGE_REQUESTS});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:Xp()(EC().chat,rV().container,(i={},iV(i,EC().threadSidebarOpen,d),iV(i,EC().threadSidebarFloating,d&&u),i)),children:[(0,r.jsxs)(Ug.Z,{className:(0,QB.Q)(a),toolbar:!0,children:[(0,r.jsx)(Ug.Z.Icon,{icon:qB.Z,"aria-hidden":!0}),(0,r.jsx)(fV,{children:(0,r.jsx)(Ug.Z.Title,{children:te.Z.Messages.MESSAGE_REQUESTS})}),(0,r.jsx)(Ug.Z.Divider,{}),(0,r.jsxs)(yA.ZP,{"aria-label":te.Z.Messages.MESSAGE_REQUESTS,selectedItem:h,type:yA.Yk.TOP_PILL,onItemSelect:function(e){E(e)},className:rV().tabBar,
children:[(0,r.jsx)(yA.ck,{id:nH.pS.REQUESTS,className:rV().item,children:te.Z.Messages.MESSAGE_REQUESTS_REQUESTS_TAB_TITLE}),(0,r.jsx)(yA.ck,{id:nH.pS.SPAM,className:rV().item,children:0===c?te.Z.Messages.MESSAGE_REQUESTS_SPAM_TAB_TITLE:te.Z.Messages.MESSAGE_REQUESTS_SPAM_TAB_TITLE_WITH_COUNT.format({count:c})})]})]}),(0,r.jsx)("div",{className:EC().content,children:(0,r.jsx)(dV,{section:h})})]}),d&&(0,r.jsx)(lV,{pageWidth:t,onSidebarResize:function(e,t){f(t)}})]})}));const hV=pV;var EV=n(723714);function yV(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}var mV=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const bV=function(){return(e=function(){var e;return mV(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,_s.Z.get(M.ANM.FRIEND_SUGGESTIONS)];case 1:e=t.sent();O.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_SUCCESS",suggestions:e.body});return[3,3];case 2:t.sent()
;O.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_FAILURE"});return[3,3];case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){yV(i,r,o,a,s,"next",e)}function s(e){yV(i,r,o,a,s,"throw",e)}a(void 0)}))})();var e},gV=function(e){_s.Z.delete(M.ANM.FRIEND_SUGGESTION(e))};function OV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _V(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function SV(e){SV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return SV(e)}function IV(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function TV(e,t){return!t||"object"!==AV(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NV(e,t){NV=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return NV(e,t)}function CV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return OV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var AV=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function PV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=SV(e);if(t){var o=SV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TV(this,n)}}
var jV={},RV=0,xV=!1,MV=!1;function wV(e){var t;return{key:e.suggested_user.id,name:null===(t=ss().first(e.reasons))||void 0===t?void 0:t.name,user:new JC.Z(e.suggested_user)}}var ZV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&NV(e,t)}(n,e);var t=PV(n);function n(){vV(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Y.default)};r.getSuggestionCount=function(){return RV};r.getSuggestions=function(){return Object.entries(jV).map((function(e){var t=CV(e,2);t[0];return t[1]}))};r.getSuggestion=function(e){return jV[e]};r.__getLocalVars=function(){return{suggestions:jV,suggestionCount:RV,fetching:xV,shouldFetch:MV}};return n}(s.ZP.Store);ZV.displayName="FriendSuggestionStore";const LV=new ZV(O.Z,{CONNECTION_OPEN:function(e){jV={}
;if((RV=e.friendSuggestionCount)>0){MV=!0;!function(){if(!xV&&MV){xV=!0;MV=!1;bV()}}()}},FRIEND_SUGGESTION_CREATE:function(e){var t=wV(e.suggestion);if(null!=jV[t.key])return!1;RV++;jV=IV(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_V(e,t,n[t])}))}return e}({},jV),_V({},t.key,t))},FRIEND_SUGGESTION_DELETE:function(e){RV=Math.max(0,--RV);delete jV[e.suggestedUserId]},LOAD_FRIEND_SUGGESTIONS_SUCCESS:function(e){xV=!1;jV=ss().chain(e.suggestions).map(wV).keyBy((function(e){return e.key})).value();RV=ss().keys(jV).length},LOAD_FRIEND_SUGGESTIONS_FAILURE:function(){xV=!1;jV={}}});var DV=n(861925),UV=n(239396),kV=n(437454),GV=n(897108),BV=n(95898),HV=n.n(BV);function VV(e){var t=e.className,n=e.markAsDismissed;return(0,r.jsxs)(GV.Z,{
className:Xp()(HV().card,t),children:[(0,r.jsx)(q.X6,{variant:"heading-md/semibold",className:HV().header,children:te.Z.Messages.NOW_PLAYING_GDPR_HEADER}),(0,r.jsx)(q.xv,{variant:"text-sm/normal",children:te.Z.Messages.NOW_PLAYING_GDPR_BODY.format({onPrivacyClick:function(){return h.Z.open(M.oAB.PRIVACY_AND_SAFETY)}})}),(0,r.jsxs)("div",{className:HV().buttonContainer,children:[(0,r.jsx)(Q.Co,{size:Q.Co.Sizes.SMALL,onClick:function(){return(0,kV.g)([M.pjP.PERSONALIZATION],[])},children:te.Z.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES}),(0,r.jsx)(Q.Co,{color:Q.Co.Colors.PRIMARY,size:Q.Co.Sizes.SMALL,onClick:function(){return n(mn.L.DISMISS)},look:Q.Co.Looks.LINK,children:te.Z.Messages.NO_THANKS})]})]})}var FV=n(692410),YV=n(662322),WV=n(390212),zV=n(896348),KV=n(909890),qV=n(572561),XV=n(780377),QV=n(152250),$V=n(27034),JV=n(824044);function eF(e){var t,n,i=e.activity,a=(null!==(t=(0,JV.rq)(i))&&void 0!==t?t:{}).channelId,s=(0,DT.ZP)([nw.Z],(function(){
return nw.Z.getStageInstanceByChannel(a)}),[a]),c=o.useRef(null),l=o.useCallback((function(){var e=I.Z.getChannel(a);null!=e&&zO.Cq(e)}),[a]),u=null!==(n=null==s?void 0:s.topic)&&void 0!==n?n:i.name,f=te.Z.Messages.STAGE_CHANNEL_ACTIVITY_FEED_JOIN.format({channel:u});return(0,r.jsx)("div",{ref:c,children:(0,r.jsx)(q.P3,{onClick:l,focusProps:{ringTarget:c},children:(0,r.jsx)(q.X6,{variant:"heading-sm/semibold",children:f})})})}var tF=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.body=eF}var t=e.prototype;t.shouldShow=function(e){return(0,JV.JE)(e)};t.createHeader=function(e){return{subtitle:te.Z.Messages.STAGE_CHANNEL_ACTIVITY_FEED_DEFAULT,icon:null}};return e}(),nF=n(385202),rF=n(885836),oF=n.n(rF);var iF=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},nF.gD,new tF);function aF(e){var t,n=e.application_id;if(null!=n){var r=iF[n]
;return null!=r&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))?r.createHeader(e):void 0}}function sF(e){var t,n=e.application_id;if(null!=n){var o=iF[n];if(null!=(null==o?void 0:o.body)&&!1!==(null===(t=o.shouldShow)||void 0===t?void 0:t.call(o,e))){var i=o.body;return(0,r.jsx)("section",{className:oF().section,children:(0,r.jsx)(i,{activity:e})},"delegate-".concat(n))}}}var cF=n(372196),lF=n(935676),uF=n(906369),fF=n(489571),dF=n(937026);function pF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function yF(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mF(e){
mF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return mF(e)}function bF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yF(e,t,n[t])}))}return e}function gF(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function OF(e,t){return!t||"object"!==SF(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vF(e,t){vF=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return vF(e,t)}function _F(e){return function(e){if(Array.isArray(e))return pF(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var SF=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function IF(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=mF(e);if(t){var o=mF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return OF(this,n)}}var TF="party-",NF="channel-",CF="user-",AF=!1,PF=!1,jF=[],RF=[],xF={},MF={},wF=new Set,ZF=new Set;function LF(){var e=ps.Z.getFriendIDs();return FV.Z.hasConsented(M.pjP.PERSONALIZATION)?new Set(_F(hs.Z.getUserAffinitiesUserIds()).concat(_F(e))):new Set(e)}function DF(e){return ds.Z.findActivity(e,(function(e){return e.type!==M.IIU.CUSTOM_STATUS}))}function UF(e){null==xF[e]&&(xF=gF(bF({},xF),yF({},e,new uF.Z({name:e}))));return xF[e]}function kF(e){null==MF[e]&&(MF=gF(bF({},MF),yF({},e,new lF.Z({url:e}))));return MF[e]}function GF(e){ZF.has(e)||wF.add(e)}function BF(e){if((0,
qV.Z)(e))return cF.r9;var t=null!=e.application_id?wn.Z.getGame(e.application_id):null;if(null!=t)return t;if((0,XV.Z)(e))return UF(e.name);if((0,QV.Z)(e)&&null!=e.url)return kF(e.url);null!=e.application_id&&GF(e.application_id);return t}function HF(e){var t=j.Z.getVoiceStateForUser(e);return null!=(null==t?void 0:t.channelId)&&En.Z.canWithPartialContext(M.Plq.VIEW_CHANNEL,{channelId:t.channelId})?t.channelId:null}function VF(e,t){return ss()(e).orderBy([t,function(e){return e.game.name}],["desc","asc"])}function FF(e){return ps.Z.isFriend(e.id)}function YF(e,t,n){var r,o=t.map((function(e){return e.id})),i=t.filter((function(t){return e.has(t.id)})),a=!1,s=[],c=new Set,l=!1,u=[],f=!0,d=!1,p=void 0;try{for(var h,E=function(){var e,n,r=h.value,o=xr.Z.getAnyStreamForUser(r.id),i=DF(r.id);null!=o&&u.push({stream:o,streamUser:r,activity:i});if(null==i)return"continue";var f=(0,WV.a)();if((0,KV.Z)(i)&&(0,zV.ZP)({userId:r.id,activity:i,application:void 0,
channelId:null===(e=j.Z.getVoiceStateForUser(r.id))||void 0===e?void 0:e.channelId,isActivitiesEnabledForCurrentPlatform:f,ChannelStore:I.Z,VoiceStateStore:j.Z,PermissionStore:En.Z,GuildStore:kt.Z})!==zV.Fw.CAN_JOIN)return"continue";var d=null===(n=i.timestamps)||void 0===n?void 0:n.start;if(null==d&&!(0,KV.Z)(i))return"continue";var p=(0,$V.Z)(i);if(null==p)return"continue";l=p===cF.XB;if(!function(e){var t,n=e.application_id;if(null==n)return!0;var r=iF[n];return null==r||!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))}(i))return"continue";var E=function(e){var t=wn.Z.getGame(e);if(null!=t)return t;if("string"!=typeof e){dF.Z.captureMessage("Unknown type for applicationId: ".concat(void 0===e?"undefined":SF(e),", value: ").concat(e),{tags:{source:"ACTIVITIES"}});return null}if(e===cF.XB)return cF.r9;if(e.startsWith(uF.H))return UF(e.slice(uF.H.length));if(e.startsWith(lF._))return kF(e.slice(lF._.length));GF(e);return null}(p);if(null==E||c.has(E.id))return"continue"
;var y=null!=i?BF(i):null;null!=y&&y.id===E.id||(i=null);var m=[];if(null!=i&&null!=i.party&&null!=i.party.id){var b,g=null!==(b=fF.Z.getParty(i.party.id))&&void 0!==b?b:[];m=Array.from(g).reduce((function(e,t){var n=Y.default.getUser(t);null!=n&&e.push(n);return e}),[])}else m=t.filter((function(e){var t=DF(e.id),n=null!=t?BF(t):null;return null!=n&&n.id===E.id}));(m=ss().orderBy(m,[FF],["desc"])).length!==t.length&&(a=!0);c.add(E.id);s.push({game:E,activity:i,activityUser:r,startedPlayingTime:d,playingMembers:m})},y=t[Symbol.iterator]();!(f=(h=y.next()).done);f=!0)E()}catch(e){d=!0;p=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw p}}var m,b=1===i.length,g=[],O=new Set,v=new Set,_=!0,S=!1,T=void 0;try{for(var N,C=t[Symbol.iterator]();!(_=(N=C.next()).done);_=!0){var A=HF(N.value.id),P=I.Z.getChannel(A),R=null!=P?P.getGuildId():null,x=kt.Z.getGuild(R);if(v.has(R)&&O.has(A)||null==P||null==x||P.id===x.afkChannelId){if(null==P){r=null;b=!0}}else{
var M=ss()(j.Z.getVoiceStatesForChannel(P.id)).map((function(e){var t=e.userId;return Y.default.getUser(t)})).filter(No.lm).orderBy([FF],["desc"]).value();M.filter((function(e){return!o.includes(e.id)})).forEach((function(e){return t.push(e)}));if(b)v.has(R)||(r=null);else{r=x;b=!0}v.add(R);O.add(A);g.push({channel:P,guild:x,members:M})}}}catch(e){S=!0;T=e}finally{try{_||null==C.return||C.return()}finally{if(S)throw T}}return{id:n,voiceChannels:g,isSpotifyActivity:l,priorityMembers:i.map((function(e){return{user:e,status:ds.Z.getStatus(e.id)}})),partiedMembers:t,showPlayingMembers:a,guildContext:r,currentActivities:VF(s,(function(e){return null!==(m=e.startedPlayingTime)&&void 0!==m?m:0})).value(),applicationStreams:u}}function WF(){return AF&&iy.Z.isConnected()}function zF(){if(!WF())return!1;wF.clear();var e,t,n,r=function(e){return ss()(e).groupBy((function(e){var t,n=HF(e.id),r=DF(e.id)
;return null!=n?"".concat(NF,"-").concat(n):null!=(null==r||null===(t=r.party)||void 0===t?void 0:t.id)?"".concat(TF,"-").concat(r.party.id):"".concat(CF,"-").concat(e.id)}))}(Array.from(LF()).reduce((function(e,t){var n=Y.default.getUser(t);null==n||n.bot||e.push(n);return e}),[])),o=(e=r,t=LF(),n=YF.bind(null,t),ss()(e).mapValues(n)),i=o.values().orderBy([function(e){return e.partiedMembers.length>1},function(e){return e.applicationStreams.length>0},function(e){return e.voiceChannels.length>0},function(e){return e.currentActivities.length>0},function(e){return e.isSpotifyActivity},function(e){return e.priorityMembers.map((function(e){return e.user.username.toLowerCase()})).join(" ")}],["desc","desc","desc","desc","asc","asc"]).value();jF=function(e){return e.filter((function(e){return e.voiceChannels.length>=1||e.currentActivities.length>0||e.applicationStreams.length>0}))}(i);RF=function(e){return e.map((function(e){return{type:M.GOo.USER,party:e}}))}(jF);!function(){if(wF.size>0){
var e=Array.from(wF);xn.Z.fetchApplications(e);e.forEach((function(e){return ZF.add(e)}));wF.clear()}}();PF=!0}var KF=ss().throttle((function(){zF();QF.emitChange()}),1e3);function qF(){if(!WF())return!1;KF();return!1}var XF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&vF(e,t)}(n,e);var t=IF(n);function n(){hF(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.syncWith([Y.default,wn.Z,ds.Z,fF.Z,j.Z,xr.Z,ps.Z,FV.Z,hs.Z],qF);this.waitFor(iy.Z,kt.Z,wn.Z,Y.default,hs.Z)};r.__getLocalVars=function(){return{PARTY_ID_START_PARTY:TF,PARTY_ID_START_CHANNEL:NF,PARTY_ID_START_USER:CF,RECOMPUTE_NOW_PLAYING_THROTTLE:1e3,isMounted:AF,loaded:PF,currentActivityParties:jF,nowPlayingCards:RF,xboxGames:xF,twitchRecords:MF,applicationIdsToFetch:wF,applicationIdsFetched:ZF,
throttledRecomputeNowPlaying:KF,instance:QF}};!function(e,t,n){t&&EF(e.prototype,t);n&&EF(e,n)}(n,[{key:"currentActivityParties",get:function(){return jF}},{key:"nowPlayingCards",get:function(){return RF}},{key:"isMounted",get:function(){return AF}},{key:"loaded",get:function(){return PF}}]);return n}(s.ZP.Store);XF.displayName="NowPlayingViewStore";var QF=new XF(O.Z,{LOGOUT:function(){AF=!1;jF=[];RF=[];wF.clear()},NOW_PLAYING_MOUNTED:function(){AF=!0;KF()},NOW_PLAYING_UNMOUNTED:function(){AF=!1}});const $F=QF;var JF=n(735994),eY=n(510174),tY=n(927911),nY=n(842592),rY=n(332233),oY=n(779759),iY=n(582107),aY=n(968445),sY=n(811989),cY=n(174572),lY=n(241874),uY=n(104640),fY=n(693518),dY=n(217409),pY=n(546906),hY=n(687054),EY=n(936584),yY=n(915306),mY=n(225464),bY=n(658045);function gY(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function OY(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function vY(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function _Y(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=vY(e,["width","height","color"]);return(0,r.jsxs)("svg",OY(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gY(e,t,n[t])}))}return e}({},(0,qb.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:s,d:"M12 14C7.289 14 4 16.467 4 20V22H20V20C20 16.467 16.711 14 12 14ZM11 19C10.447 19 10 18.553 10 18C10 17.447 10.447 17 11 17C11.553 17 12 17.447 12 18C12 18.553 11.553 19 11 19ZM14 19C13.447 19 13 18.553 13 18C13 17.447 13.447 17 14 17C14.553 17 15 17.447 15 18C15 18.553 14.553 19 14 19Z"}),(0,r.jsx)("path",{fill:s,d:"M18 6H17.91C17.432 3.167 14.967 1 12 1C9.033 1 6.568 3.167 6.09 6H6C4.896 6 4 6.896 4 8V9C4 10.104 4.896 11 6 11C6 12.102 6.897 13 8 13H16C17.104 13 18 12.102 18 11C19.104 11 20 10.104 20 9V8C20 6.896 19.104 6 18 6ZM16 10H8V6H16V10Z"})]}))}var SY=n(877001),IY=n.n(SY)
;function TY(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function NY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){TY(e,t,n[t])}))}return e}function CY(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var AY=(0,bY.Z)((function(e){var t=e.member,n=e.empty,o=e.analyticsContext,i=e.guildId
;if(n)return(0,r.jsx)("div",{className:IY().partyMemberEmpty});if(null==t)return(0,r.jsx)("div",{className:IY().partyMemberUnknown,children:(0,r.jsx)(_Y,{className:IY().partyMemberUnknownIcon})});var a={location:CY(NY({},o.location),{object:M.qAy.AVATAR})};return(0,r.jsx)("div",{className:IY().partyMemberKnown,children:(0,r.jsx)(jg.ZP,{preload:function(){return(0,Lj.Z)(t.id,t.getAvatarURL(i,80),{guildId:i})},renderPopout:function(e){return(0,r.jsx)($D.Z,CY(NY({},e),{userId:t.id,analyticsParams:a}))},position:jg.ZP.Positions.LEFT,children:function(e){return(0,r.jsx)(cg.ZP,CY(NY({},e),{src:t.getAvatarURL(i,24),"aria-label":t.username,size:cg.ZP.Sizes.SIZE_24,className:IY().partyMember}))}})})}));const PY=function(e){var t=e.partySize,n=e.members,o=e.minAvatarsShown,i=void 0===o?1:o,a=e.maxAvatarsShown,s=void 0===a?2:a,c=e.guildId,l=t.unknownSize,u=t.totalSize,f=t.knownSize;if(u<i)return null;for(var d=ss()(n).filter(No.lm).take(s).map((function(e){return(0,r.jsx)(AY,{member:e,guildId:c
},e.id)})).value(),p=0;p<l&&d.length<s;p++)d.push((0,r.jsx)(AY,{guildId:c},"unknown-member-".concat(p)));for(var h=u-f-l,E=0;E<h&&d.length<s;E++)d.push((0,r.jsx)(AY,{empty:!0,guildId:c},"empty-member-".concat(E)));var y=Math.max(Math.min(u-d.length,99),0);if(1===y){var m=n[s];d.push((0,r.jsx)(AY,{member:m,guildId:c},m.id))}return(0,r.jsx)("div",{className:IY().wrapper,children:(0,r.jsxs)("div",{className:IY().partyMembers,children:[d,y>1?(0,r.jsxs)("div",{className:IY().partyMemberOverflow,children:["+",y]}):null]})})};function jY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xY(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function MY(e){MY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return MY(e)}function wY(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xY(e,t,n[t])}))}return e}function ZY(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function LY(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function DY(e,t){return!t||"object"!==GY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function UY(e,t){UY=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return UY(e,t)}function kY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jY(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var GY=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function BY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=MY(e);if(t){var o=MY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DY(this,n)}}var HY,VY=64,FY=160,YY=[14,14,12,12,10,8,6],WY=function(e){
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.jsx)(q.xv,{className:Xp()(oF().textContent,t),variant:"text-sm/semibold",children:e})},zY=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.jsx)(q.xv,{className:Xp()(oF().textContent,t),variant:"text-xs/normal",children:e})},KY=(0,tY.Z)((function(e){var t=e.message;return(0,r.jsx)("div",{className:oF().timestamp,children:t})})),qY=function(e){var t=e.children;return(0,r.jsx)("section",{className:oF().section,children:t})},XY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&UY(e,t)}(o,e);var t=BY(o);function o(){RY(this,o);return t.apply(this,arguments)}var i=o.prototype;i.renderTimePlayed=function(){var e,t=this.props.activity,n=t.timestamps;if(null==n||!(0,aY.Z)(t)||(0,qV.Z)(t))return null
;e=(0,JF.Z)(t)?(0,r.jsx)(KY,{timestamps:n}):(0,r.jsx)(dY.ZP,{start:n.start,end:n.end,location:dY.ZP.Locations.USER_ACTIVITY,className:oF().playTime});return zY(e)};i.render=function(){var e,t,o=this.props,i=o.activity,a=i.assets,s=i.details,c=i.state,l=i.application_id,u=o.getAssetImage;return(0,r.jsx)(qY,{children:(0,r.jsxs)("div",{className:oF().activitySection,children:[null!=a&&0!==Object.keys(a).length?(0,r.jsxs)("div",{className:oF().activitySectionAssets,children:[(0,r.jsx)("img",{alt:null!==(e=a.large_text)&&void 0!==e?e:"",src:u(l,a.large_image,[FY,FY]),className:Xp()(oF().largeImage,xY({},oF().largeImageMask,null!=a.small_image))}),null!=a.small_image?(0,r.jsx)("img",{alt:null!==(t=a.small_text)&&void 0!==t?t:"",src:u(l,a.small_image,[VY,VY]),className:oF().smallImage}):null]}):(0,r.jsx)("div",{className:oF().activitySectionAssets,children:(0,r.jsx)("img",{alt:"",src:n(534413),className:oF().largeImage})}),(0,r.jsxs)("div",{
children:[WY(null!=s&&""!==s?s:te.Z.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=c?zY(c):null,this.renderTimePlayed()]})]})})};return o}(o.Component),QY=pE()({XBOX:null,SPOTIFY:null,MULTIPLE:null}),$Y=function(e){var t,n=e.src,o=e.onClick,i=e.onContextMenu;switch(n){case QY.XBOX:t=(0,r.jsx)(EY.Z,{className:oF().headerIcon,color:(0,pN.Lq)(M.Ilk.PRIMARY_DARK_300)});break;case QY.SPOTIFY:t=(0,r.jsx)(hY.Z,{className:oF().headerIcon,color:(0,pN.Lq)(M.Ilk.SPOTIFY)});break;case QY.MULTIPLE:t=(0,r.jsx)("div",{className:oF().multipleIconWrapper,children:(0,r.jsx)(pY.Z,{className:Xp()(oF().headerIcon,oF().multipleIcon),color:(0,pN.Lq)(M.Ilk.PRIMARY_DARK_300)})});break;default:t=(0,r.jsx)("img",{src:null!=n?n:void 0,alt:"",className:oF().headerIcon})}return null!=o||null!=i?(0,r.jsx)(q.P3,{onClick:o,className:Xp()(null!=o?oF().clickableIcon:""),onContextMenu:i,children:t}):t};$Y.Src=QY;var JY=function(e){var t=e.priorityUser,n=e.title,o=e.subtitle,i=e.icon,a=e.onContextMenu,s=e.guildId;return(0,
r.jsxs)("header",{className:null!=i?oF().headerFull:oF().headerSimple,children:[(0,r.jsx)(cg.ZP,{src:t.user.getAvatarURL(s,32),"aria-label":t.user.username,size:cg.ZP.Sizes.SIZE_32,className:oF().headerAvatar,status:t.status,onContextMenu:a}),(0,r.jsxs)("div",{className:oF().headerDetails,children:[(0,r.jsx)(q.xv,{className:Xp()(oF().textContent),variant:"text-md/semibold",children:n}),(0,r.jsx)(q.xv,{color:"header-secondary",className:oF().textContent,variant:"text-sm/normal",children:o})]}),null!=i?i:null]})};JY.Icon=$Y;var eW=function(e){var t=e.children,n=e.className,o=LY(e,["children","className"]);return(0,r.jsx)(nb.tE,{children:(0,r.jsx)(GV.Z,ZY(wY({className:Xp()(n,oF().wrapper),padded:!0},o),{children:t}))})};eW.Header=JY;eW.Body=function(e){var t=e.children;return(0,r.jsx)(GV.Z,{inset:!0,padded:!1,className:oF().body,children:t})};eW.Separator=function(e){var t=e.inset,n=e.className;return(0,r.jsx)("div",{className:Xp()(oF().separator,xY({},oF().inset,t),n)})}
;eW.VoiceSection=function(e){var t,n,i=e.guild,a=e.channel,s=e.onGuildClick,c=e.partySize,l=e.members,u=e.onChannelContextMenu,f=o.useRef(null),d=(0,Yd.ZP)(a,!0);return(0,r.jsx)(qY,{children:(0,r.jsxs)("div",{className:oF().voiceSection,ref:f,onContextMenu:function(e){return u(e,a)},children:[(0,r.jsx)(q.P3,{onClick:s,"aria-hidden":!0,tabIndex:-1,children:(0,r.jsxs)("div",{className:oF().voiceSectionAssets,children:[null!=i.getIconURL(32)?(0,r.jsx)("img",{alt:"",src:null!==(t=i.getIconURL(32))&&void 0!==t?t:void 0,className:Xp()(oF().voiceSectionGuildImage,oF().largeImageMask)}):(0,r.jsx)("div",{className:oF().voiceSectionNoGuildImageWrapper,children:(0,r.jsx)("div",{className:oF().voiceSectionNoGuildImage,style:{fontSize:null!==(n=YY[i.acronym.length])&&void 0!==n?n:YY[YY.length-1]},children:i.acronym})}),(0,r.jsx)("div",{className:oF().voiceSectionIconWrapper,children:(0,r.jsx)(yY.Z,{className:oF().voiceSectionIcon})})]})}),(0,r.jsx)(q.P3,{onClick:s,focusProps:{ringTarget:f},
children:(0,r.jsxs)("div",{className:oF().voiceSectionDetails,children:[WY(i.toString(),oF().voiceSectionText),zY(d,oF().voiceSectionText)]})}),(0,r.jsx)(PY,{partySize:c,members:l,guildId:i.id})]})})};eW.GameSection=function(e){var t=e.icon,n=e.name,o=e.partySize,i=e.members;return(0,r.jsx)(qY,{children:(0,r.jsxs)("div",{className:oF().gameSection,children:[null!=t?(0,r.jsx)("img",{alt:"",src:t,className:oF().gameSectionIcon}):null,(0,r.jsxs)("div",{children:[WY(n),zY(te.Z.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:o.totalSize}))]}),(0,r.jsx)(PY,{partySize:o,members:i})]})})};eW.RichPresenceSection=XY;eW.XboxSection=function(e){var t=e.title;return(0,r.jsx)(qY,{children:(0,r.jsxs)("div",{className:oF().xboxSection,children:[(0,r.jsx)(EY.Z,{className:oF().xboxSectionIcon}),(0,r.jsxs)("div",{className:oF().xboxSectionDetails,children:[WY(t),zY(te.Z.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX)]})]})})};eW.SpotifySection=function(e){
var t=e.activity,n=t.assets,o=t.details,i=t.state,a=t.application_id,s=e.partySize,c=e.members,l=e.isSolo,u=e.getAssetImage;return(0,r.jsx)(qY,{children:(0,r.jsxs)("div",{className:oF().spotifySection,children:[null!=n?(0,r.jsxs)("div",{className:oF().activitySectionAssets,children:[(0,r.jsx)("img",{alt:null!==(HY=n.large_text)&&void 0!==HY?HY:"",src:u(a,n.large_image,[FY,FY]),className:Xp()(oF().largeImage,oF().borderRadius0,xY({},oF().largeImageMask,null!=n.small_image))}),l?null:(0,r.jsx)(hY.Z,{className:oF().smallImage,color:(0,pN.Lq)(M.Ilk.SPOTIFY)})]}):(0,r.jsx)("div",{}),(0,r.jsxs)("div",{children:[null!=o?WY(o):null,null!=i?zY(i):null]}),(0,r.jsx)(PY,{minAvatarsShown:l?2:1,partySize:s,members:c})]})})};eW.TwitchSection=function(e){var t,o,i=e.activity,a=e.user,s=e.getAssetImage,c=e.guildId,l=i.name,u=i.details,f=i.assets,d=i.application_id;if(null!=f&&(0,QV.Z)(i)){var p;t=(0,r.jsx)(uY.Z,{className:oF().twitchSectionPreviewWrapper,aspectRatio:16/9,children:(0,r.jsxs)(q.P3,{
href:(0,iY.Z)(i),tag:"a",target:"_blank",children:[(0,r.jsx)("img",{alt:null!==(p=f.large_text)&&void 0!==p?p:"",src:s(d,f.large_image,[900,500]),className:oF().twitchSectionPreview}),(0,r.jsx)("img",{src:n(182105),className:oF().twitchSectionPlayButton,alt:""})]})})}return(0,r.jsxs)(qY,{children:[(0,r.jsxs)("div",{className:Xp()((o={},xY(o,oF().twitchSectionSimple,null==a),xY(o,oF().twitchSectionFull,null!=a),o)),children:[(0,r.jsx)("img",{alt:"",src:rY.Z.get(M.ABu.TWITCH).icon.lightSVG,className:oF().twitchSectionIcon}),(0,r.jsxs)("div",{children:[WY(l),null!=u?zY(u):null]}),null!=a?(0,r.jsx)(cg.ZP,{src:a.getAvatarURL(c,24),"aria-label":a.username,className:oF().twitchSectionAvatar,size:cg.ZP.Sizes.SIZE_24}):null]}),t]})};eW.ApplicationStreamingSection=function(e){var t,n=e.activity,o=e.user,i=e.applicationStream,a=e.onPreviewClick,c=e.guildId,l=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(i.channelId)})),u=kY((0,wr.wq)(l),2),f=u[0],d=u[1],p=(0,r.jsx)(uY.Z,{
className:oF().applicationStreamingPreviewWrapper,aspectRatio:16/9,children:(0,r.jsxs)(q.P3,{onClick:f?a:void 0,className:oF().applicationStreamingPreviewSize,children:[(0,r.jsx)(wO.Z,{stream:i,className:oF().applicationStreamingPreviewSize}),(0,r.jsx)("div",{className:oF().applicationStreamingHoverWrapper,children:(0,r.jsx)("div",{className:oF().applicationStreamingHoverText,children:(0,wr.P9)(d)})})]})}),h=null!==(t=(0,sY.Z)(n,i))&&void 0!==t?t:te.Z.Messages.SHARING_SCREEN;return(0,r.jsxs)(qY,{children:[(0,r.jsxs)("div",{className:oF().applicationStreamingSection,children:[(0,r.jsx)(cg.ZP,{size:cg.ZP.Sizes.SIZE_32,src:o.getAvatarURL(c,32),"aria-label":o.username,className:oF().applicationStreamingAvatar}),(0,r.jsxs)("div",{children:[WY(o.toString()),zY(h)]}),(0,r.jsx)(mY.ZP,{size:mY.ZP.Sizes.SMALL})]}),p]})};eW.EmbeddedActivitySection=function(e){var t=e.activity,n=e.channel,i=e.guildId,a=e.participants,c=(0,cY.Z)(),l=kY(o.useState(null),2),u=l[0],f=l[1];o.useEffect((function(){
null!=t.application_id&&(0,mc.GR)(t.application_id,["embedded_background"]).then((function(e){var t=kY(e,1)[0];return f(t)}))}),[t.application_id]);var d,p=(0,s.Wu)([Y.default,nr.default],(function(){return Array.from(a).map((function(e){return nr.default.getId()===e?null:Y.default.getUser(e)})).filter(No.lm)})),h=(0,nY.O)(),E=(0,FM.Z)().analyticsLocations,y=wn.Z.getGame(null!==(d=null==t?void 0:t.application_id)&&void 0!==d?d:"");if(null==y)return null;var m=null!=t.created_at&&t.created_at>0?{start:t.created_at}:void 0,b=(0,mc.xF)(y.id,u,300);return(0,r.jsxs)(qY,{children:[(0,r.jsxs)("div",{className:oF().embeddedActivityTopRow,children:[(0,r.jsx)(fY.Z,{game:y,size:fY.Z.Sizes.XSMALL,className:oF().embeddedActivityIcon}),(0,r.jsx)("div",{className:oF().embeddedActivityName,children:(0,r.jsx)(q.xv,{variant:"text-sm/semibold",children:y.name})}),null!=m?(0,r.jsx)("div",{className:oF().embeddedActivityTimeElapsed,children:(0,r.jsx)(q.xv,{color:"text-muted",variant:"text-sm/normal",
children:(0,r.jsx)(KY,{timestamps:m})})}):null]}),(0,r.jsx)(uY.Z,{aspectRatio:16/9,children:(0,r.jsxs)("div",{className:oF().embeddedActivityPlayerContainer,children:[null!=b?(0,r.jsx)("img",{src:b,alt:y.name,className:oF().embeddedActivityImage}):null,(0,r.jsxs)("div",{className:oF().embeddedActivityImageOverlay,children:[(0,r.jsx)(lY.OV,{users:p,guildId:i,channelId:n.id}),(0,r.jsx)("div",{className:oF().embeddedActivityJoinWrapper,children:(0,r.jsx)(Q.Co,{size:Q.Co.Sizes.SMALL,onClick:function(e){e.stopPropagation();(0,oY.Z)({activity:t,currentEmbeddedApplication:c,activityChannelId:n.id,locationObject:h.location,embeddedActivitiesManager:g.Z,analyticsLocations:E})},children:te.Z.Messages.JOIN})})]})]})})]})};const tW=eW;var nW=64;function rW(e,t){var n,r=e.length,o=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var i=t.party.size;o=Math.max(i[0]-e.length,0);n=i[1]}else n=r+o;return{knownSize:r,unknownSize:o,totalSize:n}}function oW(e){
var t=e.party,n=e.onChannelContextMenu,o=t.voiceChannels,i=t.currentActivities,a=t.partiedMembers,s=t.applicationStreams,c=t.guildContext,l=[],u=function(e){var t=l.length;if(0!==t){var n,o,i=l[t-1],a="".concat(null!==(n=null==e?void 0:e.key)&&void 0!==n?n:""),s="".concat(null!==(o=null==i?void 0:i.key)&&void 0!==o?o:"").startsWith("game")&&a.startsWith("rich-presence");l.push((0,r.jsx)(tW.Separator,{inset:s},"sep-".concat(a)));l.push(e)}else l.push(e)};o.length>0&&o.forEach((function(e){var t=e.members,o=e.channel,i=e.guild;u((0,r.jsx)(tW.VoiceSection,{guild:i,channel:o,members:t,partySize:rW(t),onChannelContextMenu:n,onGuildClick:function(){(0,eY.X)(i.id)}},"voice-".concat(o.id)))}));var f=!0,p=!1,h=void 0;try{for(var E,y=t.currentActivities[Symbol.iterator]();!(f=(E=y.next()).done);f=!0){var m=E.value.activity;if(null!=m){var b=sF(m);if(null!=b){u(b);break}}}}catch(e){p=!0;h=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw h}}s.length>0&&s.forEach((function(e){
var t=e.stream,n=e.streamUser,o=e.activity;u((0,r.jsx)(tW.ApplicationStreamingSection,{guildId:null==c?void 0:c.id,user:n,activity:o,applicationStream:t,onPreviewClick:function(){d.default.selectVoiceChannel(t.channelId);(0,Ar.iV)(t)}},"application-stream-".concat(t.ownerId)))}));i.forEach((function(e,t){var n=e.activity,s=e.game,l=e.playingMembers,f=e.activityUser;if(null==n||null==n.type)return null;if(i.length>1&&n.type===M.IIU.PLAYING&&!(0,JF.Z)(n)&&null!=s){var d,p;u((0,r.jsx)(tW.GameSection,{icon:s.getIconURL(nW),name:s.name,partySize:{knownSize:l.length,unknownSize:0,totalSize:l.length},members:l},"game-".concat(null!==(d=n.session_id)&&void 0!==d?d:t,"-").concat(null!==(p=n.application_id)&&void 0!==p?p:t)))}else if((0,KV.Z)(n)){var h,E=new Set(l.map((function(e){return e.id}))),y=null===(h=o.find((function(e){return null!=e})))||void 0===h?void 0:h.channel;null!=y&&u((0,r.jsx)(tW.EmbeddedActivitySection,{activity:n,participants:E,channel:y,guildId:y.guild_id
},"embedded-activity-".concat(n.application_id)))}else if(null==n.assets&&!(0,JF.Z)(n)||n.type!==M.IIU.PLAYING)if((0,QV.Z)(n)){var m,b=o.length>0&&o[0].members.length>1,g=l.length>1;u((0,r.jsx)(tW.TwitchSection,{guildId:null==c?void 0:c.id,activity:n,user:b||g?f:null,getAssetImage:mc.xF},"streaming-".concat(null!==(m=n.session_id)&&void 0!==m?m:t)))}else if((0,qV.Z)(n)){var O;u((0,r.jsx)(tW.SpotifySection,{activity:n,isSolo:1===a.length,partySize:{knownSize:l.length,unknownSize:0,totalSize:l.length},getAssetImage:mc.xF,members:l},"spotify-".concat(null!==(O=n.session_id)&&void 0!==O?O:t,"-").concat(f.id)))}else if(null==n.assets&&!(0,JF.Z)(n)||n.type!==M.IIU.LISTENING){if((0,XV.Z)(n)){var v;u((0,r.jsx)(tW.XboxSection,{title:s.name},"xbox-".concat(null!==(v=n.session_id)&&void 0!==v?v:t)))}}else{var _;u((0,r.jsx)(tW.RichPresenceSection,{activity:n,getAssetImage:mc.xF},"rich-presence-".concat(null!==(_=n.session_id)&&void 0!==_?_:t,"-").concat(f.id)))}else{var S;u((0,
r.jsx)(tW.RichPresenceSection,{activity:n,getAssetImage:mc.xF},"rich-presence-".concat(null!==(S=n.session_id)&&void 0!==S?S:t,"-").concat(f.id)))}}));return l.length>0?(0,r.jsx)(tW.Body,{children:l}):null}function iW(e){var t=e.party,o=e.onUserContextMenu,i=t.priorityMembers,a=t.guildContext,s=i[0],c=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map((function(e){return e.user.id}))),o=n.filter((function(e){return!r.has(e.id)})),i=t[0].user.toString(),a=null!=t[1]?t[1].user.toString():null!=o[0]?o[0].toString():null;switch(n.length){case 1:return i;case 2:return te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:i,user2:a});default:return te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:i,user2:a,extras:n.length-2})}}(t),l=function(e){
var t,o=e.priorityMembers,i=e.partiedMembers,a=e.voiceChannels,s=e.currentActivities,c=o.length,l=c+(i.length-c)===1,u=s[0],f=null==u?void 0:u.activity,d=null==u?void 0:u.startedPlayingTime,p={name:null!==(t=null==f?void 0:f.name)&&void 0!==t?t:""};if((0,KV.Z)(f)&&null!=f)return{subtitle:(0,r.jsx)(dY.ZP,{start:d,location:dY.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:p}),icon:null};if(l&&null!=u){var h=u.game;if(null==f)return{subtitle:null,icon:null};var E=aF(f);if(null!=E)return E;switch(f.type){case M.IIU.PLAYING:return(0,XV.Z)(f)?{subtitle:te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:(0,r.jsx)(tW.Header.Icon,{src:tW.Header.Icon.Src.XBOX})}:{subtitle:(0,r.jsx)(dY.ZP,{start:d,location:dY.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:p}),icon:null!=h?(0,r.jsx)(tW.Header.Icon,{src:null!=h.getIconURL(nW)?h.getIconURL(nW):n(534413)}):null};case M.IIU.STREAMING:return{subtitle:te.Z.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=h&&null!=h.getIconURL(nW)?(0,
r.jsx)(tW.Header.Icon,{src:h.getIconURL(nW)}):null};case M.IIU.LISTENING:var y;y=(0,qV.Z)(f)?(0,r.jsx)(tW.Header.Icon,{src:tW.Header.Icon.Src.SPOTIFY}):null!=h.getIconURL(nW)?(0,r.jsx)(tW.Header.Icon,{src:h.getIconURL(nW)}):(0,r.jsx)(tW.Header.Icon,{src:n(534413)});return{subtitle:te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_LISTENING.format({name:f.name}),icon:y};case M.IIU.WATCHING:return{subtitle:te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=h&&null!=h.getIconURL(nW)?(0,r.jsx)(tW.Header.Icon,{src:h.getIconURL(nW)}):null};default:return{subtitle:te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}if(0===s.length){if(a.length>0)return{subtitle:te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};var m=s[0];if(null!=m){var b=m.activity;if(null!=b){var g=aF(b);if(null!=g)return g}if(null!=b&&b.type===M.IIU.LISTENING)return{subtitle:te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:(0,r.jsx)(tW.Header.Icon,{src:tW.Header.Icon.Src.SPOTIFY})}
}}else if(1===s.length){var O=s.find((function(e){return null!=e.activity}));if(null==O)return{subtitle:null,icon:null};var v=O.activity,_=O.game,S=O.startedPlayingTime;Oh()(null!=v,"Activity was null somehow");return{subtitle:(0,r.jsx)(dY.ZP,{start:S,location:dY.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:p}),icon:null!=_&&null!=_.getIconURL(nW)?(0,r.jsx)(tW.Header.Icon,{src:_.getIconURL(nW)}):null}}return{subtitle:te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:(0,r.jsx)(tW.Header.Icon,{src:tW.Header.Icon.Src.MULTIPLE})}}(t),u=l.subtitle,f=l.icon;return(0,r.jsx)(tW.Header,{priorityUser:s,guildId:null==a?void 0:a.id,title:c,subtitle:u,icon:f,onContextMenu:function(e){return o(e,s.user)}})}var aW=n(769672),sW=n(665733),cW=n(950008),lW=n(258698);function uW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fW(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}
function dW(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fW(i,r,o,a,s,"next",e)}function s(e){fW(i,r,o,a,s,"throw",e)}a(void 0)}))}}function pW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pW(e,t,n[t])}))}return e}function EW(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function yW(e){return function(e){if(Array.isArray(e))return uW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mW=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),
i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},bW=rY.Z.get(M.ABu.XBOX).name;function gW(e,t){var n=e.canJoin,o=e.activity,i=e.activityUser;if(!n||null==o)return null;function a(){return(a=dW((function(){
var e;return mW(this,(function(t){switch(t.label){case 0:return null==o?[2]:[4,hu.Z.sendActivityInviteUser({type:M.mFx.JOIN_REQUEST,userId:i.id,activity:o,location:M.Sbl.PROFILE_POPOUT})];case 1:null!=(e=t.sent())&&d.default.selectPrivateChannel(e.id);return[2]}}))}))).apply(this,arguments)}return(0,r.jsx)(aW.sN,{id:"join-".concat(o.session_id),label:t?te.Z.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:i.toString()}):te.Z.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,action:function(){return a.apply(this,arguments)}})}function OW(e,t){var n=e.activity,o=e.game,i=e.libraryApplication,a=e.location,s=e.canPlay,c=e.isRunning,l=e.isLaunching;if(!s||null==n)return null;var u=c?te.Z.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:o.name}):l?te.Z.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:o.name}):void 0;return(0,r.jsx)(aW.sN,{id:"play-".concat(n.session_id),action:function(){(0,Fy.playApplication)(o.id,i,{analyticsParams:{location:EW(hW({},a),{
object:M.qAy.LIST_ITEM})}})},label:t?te.Z.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:o.name}):te.Z.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,subtext:u})}function vW(e){var t=e.currentActivities.length>1,n=function(e){var t=e.currentActivities,n=(0,s.e7)([cW.Z],(function(){return cW.Z.getAccounts().some((function(e){return e.type===rY.Z.get(M.ABu.XBOX).type}))})),o=t.some((function(e){var t=e.activity;return(0,XV.Z)(t)}));return n||!o?null:(0,r.jsx)(aW.sN,{id:"xbox-connect",action:function(){return h.Z.open(M.oAB.CONNECTIONS)},label:te.Z.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:bW})})}(e),i=function(e){var t=e.currentActivities,n=o.useContext(Ce.AnalyticsContext);return(0,s.Wu)([Xe.ZP,Gn.Z,Xn.Z,Dy.Z,lW.Z],(function(){return t.filter((function(e){return!(0,KV.Z)(e.activity)})).map((function(e){var t=e.activity,r=e.game,o=Gn.Z.getActiveLibraryApplication(r.id);return EW(hW({},e),{libraryApplication:o,canJoin:null!=t&&(0,
sW.Z)(t,M.xjy.JOIN)&&t.type===M.IIU.PLAYING,canPlay:(0,rr.t)({LibraryApplicationStore:Gn.Z,LaunchableGameStore:Xn.Z,DispatchApplicationStore:Dy.Z,ConnectedAppsStore:lW.Z,applicationId:r.id,branchId:null!=o?o.branchId:null}),isLaunching:Xn.Z.launchingGames.has(r.id),isRunning:Xe.ZP.getRunningVerifiedApplicationIds().includes(r.id),location:n.location})}))}),[t])}(e),a=[],c=!0,l=!1,u=void 0;try{for(var f,d=i[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value,E=p.activity;null!=E&&null!=E.type&&a.push(gW(p,t),OW(p,t))}}catch(e){l=!0;u=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}return[n].concat(yW(a))}var _W=n(446926),SW=n.n(_W);function IW(e){var t=e.user,n=e.status,o=e.isFocused,i=e.guildId;return(0,r.jsxs)("div",{className:SW().memberItem,children:[(0,r.jsx)(cg.ZP,{src:t.getAvatarURL(i,24),className:SW().avatar,"aria-label":t.username,size:cg.ZP.Sizes.SIZE_24,status:n,statusColor:o?"currentColor":void 0}),(0,r.jsx)(_H.Z,{user:t,hideDiscriminator:!0})]})
}function TW(e){var t=e.label;return(0,r.jsxs)("div",{className:SW().memberItem,children:[(0,r.jsx)("div",{className:Xp()(SW().avatar,SW().unknown)}),(0,r.jsx)("div",{children:t})]})}function NW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function AW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){CW(e,t,n[t])}))}return e}function PW(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jW(e){return function(e){if(Array.isArray(e))return NW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return NW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RW(e,t,n,o,i){var a=[],s=!0,c=!1,l=void 0;try{for(var u,f=function(){var e=u.value,t=e.user,n=e.status
;a.push((0,r.jsx)(aW.sN,{id:t.id,keepItemStyles:!0,render:function(e){return(0,r.jsx)(IW,PW(AW({},e),{user:t,status:n,guildId:i}))},action:function(){return(0,bp.m)({userId:t.id,analyticsLocation:{section:M.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},d=e[Symbol.iterator]();!(s=(u=d.next()).done);s=!0)f()}catch(e){c=!0;l=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}var p=!0,h=!1,E=void 0;try{for(var y,m=function(){var e=y.value;a.push((0,r.jsx)(aW.sN,{id:e.id,keepItemStyles:!0,render:function(t){return(0,r.jsx)(IW,PW(AW({},t),{user:e,guildId:i}))},action:function(){return(0,bp.m)({userId:e.id,analyticsLocation:{section:M.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},b=t[Symbol.iterator]();!(p=(y=b.next()).done);p=!0)m()}catch(e){h=!0;E=e}finally{try{p||null==b.return||b.return()}finally{if(h)throw E}}var g=n-a.length;g>0&&a.push((0,r.jsx)(aW.sN,{id:"unknown-members-".concat(null==o?void 0:o.session_id),render:function(e){return(0,r.jsx)(TW,PW(AW({},e),{
label:te.Z.Messages.GAME_FEED_UNKNOWN_PLAYERS.format({count:g})}))}}));return a}var xW=n(642400);function MW(e){return{af_voice_chat:e.voiceChannels.length>0,af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some((function(e){var t=e.activity;return(0,JF.Z)(t)})),game_platform:e.currentActivities.length>0?(0,gp.Z)(e.currentActivities[0].activity):null}}function wW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ZW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wW(e,t,n[t])}))}return e}function LW(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var DW=n(830260),UW=n(858303),kW=n(584791),GW=n(864345),BW=n(656548);function HW(e){var t=e.currentActivities,n=e.isSpotifyActivity,o=t[0],i=function(e,t,n){var o=(0,s.e7)([DW.Z,nr.default],(function(){return null!=t?(0,kW.Z)(DW.Z,nr.default,t,e):void 0}),[e,t]);if(null==o||null==e||null==t)return null;var i=o.isCurrentUser||o.notPlayable||o.playingSameTrack,a=o.isCurrentUser||o.syncingWithUser||o.syncingWithParty;return[(0,r.jsx)(aW.sN,{id:"spotify-play-".concat(e.session_id),action:function(){return(0,BW.Z)(o,vp.kG.USER_ACTIVITY_PLAY,n)},label:te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_PLAY_ON_SPOTIFY,subtext:i?(0,UW.Z)(o,vp.kG.USER_ACTIVITY_PLAY):void 0,disabled:i
},"spotify-play-".concat(e.session_id)),o.canPlaySpotify?(0,r.jsx)(aW.sN,{id:"spotify-sync-".concat(e.session_id),action:function(){return(0,GW.Z)(o,vp.kG.USER_ACTIVITY_SYNC,n)},label:te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG,subtext:a?(0,UW.Z)(o,vp.kG.USER_ACTIVITY_SYNC):void 0,disabled:a},"spotify-sync-".concat(e.session_id)):null]}(null==o?void 0:o.activity,null==o?void 0:o.activityUser);return n?i:null}function VW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function FW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){VW(e,t,n[t])}))}return e}function YW(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function WW(e){var t=e.party,n=e.close,i=e.onSelect,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(){xW.Z.openPrivateChannel(c).then((function(t){return Eb.ZP.trackWithMetadata(M.rMx.ACTIVITY_FEED_DM_VISITED,ZW({source:LW(ZW({},s.location),{object:M.qAy.LIST_ITEM}),channel_id:t,recipient_id:"string"==typeof c?c:c[0],af_recently_played:!1},MW(e)))}))},i=e.priorityMembers,a=e.partiedMembers,s=o.useContext(Ce.AnalyticsContext),c=i.map((function(e){return e.user.id})),l=1===a.length&&1===i.length,u=i.length-a.length>0
;return!l&&!t||u||0===c.length?null:(0,r.jsx)(aW.sN,{id:"message",action:n,label:te.Z.Messages.SEND_DM})}(t),c=function(e){var t=o.useContext(Ce.AnalyticsContext),n=e.voiceChannels[0],i=(0,s.e7)([En.Z],(function(){return null!=n&&En.Z.can(M.Plq.CONNECT,n.channel)}));return null==n?null:[(0,r.jsx)(aW.sN,{id:"join-voice",action:function(){(0,eY.X)(n.guild.id);d.default.selectVoiceChannel(n.channel.id);Eb.ZP.trackWithMetadata(M.rMx.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,FW({source:YW(FW({},t.location),{object:M.qAy.LIST_ITEM}),guild_id:n.guild.id,channel_id:n.channel.id},MW(e)))},label:te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL,disabled:!i},"join-voice"),(0,r.jsx)(aW.sN,{id:"goto-server",action:function(){(0,eY.X)(n.guild.id);Eb.ZP.trackWithMetadata(M.rMx.ACTIVITY_FEED_GUILD_VISITED,FW({source:YW(FW({},t.location),{object:M.qAy.LIST_ITEM}),guild_id:n.guild.id,af_recently_played:!1},MW(e)))},label:te.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER},"goto-server")]
}(t),l=function(e){return e.applicationStreams.map((function(e){var t=e.stream,n=e.streamUser;return(0,r.jsx)(aW.sN,{id:"spectate-".concat(t.ownerId),action:function(){d.default.selectVoiceChannel(t.channelId);(0,Ar.iV)(t)},label:te.Z.Messages.WATCH_USER_STREAM.format({streamerName:n.toString()})},"spectate-".concat(t.ownerId))}))}(t),u=HW(t),f=vW(t),p=function(e){var t=e.priorityMembers,n=e.partiedMembers,i=e.currentActivities,a=e.guildContext,s=new Set(t.map((function(e){return e.user.id}))),c=n.filter((function(e){return!s.has(e.id)})),l=o.useMemo((function(){var e=i.flatMap((function(e){return e.playingMembers})).map((function(e){return e.id}));return n.filter((function(t){return!e.includes(t.id)}))}),[n,i]);if(i.length<=1&&0===l.length){var u,f;return(0,r.jsx)(aW.kS,{label:n.length>1?te.Z.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:n.length}):void 0,
children:RW(t,c,n.length,null!==(f=null===(u=i[0])||void 0===u?void 0:u.activity)&&void 0!==f?f:void 0,null==a?void 0:a.id)})}var d=i.map((function(e,n){var o=e.playingMembers,i=e.game,c=e.activity,l=new Set(o.map((function(e){return e.id})));return(0,r.jsx)(aW.kS,{label:"".concat(i.name," - ").concat(o.length),children:RW(t.filter((function(e){var t=e.user;return l.has(t.id)})),o.filter((function(e){return!s.has(e.id)})),o.length,null!=c?c:void 0,null==a?void 0:a.id)},n)})),p=l.map((function(e){return e.id})),h=(0,r.jsx)(aW.kS,{label:"".concat(te.Z.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER," - ").concat(l.length),children:RW(t.filter((function(e){var t=e.user;return p.includes(t.id)})),l.filter((function(e){return!s.has(e.id)})),l.length,void 0,null==a?void 0:a.id)});return jW(d).concat([h])}(t);return(0,r.jsxs)(aW.ZP,{navId:"now-playing-menu",onClose:n,"aria-label":te.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onSelect:i,children:[a,(0,r.jsxs)(aW.kS,{children:[c,l]}),(0,
r.jsx)(aW.kS,{children:u}),(0,r.jsx)(aW.kS,{children:f}),p]})}function zW(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function KW(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zW(i,r,o,a,s,"next",e)}function s(e){zW(i,r,o,a,s,"throw",e)}a(void 0)}))}}function qW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function QW(e){QW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return QW(e)}function $W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){XW(e,t,n[t])}))}return e}function JW(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ez(e,t){return!t||"object"!==nz(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tz(e,t){tz=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return tz(e,t)}var nz=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function rz(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=QW(e);if(t){var o=QW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ez(this,n)}}var oz=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var iz=n(399978),az=n.n(iz);function sz(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cz(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var lz,uz=(lz=function(e){var t=e.party,n=e.onUserContextMenu,o=e.onChannelContextMenu,i=(0,r.jsx)(iW,{party:t,onUserContextMenu:n}),a=(0,r.jsx)(oW,{party:t,onChannelContextMenu:o});return null!=i||null!=a?(0,r.jsx)(jg.ZP,{position:jg.ZP.Positions.LEFT,renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(WW,{party:t,close:n})},spacing:8,children:function(e,t){var n=t.isShown;return(0,r.jsx)(tW,cz(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sz(e,t,n[t])}))}return e}({},e),{"aria-haspopup":"menu",className:az().itemCard,active:n,children:(0,r.jsxs)("div",{children:[i,a]})}))}}):null},(0,bY.Z)(function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&tz(e,t)}(o,e);var t=rz(o);function o(){qW(this,o);return t.apply(this,arguments)}var i=o.prototype;i.render=function(){return(0,r.jsx)(lz,JW($W({},this.props),{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))};i.handleMessageUser=function(e,t){return xW.Z.openPrivateChannel(t.id)};i.handleUserContextMenu=function(e,t,o){(0,fb.jW)(e,KW((function(){var e,o;return oz(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,JW($W({},e),{user:t}))}]}}))})),{onClose:o})};i.handleGuildContextMenu=function(e,t){(0,
fb.jW)(e,KW((function(){var e,o;return oz(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(13112),n.e(47018)]).then(n.bind(n,847018))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,JW($W({},e),{guild:t}))}]}}))})))};i.handleChannelContextMenu=function(e,t){var o=kt.Z.getGuild(t.getGuildId());if(null==o)return null;(0,fb.jW)(e,KW((function(){var e,i;return oz(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(57501),n.e(5655)]).then(n.bind(n,5655))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,JW($W({},e),{channel:t,guild:o}))}]}}))})))};return o}(o.Component))),fz=ss().throttle((function(){return YV.W(!1)}),3e5);function dz(){var e=(0,s.cj)([$F,hs.Z,Y.default],(function(){return{nowPlayingCards:$F.nowPlayingCards,loaded:$F.loaded,needsRefresh:hs.Z.needsRefresh(),fetching:hs.Z.getFetching(),currentUser:Y.default.getCurrentUser()}
})),t=e.nowPlayingCards,n=e.loaded,i=e.needsRefresh,a=e.fetching,c=e.currentUser;o.useEffect((function(){O.Z.wait((function(){O.Z.dispatch({type:"NOW_PLAYING_MOUNTED"})}));return function(){return O.Z.wait((function(){O.Z.dispatch({type:"NOW_PLAYING_UNMOUNTED"})}))}}),[null==c?void 0:c.id]);o.useEffect((function(){i&&!a&&fz()}),[i,a]);var l=null;if(!n)return(0,r.jsx)("div",{className:az().emptyCard,children:(0,r.jsx)(Ix.Z,{})});l=t.length>0?t.map((function(e){var t=e.party;return(0,r.jsx)(uz,{party:t},t.id)})):(0,r.jsxs)("div",{className:az().emptyCard,children:[(0,r.jsx)(q.X6,{variant:"heading-md/semibold",className:az().emptyHeader,children:te.Z.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER}),(0,r.jsx)(q.xv,{color:"none",className:az().emptyText,variant:"text-sm/normal",children:te.Z.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY})]});return(0,r.jsx)(r.Fragment,{children:l})}var pz=n(716875),hz=n.n(pz);function Ez(){var e=(0,FM.Z)(vf.Z.ACTIVE_NOW_COLUMN).AnalyticsLocationProvider,t=(0,
s.e7)([FV.Z],(function(){return FV.Z.hasConsented(M.pjP.PERSONALIZATION)}))?[]:[dn.z$.NOW_PLAYING_CONSENT_CARD],n=(0,$.Dt)();return(0,r.jsx)(e,{children:(0,r.jsx)(UV.Z,{section:M.jXE.ACTIVE_NOW_COLUMN,children:(0,r.jsx)("aside",{className:hz().container,"aria-labelledby":n,children:(0,r.jsxs)(eE.ZP,{className:hz().scroller,children:[(0,r.jsx)(q.X6,{variant:"heading-lg/semibold",className:hz().header,id:n,children:te.Z.Messages.GAME_FEED_CURRENT_HEADER_TITLE}),(0,r.jsx)(ZT.Z,{contentTypes:t,children:function(e){var t=e.visibleContent,n=e.markAsDismissed;if(t===dn.z$.NOW_PLAYING_CONSENT_CARD)return(0,r.jsx)(VV,{className:hz().consentCard,markAsDismissed:n})}}),(0,r.jsx)(dz,{})]})})})})}var yz=n(735713),mz=n(490640);function bz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}
function Oz(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vz(e){vz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return vz(e)}function _z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Tz(e,t)}function Sz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Oz(e,t,n[t])}))}return e}function Iz(e,t){return!t||"object"!==Nz(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e
}(e):t}function Tz(e,t){Tz=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Tz(e,t)}var Nz=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Cz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=vz(e);if(t){var o=vz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Iz(this,n)}}function Az(e){var t=Y.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function Pz(e){return{status:ds.Z.getStatus(e),isMobile:ds.Z.isMobileOnline(e),activities:ds.Z.getActivities(e),applicationStream:xr.Z.getAnyStreamForUser(e)}}function jz(e){var t=[];ss()(ls.ZP.memberOf(e)).map(kt.Z.getGuild).sortBy((function(e){
return null!=e?e.name.toLowerCase():null})).forEach((function(e){null!=e&&t.push(e)}));return{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,M.$Xn)}}var Rz=function(e){_z(n,e);var t=Cz(n);function n(e){bz(this,n);var r;(r=t.call(this)).key=e.key;r.type=e.type;r.status=e.status;r.activities=e.activities;r.applicationStream=e.applicationStream;r.user=e.user;r.isMobile=e.isMobile;r.usernameLower=e.usernameLower;r.mutualGuildsLength=e.mutualGuildsLength;r.mutualGuilds=e.mutualGuilds;r.nickname=e.nickname;return r}!function(e,t,n){t&&gz(e.prototype,t);n&&gz(e,n)}(n,[{key:"comparator",get:function(){var e,t;return[this.type,null!==(t=null===(e=this.nickname)||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:this.usernameLower]}}]);return n}(mz.Z),xz=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];bz(this,e);this._rows=t}var t=e.prototype;t.reset=function(){var t=ss().map(ps.Z.getRelationships(),(function(e,t){return new Rz(Sz({key:t,type:e,
nickname:ps.Z.getNickname(t)},Az(t),Pz(t),jz(t)))})),n=ss().map(LV.getSuggestions(),(function(e){return new Rz(Sz({key:e.key,type:99,nickname:e.name},Az(e.key),Pz(e.key),jz(e.key)))}));return new e(ss().concat(t,n))};t.clone=function(){return new e(this._rows)};t.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],o=r.merge(e(r.key));t=t||o!==r;this._rows[n]=o}return t};t.filter=function(e,t){return ss()(this._rows).filter((function(e){if(null==e.user)return!1;if(null!=t&&""!==t){var n=t.toLowerCase();return[e.usernameLower,e.nickname].map((function(e){return null==e?void 0:e.toLowerCase()})).some((function(e){return null==e?void 0:e.includes(n)}))}return!0})).filter((function(t){switch(e){case M.pJs.ONLINE:return t.type===M.OGo.FRIEND&&t.status!==M.Skl.OFFLINE;case M.pJs.PENDING:return t.type===M.OGo.PENDING_INCOMING||t.type===M.OGo.PENDING_OUTGOING;case M.pJs.SUGGESTIONS:return 99===t.type;case M.pJs.BLOCKED:return t.type===M.OGo.BLOCKED;case M.pJs.ALL:
default:return t.type===M.OGo.FRIEND}})).sortBy((function(e){return e.comparator})).value()};t.getRelationshipCounts=function(){var e,t=(Oz(e={},M.OGo.FRIEND,0),Oz(e,M.OGo.PENDING_INCOMING,0),Oz(e,M.OGo.PENDING_OUTGOING,0),Oz(e,99,0),Oz(e,M.OGo.BLOCKED,0),e);this._rows.forEach((function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}));return t};return e}(),Mz=!0,wz=!1,Zz=M.pJs.ONLINE,Lz=new xz,Dz=!0,Uz=!1;function kz(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Mz&&(e||Zz!==M.pJs.ONLINE&&Zz!==M.pJs.ADD_FRIEND)&&!wz){Mz=!1;wz=!0;yz.Z.fetchRelationships()}}function Gz(){Mz=!0;Dz?wz=!1:kz();Lz=Lz.reset();if(!Uz){var e=Lz.getRelationshipCounts();Zz=0===e[M.OGo.FRIEND]?0!==e[M.OGo.PENDING_INCOMING]?M.pJs.PENDING:M.pJs.ADD_FRIEND:M.pJs.ONLINE}}function Bz(){Lz=Dz?new xz:Lz.reset()}function Hz(e){return function(){if(Dz)return!1;if(Lz.update(e)){Lz=Lz.clone();return!0}return!1}}var Vz=function(e){_z(n,e);var t=Cz(n);function n(){bz(this,n);return t.apply(this,arguments)}
var r=n.prototype;r.initialize=function(){this.waitFor(ps.Z,ds.Z,Y.default,kt.Z,ls.ZP,xr.Z,LV);this.syncWith([ps.Z],Bz);this.syncWith([LV],Bz);this.syncWith([Y.default],Hz(Az));this.syncWith([ds.Z,xr.Z],Hz(Pz));Gz()};r.getState=function(){return{fetching:wz,section:Zz,pendingCount:ps.Z.getPendingCount(),rows:Lz}};r.__getLocalVars=function(){return{SUGGESTION_TYPE:99,shouldFetch:Mz,fetching:wz,section:Zz,rows:Lz,pause:Dz,initialSectionSet:Uz}};return n}(s.ZP.Store);Vz.displayName="FriendsStore";const Fz=new Vz(O.Z,{CONNECTION_OPEN:function(){Gz()},FRIENDS_SET_SECTION:function(e){Zz=e.section;kz()},CHANNEL_SELECT:function(e){var t=e.channelId;Dz=null!=t;Bz();return!Dz},LOAD_RELATIONSHIPS_SUCCESS:function(){wz=!1},LOAD_RELATIONSHIPS_FAILURE:function(){Mz=!0;wz=!0},DRAWER_SELECT_TAB:function(e){var t=e.tab;Dz=t!==M.cII.FRIENDS;Bz();return!Dz},FRIENDS_SET_INITIAL_SECTION:function(e){Zz=e.section;Uz=!0}});var Yz=n(940096),Wz=n(714226),zz=n(627456),Kz=n(241618),qz=n.n(Kz);function Xz(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qz(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qz(e,t,n[t])}))}return e}function Jz(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function eK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xz(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tK={canSend:!1,hint:null,success:null,error:null},nK=(0,$.hQ)(),rK="".concat(nK,"-decription"),oK="".concat(nK,"-error")
;function iK(e,t){switch(t.type){case"RESET":return tK;case"SUCCESS":return Jz($z({},tK),{success:t.text});case"HINT":return Jz($z({},tK),{canSend:!0,hint:t.text});case"ERROR":return Jz($z({},e),{canSend:!0,error:t.text})}}function aK(){var e=o.createRef(),t=o.createRef(),n=eK(o.useReducer(iK,tK),2),i=n[0],a=n[1],s=i.canSend,c=i.hint,l=i.success,u=i.error;o.useEffect((function(){if(null!=l){Oh()(null!=e.current,"Input is submitting when not mounted");e.current.value="";e.current.focus()}}),[l,e]);var f;return(0,r.jsxs)("form",{onSubmit:function(t){t.preventDefault();Oh()(null!=e.current,"Input is submitted when not mounted");var n=e.current.value.trim(),r=(0,Wz.Z)(n);null==r?yz.Z.sendRequest(n,{location:"Add Friend"}).then((function(){return a({type:"SUCCESS",text:te.Z.Messages.ADD_FRIEND_SUCCESS.format({discordTag:n})})}),(function(e){return a({type:"ERROR",text:(0,Wz.N)(e.body.code,n)})})):a({type:"ERROR",text:r})},autoComplete:"off",children:[(0,r.jsx)(q.R9,{id:rK,
type:q.R9.Types.DESCRIPTION,children:te.Z.Messages.ADD_FRIEND_DESCRIPTION}),(0,r.jsx)(nb.tE,{focusTarget:e,ringTarget:t,ringClassName:qz().ring,children:(0,r.jsxs)("div",{ref:t,className:Xp()(qz().addFriendInputWrapper,(f={},Qz(f,qz().success,l),Qz(f,qz().error,u),f)),children:[(0,r.jsx)(q.oi,{id:nK,inputRef:e,className:qz().addFriendInput,inputClassName:qz().input,onKeyPress:function(t){var n=t.currentTarget.value;if(t.key!==zz.mR.Enter&&n.includes("#")){Oh()(null!=e.current,"Input is handling keypress when not mounted");var r=n.indexOf("#"),o=e.current.selectionStart,i=t.key===zz.mR.Backspace||t.key===zz.mR.ArrowRight||t.key===zz.mR.ArrowLeft,a=t.which>=48&&t.which<=57;(null!=o&&o>r&&/^(.+?#\d{4})$/.test(n)&&!i||null!=o&&o>r&&!a&&!i)&&t.preventDefault()}},onChange:function(e){if(e.length<=0)a({type:"RESET"});else{var t=eK(e.split("#"),2)[1];a({type:"HINT",text:e+M.LYt.slice(null!=t?t.length+1:0)})}},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-lpignore":!0,
placeholder:te.Z.Messages.ADD_FRIEND_PLACEHOLDER,"aria-label":te.Z.Messages.ADD_FRIEND_PLACEHOLDER,"aria-invalid":null!=u||void 0,"aria-describedby":null!=u?oK:rK}),null!=c&&(0,r.jsx)("div",{className:qz().addFriendHint,"aria-hidden":!0,children:c}),(0,r.jsx)(Q.Co,{size:Q.Co.Sizes.SMALL,disabled:!s,type:"submit",children:te.Z.Messages.ADD_FRIEND_BUTTON})]})}),null!=u&&(0,r.jsx)(q.R9,{role:"alert",id:oK,type:q.R9.Types.ERROR,className:ah().marginTop8,children:u}),null!=l&&(0,r.jsx)(q.R9,{role:"status",type:q.R9.Types.SUCCESS,className:ah().marginTop8,children:l})]})}var sK=n(494330),cK=n(898378);function lK(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function uK(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function fK(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function dK(e){var t=e.color,n=void 0===t?"currentColor":t,o=fK(e,["color"]);return(0,r.jsx)("svg",uK(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lK(e,t,n[t])}))}return e
}({},o),{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"clip-rule":"evenodd",d:"m5.41667 4.2625 5.66573 5.7375-5.66573 5.7375 1.74426 1.7625 7.42237-7.5-7.42237-7.5z",fill:n,"fill-rule":"evenodd"})}))}var pK=n(585301),hK=n.n(pK),EK=n(794649),yK=n.n(EK);function mK(e,t,n){return(0,r.jsxs)("button",{className:hK().container,onClick:n,children:[(0,r.jsx)("img",{className:hK().icon,alt:"",src:e}),(0,r.jsx)(q.xv,{className:hK().text,variant:"text-md/medium",children:t}),(0,r.jsx)(dK,{className:hK().arrow})]},t)}function bK(){var e=Object.values(kt.Z.getGuilds()).filter((function(e){return e.hasFeature(M.oNc.HUB)}));return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("header",{className:hK().header,children:(0,r.jsx)(q.vw,{tag:"h2",className:hK().title,children:te.Z.Messages.ADD_FRIEND_MAKE_FRIENDS})}),(0,r.jsxs)("div",{className:hK().grid,children:[e.map((function(e){return mK(qs.ZP.getGuildIconURL({id:e.id,icon:e.icon,
size:240}),e.name,(function(){!function(e){Ce.default.track(M.rMx.ADD_FRIEND_OTHER_PLACES_HUB_CLICKED,{guild_id:e});(0,eY.X)(e)}(e.id)}))})),mK(yK(),te.Z.Messages.ADD_FRIEND_EXPLORE_PUBLIC_SERVERS,(function(){(0,cK.AQ)();Ce.default.track(M.rMx.ADD_FRIEND_OTHER_PLACES_DISCOVERY_CLICKED);(0,X.uL)(M.Z5c.GUILD_DISCOVERY)}))]})]})}var gK=n(303649),OK=n.n(gK);function vK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _K(e){_K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _K(e)}function SK(e,t){return!t||"object"!==NK(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function IK(e,t){IK=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return IK(e,t)}var TK,NK=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function CK(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_K(e);if(t){var o=_K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SK(this,n)}}!function(e){e.SECTION_NO_RESULTS="SECTION_NO_RESULTS"}(TK||(TK={}));var AK=Object.freeze({SECTION_ALL:{lightSrc:n(607603),darkSrc:n(74700),width:376,height:162,renderContent:function(e){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(tH.ZP.Text,{note:te.Z.Messages.FRIENDS_EMPTY_STATE_ALL}),(0,r.jsx)(Q.Co,{className:OK().button,onClick:e,children:te.Z.Messages.ADD_FRIEND})]})}},SECTION_ONLINE:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return(0,r.jsx)(tH.ZP.Text,{note:te.Z.Messages.FRIENDS_EMPTY_STATE_ONLINE})}},SECTION_BLOCKED:{
lightSrc:n(399898),darkSrc:n(492623),width:433,height:232,renderContent:function(){return(0,r.jsx)(tH.ZP.Text,{note:te.Z.Messages.FRIENDS_EMPTY_STATE_BLOCKED})}},SECTION_PENDING:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return(0,r.jsx)(tH.ZP.Text,{note:te.Z.Messages.FRIENDS_EMPTY_STATE_PENDING})}},SECTION_SUGGESTIONS:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return(0,r.jsx)(tH.ZP.Text,{note:te.Z.Messages.FRIENDS_EMPTY_STATE_SUGGESTIONS})}},SECTION_NO_RESULTS:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return(0,r.jsx)(tH.ZP.Text,{note:te.Z.Messages.FRIEND_REQUEST_NO_RESULTS_FOUND})}}});var PK=function(e){var t=e.theme,n=te.Z.Messages.FRIENDS_EMPTY_STATE_ALL,i=AK.SECTION_ALL;return(0,r.jsx)(o.Fragment,{children:(0,r.jsxs)(tH.ZP,{theme:t,children:[(0,r.jsx)(tH.ZP.Image,{width:i.width,height:i.height,lightSrc:i.lightSrc,darkSrc:i.darkSrc}),(0,r.jsx)(tH.ZP.Text,{note:n
})]})})},jK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&IK(e,t)}(n,e);var t=CK(n);function n(){vK(this,n);var e;(e=t.apply(this,arguments)).state={opacity:new Di.Z.Value(1)};e.componentWillEnter=function(t){e.state.opacity.setValue(0);Di.Z.timing(e.state.opacity,{toValue:1,duration:250}).start(t)};e.componentWillLeave=function(t){Di.Z.timing(e.state.opacity,{toValue:0,duration:250}).start(t)};return e}n.prototype.render=function(){var e=this.props,t=e.type,n=e.onClick,o=e.theme,i={opacity:this.state.opacity},a=function(e){switch(e){case M.pJs.ADD_FRIEND:case M.pJs.ALL:return AK.SECTION_ALL;case M.pJs.ONLINE:return AK.SECTION_ONLINE;case M.pJs.PENDING:return AK.SECTION_PENDING;case M.pJs.SUGGESTIONS:return AK.SECTION_SUGGESTIONS;case M.pJs.BLOCKED:return AK.SECTION_BLOCKED;case TK.SECTION_NO_RESULTS:
return AK.SECTION_NO_RESULTS;default:throw new Error("FriendsEmptyState: Invalid empty state")}}(t);return t===M.pJs.ADD_FRIEND?(0,r.jsx)(Di.Z.div,{className:OK().friendsEmpty,style:i,children:(0,r.jsx)(PK,{theme:o})}):(0,r.jsx)(Di.Z.div,{className:OK().friendsEmpty,style:i,children:(0,r.jsxs)(tH.ZP,{theme:o,children:[(0,r.jsx)(tH.ZP.Image,{width:a.width,height:a.height,lightSrc:a.lightSrc,darkSrc:a.darkSrc}),a.renderContent(n)]})})};return n}(o.PureComponent);const RK=s.ZP.connectStores([Wp.Z],(function(){return{theme:Wp.Z.theme}}),{forwardRef:!0})(jK);var xK=n(184338),MK=n.n(xK);function wK(){return(0,r.jsxs)("header",{className:MK().header,children:[(0,r.jsx)(q.vw,{tag:"h2",className:MK().title,children:te.Z.Messages.ADD_FRIEND}),(0,r.jsx)(aK,{})]})}const ZK=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(wK,{}),(0,sK.b)()&&(0,r.jsx)(bK,{}),(0,r.jsx)("div",{className:MK().emptyState,children:(0,r.jsx)(RK,{type:M.pJs.ADD_FRIEND})})]})};function LK(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function DK(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function UK(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function kK(e){
var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.foreground,l=UK(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",DK(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){LK(e,t,n[t])}))}return e}({},(0,qb.Z)(l)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:c,fill:s,fillRule:"evenodd",clipRule:"evenodd",
d:"M20.2949 0.298996L21.7089 1.713L19.4169 4.006L21.7089 6.299L20.2949 7.713L18.0019 5.42L15.7099 7.713L14.2949 6.299L16.5879 4.006L14.2949 1.713L15.7099 0.298996L18.0019 2.592L20.2949 0.298996ZM8.00195 13.006C10.207 13.006 12.002 11.211 12.002 9.006C12.002 6.801 10.207 5.006 8.00195 5.006C5.79695 5.006 4.00195 6.801 4.00195 9.006C4.00195 11.211 5.79695 13.006 8.00195 13.006ZM8.00195 14.006C3.29095 14.006 0.00195312 16.473 0.00195312 20.006V21.006H16.002V20.006C16.002 16.473 12.713 14.006 8.00195 14.006Z"})}))}var GK,BK=n(969261),HK=n.n(BK);function VK(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function FK(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.DENY=1]="DENY";e[e.DEFAULT=2]="DEFAULT"}(GK||(GK={}));function YK(e){var t=e.icon,n=e.tooltip,o=e.onClick,i=e.actionType,a=void 0===i?GK.DEFAULT:i,s=e.shouldHighlight;return(0,r.jsx)(Kb.ZP,{text:n,children:function(e){var i;return(0,r.jsx)(q.P3,FK(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){VK(e,t,n[t])}))}return e}({},e),{"aria-label":n,onClick:o,className:Xp()(HK().actionButton,(i={},VK(i,HK().actionAccept,a===GK.ACCEPT),VK(i,HK().actionDeny,a===GK.DENY),VK(i,HK().highlight,s),i)),children:(0,r.jsx)(t,{className:HK().icon})}))}})}YK.ActionTypes=GK
;const WK=YK;var zK=n(833151),KK=n.n(zK);function qK(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function XK(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qK(i,r,o,a,s,"next",e)}function s(e){qK(i,r,o,a,s,"throw",e)}a(void 0)}))}}function QK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $K(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function JK(e){JK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return JK(e)}function eq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){$K(e,t,n[t])}))}return e}function tq(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function nq(e,t){return!t||"object"!==oq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rq(e,t){rq=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return rq(e,t)}var oq=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function iq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=JK(e);if(t){var o=JK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nq(this,n)}}var aq=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue
;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},sq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&rq(e,t)}(o,e);var t=iq(o);function o(){QK(this,o);var e;(e=t.apply(this,arguments)).state={height:new Di.Z.Value(62),opacity:new Di.Z.Value(1),hovered:!1,isContextMenuActive:!1};e.handleMouseEnter=function(){var t=e.props,n=t.isFocused,r=t.isActive,o=t.onOtherHover,i=e.state.isContextMenuActive;e.setState({hovered:n});!n||r||i||null==o||o()}
;e.handleMouseLeave=function(){e.setState({hovered:!1})};e.handleContextMenu=function(t,o){e.setState({isContextMenuActive:!0});(0,fb.jW)(t,XK((function(){var e,t;return aq(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,tq(eq({},e),{user:o}))}]}}))})),{onClose:function(){e.setState({isContextMenuActive:!1})}})};return e}var i=o.prototype;i.componentWillLeave=function(e){Di.Z.parallel([Di.Z.timing(this.state.opacity,{toValue:0,duration:200}),Di.Z.timing(this.state.height,{toValue:0,duration:200})]).start(e)};i.componentWillEnter=function(e){this.state.opacity.setValue(0);this.state.height.setValue(0);Di.Z.parallel([Di.Z.timing(this.state.opacity,{toValue:1,duration:200}),Di.Z.timing(this.state.height,{toValue:62,duration:200})]).start(e)};i.render=function(){
var e=this,t=this.state,n=t.height,o=t.opacity,i=t.hovered,a=t.isContextMenuActive,s=this.props,c=s.children,l=s.user,u=s.onClick,f=s.isActive;return(0,r.jsx)(rb.mh,{id:l.id,children:function(t){return(0,r.jsx)(nb.tE,{offset:{left:-8,right:-8},children:(0,r.jsx)(Di.Z.div,tq(eq({className:Xp()(KK().peopleListItem,$K({},KK().active,f||a)),onContextMenu:function(t){return e.handleContextMenu(t,l)},onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onClick:null!=u?u:void 0,style:{height:n,opacity:o}},t),{children:c(i||f||a)}))})}})};return o}(o.PureComponent);const cq=sq;var lq=n(565922),uq=n(107793),fq=n.n(uq);function dq(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const pq=function(e){var t=e.user,n=e.hovered,o=e.subText,i=e.status,a=e.isMobile,c=e.className,l=(0,s.e7)([ps.Z],(function(){return ps.Z.getNickname(t.id)}));return(0,r.jsxs)("div",{className:Xp()(fq().userInfo,c,dq({},fq().hovered,n)),children:[(0,
r.jsx)(lq.Z,{user:t,className:fq().avatar,animate:n,status:i,isMobile:a}),(0,r.jsxs)("div",{className:fq().text,children:[(0,r.jsx)(_H.Z,{nick:l,user:t,className:fq().discordTag,usernameClass:fq().username,discriminatorClass:fq().discriminator,botClass:fq().botTag}),(0,r.jsx)("div",{className:fq().subtext,children:o})]})]})};var hq=n(685904),Eq=n.n(hq);function yq(e){var t=e.user,n=e.key,i=e.isFocused,a=o.useContext(Ce.AnalyticsContext),s=function(e){e.stopPropagation();yz.Z.unblockUser(t.id,{location:"Friends"})};return(0,r.jsx)(cq,{isFocused:i,onClick:function(){return(0,bp.m)({userId:t.id,analyticsLocation:a.location})},user:t,children:function(e){return(0,r.jsxs)("div",{className:Eq().listItemContents,children:[(0,r.jsx)(pq,{user:t,hovered:e,status:M.Skl.UNKNOWN,subText:te.Z.Messages.BLOCKED}),(0,r.jsx)(WK,{icon:kK,actionType:WK.ActionTypes.DENY,tooltip:te.Z.Messages.UNBLOCK,onClick:s,shouldHighlight:e})]})}},n)}var mq=n(862055),bq=n(325310),gq=n(761222),Oq=n(78080),vq=n.n(Oq)
;const _q=function(e){var t=e.hovered,n=e.activities,o=e.applicationStream,i=e.status;return n.length>0?(0,r.jsx)(bq.Z,{className:vq().activity,textClassName:vq().text,emojiClassName:vq().customStatusEmoji,activities:n,applicationStream:o,animate:t}):(0,r.jsx)("div",{className:vq().text,children:(0,gq.u5)(i)})};var Sq=n(684753),Iq=n.n(Sq);function Tq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nq(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Cq(e){Cq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Cq(e)}function Aq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Nq(e,t,n[t])}))}return e}function Pq(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jq(e,t){return!t||"object"!==xq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rq(e,t){Rq=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Rq(e,t)}var xq=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Mq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Cq(e);if(t){var o=Cq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jq(this,n)}}function wq(e){var t=e.user,n=e.onSelect,o=function(){yz.Z.removeFriend(t.id,{location:"Friends"})},i=(0,s.e7)([qe.Z],(function(){return qe.Z.supports($e.AN.VIDEO)}));return(0,r.jsxs)(aW.ZP,{navId:"friend-row","aria-label":te.Z.Messages.USER_ACTIONS_MENU_LABEL,onClose:fb.Zy,onSelect:n,children:[i?(0,r.jsx)(aW.sN,{id:"start-video-call",label:te.Z.Messages.START_VIDEO_CALL,action:function(){xW.Z.openPrivateChannel(t.id,!0,!0)}}):null,(0,r.jsx)(aW.sN,{id:"start-voice-call",label:te.Z.Messages.START_VOICE_CALL,action:function(){xW.Z.openPrivateChannel(t.id,!0)}}),(0,r.jsx)(aW.sN,{id:"remove-friend",label:te.Z.Messages.REMOVE_FRIEND,action:function(){(0,W.h7)((function(e){return(0,
r.jsx)(bh.default,Pq(Aq({header:te.Z.Messages.REMOVE_FRIEND_TITLE.format({name:t.toString()}),confirmText:te.Z.Messages.REMOVE_FRIEND,cancelText:te.Z.Messages.CANCEL,onConfirm:o},e),{children:(0,r.jsx)(q.xv,{variant:"text-md/normal",children:te.Z.Messages.REMOVE_FRIEND_BODY.format({name:t.toString()})})}))}))},color:"danger"})]})}var Zq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Rq(e,t)}(n,e);var t=Mq(n);function n(){Tq(this,n);var e;(e=t.apply(this,arguments)).peopleListItemRef=o.createRef();e.state={isActiveRow:!1};e.handleOpenPrivateChannel=function(t){var n=e.props.user;t.stopPropagation();var r=ss().find(I.Z.getMutablePrivateChannels(),(function(e){return e.type===M.d4z.DM&&e.getRecipientId()===n.id}));null!=r?(0,X.uL)(M.Z5c.CHANNEL(M.ME,r.id)):xW.Z.openPrivateChannel(n.id)}
;e.handleOpenActionsMenu=function(t){var n=e.props.user;(0,fb.vq)(t,(function(e){return(0,r.jsx)(wq,Pq(Aq({},e),{user:n}))}),{onClose:function(){e.setState({isActiveRow:!1})}});e.setState({isActiveRow:!0})};return e}var i=n.prototype;i.componentWillLeave=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)};i.componentWillEnter=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)};i.render=function(){var e=this,t=this.props,n=t.user,o=t.isFocused,i=t.activities,a=t.applicationStream,s=t.status,c=t.isMobile,l=this.state.isActiveRow;return(0,r.jsx)(cq,{ref:this.peopleListItemRef,isFocused:o,isActive:l,user:n,onOtherHover:function(){return l?null:(0,fb.Zy)()},onClick:this.handleOpenPrivateChannel,children:function(t){return(0,r.jsxs)("div",{className:Iq().listItemContents,children:[(0,r.jsx)(pq,{user:n,status:s,isMobile:c,subText:(0,r.jsx)(_q,{hovered:t,activities:i,applicationStream:a,
status:s}),hovered:t}),(0,r.jsxs)("div",{className:Iq().actions,children:[(0,r.jsx)(WK,{icon:fT.Z,tooltip:te.Z.Messages.SEND_DM,onClick:e.handleOpenPrivateChannel,shouldHighlight:t}),(0,r.jsx)(WK,{icon:mq.Z,tooltip:te.Z.Messages.MORE,onClick:e.handleOpenActionsMenu,shouldHighlight:t})]})]})}})};return n}(o.PureComponent);const Lq=Zq;var Dq=n(679396),Uq=n.n(Dq);function kq(e){var t=e.user,n=e.type,i=e.status,a=e.isFocused,s=o.useContext(Ce.AnalyticsContext),c=function(e){e.stopPropagation();yz.Z.cancelFriendRequest(t.id,{location:"Friends"})},l=function(e){e.stopPropagation();yz.Z.addRelationship({userId:t.id,context:{location:"Friends"}})},u=i===M.Skl.OFFLINE?M.Skl.UNKNOWN:i,f=n===M.OGo.PENDING_INCOMING?te.Z.Messages.INCOMING_FRIEND_REQUEST:te.Z.Messages.OUTGOING_FRIEND_REQUEST;return(0,r.jsx)(cq,{isFocused:a,user:t,onClick:function(){return(0,bp.m)({userId:t.id,analyticsLocation:s.location})},children:function(e){var o,i=n===M.OGo.PENDING_INCOMING?(0,r.jsxs)(r.Fragment,{
children:[(null===(o=Y.default.getCurrentUser())||void 0===o?void 0:o.isStaff())&&(null==t?void 0:t.isStaff())&&(0,r.jsx)("div",{className:Uq().staffIndicator,children:(0,r.jsx)(HP.IG,{color:(0,pN.Lq)(M.Ilk.BRAND_500),text:te.Z.Messages.STAFF_BADGE_TOOLTIP})}),(0,r.jsx)(WK,{icon:lN.Z,actionType:WK.ActionTypes.ACCEPT,tooltip:te.Z.Messages.FRIEND_REQUEST_ACCEPT,onClick:l,shouldHighlight:e}),(0,r.jsx)(WK,{icon:Sb.Z,actionType:WK.ActionTypes.DENY,tooltip:te.Z.Messages.FRIEND_REQUEST_IGNORE,onClick:c,shouldHighlight:e})]}):(0,r.jsx)(WK,{icon:Sb.Z,actionType:WK.ActionTypes.DENY,tooltip:te.Z.Messages.FRIEND_REQUEST_CANCEL,onClick:c,shouldHighlight:e});return(0,r.jsxs)("div",{className:Uq().listItemContents,children:[(0,r.jsx)(pq,{user:t,hovered:e,status:u,subText:f,className:Uq().userInfo}),(0,r.jsx)("div",{className:Uq().actions,children:i})]})}})}var Gq=n(666164),Bq=n(65234),Hq=n.n(Bq);function Vq(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function Fq(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const Yq=function(e){var t=e.statusSections,n=e.renderRow,i=e.searchQuery,a=function(e){return 0===t[e].length?0:40},c=function(e){var r=e.section,o=e.row,i=t[r];if(null==i||null==o)return null;var a=i[o];return null==a?null:n(a)},l=(0,s.e7)([E.Z],(function(){return E.Z.keyboardModeEnabled})),u=o.useRef(null),f=o.useCallback((function(){return new Promise((function(e){var t=u.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),d=o.useCallback((function(){return new Promise((function(e){var t=u.current
;if(null==t)return e();t.scrollToBottom({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),p=o.useCallback((function(e){var t=document.querySelector(e),n=u.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:function(){return null==t?void 0:t.focus()}})}),[]),h=(0,Gq.ZP)({id:"people-list",isEnabled:l,scrollToStart:f,scrollToEnd:d,setFocus:p});return(0,r.jsx)(rb.bG,{navigator:h,children:(0,r.jsx)(rb.SJ,{children:function(e){var n=e.ref,o=Fq(e,["ref"]);return(0,r.jsx)(IA._2,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vq(e,t,n[t])}))}return e}({ref:function(e){u.current=e;var t;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},sectionHeight:a,
renderRow:c,rowHeight:62,sections:t.map((function(e){return""!==i&&0===e.length?e.length+1:e.length})),className:Hq().peopleList},o))}})})};var Wq=n(589175);function zq(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Kq(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zq(i,r,o,a,s,"next",e)}function s(e){zq(i,r,o,a,s,"throw",e)}a(void 0)}))}}function qq(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xq(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Qq(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var $q=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Jq=function(e){var t=e.statusSections,n=e.renderRow,o=e.searchQuery,i=e.sectionFilter,a=e.useReducedMotion,c=(0,s.e7)([E.Z],(function(){return E.Z.keyboardModeEnabled})),l=(0,Gq.ZP)({id:"people",isEnabled:c,scrollToStart:function(){return Kq((function(){return $q(this,(function(e){return[2]}))}))()},scrollToEnd:function(){return Kq((function(){return $q(this,(function(e){return[2]}))}))()}
}),u=i!==M.pJs.ONLINE&&i!==M.pJs.ALL,f=a||""!==o||u,d=t.map((function(e,t){return f?(0,r.jsx)("div",{children:e.map(n)},t):(0,r.jsx)(Wq.Z,{transitionAppear:!1,component:"div",children:e.map(n)},t)}));return(0,r.jsx)(rb.bG,{navigator:l,children:(0,r.jsx)(rb.SJ,{children:function(e){var t=e.ref,n=Qq(e,["ref"]);return(0,r.jsx)(eE.w0,Xq(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qq(e,t,n[t])}))}return e}({ref:t,className:Hq().peopleList},n),{children:d}))}})})};function eX(e){var t=e.relationshipCount,n=e.statusSections,o=e.renderRow,i=e.searchQuery,a=e.sectionFilter,s=e.useReducedMotion;return t>=64?(0,r.jsx)(Yq,{statusSections:n,renderRow:o,searchQuery:i}):(0,r.jsx)(Jq,{statusSections:n,renderRow:o,sectionFilter:a,searchQuery:i,
useReducedMotion:s})}var tX=n(858162),nX=n.n(tX);function rX(e){var t=e.title,n=e.id;return(0,r.jsx)(XB.Z,{className:nX().title,id:n,children:t})}var oX=n(380625),iX=n.n(oX);function aX(e){var t=e.user,n=e.nickname,i=e.status,a=e.isFocused,s=o.useContext(Ce.AnalyticsContext),c=function(e){null==e||e.stopPropagation();yz.Z.addRelationship({userId:t.id,context:{location:"Friends"},type:void 0,friendToken:void 0,fromFriendSuggestion:!0})},l=function(e){null==e||e.stopPropagation();gV(t.id)},u=i===M.Skl.OFFLINE?M.Skl.UNKNOWN:i;return(0,r.jsx)(cq,{isFocused:a,user:t,onClick:function(){return(0,bp.m)({userId:t.id,analyticsLocation:s.location})},children:function(e){var o=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(WK,{icon:lN.Z,actionType:WK.ActionTypes.ACCEPT,tooltip:te.Z.Messages.FRIEND_REQUEST_ACCEPT,onClick:c,shouldHighlight:e}),(0,r.jsx)(WK,{icon:Sb.Z,actionType:WK.ActionTypes.DENY,tooltip:te.Z.Messages.FRIEND_REQUEST_IGNORE,onClick:l,shouldHighlight:e})]});return(0,r.jsxs)("div",{
className:iX().listItemContents,children:[(0,r.jsx)(pq,{user:t,hovered:e,status:u,subText:n,className:iX().userInfo}),(0,r.jsx)("div",{className:iX().actions,children:o})]})}})}function sX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cX(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cX(e,t,n[t])}))}return e}function uX(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function fX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sX(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dX(e,t){switch(e){case M.pJs.ONLINE:return te.Z.Messages.FRIENDS_ONLINE_HEADER.format({online:t.toString()});case M.pJs.PENDING:return te.Z.Messages.FRIENDS_PENDING_HEADER.format({count:t.toString()});case M.pJs.SUGGESTIONS:return te.Z.Messages.FRIENDS_FRIEND_SUGGESTIONS_HEADER.format({count:t.toString()});case M.pJs.BLOCKED:return te.Z.Messages.FRIENDS_BLOCKED_HEADER.format({count:t.toString()});default:return te.Z.Messages.FRIENDS_ALL_HEADER.format({count:t.toString()})}}const pX=function(e){var t=e.sectionFilter,n=e.titleId,i=(0,s.cj)([Fz],(function(){return Fz.getState()})),a=i.rows,c=i.section,l=(0,s.e7)([Qe.Z],(function(){return Qe.Z.isFocused()})),u=(0,s.e7)([ps.Z],(function(){return ps.Z.getRelationshipCount()})),f=fX(o.useState((function(){var e={},t=!0,n=!1,r=void 0;try{
for(var o,i=Object.values(M.pJs)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){e[o.value]=""}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e})),2),d=f[0],p=f[1],h=o.useCallback((function(e){p(uX(lX({},d),cX({},t,e)))}),[d,t]),y=o.useCallback((function(){p(uX(lX({},d),cX({},t,"")))}),[d,t]),m=a.filter(t,d[t]);if(0===m.length&&""===d[t])return(0,r.jsx)("div",{className:Hq().emptyStateContainer,children:(0,r.jsx)(RK,{type:t,onClick:function(){EV.Z.setSection(M.pJs.ADD_FRIEND)}},c)});var b=[m],g=0===m.length&&""!==d[t];return(0,r.jsxs)(UV.Z,{section:M.jXE.FRIENDS_LIST,children:[(0,r.jsx)(LP.Z,{className:Xp()(Hq().searchBar,g?Hq().searchEmptyState:null),query:d[t],onChange:h,onClear:y,size:LP.Z.Sizes.MEDIUM}),(0,r.jsx)("div",{className:Hq().SectionTitle,children:(0,r.jsx)(rX,{id:n,title:dX(t,m.length)})}),g?(0,r.jsx)("div",{className:Hq().emptyStateContainer,children:(0,r.jsx)(RK,{type:TK.SECTION_NO_RESULTS},c)}):(0,r.jsx)(eX,{
relationshipCount:u,statusSections:b,renderRow:function(e){switch(t){case M.pJs.BLOCKED:return(0,r.jsx)(yq,uX(lX({},e),{isFocused:l}));case M.pJs.PENDING:return(0,r.jsx)(kq,uX(lX({},e),{isFocused:l}));case M.pJs.SUGGESTIONS:return(0,r.jsx)(aX,uX(lX({},e),{isFocused:l}));case M.pJs.ONLINE:case M.pJs.ALL:default:return(0,r.jsx)(Lq,uX(lX({},e),{isFocused:l}))}},sectionFilter:t,searchQuery:d[t],useReducedMotion:E.Z.useReducedMotion})]})};var hX=n(342894),EX=n.n(hX);function yX(){return(0,r.jsxs)("div",{className:EX().inviteToolbar,children:[(0,r.jsx)(DV.Z,{tooltip:te.Z.Messages.NEW_GROUP_DM}),(0,r.jsx)(Ug.Z.Divider,{})]})}const mX=function(e){var t=e.initialSection;o.useEffect((function(){xB(M.Z5c.FRIENDS);(0,KB.e)("friends")}));o.useEffect((function(){null!=t&&EV.Z.setInitialSection(t)}),[t]);var n=(0,s.e7)([Wp.Z],(function(){return Wp.Z.theme})),i=(0,s.cj)([Fz],(function(){return Fz.getState()})),a=i.section,c=i.pendingCount,l=(0,s.cj)([LV],(function(){return LV.getSuggestionCount()
})),u=(0,$.Dt)(),f=(0,$.Dt)();return(0,r.jsxs)("main",{className:EX().container,"aria-label":te.Z.Messages.FRIENDS,children:[(0,r.jsx)(ym.yY,{location:te.Z.Messages.FRIENDS}),(0,r.jsxs)(Ug.Z,{className:(0,QB.Q)(n),toolbar:(0,r.jsx)(yX,{}),scrollable:ao.tq,role:"navigation","aria-labelledby":u,children:[(0,r.jsx)(Ug.Z.Icon,{icon:Yz.Z,"aria-hidden":!0}),(0,r.jsx)(Ug.Z.Title,{id:u,children:te.Z.Messages.FRIENDS}),(0,r.jsx)(Ug.Z.Divider,{}),(0,r.jsxs)(yA.ZP,{"aria-label":te.Z.Messages.FRIENDS,selectedItem:a,type:yA.Yk.TOP_PILL,onItemSelect:function(e){EV.Z.setSection(e)},className:EX().tabBar,children:[(0,r.jsx)(yA.ck,{id:M.pJs.ONLINE,className:EX().item,children:te.Z.Messages.FRIENDS_SECTION_ONLINE}),(0,r.jsx)(yA.ck,{id:M.pJs.ALL,className:EX().item,children:te.Z.Messages.FRIENDS_SECTION_ALL}),(0,r.jsxs)(yA.ck,{id:M.pJs.PENDING,className:EX().item,"aria-label":te.Z.Messages.FRIENDS_SECTION_PENDING,children:[te.Z.Messages.FRIENDS_SECTION_PENDING,c>0?(0,r.jsx)(HP.mA,{count:c,
className:EX().badge,style:{paddingRight:0}}):null]}),l>0?(0,r.jsxs)(yA.ck,{id:M.pJs.SUGGESTIONS,className:EX().item,"aria-label":te.Z.Messages.FRIENDS_SECTION_SUGGESTIONS,children:[te.Z.Messages.FRIENDS_SECTION_SUGGESTIONS,(0,r.jsx)(HP.mA,{count:l,className:EX().badge,style:{paddingRight:0}})]}):null,(0,r.jsx)(yA.ck,{id:M.pJs.BLOCKED,className:EX().item,children:te.Z.Messages.BLOCKED}),(0,r.jsx)(yA.ck,{"aria-label":te.Z.Messages.FRIENDS_SECTION_ADD_FRIEND,className:Xp()(EX().item,EX().addFriend),id:M.pJs.ADD_FRIEND,children:(0,r.jsx)("span",{children:te.Z.Messages.FRIENDS_SECTION_ADD_FRIEND})})]})]}),(0,r.jsxs)("div",{className:EX().tabBody,children:[(0,r.jsx)(yA.s_,{id:a,className:EX().peopleColumn,"aria-labelledby":f,children:a===M.pJs.ADD_FRIEND?(0,r.jsx)(ZK,{}):(0,r.jsx)(pX,{titleId:f,sectionFilter:a})}),(0,r.jsx)("div",{className:EX().nowPlayingColumn,children:(0,r.jsx)(Ez,{})})]})]})};var bX=n(825524),gX=n(367769),OX=n(992735),vX=n(881699),_X=n(21979),SX=n(169364)
;function IX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function NX(e){NX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return NX(e)}function CX(e,t){return!t||"object"!==jX(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function AX(e,t){AX=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return AX(e,t)}var PX,jX=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function RX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=NX(e);if(t){var o=NX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CX(this,n)}}function xX(){PX=!1}xX();var MX=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&AX(e,t)}(n,e);var t=RX(n);function n(){IX(this,n);return t.apply(this,arguments)}n.prototype.__getLocalVars=function(){return{hasCompletedStepDuringSession:PX}};!function(e,t,n){t&&TX(e.prototype,t);n&&TX(e,n)}(n,[{key:"hasCompletedStepDuringSession",get:function(){return PX}}]);return n}(s.ZP.Store);MX.displayName="NitroductionSessionStore";const wX=new MX(O.Z,{SET_HAS_COMPLETED_STEP:function(){PX=!0},RESET_HAS_COMPLETED_STEP:function(){PX=!1},LOGOUT:function(){xX()}})
;var ZX=n(706594),LX=n(353008),DX=n.n(LX),UX=n(834986),kX=n.n(UX),GX=n(257366),BX=n.n(GX),HX=n(512942),VX=n.n(HX),FX=n(928437),YX=n.n(FX),WX=n(301802),zX=n.n(WX);function KX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qX(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function XX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return KX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KX(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var QX=function(e){var t=e.stepDescription,n=e.hasCompletedStep,o=e.image,i=e.onClick,a=e.tooltipText,s=e.isEnabled,c=void 0===s||s,l=e.shouldPreventDefaultEmojiPickerToggle,u=void 0!==l&&l;return(0,r.jsx)(Kb.ZP,{shouldShow:!c,text:a,position:Kb.ZP.Positions.RIGHT,tooltipContentClassName:DX().tooltipText,spacing:20,children:function(e){var a,s,l,f,d,p=e.onMouseEnter,h=e.onMouseLeave;return(0,r.jsx)(q.P3,{onMouseEnter:p,onMouseLeave:h,onClick:function(){c&&i()},className:Xp()((a={},qX(a,DX().tutorialLinkcontainer,!0),qX(a,DX().tutorialLinkcontainerEnabled,c),a)),"data-nitroduction-persistent-coachmark-emoji-step":u,children:(0,r.jsxs)("div",{className:Xp()(qX({},DX().tutorialLinkBackground,!0)),children:[(0,r.jsx)("div",{
className:Xp()((s={},qX(s,DX().tutorialLinkImageContainer,!0),qX(s,DX().tutorialLinkImageContainerDisabled,!c),s)),children:o}),(0,r.jsx)(q.xv,{variant:"text-sm/medium",className:Xp()((l={},qX(l,DX().tutorialLink,!0),qX(l,DX().tutorialLinkEnabled,c),qX(l,DX().tutorialLinkDisabled,!c),l)),children:t}),n?(0,r.jsx)(lN.Z,{className:Xp()((f={},qX(f,DX().tutorialCheckmark,!0),qX(f,DX().tutorialCheckmarkEnabled,c),qX(f,DX().tutorialCheckmarkDisabled,!c),f))}):(0,r.jsx)("div",{className:DX().rightCaretContainer,children:(0,r.jsx)(SX.Z,{width:16,className:Xp()((d={},qX(d,DX().tutorialRightCaret,!0),qX(d,DX().tutorialRightCaretEnabled,c),qX(d,DX().tutorialRightCaretDisabled,!c),d))})})]})})}})};var $X=function(e){var t=e.hasCompletedProfileTutorial,n=e.hasCompletedBoostTutorial,i=e.hasCompletedEmojiTutorial,a=e.analyticsLocations,c=(0,vX.Z)({analyticsLocation:{page:M.ZY5.PREMIUM_TRIAL_TUTORIAL_COACHMARK}}),l=(0,s.e7)([P.Z],(function(){return P.Z.getGuildId()})),u=(0,s.e7)([A.Z],(function(){
return A.Z.getChannelId(l)})),f=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(u)})),d=null!=f&&f.type===BO.d.GUILD_VOICE,p=function(e,t){return(0,s.cj)([nR.Z,En.Z],(function(){if(!nR.Z.hasUsableEmojiInAnyGuild())return{canUserSendEmoji:!1,userCantSendEmojiReason:te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_EMOJI_FLOW_DISABLED_TOOLTIP};if(null==t)return{canUserSendEmoji:!1,userCantSendEmojiReason:te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_OPEN_CHANNEL_TOOLTIP};if(t.type!==BO.d.DM&&t.type!==BO.d.GUILD_TEXT&&t.type!==BO.d.GROUP_DM&&t.type!==BO.d.PUBLIC_THREAD&&t.type!==BO.d.PRIVATE_THREAD&&t.type!==BO.d.GUILD_VOICE)return{canUserSendEmoji:!1,userCantSendEmojiReason:te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_CHANNEL_DOESNT_ALLOW_EMOJI_TOOLTIP};if(null!=e){if(!En.Z.can(M.Plq.SEND_MESSAGES,t))return{canUserSendEmoji:!1,userCantSendEmojiReason:te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_OPEN_CHANNEL_TOOLTIP};if(!En.Z.can(M.Plq.USE_EXTERNAL_EMOJIS,t))return{canUserSendEmoji:!1,
userCantSendEmojiReason:te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_CHANNEL_DOESNT_ALLOW_EMOJI_TOOLTIP}}return{canUserSendEmoji:!0,userCantSendEmojiReason:void 0}}))}(l,f),h=p.canUserSendEmoji,E=p.userCantSendEmojiReason,y=(0,s.e7)([P.Z,kt.Z],(function(){var e=P.Z.getGuildId();return null!=kt.Z.getGuild(e)}));o.useEffect((function(){h||Ce.default.track(M.rMx.PREMIUM_FEATURE_TUTORIAL_FLOW_DISABLED,{flow:"emoji"});y||Ce.default.track(M.rMx.PREMIUM_FEATURE_TUTORIAL_FLOW_DISABLED,{flow:"boost"})}),[h,y]);return(0,r.jsxs)("div",{className:DX().tutorialStepsContainer,children:[(0,r.jsx)("hr",{className:DX().tutorialLinkSeparator}),(0,r.jsx)(QX,{stepDescription:te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_EMOJI,hasCompletedStep:i,image:(0,r.jsx)("img",{alt:"",src:BX(),className:DX().emojiTutorialImg}),onClick:function(){d&&null!=u&&bX.Z.updateChatOpen(u,!0);(0,AE.w9)(na.dq.CUSTOM_EMOJI);!function(e,t){Ce.default.track(M.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,
helper_action:na.wt.UNLOCK_EMOJI_CLICKED});var n=t?yb.I.SIDEBAR:yb.I.NORMAL;(0,OX.RO)(ZX.X1.EMOJI,n);(0,HZ.Kz)(VZ.s.EMOJI_PICKER)}(a,d);!function(){var e=P.Z.getGuildId(),t=0;nR.Z.getTopEmoji(e).length>0&&t++;nR.Z.getDisambiguatedEmojiContext(e).favoriteEmojisWithoutFetchingLatest.length>0&&t++;nR.Z.getDisambiguatedEmojiContext(e).getFrequentlyUsedEmojisWithoutFetchingLatest().length>0&&t++;(0,gX.oi)(t)}()},tooltipText:E,isEnabled:h,shouldPreventDefaultEmojiPickerToggle:!0}),(0,r.jsx)("hr",{className:DX().tutorialLinkSeparator}),(0,r.jsx)(QX,{stepDescription:te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_CUSTOM_PROFILES,hasCompletedStep:t,image:(0,r.jsx)("img",{alt:"",src:VX()}),onClick:function(){(0,AE.w9)(na.dq.PROFILE_CUSTOMIZATION);!function(e,t){Ce.default.track(M.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:t,helper_action:na.wt.CUSTOM_PROFILES_CLICKED});e()}(c,a)}}),(0,r.jsx)("hr",{className:DX().tutorialLinkSeparator}),(0,r.jsx)(QX,{
stepDescription:te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_BOOSTS,hasCompletedStep:n,image:(0,r.jsx)("img",{alt:"",src:kX(),className:DX().boostTutorialImg}),onClick:function(){(0,AE.w9)(na.dq.BOOSTING);!function(e){Ce.default.track(M.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:na.wt.SERVER_BOOSTS_CLICKED});(0,dZ.l)(!0);(0,HZ.Kz)(VZ.s.BOOSTING_FLOW)}(a)},tooltipText:te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_BOOST_FLOW_DISABLED_TOOLTIP,isEnabled:y})]})},JX=function(e,t){if(!t&&e>=1&&e<3)return te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_WELCOME_BACK;switch(e){case 1:return te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER_COMPLETED_ONE;case 2:return te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER_LAST_ONE;case 3:return te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER_COMPLETED;default:return te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER}},eQ=function(e){switch(e){case 1:
return te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER_CHOOSE_ANOTHER_PERK;case 2:return te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER_LAST_ONE;case 3:return te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER_COMPLETED;default:return te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER}},tQ=function(e){var t=VZ.Z.isPersistentCoachmarkCollapsed?na.wt.HELPER_UNCOLLAPSED:na.wt.HELPER_COLLAPSED;Ce.default.track(M.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:t});(0,HZ.Lt)()},nQ=function(e){var t=e.analyticsLocations,n=(0,WZ.$)(),i=n.includes(na.dq.PROFILE_CUSTOMIZATION),a=n.includes(na.dq.BOOSTING),c=n.includes(na.dq.CUSTOM_EMOJI),l=XX(o.useState(!1),2),u=l[0],f=l[1];o.useEffect((function(){i&&a&&c&&f(!0)}),[i,a,c]);var d=(0,s.e7)([wX],(function(){return wX.hasCompletedStepDuringSession}));return(0,r.jsxs)("div",{className:DX().expandedCoachmarkContentContainer,children:[(0,r.jsxs)("div",{className:DX().expandedCoachmarkHeaderContent,
children:[(0,r.jsxs)("div",{className:DX().expandedCoachmarkImageAndButtonContainer,children:[(d||u)&&(0,r.jsx)("img",{alt:"",src:zX(),className:DX().expandedCoachmarkSprinkles}),(0,r.jsx)("div",{className:DX().expandedCoachmarkHeaderImageContainer,children:(0,r.jsx)("img",{alt:"",src:YX(),className:DX().expandedCoachmarkHeaderImage})}),(0,r.jsx)(q.P3,{onClick:function(){return tQ(t)},className:DX().expandedCoachmarkCollapseButtonContainer,children:(0,r.jsx)(BM.Z,{open:!1,className:DX().expandedCoachmarkCollapseButton})})]}),(0,r.jsx)(q.xv,{className:DX().expandedCoachmarkHeader,variant:"text-md/semibold",children:JX(n.length,d)}),(0,r.jsx)(q.xv,{className:DX().expandedCoachmarkSubheader,variant:"text-sm/normal",children:eQ(n.length)})]}),(0,r.jsx)($X,{hasCompletedProfileTutorial:i,hasCompletedBoostTutorial:a,hasCompletedEmojiTutorial:c,analyticsLocations:t}),u&&(0,r.jsx)("div",{className:DX().expandedCoachmarkFooterContent,children:(0,r.jsx)(q.P3,{onClick:function(){
return function(e){Ce.default.track(M.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:na.wt.EXPLORE_ALL_PERKS_CLICKED});(0,X.uL)(M.Z5c.APPLICATION_STORE)}(t)},children:(0,r.jsx)(q.xv,{variant:"text-sm/normal",className:DX().seeAllPerksLink,children:te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_MARKETING_REDIRECT})})})]})},rQ=function(e){var t=e.analyticsLocations;return(0,r.jsxs)(q.P3,{onClick:function(){return tQ(t)},className:DX().collapsedCoachmarkContainer,children:[(0,r.jsx)("img",{alt:"",src:YX(),className:DX().collapsedCoachmarkImage}),(0,r.jsx)(q.xv,{variant:"text-sm/medium",className:DX().collapsedCoachmarkHeading,children:te.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COLLAPSED_COACHMARK_HEADING}),(0,r.jsx)(_X.Z,{className:DX().collapsedCoachmarkExpandButton})]})};const oQ=function(){var e=(0,s.e7)([VZ.Z],(function(){return VZ.Z.isPersistentCoachmarkCollapsed})),t=(0,FM.Z)(vf.Z.PREMIUM_TRIAL_TUTORIAL_COACHMARK).analyticsLocations;return e?(0,r.jsx)(rQ,{
analyticsLocations:t}):(0,r.jsx)(nQ,{analyticsLocations:t})};var iQ=n(551433),aQ=n(450807),sQ=n(511479);function cQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lQ(e){lQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return lQ(e)}function uQ(e,t){return!t||"object"!==dQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fQ(e,t){fQ=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fQ(e,t)}var dQ=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=lQ(e);if(t){var o=lQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uQ(this,n)}}var hQ={};var EQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fQ(e,t)}(n,e);var t=pQ(n);function n(){cQ(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getSkuIdForChannel=function(e){return hQ[e]};r.__getLocalVars=function(){return{channelIdToSkuId:hQ}};return n}(s.ZP.Store);EQ.displayName="ChannelSKUStore";const yQ=new EQ(O.Z,{CONNECTION_OPEN:function(){hQ={}},STORE_LISTING_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.storeListing;null!=t&&(hQ[t]=n.sku.id)}});var mQ=n(638224),bQ=n(143765),gQ=n(492036),OQ=n.n(gQ);function vQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Q(e){
_Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _Q(e)}function SQ(e,t){return!t||"object"!==TQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function IQ(e,t){IQ=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return IQ(e,t)}var TQ=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function NQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_Q(e);if(t){var o=_Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SQ(this,n)}}var CQ=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&IQ(e,t)}(n,e);var t=NQ(n);function n(){vQ(this,n);var e;(e=t.apply(this,arguments)).fetchStoreListing=function(t){var n=e.props,r=n.channel,o=n.inputSkuId;return null!=t?xW.Z.fetchChannelStoreListing(r.id,t):null!=o?xW.Z.fetchChannelStoreListing(r.id,o):xW.Z.fetchChannelStoreListing(r.id)};e.renderApplicationListing=function(t){var n=t.location,o=e.props,i=o.channel,a=o.skuId,s=o.width;return(0,r.jsx)(bQ.Z,{channel:i,inputSkuId:a,fetchStoreListing:e.fetchStoreListing,location:n,pageSize:(0,mQ.getPageSize)(s)})};return e}var o=n.prototype;o.componentDidMount=function(){this.fetchStoreListing();(0,KB.e)("channel_store_listing")};o.render=function(){return null!=this.props.skuId?(0,r.jsx)(UV.Z,{page:M.ZY5.CHANNEL_STORE_LISTING,root:!0,children:(0,r.jsx)("div",{
className:OQ().applicationStore,children:(0,r.jsx)(a.AW,{path:"*",render:this.renderApplicationListing})})}):null};return n}(o.Component);const AQ=(0,ab.Z)(s.ZP.connectStores([yQ],(function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:yQ.getSkuIdForChannel(t.id)}}))(CQ));function PQ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function jQ(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function RQ(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){
n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function xQ(e){var t=e.width,n=void 0===t?14:t,o=e.height,i=void 0===o?14:o,a=e.color,s=void 0===a?"currentColor":a,c=e.foreground,l=RQ(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",jQ(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){PQ(e,t,n[t])}))}return e}({},(0,qb.Z)(l)),{width:n,height:i,viewBox:"0 0 14 14",children:(0,r.jsx)("path",{fill:s,className:c,
d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"})}))}var MQ=n(9007),wQ=n.n(MQ);function ZQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LQ(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ZQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var DQ="isHideDevBanner";const UQ=function(){var e,t=LQ((0,
o.useState)("true"===(null===(e=Ne.Z.get(DQ,"false"))||void 0===e?void 0:e.toString())),2),n=t[0],i=t[1];if(n)return null;var a=function(){Ne.Z.set(DQ,!0);i(!0)},s=function(){return(0,r.jsx)(q.P3,{onClick:a,className:wQ().closeButton,"aria-label":te.Z.Messages.DISMISS,children:(0,r.jsx)(Sb.Z,{className:wQ().closeIcon})})};0;if("staging"===window.GLOBAL_ENV.RELEASE_CHANNEL){return(0,r.jsxs)("div",{className:Xp()(wQ().devBanner,wQ().staging),children:[(0,r.jsx)(xQ,{className:wQ().icon}),te.Z.Messages.DEV_NOTICE_STAGING.format({buildNumber:"171842"}),(0,r.jsx)(s,{})]})}return null};var kQ=n(473727),GQ=n(992497);function BQ(e){O.Z.dispatch({type:"DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS",skuId:e})}var HQ=n(193059);const VQ=function(){O.Z.dispatch({type:"CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID"})};var FQ=n(49215),YQ=n(955092),WQ=n(783848),zQ=n(545623),KQ=n(99274),qQ=n(279248),XQ=n.n(qQ);const QQ=function(e){var t,n=e.noticeType,o=e.markAsDismissed,i=e.partnerGame,a=(0,
KQ.BS)(i).title,c=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),l="https://survey.alchemer.com/s3/7043057/Drops-NPS?user_id=".concat(null!==(t=null==c?void 0:c.id)&&void 0!==t?t:"");return(0,r.jsxs)(Mx.ZP,{className:XQ().colorGuildBlue,children:[te.Z.Messages.DROPS_BANNER_ENDED_INCOMPLETE.format({gameTitle:a}),(0,r.jsx)(Mx.u3,{href:l,target:"_blank",onClick:function(){o(mn.L.PRIMARY)},children:te.Z.Messages.DROPS_FEEDBACK_SURVEY}),(0,r.jsx)(Mx.Ry,{onClick:function(){o(mn.L.DISMISS)},noticeType:n})]})};var $Q=n(524814),JQ=n(668131),e$=n(494284),t$=n.n(e$);var n$=function(e,t,n){return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},JQ.X2.HALO,{bodyText:te.Z.Messages.DROPS_BANNER_NOTICE_HALO_DROP.format({endDate:Ub()(n,"YYYY-MM-DD HH:mm").format("MMM Do"),streamLengthRequirement:t}),articleUrl:JQ.n4})[e]};const r$=function(e){var t=e.noticeType,n=e.markAsDismissed,o=e.partnerGame,i=(0,
$Q.au)(o),a=i.config.streamLengthRequirement,s=i.dropInfo.endDate,c=n$(o,a,s),l=c.bodyText,u=c.articleUrl;return(0,r.jsxs)(Mx.ZP,{className:t$().colorGuildBlue,children:[l,(0,r.jsx)(Mx.u3,{href:u,target:"_blank",onClick:function(){n(mn.L.PRIMARY)},children:te.Z.Messages.LEARN_MORE}),(0,r.jsx)(Mx.Ry,{onClick:function(){n(mn.L.DISMISS)},noticeType:t})]})};var o$=n(224292),i$=n(732031),a$=n(786608),s$=n(738549),c$=n(255919),l$=n(202192),u$=n.n(l$);const f$=function(e){var t=e.notice,n=e.noticeType,o=e.dismissCurrentNotice,i=null!=(null==t?void 0:t.metadata.premiumSubscription),a=(0,s$.n)();(0,c$.U)(M.jXE.NOTIFICATION_BAR,null==a?void 0:a.countryCode);if(null==a)return null;var s=a.countryCode,c=a.currency,l=a.paymentSourceTypes.length>0;return(0,r.jsxs)(Mx.ZP,{color:i?Mx.DM.BRAND:Mx.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(Mx.Ry,{onClick:o,noticeType:n}),!i&&(0,r.jsx)(i$.Z,{className:u$().premiumIcon}),(0,a$.Gv)(s,c,l,i),(0,r.jsx)(Mx.No,{onClick:function(){o();h.Z.open(M.oAB.PREMIUM)},
noticeType:n,children:te.Z.Messages.LEARN_MORE})]})};var d$=n(35220),p$=n(511515);function h$(e){switch(e){case na.Si.TIER_0:return Mx.DM.PREMIUM_TIER_0;case na.Si.TIER_2:return Mx.DM.PREMIUM_TIER_2;default:throw new Error("Unsupported subscription tier: ".concat(e))}}function E$(e,t){switch(e){case na.Si.TIER_0:return t.days>0?te.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_DAYS_VARIANT.format({days:t.days}):t.hours>0?te.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_HOURS_VARIANT.format({hours:t.hours}):te.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_MINUTES_VARIANT.format({minutes:Math.max(t.minutes,1)});case na.Si.TIER_2:return t.days>0?te.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_DAYS_VARIANT.format({days:t.days}):t.hours>0?te.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_HOURS_VARIANT.format({hours:t.hours}):te.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_MINUTES_VARIANT.format({minutes:Math.max(t.minutes,1)});default:
throw new Error("Unsupported subscription tier: ".concat(e))}}function y$(e){switch(e){case na.Si.TIER_0:return te.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_CTA_VARIANT;case na.Si.TIER_2:return te.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_CTA_VARIANT;default:throw new Error("Unsupported subscription tier: ".concat(e))}}const m$=function(e){var t,n=e.dismissCurrentNotice,o=e.subscriptionTier,i=(0,FM.Z)(function(e){switch(e){case na.Si.TIER_0:return vf.Z.PREMIUM_TIER_0_TRIAL_ENDING_NOTICE;case na.Si.TIER_2:return vf.Z.PREMIUM_TIER_2_TRIAL_ENDING_NOTICE;default:throw new Error("Unsupported subscription tier: ".concat(e))}}(o)).analyticsLocations,a=(0,p$.N)(),s=(0,d$.Z)(null!=a&&null!=a.expires_at?Date.parse(a.expires_at):0);return null==a||(null===(t=a.subscription_trial)||void 0===t?void 0:t.sku_id)!==o||null==a.expires_at||Object.values(s).every((function(e){return 0===e}))?null:(0,r.jsxs)(Mx.ZP,{color:h$(o),children:[(0,r.jsx)(Mx.Ry,{onClick:n}),(0,r.jsx)(i$.Z,{
className:u$().premiumIcon}),E$(o,s),(0,r.jsx)(Mx.Ey,{onClick:function(){(0,o$.Z)({trialId:a.trial_id,subscriptionTier:o,analyticsLocations:i,analyticsObject:{page:M.ZY5.IN_APP,section:M.jXE.NOTIFICATION_BAR,object:M.qAy.BUTTON_CTA}})},children:y$(o)})]})};function b$(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function g$(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b$(i,r,o,a,s,"next",e)}function s(e){b$(i,r,o,a,s,"throw",e)}a(void 0)}))}}function O$(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var v$=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_$=function(e){var t=e.dismissibleContent,o=e.noticeType,i=(0,s.e7)([aQ.Z],(function(){return aQ.Z.getNotice()}));return(0,r.jsx)(ZT.Z,{contentTypes:[t],children:function(e){
var t=e.visibleContent,a=e.markAsDismissed;switch(t){case dn.z$.NAGBAR_NOTICE_DOWNLOAD:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DEFAULT,children:[(0,r.jsx)(Mx.Ry,{onClick:a,noticeType:o}),te.Z.Messages.NOTICE_NATIVE_APPS_2020_06,(0,r.jsx)("i",{className:u$().iconApple}),(0,r.jsx)("i",{className:u$().iconAndroid}),(0,r.jsx)("i",{className:u$().iconWindows}),(0,r.jsx)(Mx.No,{noticeType:o,onClick:function(){(0,W.ZD)(g$((function(){var e,t;return v$(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,884994))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O$(e,t,n[t])}))}return e}({source:"Top Bar Nag"},e))}]}}))})))},
children:te.Z.Messages.DOWNLOAD})]});case dn.z$.NAGBAR_NOTICE_CONNECT_SPOTIFY:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.SPOTIFY,children:[(0,r.jsx)(Mx.Ry,{onClick:a,noticeType:o}),(0,r.jsx)(hY.Z,{className:u$().platformIcon}),te.Z.Messages.NOTICE_CONNECT_SPOTIFY,(0,r.jsx)(Mx.No,{onClick:function(){return(0,WQ.Z)(M.ABu.SPOTIFY,"Notice Bar")},noticeType:o,children:te.Z.Messages.CONNECT})]});case dn.z$.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.PLAYSTATION,children:[(0,r.jsx)(Mx.Ry,{onClick:a}),(0,r.jsx)("img",{alt:"",className:u$().platformIcon,src:rY.Z.get(M.ABu.PLAYSTATION).icon.whiteSVG}),te.Z.Messages.NOTICE_CONNECT_PLAYSTATION,(0,r.jsx)(Mx.Ey,{onClick:function(){return(0,WQ.Z)(M.ABu.PLAYSTATION,"Notice Bar")},children:te.Z.Messages.CONNECT})]});case dn.z$.NAGBAR_NOTICE_MFA_SMS_BACKUP:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DEFAULT,children:[(0,r.jsx)(Mx.Ry,{onClick:a,noticeType:o}),te.Z.Messages.NOTICE_MFA_SMS_BACKUP,(0,r.jsx)(Mx.No,{onClick:function(){
return h.Z.open(M.oAB.ACCOUNT)},noticeType:o,children:te.Z.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON})]});case dn.z$.NAGBAR_NOTICE_PREMIUM_PROMO:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.PREMIUM_TIER_2,children:[(0,r.jsx)("span",{className:u$().premiumLogo}),(0,r.jsx)("span",{className:u$().premiumText,children:te.Z.Messages.NOTICE_PREMIUM_PROMO_MESSAGE}),(0,r.jsx)(Mx.No,{className:u$().premiumAction,noticeType:o,onClick:function(){Ce.default.track(M.rMx.PREMIUM_PROMOTION_OPENED,{location_section:M.jXE.NOTIFICATION_BAR,location_object:M.qAy.BUTTON_CTA});h.Z.open(M.oAB.PREMIUM)},children:te.Z.Messages.NOTICE_PREMIUM_PROMO_ACTION}),(0,r.jsx)(Mx.Ry,{onClick:function(){a();(0,qc.mB)(M.xW$.PREMIUM_PROMO_DISMISSED,!0)},noticeType:o})]});case dn.z$.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING:return(0,r.jsx)(m$,{dismissCurrentNotice:a,subscriptionTier:na.Si.TIER_2});case dn.z$.NAGBAR_NOTICE_PREMIUM_TIER_0_TRIAL_ENDING:return(0,r.jsx)(m$,{dismissCurrentNotice:a,subscriptionTier:na.Si.TIER_0})
;case dn.z$.NAGBAR_NOTICE_PREMIUM_REACTIVATE:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(Mx.Ry,{noticeType:o,onClick:a}),te.Z.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_TEXT,(0,r.jsx)(Mx.No,{noticeType:o,onClick:function(){a();h.Z.open(M.oAB.PREMIUM)},children:te.Z.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_BUTTON_TEXT})]});case dn.z$.NAGBAR_NOTICE_LOCALIZED_PRICING:return(0,r.jsx)(f$,{notice:i,noticeType:o,dismissCurrentNotice:a});case dn.z$.DROPS_GO_LIVE_BANNER_NOTICE_HALO:return(0,r.jsx)(r$,{noticeType:o,markAsDismissed:a,partnerGame:JQ.X2.HALO});case dn.z$.PREMIUM_TIER_0_NOTICE:var s=i.metadata.monthlyPrice;return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(Mx.Ry,{noticeType:o,onClick:a}),(0,r.jsx)(i$.Z,{className:u$().premiumIcon}),te.Z.Messages.PREMIUM_TIER_0_NOTICE_TEXT.format({monthlyPrice:s}),(0,r.jsx)(Mx.No,{noticeType:o,onClick:function(){a();(0,X.uL)(M.Z5c.APPLICATION_STORE)},children:te.Z.Messages.LEARN_MORE})]})
;case dn.z$.DROPS_ENDED_INCOMPLETE_HALO:return(0,r.jsx)(QQ,{noticeType:o,markAsDismissed:a,partnerGame:JQ.X2.HALO});case dn.z$.VENMO_PROMOTION_TRIAL_NOTICE:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(Mx.Ry,{noticeType:o,onClick:a}),(0,r.jsx)(i$.Z,{className:u$().premiumIcon}),te.Z.Messages.VENMO_PROMOTION_TRIAL_NOTICE,(0,r.jsx)(Mx.No,{noticeType:o,onClick:function(){(0,o$.Z)({subscriptionTier:na.Si.TIER_2,analyticsLocations:[vf.Z.VENMO_PROMOTION_TRIAL_NOTICE],analyticsObject:{object:M.qAy.BUTTON_CTA,section:M.jXE.NOTIFICATION_BAR},trialId:na.V$,onClose:function(){return a()}})},children:te.Z.Messages.PREMIUM_UPSELL_GET_NITRO})]});case dn.z$.NAGBAR_BOUNCED_EMAIL_NOTICE:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DANGER,children:[(0,r.jsx)(Mx.Ry,{onClick:a,noticeType:o}),te.Z.Messages.BOUNCED_EMAIL_DETECTED_NOTICE,(0,r.jsx)(Mx.No,{noticeType:o,onClick:function(){(0,X.uL)(M.Z5c.SETTINGS("account"))},children:te.Z.Messages.CHANGE_EMAIL_SHORT})]})
;case dn.z$.NAGBAR_ACTIVATE_SERVER_SUBSCRIPTION:var c=zQ.Z.getEligibleGuildsForNagActivate();return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DEFAULT,children:[(0,r.jsx)(Mx.Ry,{onClick:a,noticeType:o}),te.Z.Messages.GUILD_ROLE_SUBSCRIPTION_NAGBAR_TEXT,(0,r.jsx)(Mx.No,{noticeType:o,onClick:function(){a(mn.L.PRIMARY);(0,X.uL)(1===c.length?M.Z5c.GUILD_SETTINGS(c[0],"role-subscriptions"):M.Z5c.PICK_GUILD_SETTINGS("role-subscriptions",void 0,"server-subscriptions-finish-setting-up"))},children:te.Z.Messages.LETS_GO})]})}}})},S$=n(329646),I$=n(870978),T$=n(345209),N$=n(407829),C$=n.n(N$),A$=n(944659),P$=n.n(A$);function j$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R$(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function x$(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){R$(i,r,o,a,s,"next",e)}function s(e){
R$(i,r,o,a,s,"throw",e)}a(void 0)}))}}function M$(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function w$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){M$(e,t,n[t])}))}return e}function Z$(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function L$(e){return function(e){
if(Array.isArray(e))return j$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D$=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const U$=function(){var e,t=(0,s.e7)([P.Z],(function(){return P.Z.getGuildId()}),[]),o=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(t)}),[t]),i=(0,s.e7)([ZC.Z],(function(){return null!=t?ZC.Z.getRequest(t):null}),[t]),c=(0,a.TH)(),l=!0===(null===(e=(0,
a.LX)(c.pathname,M.Z5c.CHANNEL(null==o?void 0:o.id,cO.oC.GUILD_ONBOARDING)))||void 0===e?void 0:e.isExact);if(null==o||!o.hasVerificationGate()||l)return null;var u,f=null!==(u=null==i?void 0:i.applicationStatus)&&void 0!==u?u:wC.wB.STARTED,d=null,p=null,h=null,E=[C$().notice,P$().notice];switch(f){case wC.wB.SUBMITTED:d=te.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE;p=te.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION;h=function(){(0,W.h7)((function(e){return(0,r.jsx)(bh.default,Z$(w$({header:te.Z.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:te.Z.Messages.CONFIRM,cancelText:te.Z.Messages.CANCEL,onConfirm:function(){return RC.Z.removeGuildJoinRequest(o.id)},confirmButtonColor:Q.Co.Colors.BRAND},e),{children:(0,r.jsx)(q.xv,{variant:"text-md/normal",children:te.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE})}))}))};break;case wC.wB.REJECTED:d=te.Z.Messages.MEMBER_VERIFICATION_REJECTED_TITLE;p=te.Z.Messages.MEMBER_VERIFICATION_LEARN_MORE;h=function(){
(0,W.ZD)(x$((function(){var e,t;return D$(this,(function(i){switch(i.label){case 0:return[4,n.e(51802).then(n.bind(n,696090))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,w$({guildId:o.id},e))}]}}))})))};E.push(C$().error);break;default:d=te.Z.Messages.MEMBER_VERIFICATION_NOTICE_TEXT;p=te.Z.Messages.MEMBER_VERIFICATION_NOTICE_CTA;h=function(){(0,vo.hk)(o.id)}}return(0,r.jsxs)("div",{className:Xp().apply(void 0,L$(E)),children:[(0,r.jsx)(q.xv,{className:C$().header,variant:"text-sm/normal",children:d}),(0,r.jsx)(Q.Co,{className:C$().button,look:Q.Co.Looks.OUTLINED,color:Q.Co.Colors.WHITE,size:Q.Co.Sizes.NONE,onClick:h,children:p})]})};var k$=n(144683),G$=n(636177),B$=n(390174),H$=n(5459),V$=n.n(H$);function F$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y$(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function W$(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function z$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K$=function(e,t){
var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1]
;return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const q$=function(){var e=(0,s.e7)([P.Z],(function(){return P.Z.getGuildId()}),[]),t=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(e)}),[e]),n=(0,s.e7)([gb.Z],(function(){return gb.Z.getHistorySnapshot()}),[]),i=z$(o.useState(!1),2),a=i[0],c=i[1];if(null==t)return null;var l=function(){var e,n=(e=function(){return K$(this,(function(e){switch(e.label){case 0:c(!0);e.label=1;case 1:e.trys.push([1,3,,4]);B$.mT(t.id);return[4,f.Z.joinGuild(t.id,{source:M.vtS.NOTICE_BAR})];case 2:e.sent();return[3,4];case 3:e.sent();c(!1);return[3,4];case 4:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Y$(i,r,o,a,s,"next",e)}function s(e){Y$(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:Xp()(V$().notice,P$().notice),children:[(0,r.jsxs)(Q.Co,{look:Q.Co.Looks.OUTLINED,color:Q.Co.Colors.WHITE,
size:Q.Co.Sizes.NONE,className:Xp()(V$().button,V$().back),innerClassName:V$().iconButton,onClick:function(){var e=(0,X.s1)();null!=n&&null!=n.location?(0,X.dL)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){W$(e,t,n[t])}))}return e}({},n.location)):e.goBack()},children:[(0,r.jsx)(G$.Z,{width:16,height:16,className:V$().arrow}),te.Z.Messages.BACK]}),(0,r.jsx)(q.xv,{className:V$().header,variant:"text-sm/normal",children:te.Z.Messages.LURKER_MODE_NAG_BAR_HEADER}),(0,r.jsx)(Q.Co,{className:V$().button,look:Q.Co.Looks.OUTLINED,color:Q.Co.Colors.WHITE,size:Q.Co.Sizes.NONE,submitting:a,onClick:l,children:te.Z.Messages.LURKER_MODE_NAG_BAR_BUTTON.format({guild:t.name})})]})}
;var X$=n(451168),Q$=n(353443),$$=n(655432),J$=n(738022),eJ=n(398272),tJ=n(110717),nJ=n.n(tJ);function rJ(e){var t=A.Z.getVoiceChannelId();if(null!=t){var n=I.Z.getChannel(t);null!=n&&(0,$$.RK)(n,e)}}function oJ(){var e,t=(0,J$.Z)(),n=null!==(e=(0,eJ._d)(null==t?void 0:t.id))&&void 0!==e?e:0;return(0,r.jsxs)(Mx.ZP,{className:nJ().container,color:Mx.DM.DEFAULT,children:[(0,r.jsx)("div",{children:te.Z.Messages.STAGE_SPEAK_INVITE_HEADER}),n>0?(0,r.jsxs)("div",{className:nJ().blocked,children:[(0,r.jsx)(Q$.Z,{width:12,height:12,className:nJ().blockedIcon}),(0,r.jsx)("div",{className:nJ().blockedText,children:te.Z.Messages.STAGE_SPEAK_INVITE_HEADER_BLOCKED_USERS.format({number:n})})]}):null,(0,r.jsx)(Q.Co,{className:Xp()(nJ().button,nJ().acceptButton),size:Q.Co.Sizes.MIN,color:Q.Co.Colors.WHITE,onClick:function(){return rJ(!1)},children:(0,r.jsx)(q.xv,{className:nJ().acceptText,variant:"text-xs/normal",color:"none",children:te.Z.Messages.STAGE_SPEAK_INVITE_ACCEPT})}),(0,r.jsx)(Q.Co,{
className:Xp()(nJ().button,nJ().declineButton),look:Q.Co.Looks.OUTLINED,size:Q.Co.Sizes.MIN,color:Q.Co.Colors.WHITE,onClick:function(){return rJ(!0)},children:(0,r.jsx)(q.xv,{className:nJ().declineText,variant:"text-xs/normal",color:"none",children:te.Z.Messages.STAGE_SPEAK_INVITE_DECLINE})})]})}var iJ=n(512238),aJ=n(911678);function sJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cJ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lJ(e){lJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return lJ(e)}function uJ(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function fJ(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function dJ(e,t){return!t||"object"!==hJ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pJ(e,t){pJ=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return pJ(e,t)}var hJ=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function EJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=lJ(e);if(t){var o=lJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dJ(this,n)}}var yJ={DropdownSizes:aJ.Z.DropdownSizes,Sizes:aJ.Z.Sizes,Colors:aJ.Z.Colors,Looks:aJ.Z.Looks},mJ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&pJ(e,t)}(n,e);var t=EJ(n);function n(){sJ(this,n);var e;(e=t.apply(this,arguments)).renderContextMenu=function(){var t=e.props,n=t.skus,o=t.onSKUSelect,i=t.onMenuSelect;return(0,r.jsx)(aW.ZP,{onSelect:i,navId:"test-skus","aria-label":te.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:fb.Zy,children:n.map((function(e){return(0,
r.jsx)(aW.sN,{id:"".concat(e.id),label:e.name,action:function(){null==o||o(e)}},"".concat(e.id))}))})};e.handleContextMenu=function(t){t.stopPropagation();fb.vq(t,e.renderContextMenu)};e.handleClick=function(){var t=e.props,n=t.onSKUSelect,r=t.primarySKU;null!=r&&(null==n||n(r))};return e}n.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,o=(e.applicationId,e.primarySKU,e.onSKUSelect,fJ(e,["skus","children","applicationId","primarySKU","onSKUSelect"]));return(0,r.jsx)(aJ.Z,uJ(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cJ(e,t,n[t])}))}return e}({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:void 0},o),{children:n}))};return n
}(o.PureComponent);const bJ=s.ZP.connectStores([iJ.Z,wn.Z],(function(e){var t,n=e.applicationId,r=(0,Bx.uF)(n,wn.Z,iJ.Z);return{skus:(null!==(t=iJ.Z.getForApplication(n))&&void 0!==t?t:[]).sort((function(e,t){return null!=r&&e.id===r.id?-1:null!=r&&t.id===r.id?1:e.name>=t.name?-1:1})),primarySKU:r}}))(mJ);function gJ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var OJ=null;function vJ(){null!==OJ&&(0,W.Mr)(OJ);OJ=null}function _J(){Ke.Z.setSilenceWarning(!1);vJ()}function SJ(){OJ=(0,W.h7)((function(e){return(0,r.jsx)(Bp.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gJ(e,t,n[t])}))}return e}({title:te.Z.Messages.CONFIRM_DISABLE_SILENCE_TITLE,
body:te.Z.Messages.CONFIRM_DISABLE_SILENCE_BODY,secondaryConfirmText:te.Z.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:_J,onConfirm:vJ,confirmText:te.Z.Messages.OKAY},e))}))}var IJ=n(566438);function TJ(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function NJ(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){TJ(i,r,o,a,s,"next",e)}function s(e){TJ(i,r,o,a,s,"throw",e)}a(void 0)}))}}function CJ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function AJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){CJ(e,t,n[t])}))}return e}function PJ(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var jJ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{
value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},RJ=function(){return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DANGER,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){MJ();SJ()}}),te.Z.Messages.NOTICE_NO_INPUT_DETECTED,(0,r.jsx)(Mx.u3,{href:ee.Z.getArticleURL(M.BhN.NO_INPUT_DETECTED),children:te.Z.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT})]})},xJ=function(){return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DANGER,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){MJ();SJ()}}),te.Z.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,(0,r.jsx)(Mx.Ey,{
onClick:function(){(0,Gp.jN)(M.S9g.USER_SETTINGS);h.Z.setSection(M.oAB.VOICE)},children:te.Z.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT})]})};function MJ(e){HQ.Z.dismiss(null!=e?{untilAtLeast:Ub()(e)}:void 0)}var wJ=o.memo((function(){var e,t=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),i=(0,s.e7)([P.Z],(function(){return P.Z.getGuildId()})),a=(0,s.e7)([aQ.Z],(function(){return aQ.Z.getNotice()})),l=(0,FM.Z)().analyticsLocations,u=null==a?void 0:a.type,f=(0,T$.J)(i);o.useEffect((function(){null!=u&&function(e,t){var n={notice_type:e};null!=t&&(n.guild_id=t);Ce.default.track(M.rMx.APP_NOTICE_VIEWED,n)}(u,i)}),[u,i]);o.useEffect((function(){if(null!=a&&a.type===M.kVF.SURVEY&&null!=a.metadata){var e=a.metadata,t=S$.En.getUserExperimentDescriptor(e.id);null!=t&&(0,S$.W9)(e.id,t)}}),[a]);if(null==a)return null;if(Ji.s.isDisallowPopupsSet())return null;var E=aQ.m[a.type];if(null!=E)return(0,r.jsx)(_$,{dismissibleContent:E,noticeType:a.type})
;var y=null===(e=a.metadata)||void 0===e?void 0:e.premiumType;switch(a.type){case M.kVF.LURKING_GUILD:return(0,r.jsx)(q$,{});case M.kVF.PENDING_MEMBER:return(0,r.jsx)(U$,{});case M.kVF.INVITED_TO_SPEAK:return(0,r.jsx)(oJ,{});case M.kVF.GENERIC:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DEFAULT,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){return MJ()},noticeType:M.kVF.GENERIC}),a.message,null!=a.buttonText?(0,r.jsx)(Mx.No,{onClick:a.callback,noticeType:M.kVF.GENERIC,children:a.buttonText}):null]});case M.kVF.LAUNCH_GAME_FAILURE:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DANGER,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){return MJ()},noticeType:M.kVF.LAUNCH_GAME_FAILURE}),a.message,null!=a.buttonText?(0,r.jsx)(Mx.No,{onClick:a.callback,noticeType:M.kVF.LAUNCH_GAME_FAILURE,children:a.buttonText}):null]});case M.kVF.VOICE_DISABLED:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.WARNING,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){VQ();MJ()},noticeType:M.kVF.VOICE_DISABLED
}),te.Z.Messages.NOTICE_CONNECTION_CONFLICT,(0,r.jsx)(Mx.No,{onClick:function(){var e=C.Z.getRemoteDisconnectVoiceChannelId();if(null!=e){null!=I.Z.getChannel(e)&&d.default.selectVoiceChannel(e)}},noticeType:M.kVF.VOICE_DISABLED,children:te.Z.Messages.RECONNECT})]});case M.kVF.SPOTIFY_AUTO_PAUSED:var m=rY.Z.get(M.ABu.SPOTIFY);return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DANGER,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){return MJ()},noticeType:M.kVF.SPOTIFY_AUTO_PAUSED}),(0,r.jsx)("img",{alt:"",className:u$().platformIcon,src:m.icon.whiteSVG}),te.Z.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,(0,r.jsx)(Mx.No,{onClick:function(){return h.Z.open(M.oAB.VOICE)},noticeType:M.kVF.SPOTIFY_AUTO_PAUSED,children:te.Z.Messages.VOICE_SETTINGS}),(0,r.jsx)(LT.Z,{className:u$().textLinkSmall,href:ee.Z.getArticleURL(M.BhN.SPOTIFY_AUTO_PAUSED),target:"_blank",children:te.Z.Messages.NOTICE_WHATS_THIS})]});case M.kVF.UNCLAIMED_ACCOUNT:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DEFAULT,
children:[te.Z.Messages.NOTICE_UNCLAIMED_ACCOUNT,(0,r.jsx)(Mx.No,{noticeType:M.kVF.UNCLAIMED_ACCOUNT,onClick:function(){return f&&null!=i?(0,vo.hk)(i):Oo.j()},children:te.Z.Messages.CLAIM_ACCOUNT})]});case M.kVF.UNVERIFIED_ACCOUNT:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DEFAULT,children:[te.Z.Messages.NOTICE_UNVERIFIED_ACCOUNT,(0,r.jsx)(Mx.No,{noticeType:M.kVF.UNVERIFIED_ACCOUNT,onClick:function(){c.Z.verifyResend();GQ.Z.show({title:te.Z.Messages.VERIFICATION_EMAIL_TITLE,body:te.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:null==t?void 0:t.email}),secondaryConfirmText:te.Z.Messages.CHANGE_EMAIL,onConfirmSecondary:Oo.j})},children:te.Z.Messages.RESEND})]});case M.kVF.SCHEDULED_MAINTENANCE:return null==a.metadata?null:(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DEFAULT,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){return FQ.Z.ackScheduledMaintenance()},noticeType:M.kVF.SCHEDULED_MAINTENANCE}),te.Z.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(a.metadata),(0,r.jsx)(Mx.u3,{
href:"".concat(M.yXt.STATUS,"/incidents/").concat(a.metadata.id),children:te.Z.Messages.LEARN_MORE})]});case M.kVF.NO_INPUT_DETECTED:return qe.Z.supports($e.AN.LOOPBACK)?(0,r.jsx)(xJ,{}):(0,r.jsx)(RJ,{});case M.kVF.HARDWARE_MUTE:if(null==a.metadata)return null;var b=a.metadata,g=b.vendor,O=b.model;return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DANGER,children:[te.Z.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:g.name,modelName:O.name}),(0,r.jsx)(Mx.u3,{href:O.url,target:"_blank",rel:"noreferrer noopener",children:te.Z.Messages.SUPPORT})]});case M.kVF.STREAMER_MODE:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.STREAMER_MODE,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){return MJ()},noticeType:M.kVF.STREAMER_MODE}),te.Z.Messages.NOTICE_STREAMER_MODE_TEXT,(0,r.jsx)(Mx.No,{onClick:function(){return Pr.Z.setEnabled(!1)},noticeType:M.kVF.STREAMER_MODE,children:te.Z.Messages.DISABLE})]});case M.kVF.H264_DISABLED:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DANGER,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){MJ()}
}),te.Z.Messages.NOTICE_H264_DISABLED_SETTINGS,(0,r.jsx)(Mx.Ey,{onClick:function(){(0,Gp.jN)(M.S9g.USER_SETTINGS);h.Z.setSection(M.oAB.VOICE)},children:te.Z.Messages.NOTICE_H264_DISABLED_SETTINGS_LINK_TEXT})]});case M.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==a.metadata)return null;var v=a.metadata,_=v.skuId,S=v.applicationId,T=iJ.Z.get(_),N=wn.Z.getGame(S);if(null==T||null==N)return null;var A={page:M.ZY5.IN_APP};return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.PREMIUM_TIER_1,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){return BQ(T.id)},noticeType:M.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK}),(0,r.jsx)(i$.Z,{className:u$().premiumIcon}),te.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:N.name,skuName:T.name}),(0,r.jsx)(Mx.No,{noticeType:M.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK,onClick:function(){return(0,Of.S)({applicationId:N.id,skuId:T.id,openPremiumPaymentModal:function(){(0,o$.Z)({initialPlanId:null,subscriptionTier:na.Si.TIER_2,analyticsLocations:l,
analyticsObject:A})},analyticsLocations:l,analyticsLocation:A,context:__OVERLAY__?M.IlC.OVERLAY:M.IlC.APP}).then((function(){return BQ(T.id)}))},children:te.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON})]});case M.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==a.metadata)return null;var j=a.metadata,R=j.skuId,x=j.applicationId,w=iJ.Z.get(R),Z=wn.Z.getGame(x);return null==w||null==Z?null:(0,r.jsxs)(Mx.ZP,{color:Mx.DM.PREMIUM_TIER_1,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){return MJ()},noticeType:M.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL}),(0,r.jsx)(i$.Z,{className:u$().premiumIcon}),te.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:Z.name,skuName:w.name}),(0,r.jsx)(Mx.Ey,{children:(0,r.jsx)(kQ.rU,{onClick:function(){return MJ()},to:{pathname:M.Z5c.APPLICATION_STORE_LISTING_SKU(w.id),state:{scrollRestoration:!1}},children:te.Z.Messages.LEARN_MORE})})]});case M.kVF.SURVEY:var L=a.metadata;if(null==L)return null
;var D=L.key,U=L.prompt,k=L.cta,G=L.url;return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.CUSTOM,children:[(0,r.jsx)(Mx.Ry,{noticeType:M.kVF.SURVEY,onClick:function(){(0,YQ.hZ)(D,!0)}}),U,(0,r.jsx)(Mx.No,{noticeType:M.kVF.SURVEY,onClick:function(){window.open(G,"_blank");(0,YQ.hZ)(D,!1)},children:k})]});case M.kVF.CORRUPT_INSTALLATION:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DANGER,children:[te.Z.Messages.NOTICE_CORRUPT_INSTALLATION,(0,r.jsx)(Mx.u3,{href:ee.Z.getArticleURL(M.BhN.CORRUPT_INSTALLATION),target:"_blank",children:te.Z.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT})]});case M.kVF.VIDEO_UNSUPPORTED_BROWSER:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.WARNING,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){return MJ()},noticeType:M.kVF.VIDEO_UNSUPPORTED_BROWSER}),te.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,(0,r.jsx)(Mx.No,{noticeType:M.kVF.VIDEO_UNSUPPORTED_BROWSER,onClick:function(){(0,W.ZD)(NJ((function(){var e,t;return jJ(this,(function(o){switch(o.label){case 0:
return[4,Promise.resolve().then(n.bind(n,884994))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,AJ({source:"Video unsupported browser"},e))}]}}))})))},children:te.Z.Messages.DOWNLOAD})]});case M.kVF.DISPATCH_ERROR:if(null==a.metadata)return null;var B=a.metadata.error;return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DANGER,children:[(0,r.jsx)(Mx.Ry,{onClick:function(){return MJ()},noticeType:M.kVF.DISPATCH_ERROR}),null==B?void 0:B.displayMessage,(0,r.jsx)(Mx.No,{noticeType:M.kVF.DISPATCH_ERROR,onClick:function(){return(0,W.ZD)(NJ((function(){var e,t;return jJ(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(39068)]).then(n.bind(n,939068))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,AJ({},e))}]}}))})))},children:te.Z.Messages.LEARN_MORE})]});case M.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==a.metadata)return null;var H=a.metadata,V=H.progress,F=H.total,z=H.name;return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DEFAULT,children:[(0,
r.jsx)(Mx.Ry,{onClick:function(){return MJ()},noticeType:M.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS}),(0,r.jsxs)(Qp.Z,{justify:Qp.Z.Justify.CENTER,children:[null!=z?te.Z.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:"".concat(z),progress:"".concat(V),total:"".concat(F)}):te.Z.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:"".concat(V),total:"".concat(F)}),(0,r.jsx)(Ix.Z,{type:Ix.Z.Type.PULSING_ELLIPSIS,className:u$().ellipsis})]})]});case M.kVF.APPLICATION_TEST_MODE:return null==a.metadata?null:null!=Jn.Z.testModeEmbeddedApplicationId?(0,r.jsx)(Mx.ZP,{color:Mx.DM.WARNING,children:(0,r.jsxs)(Qp.Z,{justify:Qp.Z.Justify.CENTER,align:Qp.Z.Align.CENTER,children:[(0,r.jsx)("div",{children:te.Z.Messages.NOTICE_EMBEDDED_APPLICATION_TEST_MODE.format({applicationName:a.metadata.applicationName})}),(0,r.jsx)(Mx.Ry,{onClick:p.mc,noticeType:M.kVF.APPLICATION_TEST_MODE})]})}):(0,r.jsx)(Mx.ZP,{color:Mx.DM.WARNING,children:(0,r.jsxs)(Qp.Z,{
justify:Qp.Z.Justify.CENTER,align:Qp.Z.Align.CENTER,children:[(0,r.jsx)("div",{children:te.Z.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:a.metadata.applicationName})}),(0,r.jsx)(bJ,{dropdownSize:yJ.DropdownSizes.SMALL,className:u$().testModeSKUSelector,color:yJ.Colors.WHITE,look:yJ.Looks.OUTLINED,size:yJ.Sizes.MIN,onSKUSelect:function(e){return Pc.yt(e.id,{analyticsSource:{page:null,section:M.jXE.NOTIFICATION_BAR,object:M.qAy.NAVIGATION_LINK}})},applicationId:a.metadata.applicationId,children:te.Z.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING}),(0,r.jsx)(Mx.Ry,{onClick:p.mc,noticeType:M.kVF.APPLICATION_TEST_MODE})]})});case M.kVF.OUTBOUND_PROMOTION:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(Mx.Ry,{noticeType:M.kVF.OUTBOUND_PROMOTION,onClick:function(){X$.ZP.dismissOutboundPromotionNotice()}}),(0,r.jsx)(i$.Z,{className:u$().premiumIcon}),te.Z.Messages.OUTBOUND_PROMOTION_NOTICE,(0,r.jsx)(Mx.No,{noticeType:M.kVF.OUTBOUND_PROMOTION,
onClick:function(){Ce.default.track(M.rMx.OUTBOUND_PROMOTION_NOTICE_CLICKED);h.Z.open(M.oAB.INVENTORY);X$.ZP.dismissOutboundPromotionNotice()},children:te.Z.Messages.TAKE_ME_THERE})]});case M.kVF.VIEWING_ROLES:return(0,r.jsx)(k$.Z,{});case M.kVF.PREMIUM_UNCANCEL:return(0,r.jsxs)(Mx.ZP,{color:y===na.p9.TIER_1?Mx.DM.PREMIUM_TIER_1:y===na.p9.TIER_0?Mx.DM.PREMIUM_TIER_0:Mx.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(Mx.Ry,{noticeType:M.kVF.PREMIUM_UNCANCEL,onClick:function(){var e,t;MJ(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),(0,r.jsx)(i$.Z,{className:u$().premiumIcon}),y===na.p9.TIER_1?te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):y===na.p9.TIER_0?te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_0_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}),(0,r.jsx)(Mx.No,{
noticeType:M.kVF.PREMIUM_UNCANCEL,onClick:function(){var e,t;MJ(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);(0,W.ZD)(NJ((function(){var e,t;return jJ(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(84469),n.e(29005),n.e(28980)]).then(n.bind(n,628980))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,PJ(AJ({},e),{daysLeft:a.metadata.daysLeft,premiumType:y,analyticsSource:"Nag Bar",premiumSubscription:a.metadata.premiumSubscription}))}]}}))})))},children:y===na.p9.TIER_1?te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_BUTTON_TEXT:y===na.p9.TIER_0?te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_0_NOTICE_BUTTON_TEXT:te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_BUTTON_TEXT})]});case M.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT:var K=a.metadata,q=K.daysPastDue,X=K.dismissUntil;return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.WARNING,children:[(0,r.jsx)(Mx.Ry,{noticeType:u,
onClick:function(){MJ(X)}}),te.Z.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT_NO_ACTION.format({daysPastDue:q}),(0,r.jsx)(Mx.No,{noticeType:M.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT,onClick:function(){MJ(X);h.Z.open(M.oAB.SUBSCRIPTIONS)},children:te.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_RENEW_NOW_BUTTON_TEXT})]});case M.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DANGER,children:[(0,r.jsx)(Mx.Ry,{noticeType:M.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;MJ(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),te.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_TEXT,(0,r.jsx)(Mx.No,{noticeType:M.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;MJ(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);h.Z.open(M.oAB.SUBSCRIPTIONS)},
children:te.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_BUTTON_TEXT})]});case M.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.WARNING,children:[(0,r.jsx)(Mx.Ry,{noticeType:M.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;MJ(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),te.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_TEXT,(0,r.jsx)(Mx.No,{noticeType:M.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;MJ(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);h.Z.open(M.oAB.SUBSCRIPTIONS)},children:te.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_BUTTON_TEXT})]});case M.kVF.PREMIUM_MISSING_PAYMENT:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.WARNING,children:[(0,r.jsx)(Mx.Ry,{noticeType:M.kVF.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t
;MJ(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),y===na.p9.TIER_1?te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):y===na.p9.TIER_0?te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_0_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}),(0,r.jsx)(Mx.No,{noticeType:M.kVF.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t;MJ(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);h.Z.open(M.oAB.SUBSCRIPTIONS)},
children:y===na.p9.TIER_1?te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_BUTTON_TEXT:y===na.p9.TIER_0?te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_0_NOTICE_BUTTON_TEXT:te.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_BUTTON_TEXT})]});case M.kVF.BACK_TO_PREVIOUS_SCREEN:var Q;return(0,r.jsx)(Lx,{buttonText:null!==(Q=a.buttonText)&&void 0!==Q?Q:te.Z.Messages.GO_BACK,onGoBack:a.callback,onDismiss:function(){return MJ()},showCloseButton:!0});case M.kVF.QUARANTINED:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.CUSTOM,className:u$().quarantineNotice,children:[te.Z.Messages.LIMITED_ACCESS_NAG_BAR_NOTICE,(0,r.jsx)(Mx.u3,{href:IJ.Z,target:"_blank",children:te.Z.Messages.LIMITED_ACCESS_NAG_BAR_APPEAL}),(0,r.jsx)(LT.Z,{href:ee.Z.getArticleURL(M.BhN.QUARANTINE),target:"_blank",className:u$().quarantineLearnMoreLink,children:te.Z.Messages.LEARN_MORE})]});case M.kVF.DROPS_PROGRESS_INTERRUPTION:return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.DANGER,
children:[te.Z.Messages.DROPS_PROGRESS_INTERRUPTION_WARNING.format({gameTitle:a.metadata.gameTitle}),(0,r.jsx)(Mx.Ey,{onClick:a.metadata.reloadCallback,children:te.Z.Messages.ERRORS_RESTART_APP})]});case M.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION:var $=a.metadata,J=$.dismissUntil,ne=$.decisionId;return(0,r.jsxs)(Mx.ZP,{color:Mx.DM.WARNING,children:[(0,r.jsx)(Mx.Ry,{noticeType:M.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION,onClick:function(){null!=i&&(0,I$.T9)(i);MJ(J)}}),te.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_MESSAGE,(0,r.jsx)(Mx.Ey,{onClick:function(){null!=i&&(0,I$.UE)(i,ne,(function(){MJ(J);(0,I$.T9)(i)}))},children:te.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_REMOVE_RESTRICTION}),null!=i?(0,r.jsx)(Mx.Ey,{onClick:function(){return yr.Z.open(i,M.pNK.GUILD_AUTOMOD,void 0,M.KsC.AUTOMOD_MENTION_SPAM)},children:te.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_CONFIGURE_SETTINGS}):null]});default:return null}}));function ZJ(){var e=(0,
FM.Z)(vf.Z.NOTICE).AnalyticsLocationProvider;return(0,r.jsx)(e,{children:(0,r.jsx)(wJ,{})})}var LJ=n(948861),DJ=n(996515);var UJ=n(503035),kJ=n(381181),GJ=n(802513),BJ=n(670497),HJ=n(929062),VJ=n(621593),FJ=n(974949),YJ=n(615570),WJ=n(770040),zJ=n(717398),KJ=n(428907),qJ=n(647334),XJ=n(177790),QJ=n.n(XJ);function $J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JJ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function e0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){JJ(e,t,n[t])}))}return e}function t0(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function n0(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function r0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o0=function(e){var t=e.selected,n=n0(e,["selected"]),o=(0,rb.JA)("friends"),i=(0,s.e7)([ps.Z],(function(){return ps.Z.getPendingCount()}));return(0,r.jsx)(zJ.Qj,t0(e0({selected:t,route:M.Z5c.FRIENDS,icon:Yz.Z,text:te.Z.Messages.FRIENDS},n,o),{children:i>0?(0,r.jsx)(HP.mA,{count:i}):null}))
},i0=function(e){var t=e.selected,n=e.hideGameUpdateProgressIndicator,o=n0(e,["selected","hideGameUpdateProgressIndicator"]),i=(0,rb.JA)("library");return(0,r.jsx)(zJ.Qj,t0(e0({selected:t,route:M.Z5c.APPLICATION_LIBRARY,icon:YJ.Z,text:te.Z.Messages.LIBRARY},o,i),{children:(0,r.jsx)(qJ.Z,{className:Xp()(QJ().downloadProgressCircle,JJ({},QJ().hideGameUpdateProgressIndicator,n))})}))},a0=function(e){var t,n,o=e.selected,i=e.route,a=e.locationState,c=n0(e,["selected","route","locationState"]),l=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),u=(0,s.e7)([Xi.Z],(function(){return Xi.Z.getPremiumTypeSubscription()})),f=(0,Ia.n3)(),d=(0,rb.JA)("nitro"),p=(0,p$.N)(),h=(0,s.e7)([Sx.Z],(function(){return Sx.Z.isLocalizedPromoEnabled}))&&null==p,E=(0,UJ.ij)().shouldShowUpsells,y=Sa.L.useExperiment({}).enableTier0?2592e6:7776e6;if(!(o||null!=p||null!=l&&Date.now()-l.createdAt.getTime()>y||(0,$i.Qo)(l,u)||f))return null;if(E)n=(0,r.jsx)(kJ.Z,{isSelected:o});else if(f){n=(0,
r.jsx)(ZT.Z,{contentTypes:[dn.z$.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_BADGE],children:function(e){if(e.visibleContent===dn.z$.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_BADGE)return(0,r.jsx)("div",{className:QJ().premiumTier0Badge,children:(0,r.jsx)(BJ.Z,{})})}});t=QJ().premiumTier0BadgeLinkButton}else if(null!=p)n=(0,r.jsx)(HJ.Z,{trialOffer:p,isTabSelected:o});else if(h){n=(0,r.jsx)(GJ.k,{entryPoint:GJ.U.PrivateMessages});o||(t=QJ().localizedPricingBadge)}return(0,r.jsx)(zJ.Qj,t0(e0({selected:o,route:i,icon:i$.Z,text:te.Z.Messages.PREMIUM,locationState:a},c,d),{className:t,children:n}))},s0=function(e){var t=e.selected,n=(0,DB.q)(),o=(0,rb.JA)("messageRequests"),i=(0,JB._)().channelId;if(!(0,s.e7)([ZB.Z,LB.Z],(function(){return(0,DJ.IO)([ZB.Z,LB.Z])})))return null;var a=null==i?void 0:function(){return xW.Z.preload(M.ME,i)};return(0,r.jsx)(zJ.Qj,t0(e0({selected:t,route:M.Z5c.MESSAGE_REQUESTS,icon:qB.Z,text:te.Z.Messages.MESSAGE_REQUESTS,onClick:a},o),{children:n>0?(0,r.jsx)(HP.mA,{count:n
}):null}))},c0=function(){return(0,Pk.$Z)("DM_SEARCH")};function l0(e){switch(e){case M.Z5c.APPLICATION_LIBRARY:return M.ZY5.LIBRARY;case M.Z5c.FRIENDS:return M.ZY5.FRIENDS_LIST}return e.startsWith(M.Z5c.APPLICATION_STORE)?e===M.Z5c.APPLICATION_STORE?M.ZY5.STORE_DIRECTORY_HOME:e.startsWith(M.Z5c.APPLICATION_STORE)?M.ZY5.STORE_DIRECTORY_BROWSE:M.ZY5.STORE_LISTING:M.ZY5.DM_CHANNEL}var u0=function(e){var t=e.showLibrary,n=e.hasLibraryApplication,o=e.homeLink,i=e.storeLink,a=e.premiumTabSelected,s=r0((0,iQ.Z)((function(e){return[e.channelId,e.path]}),LJ.Z),2),c=s[0],l=s[1];return(0,r.jsxs)("nav",{className:QJ().privateChannels,"aria-label":te.Z.Messages.PRIVATE_CHANNELS_A11Y_LABEL,children:[(0,r.jsx)(qZ.Z,{tutorialId:"direct-messages",position:JZ.q_.RIGHT,offsetX:-52,children:(0,r.jsx)("div",{className:QJ().searchBar,children:(0,r.jsx)("button",{type:"button",className:QJ().searchBarComponent,onClick:c0,children:te.Z.Messages.DM_SEARCH_PLACEHOLDER})})}),(0,r.jsxs)(KJ.Z,t0(e0({},e),{
version:l,selectedChannelId:c,showDMHeader:!0,children:[(0,r.jsx)(o0,{selected:null!=l?l===M.Z5c.FRIENDS:o===M.Z5c.FRIENDS},"friends"),n&&t?(0,r.jsx)(i0,{selected:null==l?null!=o&&o.startsWith(M.Z5c.APPLICATION_LIBRARY):l.startsWith(M.Z5c.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:o===M.Z5c.APPLICATION_LIBRARY},"library"):null,(0,r.jsx)(a0,{selected:null==l?a:l.startsWith(M.Z5c.APPLICATION_STORE),route:null==i||location.pathname.startsWith(M.Z5c.APPLICATION_STORE)?M.Z5c.APPLICATION_STORE:i,locationState:{analyticsSource:{page:l0(o),section:M.jXE.NAVIGATION,object:M.qAy.NAVIGATION_LINK}}},"premium"),(0,r.jsx)(s0,{selected:null==l?null!=o&&o.startsWith(M.Z5c.MESSAGE_REQUESTS):l===M.Z5c.MESSAGE_REQUESTS},"message-requests")]}))]})};function f0(){var e=(0,s.e7)([FJ.Z],(function(){return FJ.Z.getHomeLink()})),t=(0,s.e7)([iJ.Z],(function(){if(e===M.Z5c.APPLICATION_STORE)return!0;var t=(0,WJ.ZK)(e);if(null!=t){var n,r
;return null!==(r=null===(n=iJ.Z.get(t))||void 0===n?void 0:n.premium)&&void 0!==r&&r}return!1}),[e]),n=!ft.bm.useSetting(),o=(0,s.cj)([Wp.Z],(function(){return{theme:Wp.Z.theme}})).theme,i=(0,s.e7)([Gn.Z],(function(){return Gn.Z.hasLibraryApplication()})),a=(0,s.e7)([VJ.Z],(function(){return VJ.Z.getCurrentPath()}));return(0,r.jsx)(u0,{theme:o,showLibrary:n,hasLibraryApplication:i,storeLink:a,homeLink:e,premiumTabSelected:t})}var d0=n(266142),p0=n(977445),h0=n(99456);function E0(e){O.Z.dispatch({type:"LIBRARY_APPLICATION_FILTER_UPDATE",query:e})}function y0(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O.Z.dispatch({type:"LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE",key:e,isKeyboardEvent:t})}var m0=n(218786),b0=n(977449),g0=n(876941),O0=n(517628),v0=n.n(O0);function _0(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function I0(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function T0(e){T0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return T0(e)}function N0(e,t){return!t||"object"!==A0(t)&&"function"!=typeof t?_0(e):t}function C0(e,t){C0=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C0(e,t)}var A0=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function P0(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=T0(e);if(t){var o=T0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N0(this,n)}}var j0=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C0(e,t)}(n,e);var t=P0(n);function n(){S0(this,n);var e;(e=t.apply(this,arguments)).searchBarRef=null;e.state={focused:!1};e.setRef=function(t){e.searchBarRef=t};e.handleKeyDown=function(t){var n,r=e.props,o=r.activeRowKey,i=r.hasModalOpen,a=r.applicationViewItems,s=_0(e).searchBarRef;if(!(i||t.ctrlKey||t.altKey||t.metaKey||null==s)){var c=null===(n=(0,g0.uB)(t))||void 0===n?void 0:n.activeElement;if(c===s.inputRef.current||!(0,g0.VG)(c))switch(t.which){case M.yXg.ESCAPE:t.target!==s.inputRef.current?e.reset():null!=s.inputRef.current&&s.blur();break;case M.yXg.ENTER:if(null!=o){t.preventDefault();var l=a.find((function(e){return e.key===o}));if(null==l)return;var u=l.libraryApplication;Fy.performDefaultLibraryApplicationAction(u,{analyticsParams:{source:M.Sbl.APPLICATION_LIBRARY,
location:{page:M.ZY5.LIBRARY,section:M.jXE.LIBRARY_APPLICATION_LIST,object:M.qAy.BUTTON_CTA}}})}break;case M.yXg.ARROW_DOWN:case M.yXg.ARROW_UP:t.preventDefault();t.stopPropagation();e.updateActiveRow(t.which===M.yXg.ARROW_DOWN?1:-1);break;default:null!=s.inputRef.current&&t.target!==s.inputRef.current&&s.focus()}}};return e}var o=n.prototype;o.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)};o.componentWillUnmount=function(){O.Z.wait((function(){return y0(null)}));document.removeEventListener("keydown",this.handleKeyDown)};o.reset=function(){y0(null);E0("")};o.focusInput=function(){var e=this.searchBarRef;null!=e&&e.focus()};o.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,o=n.findIndex((function(e){return e.key===r})),i=0;o>=0&&(i=(o+e)%n.length)<0&&(i=n.length-1);var a=n[i];y0(null!=a?a.key:null,!0)};o.render=function(){var e,t=this,n=this.props.filterQuery,o=this.state.focused;return(0,r.jsx)("div",{
className:Xp()((e={},I0(e,v0().libraryFilter,!0),I0(e,v0().focused,o),e)),children:(0,r.jsx)(LP.Z,{className:v0().searchBar,ref:this.setRef,onChange:E0,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},name:"filter",onClear:function(){t.reset();t.focusInput()},maxLength:100,query:n,placeholder:te.Z.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER})})};return n}(o.Component);function R0(){var e=(0,s.e7)([T.Z],(function(){return T.Z.hasLayers()})),t=(0,W.s9)(W.JQ);return(0,r.jsx)(j0,{activeRowKey:(0,s.e7)([b0.Z],(function(){return b0.Z.activeRowKey})),hasModalOpen:t||e,filterQuery:(0,s.e7)([m0.Z],(function(){return m0.Z.applicationFilterQuery})),applicationViewItems:(0,s.e7)([m0.Z],(function(){return m0.Z.sortedFilteredLibraryApplicationViewItems}))})}var x0=n(541302),M0=n.n(x0);function w0(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Z0(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){w0(e,t,n[t])}))}return e}function L0(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var D0=(0,rr.Q)()||!1;function U0(e){var t=e.currentRoute,n=e.renderToolbar,i=o.useContext(Ce.AnalyticsContext),a=D0||t===M.Z5c.APPLICATION_LIBRARY_SETTINGS;return(0,r.jsxs)(Ug.Z,{className:M0().libraryHeader,
toolbar:null==n?void 0:n(),children:[(0,r.jsx)(Ug.Z.Icon,{icon:YJ.Z,"aria-hidden":!0}),(0,r.jsx)(Ug.Z.Title,{children:te.Z.Messages.LIBRARY}),(0,r.jsx)(Ug.Z.Divider,{}),(0,r.jsxs)(yA.ZP,{type:yA.ZP.Types.TOP_PILL,selectedItem:t,onItemSelect:function(e){e!==t&&(0,X.uL)(e,{state:{analyticsSource:L0(Z0({},i.location),{section:M.jXE.TABS,object:M.qAy.NAVIGATION_LINK})}})},children:[(0,r.jsx)(yA.ZP.Item,{id:M.Z5c.APPLICATION_LIBRARY,children:te.Z.Messages.APPLICATION_LIBRARY_MY_GAMES}),a?(0,r.jsx)(yA.ZP.Item,{id:M.Z5c.APPLICATION_LIBRARY_SETTINGS,children:te.Z.Messages.SETTINGS}):null]})]})}const k0=o.memo(U0);var G0=n(258870),B0=n(98467),H0=n(959141),V0=n(413620),F0=n(57203),Y0=n(912551),W0=n(604943),z0=n(12403);const K0=function(e){var t=e.id,n=e.startColor,o=e.stopColor,i=e.color,a=e.stop;return(0,r.jsxs)("linearGradient",{id:t,children:[(0,r.jsx)("stop",{offset:"0",stopColor:n}),(0,r.jsx)("stop",{offset:a,stopColor:o}),(0,r.jsx)("stop",{offset:a,stopColor:i}),(0,r.jsx)("stop",{
offset:"1",stopColor:i})]})};function q0(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function X0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){q0(e,t,n[t])}))}return e}function Q0(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $0(e,t){if(null==e)return{};var n,r,o=function(e,t){
if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function J0(e){return"CloudDone-".concat(e)}function e1(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.foreground,l=e.gradientConfig,u=$0(e,["width","height","color","foreground","gradientConfig"]),f=null;null!=l&&(f=(0,r.jsx)(K0,Q0(X0({},l),{color:s,id:J0(l.id)})));return(0,r.jsxs)("svg",Q0(X0({},(0,qb.Z)(u)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:f}),(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:null!=l?"url(#".concat(J0(l.id),")"):s,className:c,
d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"})]}))}function t1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function n1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){t1(e,t,n[t])}))}return e}function r1(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function o1(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function i1(e){return"CloudDownload-".concat(e)}function a1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a1(e,t,n[t])
}))}return e}function c1(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l1(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u1(e){return"CloudUpload-".concat(e)}function f1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function d1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p1(e){p1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p1(e)}function h1(e,t){return!t||"object"!==y1(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E1(e,t){E1=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E1(e,t)}var y1=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p1(e);if(t){var o=p1(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h1(this,n)}}var b1,g1=new Set([M.TzF.PUSHING,M.TzF.PULLING]),O1=Object.freeze((d1(b1={},M.TzF.DONE,z0.Z),d1(b1,M.TzF.PLANNING,z0.Z),d1(b1,M.TzF.PREPARING,z0.Z),d1(b1,M.TzF.PUSHING,(function(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.foreground,l=e.gradientConfig,u=l1(e,["width","height","color","foreground","gradientConfig"]),f=null;null!=l&&(f=(0,r.jsx)(K0,c1(s1({},l),{color:s,id:u1(l.id)})));return(0,r.jsxs)("svg",c1(s1({},(0,qb.Z)(u)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:f}),(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:null!=l?"url(#".concat(u1(l.id),")"):s,className:c,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})]}))})),
d1(b1,M.TzF.PULLING,(function(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.foreground,l=e.gradientConfig,u=o1(e,["width","height","color","foreground","gradientConfig"]),f=null;null!=l&&(f=(0,r.jsx)(K0,r1(n1({},l),{color:s,id:i1(l.id)})));return(0,r.jsxs)("svg",r1(n1({},(0,qb.Z)(u)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:f}),(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:null!=l?"url(#".concat(i1(l.id),")"):s,className:c,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"})]}))})),d1(b1,M.TzF.CONFLICT,z0.Z),d1(b1,M.TzF.ERROR,z0.Z),b1)),v1=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
writable:!0,configurable:!0}});t&&E1(e,t)}(n,e);var t=m1(n);function n(){f1(this,n);var e;(e=t.apply(this,arguments))._doneTimer=new Ru.V7;return e}var o=n.prototype;o.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()};o.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==M.TzF.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())};o.componentWillUnmount=function(){this._doneTimer.stop()};o.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,(function(){return e.forceUpdate()}))};o.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===M.TzF.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1};o.getStop=function(e,t){if(t)return 1;if(e.type===M.TzF.PUSHING||e.type===M.TzF.PULLING){return e.progress/e.total}return 0};o.getTooltip=function(e,t){
switch(e.type){case M.TzF.DONE:return t?te.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:te.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case M.TzF.CONFLICT:case M.TzF.ERROR:return te.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case M.TzF.PLANNING:return te.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case M.TzF.PREPARING:return te.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case M.TzF.PUSHING:return te.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case M.TzF.PULLING:return te.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING;default:return null}};o.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,o=e.className,i=null==t?{type:M.TzF.DONE}:t,a=this.getIsRecentlySynced(),s={};(g1.has(i.type)||a)&&(s.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(i,a)});var c=a?e1:O1[i.type];return(0,r.jsx)(Kb.ZP,{text:this.getTooltip(i,a),children:function(e){return(0,r.jsx)(c,function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d1(e,t,n[t])}))}return e}({className:o},s,e))}})};return n}(o.PureComponent);const _1=s.ZP.connectStores([W0.Z],(function(e){var t=e.libraryApplication;return{cloudSyncState:W0.Z.getState(t.id,t.branchId)}}))(v1);var S1=n(312935),I1=n.n(S1);function T1(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function N1(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T1(i,r,o,a,s,"next",e)}function s(e){T1(i,r,o,a,s,"throw",e)}a(void 0)}))}}function C1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function P1(e){P1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return P1(e)}function j1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){A1(e,t,n[t])}))}return e}function R1(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function x1(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function M1(e,t){return!t||"object"!==Z1(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w1(e,t){w1=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w1(e,t)}var Z1=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function L1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}
}();return function(){var n,r=P1(e);if(t){var o=P1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M1(this,n)}}var D1,U1=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},k1=(0,Y0.Mg)(I1().rowMinHeight),G1=(0,Y0.Mg)(I1().linkedToGlowDuration),B1=Object.freeze((A1(D1={},M.iEv.PLATFORM,"Platform"),A1(D1,M.iEv.LAST_PLAYED,"Last Played"),A1(D1,M.iEv.NAME,"Name"),D1));var H1=function(e){var t=e.flag,n=e.icon,o=e.item,i=e.tooltip,a=o.libraryApplication.hasFlag(t);return(0,r.jsx)(Kb.ZP,{text:i,children:function(e){return(0,r.jsx)(n,j1({className:Xp()(I1().settingIcon,A1({},I1().hidden,!a))},e))}})},V1=[{key:M.iEv.NAME,renderHeader:function(){return te.Z.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:I1().nameCell,bodyCellClassName:I1().nameBodyCell,render:function(e){return(0,r.jsxs)(Qp.Z,{align:Qp.Z.Align.CENTER,children:[(0,r.jsx)(fY.Z,{game:e.application,size:fY.Z.Sizes.SMALL,className:I1().gameIcon}),(0,
r.jsxs)("div",{className:I1().nameCellInfo,children:[(0,r.jsx)("div",{className:I1().nameCellText,children:e.libraryApplication.getBranchedName(e.application)}),e.libraryApplication.hasFlag(M.eHb.PREMIUM)?(0,r.jsx)(Kb.ZP,{text:te.Z.Messages.PREMIUM_GAME,children:function(e){return(0,r.jsx)(i$.Z,j1({className:I1().nitroIcon},e))}}):null]})]})}},{key:M.iEv.PLATFORM,renderHeader:function(){return te.Z.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:I1().platformCell,bodyCellClassName:I1().textCell,render:function(e){var t=e.libraryApplication.getDistributor();return(0,r.jsx)(Qp.Z,{align:Qp.Z.Align.CENTER,children:null!=t?M.EOG[t]:te.Z.Messages.GAME_LIBRARY_NOT_APPLICABLE})}},{key:M.iEv.LAST_PLAYED,renderHeader:function(){return te.Z.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:I1().lastPlayedCell,bodyCellClassName:I1().textCell,render:function(e){var t
;t=e.isRunning?te.Z.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?te.Z.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?(0,r.jsx)(dY.ZP,{end:e.lastPlayed,location:dY.ZP.Locations.GAME_LIBRARY_LAST_PLAYED}):te.Z.Messages.GAME_LIBRARY_LAST_PLAYED_NONE;return(0,r.jsx)(Qp.Z,{align:Qp.Z.Align.CENTER,className:Xp()(A1({},I1().lastPlayedCellNew,e.isNew)),children:t})}},{key:M.iEv.ACTIONS,renderHeader:function(){return null},cellClassName:I1().actionsCell,render:function(e,t,n){if(null==t)throw new Error("No cell props defined.");var i,a,s=e.key===t.activeRowKey;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)("div",{className:I1().settingIcons,children:[(0,r.jsx)(H1,{flag:M.eHb.PRIVATE,item:e,icon:aI.Z,tooltip:te.Z.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),(0,r.jsx)(H1,{flag:M.eHb.OVERLAY_DISABLED,item:e,icon:V0.Z,tooltip:te.Z.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),(0,r.jsx)(_1,{className:Xp()(I1().settingIcon,A1({},I1().hidden,!e.supportsCloudSync)),
libraryApplication:e.libraryApplication})]}),(0,F0.Je)(e.libraryApplication)?(0,r.jsx)(B0.Z,{analyticsListSort:(i=t.sortKey,a=t.sortDirection,"".concat(B1[i]," ").concat(a===M.sHY.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:M.Sbl.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:s?Q.Co.Colors.GREEN:Q.Co.Colors.PRIMARY,isPlayShiny:s&&e.defaultAction===M.apO.PLAY,size:I1().actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}):(0,r.jsx)(G0.Z,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:s?Q.Co.Colors.GREEN:Q.Co.Colors.PRIMARY,customDisabledColor:Q.Co.Colors.PRIMARY,size:I1().actionButtonSize})]})}}],F1=function(e){
var t,n=e.item,o=e.activeRowKey,i=e.highlightedApplicationKey,a=e.onMouseEnter,s=e.onMouseLeave,c=e.onContextMenu,l=e.setRef,u=x1(e,["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"]),f=n.key===o,d=n.key===i;return(0,r.jsx)("div",{className:Xp()((t={},A1(t,I1().rowWrapperActive,f&&!d),A1(t,I1().rowWrapperGlow,d),A1(t,I1().rowWrapper,!f&&!d),A1(t,I1().rowWrapperDim,!f&&!n.isLaunchable),t)),ref:function(e){return l(e,n.key)},onMouseEnter:function(){return a(n)},onMouseLeave:s,onContextMenu:function(e){return c(e,n)},children:(0,r.jsx)("div",j1({},u))})},Y1=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&w1(e,t)}(i,e);var t=L1(i);function i(){C1(this,i);var e;(e=t.apply(this,arguments))._didUnmount=!1;e._rowRefs={};e.state={overflowMenuRowKey:null,
highlightedApplicationKey:null!=e.props.location.state?e.props.location.state.applicationId:null};e.setActiveRowKey=function(t){e.setState({overflowMenuRowKey:t.key})};e.clearActiveRowKey=function(){e._didUnmount||e.setState({overflowMenuRowKey:null})};e.handleRowMouseEnter=function(t){e.props.isNavigatingByKeyboard||y0(t.key)};e.handleRowMouseLeave=function(){e.props.isNavigatingByKeyboard||y0(null)};e.setRowRef=function(t,n){e._rowRefs[n]=t};e.handleApplicationContextMenu=function(t,o){e.setActiveRowKey(o);var i=e.props.analyticsContext;(0,fb.jW)(t,N1((function(){var e,t;return U1(this,(function(a){switch(a.label){case 0:return[4,n.e(47988).then(n.bind(n,847988))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,R1(j1({},e),{applicationId:o.libraryApplication.id,branchId:o.libraryApplication.branchId,analyticsContext:i}))}]}}))})),{onClose:e.clearActiveRowKey})};return e}var a=i.prototype;a.componentDidMount=function(){if(this.props.fetched){
this.handleHighlightedApplicationKey();this.trackViewed()}};a.componentWillUnmount=function(){this._didUnmount=!0};a.componentDidUpdate=function(e){if(!e.fetched&&this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];if(null!=n){O.Z.wait(fb.Zy);this.props.scrollToRow(n,k1)}}};a.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;if(null!=t&&null!=this._rowRefs[t]){this.props.scrollToRow(this._rowRefs[t],k1);(new Ru.V7).start(G1,(function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))}};a.trackViewed=function(){var e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0
},t=this.props,n=t.analyticsContext,r=t.applicationViewItems,o=!0,i=!1,a=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){switch(s.value.libraryApplication.getDistributor()){case M.GQo.DISCORD:e.num_applications_discord++;break;case M.GQo.STEAM:e.num_applications_steam++;break;case M.GQo.BATTLENET:e.num_applications_battlenet++;break;case M.GQo.TWITCH:e.num_applications_twitch++;break;case M.GQo.UPLAY:e.num_applications_uplay++;break;case M.GQo.ORIGIN:e.num_applications_origin++;break;case M.GQo.GOG:e.num_applications_gog++;break;case M.GQo.EPIC:e.num_applications_epic++}e.num_applications_total++}}catch(e){i=!0;a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}Ce.default.track(M.rMx.LIBRARY_VIEWED,R1(j1({},e),{load_id:n.loadId}))};a.handleSort=function(e,t){!function(e,t){O.Z.dispatch({type:"LIBRARY_TABLE_SORT_UPDATE",key:e,direction:t})}(e,t)};a.renderImportHelp=function(){
var e,t=this.props,n=t.applicationViewItems,o=t.filterQuery,i=n.length>0;if(i)return null;e=""!==o?te.Z.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:o}):te.Z.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT;return(0,r.jsxs)("div",{className:i?I1().emptyStateSmall:I1().emptyStateLarge,children:[(0,r.jsx)("div",{className:I1().emptyWumpus}),(0,r.jsx)(Qp.Z,{grow:0,shrink:i?1:0,direction:Qp.Z.Direction.VERTICAL,children:(0,r.jsxs)("div",{className:I1().emptyStateText,children:[(0,r.jsx)("div",{className:I1().emptyStateHeader,children:te.Z.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER}),(0,r.jsx)("div",{className:I1().emptyStateDescription,children:e})]})})]})};a.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,i=e.applicationViewItems,a=e.activeRowKey,s=e.stickyHeader,c=this.state,l=c.overflowMenuRowKey,u=c.highlightedApplicationKey;return(0,r.jsxs)(o.Fragment,{children:[i.length>0?(0,r.jsx)(H0.Z,{columns:V1,data:i,sortData:!1,
rowComponent:F1,className:I1().table,headerClassName:s?I1().stickyHeader:I1().header,headerCellClassName:I1().headerCell,sortedHeaderCellClassName:I1().headerCellSorted,bodyCellClassName:I1().bodyCell,rowClassName:I1().row,sortKey:t,sortDirection:n,stickyHeader:s,rowProps:{activeRowKey:null!=l?l:a,highlightedApplicationKey:u,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=l?l:a,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp()]})};return i}(o.PureComponent);Y1.defaultProps={stickyHeader:!1};function W1(e){var t=o.useContext(Ce.AnalyticsContext),n=(0,a.TH)(),i=(0,s.cj)([m0.Z],(function(){return{applicationViewItems:m0.Z.sortedFilteredLibraryApplicationViewItems,filterQuery:m0.Z.applicationFilterQuery,
fetched:m0.Z.hasFetchedApplications}})),c=i.applicationViewItems,l=i.filterQuery,u=i.fetched,f=(0,s.cj)([b0.Z],(function(){return{sortKey:b0.Z.sortKey,sortDirection:b0.Z.sortDirection,activeRowKey:b0.Z.activeRowKey,isNavigatingByKeyboard:b0.Z.isNavigatingByKeyboard}})),d=f.sortKey,p=f.sortDirection,h=f.activeRowKey,E=f.isNavigatingByKeyboard;return(0,r.jsx)(Y1,R1(j1({},e),{analyticsContext:t,location:n,applicationViewItems:c,filterQuery:l,fetched:u,sortKey:d,sortDirection:p,activeRowKey:h,isNavigatingByKeyboard:E}))}var z1,K1=n(937689),q1=n(427244),X1=n(995071),Q1=n.n(X1);function $1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function e2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){J1(e,t,n[t])}))}return e}function t2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $1(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.XSMALL="xsmall";e.SMALL="small";e.LARGE="large"}(z1||(z1={}));var n2=function(e){var t=e.className,n=e.percents,o=e.size,i=void 0===o?z1.SMALL:o,a=e.foregroundColors,s=void 0===a?[(0,pN.Lq)(M.Ilk.BRAND_500)]:a,c=e.backgroundColor,l=void 0===c?"var(--background-modifier-active)":c,u=e.animate,f=void 0===u||u,d=ss().zip(n,s).map((function(e,t){var n,o=t2(e,2),a=o[0],s=o[1];n=Array.isArray(s)?{background:"linear-gradient(to right, ".concat(s[0],", ").concat(s[1],")")}:{backgroundColor:s};return(0,r.jsx)("div",{className:Xp()(Q1().progressBar,Q1()[i],J1({},Q1().animating,f)),style:e2({transform:"translate3d(".concat(Math.min(Math.max(0,a),100)-100,"%, 0, 0)")},n)},t)})).reverse();return(0,r.jsx)("div",{className:Xp()(t,Q1().progress,Q1()[i]),style:{backgroundColor:l},children:d})};n2.Sizes=z1;const r2=n2
;var o2=n(248042),i2=n(522271),a2=n(10178),s2=n(371452),c2=n(239443),l2=n(531198),u2=n.n(l2);function f2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p2(e){p2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p2(e)}function h2(e,t){return!t||"object"!==m2(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E2(e,t){E2=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E2(e,t)}function y2(e){return function(e){if(Array.isArray(e))return f2(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f2(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f2(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m2=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b2(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p2(e);if(t){var o=p2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h2(this,n)}}var g2=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E2(e,t)}(n,e);var t=b2(n);function n(){d2(this,n);var e;(e=t.apply(this,arguments)).canvas=o.createRef();e.updateAnimation=function(t){var n=e.canvas.current;if(null!=n){var r=e.props,o=r.data,i=r.updateInterval,a=r.color,s=r.numUpdatesToShow,c=r.lineWidth,l=r.animate,u=r.gradientStopColor;if(!(o.length<2)){var f=Math.max(Math.min((t-e.dataChangedAt)/i,1),0),d=n.getContext("2d"),p=e.maxValue;d.strokeStyle=a;d.lineWidth=c;var h=n.height-d.lineWidth,E=d.createLinearGradient(0,0,0,h);if(null!=u)E.addColorStop(0,u);else{var y=VR.oo(a),m=y.r,b=y.g,g=y.b;E.addColorStop(0,"rgba(".concat(m,", ").concat(b,", ").concat(g,", 0)"))}E.addColorStop(1,e.fillColor);d.fillStyle=E;var O=o.length>=s?s:o.length;d.setTransform(1,0,0,-1,0,n.height);d.clearRect(0,0,n.width,n.height)
;d.translate(0,.5*d.lineWidth);var v,_,S=Math.floor(n.width/(O-3)),I=.5*S,T=S-S*f;d.translate(T,0);d.beginPath();var N=-S;o.forEach((function(e,t){v={x:N,y:h*e/p};0===t?d.moveTo(v.x,v.y):d.bezierCurveTo(_.x+I,_.y,v.x-I,v.y,v.x,v.y);_=v;N+=S}));d.stroke();d.lineTo(N-S,0);d.lineTo(0,0);d.fill();l&&f<1&&(e.animationFrameRequestId=window.requestAnimationFrame(e.updateAnimation))}}};return e}var i=n.prototype;i.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,o=n.data,i=n.animate,a=null==e||e.data!==t.data&&!ss().isEqual(e.data,t.data);if(a){var s;this.dataChangedAt=performance.now();this.maxValue=null!=r?r:(s=Math).max.apply(s,y2(o))}if(a||null==e||!e.animate&&i||e.color!==this.props.color){var c=VR.oo(this.props.color);this.fillColor="rgba(".concat(c.r,", ").concat(c.g,", ").concat(c.b,", 0.5)");window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}};i.componentDidMount=function(){
this.animationFrameRequestId=0;this.onDataUpdate(null,this.props)};i.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)};i.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=0};i.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,o=e.pixelHeight;return(0,r.jsx)("div",{className:t,children:(0,r.jsx)("canvas",{ref:this.canvas,className:u2().canvas,width:n,height:o})})};return n}(o.PureComponent);g2.defaultProps={animate:!0};const O2=g2;var v2=n(997050),_2=n.n(v2);const S2=function(e){var t,n=e.title,o=e.className,i=e.color,a=e.animate,s=e.gradientStopColor,c=e.getHistoricalTotalBytes,l=(0,pN.Sl)(i).hex,u=null===(t=(0,pN.Sl)(s))||void 0===t?void 0:t.hex;return(0,r.jsx)(c2.Z,{getHistoricalTotalBytes:c,children:function(e,t,i){return(0,r.jsx)("div",{className:Xp()(_2().monitor,o),children:(0,r.jsxs)(Qp.Z,{align:Qp.Z.Align.CENTER,children:[(0,r.jsxs)(Qp.Z,{className:_2().text,
direction:Qp.Z.Direction.VERTICAL,children:[(0,r.jsx)("div",{className:_2().title,children:n}),(0,r.jsx)("div",{className:_2().rate,children:(s=e[e.length-1]/t*1e3,s>1e3?te.Z.Messages.FILE_RATE_MB.format({size:Math.round(s/1e3)}):te.Z.Messages.FILE_RATE_KB.format({size:Math.round(s)}))})]}),(0,r.jsx)("div",{className:_2().overflowContainer,children:(0,r.jsx)(O2,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:_2().sparkChart,updateInterval:t,color:l,gradientStopColor:u,numUpdatesToShow:i,animate:a,pixelWidth:600,pixelHeight:48,lineWidth:4})})]})});var s}})};var I2=n(118343),T2=n.n(I2);function N2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C2(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function A2(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){C2(i,r,o,a,s,"next",e)}function s(e){
C2(i,r,o,a,s,"throw",e)}a(void 0)}))}}function P2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function R2(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function x2(e){x2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return x2(e)}function M2(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&L2(e,t)}function w2(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Z2(e,t){return!t||"object"!==U2(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L2(e,t){L2=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L2(e,t)}function D2(e){return function(e){if(Array.isArray(e))return N2(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N2(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U2=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k2(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=x2(e);if(t){var o=x2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z2(this,n)}}var G2,B2,H2,V2,F2=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Y2=function(e){var t=e.className,n=e.children,o=e.onContextMenu,i=e.item;return(0,
r.jsx)("div",{className:t,onContextMenu:function(e){return o(e,i)},children:n})},W2=[(0,pN.Lq)(M.Ilk.LINK_500),(0,pN.r7)(M.tPk.INTERACTIVE_NORMAL)],z2=function(e){var t=e.tooltip,n=e.onClick,o=e.icon;return(0,r.jsx)(Kb.ZP,{text:t,children:function(e){var i=e.onMouseEnter,a=e.onMouseLeave;return(0,r.jsx)(Q.Co,{"aria-label":t,className:T2().actionButton,innerClassName:T2().actionButtonContents,color:Q.Co.Colors.PRIMARY,size:Q.Co.Sizes.ICON,onClick:n,onMouseEnter:i,onMouseLeave:a,children:(0,r.jsx)(o,{className:T2().actionIcon})})}})};function K2(e,t){switch(t){case M.f07.POST_INSTALL_SCRIPTS:case M.f07.PLANNING:case M.f07.FINALIZING:case M.f07.ALLOCATING_DISK:return"".concat(e);default:return(0,s2.BU)(e,{useKibibytes:!0})}}var q2=(R2(V2={},M.vxO.INSTALLING,(R2(G2={},dY.J6.NONE,(function(e,t,n,r){return te.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})})),R2(G2,dY.J6.SECONDS,(function(e,t,n,r){
return te.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})})),R2(G2,dY.J6.MINUTES,(function(e,t,n,r){return te.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})})),R2(G2,dY.J6.HOURS,(function(e,t,n,r){return te.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})})),G2)),R2(V2,M.vxO.UPDATING,(R2(B2={},dY.J6.NONE,(function(e,t,n,r){return te.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})})),R2(B2,dY.J6.SECONDS,(function(e,t,n,r){return te.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})})),R2(B2,dY.J6.MINUTES,(function(e,t,n,r){return te.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})})),R2(B2,dY.J6.HOURS,(function(e,t,n,r){
return te.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})})),B2)),R2(V2,M.vxO.REPAIRING,(R2(H2={},dY.J6.NONE,(function(e,t,n,r){return te.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})})),R2(H2,dY.J6.SECONDS,(function(e,t,n,r){return te.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})})),R2(H2,dY.J6.MINUTES,(function(e,t,n,r){return te.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})})),R2(H2,dY.J6.HOURS,(function(e,t,n,r){return te.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})})),H2)),V2);function X2(e,t,n,r,o){var i=null!=e?e/60:null,a=q2[t],s=null!=a?Object.keys(a):[],c=(0,dY.CI)(i,s),l=c.unit,u=c.time;if(null!=a&&null!=l){var f=a[l];return null!=f?f(n,r,o,u):null}return null}function Q2(e){
var t=e.type,n=e.stage,r=e.percent,o=e.progress,i=e.total,a=e.secondsRemaining,s=K2(i,n),c=K2(o,n);switch(n){case M.f07.QUEUED:return 0===o?te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:r,progress:c,total:s});case M.f07.PLANNING:return te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:r});case M.f07.ALLOCATING_DISK:return te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:r});case M.f07.PATCHING:return X2(a,t,r,c,s);case M.f07.FINALIZING:return te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:r});case M.f07.PAUSING:return te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:r,progress:c,total:s});case M.f07.VERIFYING:return te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:r,progress:c,total:s});case M.f07.POST_INSTALL_SCRIPTS:
return te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:r,progress:c,total:s});case M.f07.REPAIRING:return t===M.vxO.REPAIRING?X2(a,t,r,c,s):te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:r,progress:c,total:s})}throw new Error("Invalid Dispatch stage")}function $2(e,t,o){fb.jW(e,A2((function(){var e,i;return F2(this,(function(a){switch(a.label){case 0:return[4,n.e(47988).then(n.bind(n,847988))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,w2(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){R2(e,t,n[t])}))}return e}({},e),{applicationId:t.applicationId,branchId:t.branchId,analyticsContext:o}))}]}}))})))}var J2="name",e4="progress",t4="actions",n4=function(e){
M2(n,e);var t=k2(n);function n(){P2(this,n);var e;(e=t.apply(this,arguments)).renderProgressPatchingBody=function(t,n){var r=e.props.item.state;if(null==r)return null;var o=r.stage,i=r.progress,a=r.total,s=r.type,c=r.readerProgress;if(null==i||null==a||null==o)return null;var l=F0.xI(i,a),u=F0.xI(null!=c?c:0,a),f=t[t.length-1]/n*1e3,d=a-i,p=0!==f?Math.max(1,d/f):null,h=Q2({type:s,stage:o,percent:Math.floor(l),progress:i,total:a,secondsRemaining:p});return e.renderStackedProgress({percents:[l,u],message:h})};return e}var o=n.prototype;o.renderBody=function(e){var t=e.percent,n=e.foregroundColor,o=e.foregroundGradientColor,i=e.message;return(0,r.jsxs)(Qp.Z,{direction:Qp.Z.Direction.VERTICAL,children:[(0,r.jsx)(q1.Z,{percent:t,size:q1.Z.Sizes.SMALL,foregroundColor:(0,pN.Lq)(n),foregroundGradientColor:null!=o?[(0,pN.Lq)(o[0]),(0,pN.Lq)(o[1])]:void 0,animate:this.isFocused}),(0,r.jsx)("div",{className:T2().progressCellText,children:null!=i?i:""})]})};o.renderStackedProgress=function(e){
var t=e.percents,n=e.message;return(0,r.jsxs)(Qp.Z,{direction:Qp.Z.Direction.VERTICAL,children:[(0,r.jsx)(r2,{percents:t,size:q1.Z.Sizes.SMALL,foregroundColors:W2,animate:this.isFocused}),(0,r.jsx)("div",{className:T2().progressCellText,children:null!=n?n:""})]})};o.renderFinished=function(){var e=this.props.item;return this.renderBody({message:te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return tr.wi(e.applicationId,e.branchId)}}),foregroundColor:e.theme===M.BRd.LIGHT?M.Ilk.PRIMARY_DARK_300:M.Ilk.PRIMARY_DARK_500,percent:100})};o.renderQueued=function(){var e,t,n=this.props.item,r=n.state,o=n.theme;if(null!=r){var i=r.progress,a=r.total,s=r.stage;if(null!=i&&null!=a){var c=K2(a,s),l=K2(i,s);t=F0.xI(i,a);var u=Math.floor(t);e=s===M.f07.PAUSING?te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:u,progress:l,total:c}):te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:u,progress:l,total:c})}}if(null==t||null==e){t=0
;e=te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION}return this.renderBody({percent:t,foregroundColor:o===M.BRd.LIGHT?M.Ilk.PRIMARY_DARK_300:M.Ilk.PRIMARY_DARK_500,message:e})};o.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,o=t.total;if(null==r||null==o)return null;var i=F0.xI(r,o),a=Math.floor(i),s=0===r&&1===o?te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:te.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:a,progress:(0,s2.BU)(r),total:(0,s2.BU)(o)});return this.renderBody({message:s,foregroundColor:n===M.BRd.LIGHT?M.Ilk.PRIMARY_DARK_300:M.Ilk.PRIMARY_DARK_500,percent:i})};o.renderProgressPatching=function(){return(0,r.jsx)(c2.Z,{getHistoricalTotalBytes:Dy.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,children:this.renderProgressPatchingBody})};o.renderProgressDefault=function(){var e=this.props.item.state;if(null==e)return null
;var t=e.total,n=e.progress,r=e.stage,o=e.type;if(null==t||null==n||null==r)return null;var i=F0.xI(n,t),a=Math.floor(i);return this.renderBody({percent:i,message:Q2({type:o,stage:r,percent:a,progress:n,total:t}),foregroundColor:M.Ilk.LINK_500})};o.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){case M.f07.PATCHING:case M.f07.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}};o.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==M.vxO.UPDATING&&t.state.type!==M.vxO.REPAIRING&&t.state.type!==M.vxO.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()};!function(e,t,n){t&&j2(e.prototype,t);n&&j2(e,n)}(n,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]);return n}(o.PureComponent),r4=function(){return(0,r.jsx)(z2,{icon:a2.Z,
tooltip:te.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){return tr.v4()}})},o4=function(){return(0,r.jsx)(z2,{icon:i2.Z,tooltip:te.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return tr.wO()}})},i4=function(e){var t=e.item;return(0,r.jsx)(z2,{icon:o2.Z,tooltip:te.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return tr.A1(t.applicationId,t.branchId)}})},a4=function(e){var t=e.item;return(0,r.jsx)(z2,{icon:Sb.Z,tooltip:te.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return tr.al(t.applicationId,t.branchId)}})},s4=[{key:J2,cellClassName:T2().nameCell,render:function(e){return(0,r.jsxs)(Qp.Z,{align:Qp.Z.Align.CENTER,children:[(0,r.jsx)(fY.Z,{game:e.application,className:T2().gameIcon,size:fY.Z.Sizes.SMALL}),(0,r.jsx)("div",{className:T2().nameCellText,children:e.application.name})]})}},{key:e4,cellClassName:T2().progressCell,headerCellClassName:T2().progressCellHeader,bodyCellClassName:T2().progressCellBody,
render:function(e,t){return(0,r.jsx)(n4,{item:e,cellProps:t})}},{key:t4,cellClassName:T2().actionsCell,render:function(e,t){var n,o;if(e.finished)n=null!=e.libraryApplication?(0,r.jsx)(B0.Z,{libraryApplication:e.libraryApplication,size:Q.Co.Sizes.SMALL,className:T2().gameActionButton,source:M.Sbl.APPLICATION_LIBRARY_UPDATES}):null;else if(null!=e.state){if(e.state.type!==M.vxO.UP_TO_DATE){n=e.index>0?(0,r.jsx)(i4,{item:e}):null!=t&&t.paused?(0,r.jsx)(r4,{}):(0,r.jsx)(o4,{item:e});o=(0,r.jsx)(a4,{item:e})}}else o=(0,r.jsx)(a4,{item:e});return(0,r.jsxs)(Qp.Z,{justify:Qp.Z.Justify.END,children:[n,o]})}}],c4=function(e){M2(n,e);var t=k2(n);function n(){P2(this,n);var e;(e=t.apply(this,arguments)).isUnmounted=!1;e.isTallerThanHalfViewport=!1;e.throttledUpdateHeight=ss().throttle((function(){if(!e.isUnmounted){var t=e.props,n=t.height,r=t.onHeightTallerThanHalfViewportChange,o=n>window.innerHeight/2;if(e.isTallerThanHalfViewport!==o){e.isTallerThanHalfViewport=o;r(o)}}}),1e3);return e}
var o=n.prototype;o.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)};o.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()};o.componentWillUnmount=function(){this.props.applications.forEach((function(e){e.finished&&O.Z.wait((function(){tr.wi(e.applicationId,e.branchId)}))}));window.removeEventListener("resize",this.throttledUpdateHeight);this.isUnmounted=!0};o.render=function(){var e=this.props,t=e.applications,n=e.paused,o=e.isFocused,i=e.theme,a=e.analyticsContext;return 0===t.length?null:(0,r.jsxs)("div",{className:T2().gameUpdates,children:[(0,r.jsxs)("div",{className:T2().headerRow,children:[(0,r.jsx)(S2,{className:Xp()(T2().headerCell,T2().networkProgress),title:te.Z.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:Dy.Z.getHistoricalTotalBytesDownloaded,color:M.Ilk.STATUS_GREEN_600,animate:o}),(0,r.jsx)(S2,{className:Xp()(T2().headerCell,T2().diskProgress),
title:te.Z.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:Dy.Z.getHistoricalTotalBytesWritten,color:M.Ilk.LINK_500,animate:o})]}),(0,r.jsx)(H0.Z,{hasHeader:!1,columns:s4,data:t,className:T2().table,rowClassName:T2().row,rowComponent:Y2,cellProps:{paused:n,isFocused:o,theme:i},rowProps:{onContextMenu:function(e,t){return $2(e,t,a)}},bodyCellClassName:T2().cell})]})};return n}(o.PureComponent);function l4(e,t,n,r){return e.reduce((function(e,o,i){var a=o.applicationId,s=o.branchId,c=n.getGame(a),l=r.getState(a,s);null!=c&&e.push({key:"".concat(a,":").concat(s),applicationId:a,branchId:s,state:l,application:c,libraryApplication:Gn.Z.getLibraryApplication(a,s),finished:t,index:i});return e}),[])}const u4=(0,ab.Z)(s.ZP.connectStores([K1.Z,Wp.Z,Qe.Z,wn.Z,Dy.Z],(function(){var e=l4(K1.Z.activeItems,!1,wn.Z,Dy.Z),t=l4(K1.Z.finishedItems,!0,wn.Z,Dy.Z);return{applications:D2(e).concat(D2(t)),paused:K1.Z.paused,isFocused:Qe.Z.isFocused(),theme:Wp.Z.theme}}))((0,bY.Z)(c4)))
;var f4=n(993846),d4=n.n(f4);function p4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h4(e){h4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h4(e)}function E4(e,t){return!t||"object"!==m4(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y4(e,t){y4=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y4(e,t)}var m4=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b4(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h4(e);if(t){var o=h4(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E4(this,n)}}var g4=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&y4(e,t)}(n,e);var t=b4(n);function n(){p4(this,n);var e;(e=t.apply(this,arguments))._scrollerRef=o.createRef();e._scrollToPadding=0;e.state={includeUpdatesInScroller:!1};e.handleHeightTallerThanHalfViewportChange=function(t){e.setState({includeUpdatesInScroller:t})};e.scrollToRow=function(t,n){var r=e._scrollerRef.current;if(null!=r){t.focus();r.scrollIntoViewRect({start:n,end:n});e._scrollToOnMount=null}else{e._scrollToOnMount=t;e._scrollToPadding=n}};return e}var i=n.prototype;i.componentDidMount=function(){xB(M.Z5c.APPLICATION_LIBRARY);(0,h0.T)(M.jEp.LIBRARY);O.Z.wait((function(){return(0,d0.o)()}));(0,p0.N)()
;null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)};i.renderToolbar=function(){return(0,r.jsx)(R0,{})};i.render=function(){var e=this.state.includeUpdatesInScroller,t=(0,r.jsx)("div",{children:(0,r.jsx)(UV.Z,{section:M.jXE.LIBRARY_INSTALL_MODULE,children:(0,r.jsx)(u4,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})})});return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(k0,{currentRoute:M.Z5c.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),e?null:t,(0,r.jsxs)(zg.yW,{className:Xp()(d4().container,d4().scroller),ref:this._scrollerRef,children:[e?t:null,(0,r.jsx)(UV.Z,{section:M.jXE.LIBRARY_APPLICATION_LIST,children:(0,r.jsx)(W1,{stickyHeader:!e,scrollToRow:this.scrollToRow})})]})]})};return n}(o.PureComponent),O4=n(571663),v4=n(87993),_4=n(664252),S4=n(624387),I4=n(126388),T4=n.n(I4);function N4(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function C4(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var A4=Math.ceil(2*Math.PI*20);function P4(e){var t=Math.round(-85*e+199),n=Math.round(-71*e+208),r=Math.round(-22*e+240);return"rgb(".concat(t,", ").concat(n,", ").concat(r,")")}function j4(e){var t=Math.floor(A4*e);return"".concat(t,", ").concat(A4)}const R4=function(e){var t=e.total,n=e.used,o=Math.max(0,Math.min(1,n/t)),i="".concat(Math.floor(100*o),"%");return(0,r.jsx)(Kb.ZP,{text:te.Z.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:i}),children:function(e){return(0,
r.jsxs)("div",C4(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){N4(e,t,n[t])}))}return e}({className:T4().wrapper,role:"progressbar","aria-label":te.Z.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:i})},e),{children:[(0,r.jsxs)("svg",{viewBox:"25 25 50 50",className:T4().svg,"aria-hidden":!0,children:[(0,r.jsx)("circle",{className:T4().background,cx:"50",cy:"50",r:20}),(0,r.jsx)("circle",{className:T4().foreground,cx:"50",cy:"50",r:20,stroke:P4(o),strokeDasharray:j4(o)})]}),(0,r.jsx)("aside",{className:T4().usageInfo,"aria-hidden":!0,children:i})]}))}})};var x4=n(928926),M4=n(591523),w4=n.n(M4);function Z4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L4(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function D4(e){D4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return D4(e)}function U4(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&H4(e,t)}function k4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){L4(e,t,n[t])}))}return e}function G4(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function B4(e,t){return!t||"object"!==V4(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H4(e,t){H4=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return H4(e,t)}var V4=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function F4(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=D4(e);if(t){var o=D4(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B4(this,n)}}var Y4=function(e){U4(n,e);var t=F4(n);function n(){Z4(this,n);var e;(e=t.apply(this,arguments)).state={label:void 0,isDefault:null};e.handleStartEditing=function(){var t=e.props,n=t.path,r=t.label,o=t.isDefault;(0,t.onToggleEditing)(n);e.setState({label:r,isDefault:o})};e.handleStopEditing=function(){(0,e.props.onToggleEditing)(null);e.setState({label:void 0,isDefault:null})};e.handleRemoveLocation=function(){(0,W.h7)((function(t){return(0,r.jsx)(bh.default,G4(k4({},t),{header:te.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:te.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:te.Z.Messages.CANCEL,onConfirm:function(){e.handleStopEditing();(0,v4.iD)(e.props.path)},children:(0,r.jsx)(q.xv,{variant:"text-md/normal",children:te.Z.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY})}))}))};e.handleSaveChanges=function(){(0,v4.Tb)(e.props.path,{
label:null!=e.state.label?e.state.label:e.props.label,isDefault:null!=e.state.isDefault?e.state.isDefault:e.props.isDefault});e.handleStopEditing()};e.handleLabelChange=function(t){e.setState({label:t})};e.handleToggleDefault=function(){e.setState({isDefault:!e.state.isDefault})};return e}var o=n.prototype;o.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?(0,r.jsx)(R4,{total:e.totalKB,used:e.totalKB-e.availableKB}):null};o.renderViewing=function(){var e,t,n=this.props,o=n.path,i=n.label,a=n.editingPath,s=n.isDefault,c=n.metadata;if(null!=c){e=null!=c.availableKB?(0,s2.BU)(c.availableKB,{useKibibytes:!0}):null;t=null!=c.totalKB?(0,s2.BU)(c.totalKB,{useKibibytes:!0}):null}return(0,r.jsxs)(Qp.Z,{className:w4().installationPath,align:Qp.Z.Align.CENTER,children:[this.renderDiskUsageCircle(),(0,r.jsxs)(Qp.Z,{direction:Qp.Z.Direction.VERTICAL,className:w4().descriptionWrapper,children:[(0,r.jsxs)(Qp.Z,{align:Qp.Z.Align.CENTER,
children:[(0,r.jsx)(q.X6,{className:w4().rowTitle,variant:"heading-md/semibold",children:null!=i?i:_4.Z.getLabelFromPath(o)}),s?(0,r.jsx)("span",{className:w4().defaultIndicator,children:te.Z.Messages.DEFAULT}):null]}),null!=c&&null!=e&&null!=t?(0,r.jsx)(x4.Z,{className:w4().rowBody,hoverText:te.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t}),children:o}):(0,r.jsx)(q.xv,{className:w4().rowBody,variant:"text-xs/normal",children:o})]}),(0,r.jsx)(Q.Co,{size:Q.Co.Sizes.SMALL,disabled:null!=a,color:Q.Co.Colors.PRIMARY,onClick:this.handleStartEditing,children:te.Z.Messages.EDIT})]})};o.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,o=this.state,i=o.label,a=o.isDefault;return(0,r.jsx)(S4.Z,{editable:!0,className:w4().installationPathEditing,children:(0,r.jsxs)(Qp.Z,{children:[this.renderDiskUsageCircle(),(0,r.jsxs)(Qp.Z.Child,{children:[(0,r.jsx)(q.xJ,{title:te.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME,children:(0,
r.jsx)(q.oi,{value:i,placeholder:_4.Z.getLabelFromPath(t),onChange:this.handleLabelChange})}),(0,r.jsx)(q.xJ,{title:te.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:ah().marginTop20,children:(0,r.jsx)(q.oi,{disabled:!0,value:t})}),(0,r.jsx)(q.XZ,{type:q.XZ.Types.INVERTED,value:null!=a?a:this.props.isDefault,disabled:this.props.isDefault,className:w4().defaultLocationCheckbox,onChange:this.handleToggleDefault,children:te.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT}),(0,r.jsx)(q.$i,{className:w4().separator}),(0,r.jsxs)(Qp.Z,{children:[(0,r.jsx)(Q.Co,{disabled:n||this.props.isDefault,size:Q.Co.Sizes.SMALL,color:Q.Co.Colors.RED,look:Q.Co.Looks.OUTLINED,onClick:this.handleRemoveLocation,children:te.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE}),(0,r.jsxs)(Qp.Z,{justify:Qp.Z.Justify.END,children:[(0,r.jsx)(Q.Co,{size:Q.Co.Sizes.SMALL,color:Q.Co.Colors.PRIMARY,look:Q.Co.Looks.LINK,onClick:this.handleStopEditing,children:te.Z.Messages.CANCEL}),(0,
r.jsx)(Q.Co,{disabled:t===this.props.path&&i===this.props.label&&a===this.props.isDefault,size:Q.Co.Sizes.SMALL,color:Q.Co.Colors.GREEN,onClick:this.handleSaveChanges,children:te.Z.Messages.SAVE})]})]})]})]})})};o.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()};return n}(o.PureComponent),W4=function(e){U4(n,e);var t=F4(n);function n(){Z4(this,n);var e;(e=t.apply(this,arguments)).state={editingPath:null};e.handleAddInstallationLocation=function(){vs.default.showOpenDialog(["openDirectory"]).then((function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,v4.RY)(e[0])}))};e.handleToggleEditing=function(t){e.setState({editingPath:t})};return e}var o=n.prototype;o.componentDidMount=function(){(0,v4.ec)(this.props.installationPaths.map((function(e){return e.path})))};o.render=function(){var e=this,t=this.props,n=t.installationPaths,o=t.installationPathsMetadata,i=t.defaultInstallationPath,a=this.state.editingPath
;return(0,r.jsxs)(q.hj,{className:w4().wrapper,title:te.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS,children:[n.map((function(t){var n=t.path,s=t.label;return(0,r.jsx)(Y4,{path:n,label:s,metadata:o[n],isDefault:i===n,editingPath:a,hasGamesInstalledInPath:_4.Z.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)})),(0,r.jsx)("div",{className:w4().buttonRowWrapper,children:(0,r.jsx)(Q.Co,{disabled:!Gt.FB,onClick:this.handleAddInstallationLocation,size:Q.Co.Sizes.SMALL,children:te.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD})})]})};return n}(o.PureComponent);const z4=s.ZP.connectStores([_4.Z],(function(){return{installationPaths:_4.Z.installationPaths,installationPathsMetadata:_4.Z.installationPathsMetadata,defaultInstallationPath:_4.Z.defaultInstallationPath}}))(W4);var K4=n(218522),q4=n.n(K4);function X4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q4(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $4(e){$4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $4(e)}function J4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Q4(e,t,n[t])}))}return e}function e3(e,t){return!t||"object"!==n3(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function t3(e,t){t3=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return t3(e,t)}var n3=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function r3(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$4(e);if(t){var o=$4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return e3(this,n)}}function o3(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var o=t.map((function(e){var t=e.libraryApplication.getDistributor();return(0,r.jsxs)("div",{className:q4().hiddenLibraryApplication,children:[(0,r.jsxs)(Qp.Z,{direction:Qp.Z.Direction.VERTICAL,className:q4().hiddenLibraryApplicationContent,children:[(0,r.jsx)("div",{className:q4().applicationName,children:e.libraryApplication.getBranchedName(e.application)}),null!=t?(0,r.jsx)("div",{className:q4().applicationSubText,children:M.EOG[t]}):null]}),(0,r.jsx)(q.P3,{className:q4().restoreButton,
onClick:function(){return n(e.libraryApplication)},children:(0,r.jsx)(Sb.Z,{className:q4().restoreIcon})})]},e.key)}));return(0,r.jsxs)(q.hj,{className:q4().hiddenLibraryApplications,children:[(0,r.jsx)(q.vw,{className:q4().hiddenLibraryApplicationsTitle,children:te.Z.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL}),o]})}var i3=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&t3(e,t)}(n,e);var t=r3(n);function n(){X4(this,n);var e;(e=t.apply(this,arguments)).handleRestoreHiddenLibraryApplication=function(t){var n=Rs.x9(t.getFlags(),M.eHb.HIDDEN);O4.h(t.id,t.branchId,n);e.trackRestoreApplication(t,Rs.yE(n,M.eHb.HIDDEN))};return e}var i=n.prototype;i.handleToggleShortcutDesktop=function(e){ft.Xc.updateSetting(e)};i.handleToggleShortcutStartMenu=function(e){ft.Pe.updateSetting(e)}
;i.trackRestoreApplication=function(e,t){Ce.default.track(M.rMx.APPLICATION_SETTINGS_UPDATED,J4({hidden_enabled:t},e.getAnalyticsData()))};i.renderBody=function(){var e=this.props,t=e.hiddenLibraryApplicationViewItems,n=e.installShortcutDesktop,i=e.installShortcutStartMenu;return(0,r.jsxs)("div",{className:q4().body,children:[(0,rr.Q)()?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(q.j7,{value:n,onChange:this.handleToggleShortcutDesktop,note:te.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE,children:te.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP}),(0,r.jsx)(q.j7,{value:i,onChange:this.handleToggleShortcutStartMenu,note:te.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE,children:te.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU}),(0,r.jsx)(z4,{})]}):null,(0,r.jsx)(o3,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:t})]})};i.render=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k0,{
currentRoute:M.Z5c.APPLICATION_LIBRARY_SETTINGS}),(0,r.jsx)(eE.w0,{className:q4().scroller,children:this.renderBody()})]})};return n}(o.PureComponent);function a3(){var e={installShortcutDesktop:ft.Xc.useSetting(),installShortcutStartMenu:ft.Pe.useSetting(),hiddenLibraryApplicationViewItems:(0,s.e7)([m0.Z],(function(){return m0.Z.hiddenLibraryApplicationViewItems}))};return(0,r.jsx)(i3,J4({},e))}var s3=n(854686),c3=n.n(s3);function l3(){return(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(Jm.Z,{path:M.Z5c.APPLICATION_LIBRARY_SETTINGS,exact:!0,children:(0,r.jsxs)(UV.Z,{page:M.ZY5.LIBRARY_SETTINGS,root:!0,children:[(0,r.jsx)(ym.yY,{subsection:te.Z.Messages.SETTINGS}),(0,r.jsx)(a3,{})]})}),(0,r.jsx)(Jm.Z,{path:M.Z5c.APPLICATION_LIBRARY,children:(0,r.jsxs)(UV.Z,{page:M.ZY5.LIBRARY,root:!0,children:[(0,r.jsx)(ym.yY,{subsection:te.Z.Messages.APPLICATION_LIBRARY_MY_GAMES}),(0,r.jsx)(g4,{})]})})]})}function u3(){o.useEffect((function(){(0,KB.e)("application_library")}),[]);return(0,r.jsxs)("div",{
className:c3().container,children:[(0,r.jsx)(ym.yY,{location:te.Z.Messages.LIBRARY}),(0,r.jsx)(l3,{})]})}const f3=o.memo(u3);var d3=n(682278);var p3=(0,WR.B)({kind:"user",id:"2021-11_discovery_tags",label:"Discovery Tags",defaultConfig:{shouldDisplayTags:!1,shouldDisplayRecommendedSearchTags:!1},treatments:[{id:1,label:"Show keyword tags on home and search result pages",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!1}},{id:2,label:"Show keyword tags on home and search result pages and under the search bar",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!0}}]}),h3=n(382296),E3=n(250297),y3=n(76846),m3=n(762018),b3=n(513284),g3=n(700207),O3=n(983294),v3=n.n(O3);function _3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S3(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I3(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S3(e,t,n[t])}))}return e}function T3(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function N3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _3(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C3=["egirl","egirls","waifu","dating","nsfw","sex","playboy","stupid","harem","playgirl","shitcoin","shitpost","porno","nudes","sexy","horny","fart","tits","balls","cum"],A3=function(e){var t=e.text,n=e.onClick,o=e.className,i=e.hide;return(0,r.jsx)("li",{className:Xp()(v3().tag,o,S3({},v3().hide,i)),children:(0,r.jsx)(q.P3,{className:v3().tagText,onClick:function(e){
e.stopPropagation();e.preventDefault();n(e)},children:t})})},P3=function(e){var t=e.tags,n=e.onTagClick,i=e.guildId,a=e.section;o.useEffect((function(){Ce.default.track(M.rMx.OPEN_POPOUT,{type:"Discovery Tags Overflow",guild_id:i,location:{page:M.ZY5.GUILD_DISCOVERY,section:a}})}),[i,a]);return(0,r.jsx)(q.Vq,{className:v3().overflowTagsPopout,children:(0,r.jsx)("ul",{children:t.map((function(e){return(0,r.jsx)(A3,{onClick:function(){return n(e)},className:v3().tagAlt,text:e},e)}))})})},j3=function(e){var t=e.className,n=e.count;return(0,r.jsx)(jg.ZP,{renderPopout:function(){return(0,r.jsx)(P3,I3({},e))},position:jg.ZP.Positions.RIGHT,align:jg.ZP.Align.TOP,closeOnScroll:!0,children:function(e){return(0,r.jsx)(A3,T3(I3({className:t},e),{text:"+".concat(n)}))}})},R3={DEFAULT:v3().tagDefault,LIGHT:v3().tagLight,ALT:v3().tagAlt},x3=function(e){
var t=e.tags,n=e.onTagClick,i=e.className,a=e.discoveryTagStyle,s=void 0===a?R3.DEFAULT:a,c=e.hideOverflow,l=void 0!==c&&c,u=e.guildId,f=e.section,d=(0,sb.Z)(),p=d.ref,h=d.width,E=N3(o.useState(null),2),y=E[0],m=E[1],b=t.filter((function(e){return!C3.includes(e.toLowerCase())}));o.useLayoutEffect((function(){if(null!=p.current&&null!=h&&0!==h){for(var e=0,t=0,n=h-40-4,r=0;r<b.length;r++){t+=p.current.children[r].clientWidth+4;if(r===b.length-1?t>n+40:t>n)break;e++}m((function(t){return e<=b.length?e:t}))}}),[h,p,b]);return(0,r.jsxs)("ul",{ref:p,className:Xp()(v3().tagContainer,i,S3({},v3().invisible,null==y)),children:[b.map((function(e,t){return(0,r.jsx)(A3,{className:s,onClick:function(){return n(e)},hide:null!=y&&t>=y,text:e},e)})),!l&&null!=y&&y<b.length&&(0,r.jsx)(j3,{className:s,onTagClick:n,tags:b.slice(y),count:b.length-y,guildId:u,section:f})]})},M3=n(902925),w3=n(330275),Z3=n(395810),L3=n(498154),D3=n.n(L3);function U3(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k3(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function G3(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function B3(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}
return o}function H3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U3(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const V3=function(e){var t=e.guild,n=H3(o.useState(!1),2),i=n[0],a=n[1],s=o.useCallback((function(){return a(!0)
}),[a]),c=o.useCallback((function(){return a(!0)}),[a]);return(0,r.jsx)("div",{className:Xp()(D3().actionButtonsContainer,k3({},D3().forceButtonsShow,i)),children:(0,r.jsx)(w3.ZP,{children:(0,r.jsx)(Z3.GuildDiscoveryMenuPopout,{onRequestOpen:s,onRequestClose:c,guild:t,children:function(e){var t=e.onClick,n=B3(e,["onClick"]);return(0,r.jsx)(Kb.ZP,{text:te.Z.Messages.MORE,hideOnClick:!0,children:function(e){var o=e.onClick,i=B3(e,["onClick"]);return(0,r.jsx)(w3.zx,G3(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){k3(e,t,n[t])}))}return e}({},n,i),{onClick:function(e){e.stopPropagation();null==o||o();t(e)},"aria-label":te.Z.Messages.MORE,children:(0,r.jsx)(lS.Z,{className:D3().overflowIcon})}))}})}})})})}
;var F3=n(769002),Y3=n(440455),W3=n(976351),z3=n.n(W3),K3=n(860321),q3=n.n(K3),X3=n(145792),Q3=n.n(X3),$3=n(348833),J3=n.n($3);function e6(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t6(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function n6(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){t6(i,r,o,a,s,"next",e)}function s(e){t6(i,r,o,a,s,"throw",e)}a(void 0)}))}}function r6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o6(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function i6(e){i6=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return i6(e)}function a6(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o6(e,t,n[t])}))}return e}function s6(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c6(e,t){return!t||"object"!==u6(t)&&"function"!=typeof t?e6(e):t}function l6(e,t){l6=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l6(e,t)}var u6=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f6(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=i6(e);if(t){var o=i6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c6(this,n)}}var d6=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p6=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l6(e,t)}(o,e);var t=f6(o);function o(){r6(this,o);var e;(e=t.apply(this,arguments)).state={loaded:!1,hasBeenSeen:!1,isVisible:!1,submitting:!1};var i=e6(e)
;e.handleClickView=function(){var e=n6((function(e){var t,n,r;return d6(this,(function(o){switch(o.label){case 0:if(e.target.className.includes("Menu"))return[2];t=i.props,n=t.onView,r=t.guild;e.stopPropagation();i.setState({submitting:!0});o.label=1;case 1:o.trys.push([1,,4,5]);return null!=n?[4,n(r.id)]:[3,3];case 2:o.sent();o.label=3;case 3:return[3,5];case 4:i.setState({submitting:!1});return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();e.handleVisibilityChange=function(t){var n=e.props,r=n.onGuildCardSeen,o=n.guild;if(null!=o&&!e.state.hasBeenSeen&&t){e.setState({hasBeenSeen:t});null!=r&&r(o.id)}};e.handleContextMenu=function(t){var o=e6(e);(0,fb.jW)(t,n6((function(){var e,t;return d6(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,395810))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,s6(a6({},e),{guild:o.props.guild}))}]}}))})))};e.setIsVisible=function(t){e.setState({isVisible:t})}
;return e}var i=o.prototype;i.getDefaultSplashURL=function(e,t){if(t)return J3();switch(e){case M.BRd.DARK:return q3();case M.BRd.LIGHT:return Q3()}};i.render=function(){var e,t=this,n=this.props,o=n.guild,i=n.className,a=n.theme,s=n.onTagClick,c=this.state,l=c.loaded,u=c.hasBeenSeen,f=c.isVisible,d=c.submitting,p=o.name,h=o.description,E=o.presenceCount,y=o.memberCount,m=o.keywords,b=null===(e=o.features)||void 0===e?void 0:e.has(M.oNc.HUB),g=qs.ZP.getGuildDiscoverySplashURL({id:o.id,splash:o.discoverySplash,size:300*(0,F3.x_)()}),O=null!=g?g:this.getDefaultSplashURL(a,b),v=qs.ZP.getGuildIconURL({id:o.id,icon:o.icon,size:40});p3.trackExposure({});var _=p3.getCurrentConfig({}).shouldDisplayTags,S=M3.N.getCurrentConfig({}).canSeeInAppReportingButtons;M3.N.trackExposure({});var I,T,N=ft.Sb.getSetting()||S;return(0,r.jsx)(g3.$,{active:!f,onChange:this.setIsVisible,threshold:.1,children:f?(0,r.jsx)(g3.$,{onChange:this.handleVisibilityChange,active:!u,threshold:.55,children:(0,
r.jsxs)("div",{className:Xp()(i,(I={},o6(I,z3().loaded,l),o6(I,z3().loading,!l),I)),children:[d?(0,r.jsx)(Ix.Z,{type:Ix.Z.Type.PULSING_ELLIPSIS,className:z3().spinner}):null,(0,r.jsxs)(q.P3,{onClick:this.handleClickView,className:Xp()(z3().card,(T={},o6(T,z3().submitting,d),o6(T,z3().cardWithTags,_),T)),onContextMenu:this.handleContextMenu,children:[(0,r.jsxs)("div",{className:z3().cardHeader,children:[(0,r.jsx)("div",{className:z3().splash,children:(0,r.jsx)("img",{src:O,alt:"",className:Xp()(z3().splashImage,o6({},z3().splashImageHeight,!b)),onLoad:function(){return t.setState({loaded:!0})}})}),N?(0,r.jsx)("div",{className:z3().actionButtons,children:(0,r.jsx)(V3,{guild:o})}):null,(0,r.jsx)("div",{className:z3().guildIcon,children:(0,r.jsx)(Y3.ZP,{mask:Y3.ZP.Masks.SQUIRCLE,width:48,height:48,children:(0,r.jsx)("div",{className:z3().iconMask,children:(0,r.jsx)(Y3.ZP,{mask:Y3.ZP.Masks.SQUIRCLE,width:40,height:40,children:(0,r.jsx)("img",{src:v,alt:"",className:z3().avatar})})})})})]
}),(0,r.jsxs)("div",{className:z3().guildInfo,children:[(0,r.jsxs)("div",{className:z3().title,children:[(0,r.jsx)(hN.Z,{className:z3().guildBadge,guild:o,tooltipColor:Kb.ZP.Colors.PRIMARY}),(0,r.jsx)(q.X6,{variant:"heading-md/semibold",className:z3().guildName,children:p})]}),(0,r.jsx)(q.xv,{className:z3().description,variant:"text-sm/normal",color:"header-secondary",children:h}),_&&m&&s&&(0,r.jsx)(x3,{tags:m,onTagClick:function(e){return s(e,o.id)},guildId:o.id,section:B$.P1.POPULAR}),(0,r.jsxs)("div",{className:z3().memberInfo,children:[null!=E&&(0,r.jsxs)("div",{className:z3().memberCount,children:[(0,r.jsx)("div",{className:z3().dotOnline}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"header-secondary",children:te.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:E})})]}),null!=y&&(0,r.jsxs)("div",{className:z3().memberCount,children:[(0,r.jsx)("div",{className:z3().dotOffline}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"header-secondary",
children:te.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:y})})]})]})]})]})]})}):(0,r.jsx)("div",{className:Xp()(z3().card,o6({},z3().cardWithTags,_))})})};return o}(o.PureComponent);p6.Placeholder=function(e){return(0,r.jsx)("div",{className:Xp()(e.className,z3().cardPlaceholder)})};const h6=p6;function E6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E6(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m6=n(922179),b6=n.n(m6);function g6(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}var O6=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},v6=[[1696,20],[1432,16],[1168,12],[0,8]],_6=[[1696,30],[1432,24],[1168,18],[0,12]];const S6=function(e){var t=e.title,n=e.subtitle,i=e.guildsData,a=e.analyticsContext,s=e.theme,c=e.onViewGuild,l=e.fetchGuilds,u=e.onGuildCardSeen,f=e.currentCategoryId,d=e.loadId,p=e.onTagClick,h=e.showMoreCards,E=void 0!==h&&h;o.useEffect((function(){O.Z.wait((function(){return l()}))}),[f]);var y=function(e){var t=y6(o.useState(0),2),n=t[0],r=t[1],i=o.useCallback((function(){
var t=window.innerWidth,n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=y6(a.value,2),l=c[0],u=c[1];if(t>=l){r(u);return}}}catch(e){o=!0;i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}),[e]);o.useEffect((function(){i()}),[i]);o.useEffect((function(){window.addEventListener("resize",i);return function(){window.removeEventListener("resize",i)}}));return n}(E?_6:v6),m=(0,FM.Z)().analyticsLocations;if(null==i)return null;var b=i.guilds,g=i.loading,v=null==b||0===b.length;if(!g&&v)return null;var _,S=function(){var e,t=(e=function(e){var t;return O6(this,(function(n){switch(n.label){case 0:if(!(0,m3.yU)())return[3,1];(0,b3.Z)({analyticsSource:{page:M.ZY5.GUILD_DISCOVERY},analyticsLocation:{page:M.ZY5.GUILD_DISCOVERY,section:M.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:m});return[3,3];case 1:t=b.findIndex((function(t){return t.id===e}));return[4,c(e,t,a,d)];case 2:n.sent();n.label=3;case 3:return[2]}}))},function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g6(i,r,o,a,s,"next",e)}function s(e){g6(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(g||null==b){for(var I=[],T=0;T<y;T++)I.push((0,r.jsx)(h6.Placeholder,{},T));_=I}else _=b.slice(0,y).map((function(e){return(0,r.jsx)(h6,{className:b6().guildCard,guild:e,onView:S,theme:s,onGuildCardSeen:u,onTagClick:p},e.id)}));return(0,r.jsx)("section",{className:b6().guildListSection,children:(0,r.jsxs)(q.y5,{component:(0,r.jsx)(q.X6,{className:b6().title,variant:"heading-lg/semibold",children:t}),children:[null!=n&&(0,r.jsx)(q.xv,{className:b6().subtitle,variant:"text-sm/normal",color:"header-secondary",children:n}),(0,r.jsx)("div",{className:b6().guildList,children:_})]})})};var I6=n(752177);function T6(e){T6=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return T6(e)}function N6(e,t){
return!t||"object"!==A6(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C6(e,t){C6=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C6(e,t)}var A6=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function P6(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=T6(e);if(t){var o=T6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N6(this,n)}}var j6=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&C6(e,t)}(n,e);var t=P6(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handlePageChange=function(e){var t=r.props.onPageChange;r.setState({currentPage:e});null!=t&&t(e)};var o=(0,X.s1)().location.search,i=(null!=o&&o.length>0&&o.startsWith("?")?pl.parse(o):{}).offset,a=null!=i?Math.floor(parseInt(i,10)/e.pageSize)+1:1;r.state={currentPage:a};return r}var o=n.prototype;o.componentDidUpdate=function(e){var t=this.props.resetCurrentPage;!e.resetCurrentPage&&t&&this.setState({currentPage:1})};o.render=function(){var e=this.props,t=e.totalCount,n=e.pageSize,o=e.maxVisiblePages,i=e.children,a=this.state.currentPage;return i({controller:(0,r.jsx)(I6.Z,{totalCount:t,pageSize:n,currentPage:a,maxVisiblePages:o,onPageChange:this.handlePageChange})})};return n}(o.PureComponent);const R6=j6
;var x6=n(240613),M6=n(841372),w6=n(269972),Z6=n(659086),L6=n(478483),D6=n.n(L6);function U6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k6(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function G6(e){G6=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return G6(e)}function B6(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function H6(e,t){return!t||"object"!==Y6(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V6(e,t){V6=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return V6(e,t)}function F6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U6(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y6=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function W6(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=G6(e);if(t){var o=G6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H6(this,n)}}var z6=ss().throttle(B$.c6,1e3,{leading:!1,trailing:!0}),K6=function(e){var t=e.isSelected,n=e.onCategoryChange,o=e.categoryId,i=e.name,a=e.count;return(0,r.jsx)(q.P3,{onClick:function(){return n(o)},className:Xp()(D6().categoryPill,k6({},D6().selected,t)),children:(0,r.jsx)(q.xv,{
className:D6().categoryLabel,variant:"text-sm/normal",children:null!=a?"".concat(i," (").concat(a,")"):i})})},q6=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&V6(e,t)}(n,e);var t=W6(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e))._searchRef=o.createRef();r.canSearch=function(e){return e.trim().length>=2&&!(0,x6.x)(e)};r.doSearch=function(e,t,n,o){var i,a=r.props,s=a.defaultLanguage,c=a.currentCategoryId,l=r.state,u=l.query,f=l.selectedLanguage,d={approximate_member_count:B$.sq};o&&cK.G7(u,d);r.setState({searchId:(0,h3.P)(),queryHasChanged:!1,isSearching:!0});cK.bR(u,{categoryId:null==n?c:n,preferredLocale:null!==(i=null==f?void 0:f.code)&&void 0!==i?i:s.code,offset:e,length:t,filters:d})}
;r.handleSearchBlurred=function(e){var t=r.props.onSearchBlur;r.setState({inputFocused:!1});null==t||t()};r.handleSearchKeyPress=function(e){var t=r.state,n=t.query,o=t.queryHasChanged,i=r.props,a=i.loadId,s=i.currentCategoryId,c=s!==Z6.Hk?s:null;if(r.canSearch(n)&&o&&e.charCode===M.yXg.ENTER){B$.tI(a,c);r.doSearch(0,12,void 0,!0)}else 0===n.length&&e.charCode===M.yXg.ENTER&&r.setState({isSearching:!1})};r.handleQueryChanged=function(e){r.setState({query:e,queryHasChanged:!0})};r.handleQueryCleared=function(){r.setState({query:"",queryHasChanged:!0,isSearching:!1})};r.handleLanguageChange=function(e){var t=r.props,n=t.mostRecentQuery,o=t.availableLanguages,i=null==o?void 0:o.find((function(t){return t.name===e}));r.setState({selectedLanguage:i},(function(){r.canSearch(n)&&r.doSearch(0,12)}))};r.handleCategoryChange=function(e){var t=r.props.mostRecentQuery;cK.uY(e);r.canSearch(t)&&r.doSearch(0,12,e)};r.handleFocus=function(){var e=r.props.onSearchFocus;r.setState({inputFocused:!0})
;null==e||e()};r.focusInput=function(){var e;null===(e=r._searchRef.current)||void 0===e||e.focus()};r.state={searchId:(0,h3.P)(),query:e.isSearchPage?e.mostRecentQuery:"",queryHasChanged:!1,isSearching:!1,selectedLanguage:e.defaultLanguage,inputFocused:!1,isHandlingTagSearch:e.isTagSearch||!1};return r}var i=n.prototype;i.componentDidMount=function(){var e=this.props,t=e.loadId,n=e.searchResults,r=e.currentCategoryId,o=this.state,i=o.searchId,a=o.query,s=o.isHandlingTagSearch,c=this.context;null==M6.ZP.getSearchIndex()&&cK.Ue();Ul.S.subscribe(M.CkL.GLOBAL_CLIPBOARD_PASTE,this.focusInput);Ul.S.subscribe(M.CkL.TEXTAREA_FOCUS,this.focusInput);if(a.length>0){var l=r!==Z6.Hk?r:null;z6({loadId:t,searchId:i,query:a,guildResults:n.guilds,analyticsContext:c,categoryId:l,isTagSearch:s})}};i.componentDidUpdate=function(e,t){
var n=this.props,r=n.loadId,o=n.isFetchingSearch,i=n.searchResults,a=n.currentCategoryId,s=n.mostRecentQuery,c=this.state,l=c.isSearching,u=c.searchId,f=c.query,d=c.isHandlingTagSearch,p=this.context,h=e.isFetchingSearch&&!o,E=a!==Z6.Hk?a:null;if((l||d)&&h){z6({loadId:r,searchId:u,query:f,guildResults:i.guilds,analyticsContext:p,categoryId:E,isTagSearch:d});this.setState({isHandlingTagSearch:!1})}!t.isSearching&&l&&B$.tI(r,E,p);e.mostRecentQuery!==s&&this.setState({query:s,searchId:(0,h3.P)(),isHandlingTagSearch:!0})};i.componentWillUnmount=function(){Ul.S.unsubscribe(M.CkL.GLOBAL_CLIPBOARD_PASTE,this.focusInput);Ul.S.unsubscribe(M.CkL.TEXTAREA_FOCUS,this.focusInput)};i.renderSearchOptions=function(){var e=this.props.availableLanguages,t=this.state.selectedLanguage;if(null==e)return null;var n,o=e.map((function(e){var t=e.name;return{label:t,value:t}}));return(0,r.jsx)(q.q4,{className:D6().languageSelector,options:o,value:null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",
onChange:this.handleLanguageChange,maxVisibleItems:6})};i.renderCategories=function(){var e=this,t=this.props,n=t.currentCategoryId,o=t.countsByCategory;return(0,r.jsx)("div",{className:D6().categories,children:null==o?void 0:o.map((function(t){var o=F6(t,2),i=o[0],a=o[1];return(0,r.jsx)(K6,{categoryId:i,name:i===Z6.Hk?te.Z.Messages.GUILD_DISCOVERY_ALL_CATEGORY_FILTER:y3.Z.getCategoryName(i),onCategoryChange:e.handleCategoryChange,isSelected:n===i,count:a},i)}))})};i.render=function(){var e=this.state,t=e.query,n=e.inputFocused,o=this.props,i=o.placeholder,a=o.isSearchPage;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:Xp()(D6().container,k6({},D6().searchPage,a)),children:[(0,r.jsx)("div",{className:D6().search,children:(0,r.jsx)(w6.Z,{ref:this._searchRef,searchTerm:t,className:a?void 0:D6().searchBox,inputClassName:a?void 0:D6().searchBoxInput,closeIconClassName:a?void 0:D6().closeIcon,searchIconClassName:a?void 0:D6().searchIcon,
label:te.Z.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:i,onChange:this.handleQueryChanged,onClear:this.handleQueryCleared,onFocus:this.handleFocus,onBlur:this.handleSearchBlurred,onKeyPress:this.handleSearchKeyPress,autoFocus:!a,cta:n&&null!=t&&t.length>1?te.Z.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})}),a?this.renderSearchOptions():null]}),a?this.renderCategories():null]})};return n}(o.PureComponent);q6.contextType=Ce.AnalyticsContext;function X6(e){var t=(0,s.e7)([y3.Z],(function(){return y3.Z.getDiscoveryCategories()}),[],y3.j),n=(0,s.e7)([M6.ZP],(function(){return M6.ZP.getTopCategoryCounts(e.mostRecentQuery)}));return(0,r.jsx)(q6,B6(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){k6(e,t,n[t])}))}return e}({},e),{
categories:t,countsByCategory:n}))}var Q6=n(895889),$6=n.n(Q6);function J6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e5(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function t5(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){e5(i,r,o,a,s,"next",e)}function s(e){e5(i,r,o,a,s,"throw",e)}a(void 0)}))}}function n5(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function r5(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function o5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J6(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i5=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var a5=function(){return(0,r.jsx)("div",{className:$6().placeholder})};const s5=function(e){var t,i=e.guild,a=e.theme,s=e.onView,c=e.onTagClick,l=i.id,u=i.discoverySplash,f=i.icon,d=i.name,p=i.description,h=i.presenceCount,E=i.memberCount,y=i.keywords,m=o5(o.useState(!1),2),b=m[0],g=m[1],O=o5(o.useState(!1),2),v=O[0],_=O[1],S=(0,FM.Z)().analyticsLocations,I=qs.ZP.getGuildDiscoverySplashURL({id:l,splash:u,size:240*(0,F3.x_)()}),T=null!=I?I:function(e){switch(e){case M.BRd.DARK:return q3();case M.BRd.LIGHT:return Q3()}}(a),N=null!==(t=qs.ZP.getGuildIconURL({id:l,icon:f,size:32}))&&void 0!==t?t:void 0,C=function(){var e=t5((function(e){return i5(this,(function(t){switch(t.label){case 0:if(e.target.className.includes("Menu"))return[2];if((0,m3.yU)()){(0,b3.Z)({analyticsSource:{page:M.ZY5.GUILD_DISCOVERY},analyticsLocation:{page:M.ZY5.GUILD_DISCOVERY,section:M.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:S});return[2]}_(!0);t.label=1;case 1:
t.trys.push([1,,4,5]);return null!=s?[4,s(i.id)]:[3,3];case 2:t.sent();t.label=3;case 3:return[3,5];case 4:_(!1);return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();o.useEffect((function(){return p3.trackExposure({})}));var A,P=p3.useExperiment({}).shouldDisplayTags,j=(0,M3.I)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:$6().card,children:[v?(0,r.jsx)(Ix.Z,{type:Ix.Z.Type.PULSING_ELLIPSIS,className:$6().spinner}):null,(0,r.jsxs)(q.P3,{className:Xp()($6().container,(A={},n5(A,$6().hover,b),n5(A,$6().submitting,v),A)),onClick:C,onContextMenu:function(e){(0,fb.jW)(e,t5((function(){var e,t;return i5(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,395810))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,r5(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){n5(e,t,n[t])}))}return e}({},e),{guild:i}))}]}}))})))},onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},children:[(0,r.jsx)("div",{className:Xp()($6().splashContainer,n5({},$6().splashContainerWithTags,P)),children:(0,r.jsx)("img",{src:T,alt:"",className:$6().splashImage,width:240})}),(0,r.jsxs)("div",{className:Xp()($6().content,n5({},$6().contentWithTags,P)),children:[(0,r.jsxs)("div",{className:$6().header,children:[(0,r.jsx)(Y3.ZP,{mask:Y3.ZP.Masks.SQUIRCLE,width:32,height:32,children:(0,r.jsx)("img",{src:N,alt:"",className:$6().avatar})}),(0,r.jsxs)("div",{className:$6().headerName,children:[(0,r.jsx)(hN.Z,{guild:i,className:$6().guildBadge}),(0,r.jsx)(q.X6,{variant:"heading-md/semibold",className:$6().headerTitle,children:d})]})]}),(0,r.jsx)(q.xv,{
className:$6().description,variant:"text-sm/normal",children:p}),P&&y&&c&&(0,r.jsx)(x3,{guildId:i.id,discoveryTagStyle:R3.ALT,onTagClick:function(e){return c(e,i.id)},tags:y,section:B$.P1.SEARCH}),(0,r.jsxs)("div",{className:$6().memberInfo,children:[null!=h&&(0,r.jsx)("div",{className:$6().memberCount,children:(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"header-secondary",children:te.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:h})})}),null!=E&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:$6().dotSeparator}),(0,r.jsx)("div",{className:$6().memberCount,children:(0,r.jsx)(q.xv,{variant:"text-xs/normal",color:"header-secondary",children:te.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:E})})})]})]})]}),j?(0,r.jsx)("div",{className:$6().actionButtons,children:(0,r.jsx)(V3,{guild:i})}):null]})]}),(0,r.jsx)("hr",{className:$6().separator})]})};var c5=n(599884),l5=n.n(c5);function u5(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f5(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function d5(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f5(i,r,o,a,s,"next",e)}function s(e){f5(i,r,o,a,s,"throw",e)}a(void 0)}))}}function p5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h5(e){h5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h5(e)}function E5(e,t){return!t||"object"!==m5(t)&&"function"!=typeof t?u5(e):t}function y5(e,t){y5=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y5(e,t)}var m5=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b5(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h5(e);if(t){var o=h5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E5(this,n)}}var g5=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},O5=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&y5(e,t)}(n,e);var t=b5(n);function n(){p5(this,n);var e,o=u5(e=t.apply(this,arguments));e.handleViewGuild=function(){var e=d5((function(e){var t,n,r,i,a;return g5(this,(function(s){switch(s.label){case 0:t=o.props,n=t.guilds,r=t.analyticsContext,i=t.onViewGuild;a=n.findIndex((function(t){
return t.id===e}));return[4,i(e,a,r)];case 1:s.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}();e.renderGuild=function(t,n){var o=e.props,i=o.theme,a=o.onTagClick;return(0,r.jsx)(s5,{guild:t,theme:i,onView:e.handleViewGuild,onTagClick:a},n)};return e}var o=n.prototype;o.renderPlaceholders=function(){for(var e=this.props.loadingPlaceholderCount,t=[],n=0;n<e;n++)t.push((0,r.jsx)(a5,{},n));return t};o.render=function(){var e=this,t=this.props,n=t.guilds,o=t.loading;return(0,r.jsx)(im.Spring,{from:{opacity:o?0:1},to:{opacity:1},delay:100,children:function(t){return(0,r.jsx)(im.animated.div,{className:l5().guildList,style:t,children:o||null==n?e.renderPlaceholders():n.map(e.renderGuild)})}})};return n}(o.PureComponent);O5.defaultProps={loadingPlaceholderCount:12};const v5=O5;var _5=n(691288),S5=n.n(_5);function I5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T5(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I5(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N5=12,C5=function(){var e=(0,X.s1)().location.search;return null!=e&&e.length>0&&e.startsWith("?")?pl.parse(e):{}},A5=function(e){
var t=e.categoryId,n=e.categoryName,o=e.onClick,i=t===Z6.Hk,a=i?te.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_HEADER:te.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_HEADER.format({categoryName:n}),s=i?te.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_BODY:te.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_BODY.format({onClick:o});return(0,r.jsxs)("div",{className:S5().emptyContainer,children:[(0,r.jsx)("div",{className:S5().emptyImage}),(0,r.jsx)(q.X6,{variant:"heading-xl/semibold",className:S5().emptyHeader,children:a}),(0,r.jsx)(q.xv,{variant:"text-md/normal",color:"header-secondary",children:s})]})},P5=function(){return(0,r.jsxs)("div",{className:S5().emptyContainer,children:[(0,r.jsx)("div",{className:S5().errorImage}),(0,r.jsx)(q.xv,{variant:"text-md/normal",color:"header-secondary",className:S5().emptyHeader,children:te.Z.Messages.GUILD_DISCOVERY_SEARCH_ERROR})]})};const j5=function(e){
var t=e.loadId,n=e.searchResults,i=e.mostRecentQuery,a=e.defaultLanguage,c=e.availableLanguages,l=e.isFetchingSearch,u=e.scroller,f=e.loadingGuildId,d=e.theme,p=e.currentCategoryId,h=e.currentCategoryName,E=e.onViewGuild,y=e.onGuildCardSeen,m=e.placeholder,b=e.onTagClick,g=ss().uniqueId("GuildDiscovery"),O=n.guilds,v=n.loading,_=n.total,S=T5(o.useState(!1),2),I=S[0],T=S[1],N=C5().tag,C=T5(o.useState(N),2),A=C[0],P=C[1],j=(0,s.e7)([M6.ZP],(function(){return M6.ZP.hasSearchError()})),R=function(e,t,n){cK.bR(i,{categoryId:n?Z6.Hk:p,preferredLocale:a.code,offset:e,length:t,filters:{approximate_member_count:B$.sq}});T(!1)};o.useEffect((function(){var e=C5(),t=e.offset,n=e.tag,r=null!=t?Math.floor(parseInt(t,10)/N5)+1:1;P(!!n);1===r&&T(!0)}),[i]);var x=p===Z6.Hk?te.Z.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_HEADER.format({count:null!=_?_.toLocaleString():"0",query:i}):te.Z.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_CATEGORY_HEADER.format({count:null!=_?_.toLocaleString():"0",query:i,category:h})
;return(0,r.jsxs)("div",{className:S5().container,children:[(0,r.jsxs)("div",{className:S5().searchHeader,children:[(0,r.jsx)(q.P3,{onClick:function(){cK.AQ();B$.IZ(t)},className:S5().arrow,"aria-label":te.Z.Messages.BACK,children:(0,r.jsx)(xx.Z,{direction:xx.Z.Directions.LEFT})}),(0,r.jsx)(q.X6,{variant:"heading-xl/semibold",className:S5().header,children:x})]}),(0,r.jsx)(X6,{loadId:t,searchResults:n,mostRecentQuery:i,isFetchingSearch:l,defaultLanguage:a,placeholder:m,availableLanguages:c,isSearchPage:!0,currentCategoryId:p,isTagSearch:A}),j?(0,r.jsx)(P5,{}):_<=0?(0,r.jsx)(A5,{categoryId:p,categoryName:h,onClick:function(){cK.uY(Z6.Hk);R(0,N5,!0)}}):(0,r.jsx)("div",{className:S5().results,children:(0,r.jsx)(R6,{pageSize:N5,totalCount:_,resetCurrentPage:I,onPageChange:function(e){R((e-1)*N5,N5);null==u||u.scrollTo({to:0})},children:function(e){var t=e.controller;return(0,r.jsxs)("section",{"aria-labelledby":g,children:[(0,r.jsx)(v5,{guilds:O,loading:v,loadingPlaceholderCount:N5,
onViewGuild:E,loadingGuildId:f,theme:d,analyticsContext:B$.P1.SEARCH,onGuildCardSeen:y,onTagClick:b}),t]})}})})]})};var R5=n(224244);function x5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x5(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w5=n(773022),Z5=n.n(w5);function L5(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function D5(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){L5(i,r,o,a,s,"next",e)}function s(e){L5(i,r,o,a,s,"throw",e)}a(void 0)}))}}function U5(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var k5=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const G5=function(e){var t=e.hasHub;return(0,r.jsxs)("div",{className:Z5().container,children:[(0,r.jsx)("div",{className:Z5().iconContainer,children:(0,r.jsx)("div",{className:Z5().icon})}),(0,r.jsx)(q.xv,{color:"header-primary",variant:"text-lg/semibold",className:Z5().header,
children:t?te.Z.Messages.HUB_EMAIL_CONNECTION_ADD_HEADER:te.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_HEADER}),(0,r.jsx)(q.xv,{color:"header-secondary",variant:"text-sm/normal",className:Z5().description,children:t?te.Z.Messages.HUB_EMAIL_CONNECTION_ADD_DESCRIPTION:te.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_CARD_DESCRIPTION}),(0,r.jsx)("div",{className:Z5().gap}),(0,r.jsx)(Q.Co,{size:Q.Co.Sizes.LARGE,color:t?Q.Co.Colors.PRIMARY:Q.Co.Colors.GREEN,onClick:function(){return(0,W.ZD)(D5((function(){var e,t;return k5(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,553589))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){U5(e,t,n[t])}))}return e
}({},e))}]}}))})))},children:(0,r.jsx)(q.xv,{variant:"text-sm/semibold",className:Z5().addButton,color:"none",children:t?te.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_ANOTHER:te.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_MY_SCHOOOL})})]})};var B5=n(258199),H5=n.n(B5);function V5(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function F5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){V5(e,t,n[t])}))}return e}function Y5(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const W5=function(e){var t=e.guilds,n=(0,s.e7)([Wp.Z],(function(){return Wp.Z.theme})),o=t.map((function(e){return(0,r.jsx)(h6,{className:H5().guildCard,onView:function(){return f.Z.transitionToGuildSync(e.id)},guild:Y5(F5({},e),{presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0}),theme:n},e.id)}));return(0,r.jsx)("section",{className:H5().guildListSection,children:t.length>0?(0,r.jsxs)("div",{children:[(0,r.jsx)(q.X6,{className:H5().title,variant:"heading-lg/semibold",children:te.Z.Messages.YOUR_HUB}),(0,r.jsxs)("div",{className:H5().guildList,children:[o,(0,r.jsx)(G5,{hasHub:!0})]})]}):(0,r.jsx)("div",{className:H5().guildList,children:(0,r.jsx)(G5,{hasHub:!1})})})};var z5=n(250926),K5=n.n(z5),q5=n(237018),X5=n.n(q5);const Q5=function(e){
var t=e.loadId,n=(0,s.e7)([kt.Z],(function(){var e=kt.Z.getGuilds();return Object.entries(e).filter((function(e){var t=M5(e,2);t[0];return t[1].hasFeature(M.oNc.HUB)})).map((function(e){var t=M5(e,2);t[0];return t[1]}))}));o.useEffect((function(){(0,B$.Zt)({loadId:t,gamesYouPlayGuilds:[],allGuilds:[],categoryId:Z6.U})}),[t]);(0,ym.Tt)({subsection:te.Z.Messages.HUB_SCHOOL_HUBS,location:te.Z.Messages.HUB_DIRECTORY_SEARCH_TITLE});return(0,r.jsx)(eE.ZP,{className:K5().scroller,children:(0,r.jsxs)("div",{className:K5().viewWrapper,children:[(0,r.jsxs)("div",{className:K5().headerContainer,children:[(0,r.jsx)("img",{alt:"",className:K5().headerImage,src:X5()}),(0,r.jsxs)("div",{className:K5().headerContent,children:[(0,r.jsx)(q.X6,{className:K5().headerText,variant:"heading-xl/semibold",children:te.Z.Messages.HUB_DIRECTORY_SEARCH_TITLE}),(0,r.jsx)(q.xv,{className:K5().headerDescription,variant:"text-md/normal",color:"none",children:te.Z.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE})]})]}),(0,
r.jsx)(W5,{guilds:n}),(0,r.jsx)("div",{className:K5().divider}),(0,r.jsx)(q.xv,{className:K5().footerDescription,variant:"text-md/medium",color:"header-secondary",children:te.Z.Messages.HUB_DISCOVERY_FOOTER_DESCRIPTION})]})})};var $5=n(277499),J5=n(80210),e7=n.n(J5),t7=n(333993),n7=n.n(t7);function r7(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o7(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function i7(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){o7(i,r,o,a,s,"next",e)}function s(e){o7(i,r,o,a,s,"throw",e)}a(void 0)}))}}function a7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s7(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c7(e){
c7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c7(e)}function l7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s7(e,t,n[t])}))}return e}function u7(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f7(e,t){return!t||"object"!==p7(t)&&"function"!=typeof t?r7(e):t}function d7(e,t){
d7=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d7(e,t)}var p7=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h7(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c7(e);if(t){var o=c7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f7(this,n)}}var E7=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},y7=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d7(e,t)}(n,e);var t=h7(n);function n(){a7(this,n);var e
;(e=t.apply(this,arguments))._scroller=o.createRef();e._guildIdsSeen=new Set;e.loadId=(0,h3.P)();e.state={animatedValue:new Di.Z.Value(0),loadingGuildId:null};e.scrollToTop=function(){null!=e._scroller.current&&e._scroller.current.scrollTo({to:0})};e.handleScroll=function(){var t,n,r=e.state.animatedValue,o=null!==(n=null===(t=e._scroller.current)||void 0===t?void 0:t.getScrollerState().scrollTop)&&void 0!==n?n:0;r.setValue(Math.min(1,o/200))};var r=r7(e);e.handleViewGuild=function(){var e=i7((function(e,t,n,o){var i,a,s,c,l,u,f;return E7(this,(function(d){switch(d.label){case 0:a=r.props.currentCategoryId;s=r.state.loadingGuildId;if(e===s)return[2];l=null!==(c=null===(i=r._scroller.current)||void 0===i?void 0:i.getScrollerState().scrollTop)&&void 0!==c?c:0;u=(0,X.s1)().location;(0,X.dL)(u7(l7({},u),{state:l}));r.setState({loadingGuildId:e});f=a!==Z6.Hk?a:null;d.label=1;case 1:d.trys.push([1,3,,4]);return[4,B$.Lq({loadId:null!=o?o:r.loadId,guildId:e,index:t,analyticsContext:n,
categoryId:f})];case 2:d.sent();return[3,4];case 3:d.sent();r.setState({loadingGuildId:null});return[3,4];case 4:return[2]}}))}));return function(t,n,r,o){return e.apply(this,arguments)}}();e.handleGuildCardSeen=function(t){e._guildIdsSeen.add(t)};e.handleTagSearch=function(t,n,r){var o=e.props,i=o.currentCategoryId,a=o.defaultLanguage;if(null!=i){var s={approximate_member_count:B$.sq};(0,cK.G7)(t,s);(0,cK.bR)(t,{filters:s,categoryId:i,preferredLocale:a.code,offset:0,length:N5,tag:!0});B$.j$(e.loadId,i,r,n);e.scrollToTop()}};return e}var i=n.prototype;i.componentDidMount=function(){var e,t=this.props,n=t.isFetching,r=t.guilds,o=r.gamesYouPlay,i=r.featured,a=t.searchRoute,s=t.currentHomepageCategoryId,c=t.mostRecentQuery;(0,p0.N)();(0,E3.le)();null==M6.ZP.getSearchIndex()&&(0,cK.Ue)();O.Z.wait((function(){e=M.x8Z.SERVER_DISCOVERY_BADGE,O.Z.dispatch({type:"VIEW_HISTORY_MARK_VIEW",key:e});var e}));n||0!==c.length||B$.Zt({loadId:this.loadId,gamesYouPlayGuilds:o.guilds,allGuilds:i.guilds,
categoryId:s});if(null!=a){var l=pl.parse(a),u=l.query,f=l.offset,d=l.limit,p=l.preferredLocale,h=l.categoryId;(0,cK.bR)(u,{categoryId:parseInt(h,10),preferredLocale:p,offset:parseInt(f,10),filters:{approximate_member_count:B$.sq},length:parseInt(d,10)})}else null!=s&&s!==Z6.Hk&&O.Z.wait((function(){return(0,cK.uY)(s)}));var E,y=null!==(E=null===(e=(0,X.s1)().location.state)||void 0===e?void 0:e.scrollTop)&&void 0!==E?E:0;if(y>0){var m;null===(m=this._scroller.current)||void 0===m||m.scrollTo({to:y})}(0,KB.e)("guild_discovery")};i.componentDidUpdate=function(e){var t=this.props,n=t.guilds,r=n.gamesYouPlay,o=n.featured,i=t.isFetching,a=t.mostRecentQuery,s=t.currentHomepageCategoryId,c=t.currentCategoryId;e.isFetching&&!i&&B$.Zt({loadId:this.loadId,gamesYouPlayGuilds:r.guilds,allGuilds:o.guilds,categoryId:s});if(e.currentCategoryId!==c){var l;null===(l=this._scroller.current)||void 0===l||l.scrollTo({to:0})}e.currentCategoryId!==c&&B$.Az(this.loadId,Array.from(this._guildIdsSeen))
;e.mostRecentQuery.length>0&&a.length<1&&s!==c&&(0,cK.uY)(s)};i.componentWillUnmount=function(){var e=this.props,t=e.currentCategoryId,n=e.recommendationsLoadId,r=e.recommendationsGuilds;t===Z6.Hk?null!=r&&null!=n&&B$.Az(n,this.getOrderedGuildIdsSeen(r.map((function(e){return e.id}))),"Game Recommendations"):B$.Az(this.loadId,Array.from(this._guildIdsSeen))};i.getOrderedGuildIdsSeen=function(e){var t=this;return e.filter((function(e){return t._guildIdsSeen.has(e)}))};i.renderGamesYouPlay=function(){var e=this.props,t=e.guilds,n=e.mightHaveGamesYouPlay,o=e.theme,i=e.userGuilds,a=Object.keys(i),s=t[M.Lcj.GAMES_YOU_PLAY];s.guilds=s.guilds.filter((function(e){return!a.includes(e.id)}));var c=this.state.loadingGuildId;return n?(0,r.jsx)(S6,{loadId:this.loadId,title:te.Z.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guildsData:s,loadingGuildId:c,analyticsContext:B$.P1.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:cK.gk,theme:o}):null}
;i.renderSearchBar=function(){var e,t=this.props,n=t.mostRecentQuery,o=t.guilds.search,i=t.defaultLanguage,a=t.isFetchingSearch,s=t.currentCategoryId,c=t.categories,l=t.currentCategoryName;p3.trackExposure({});var u,f=p3.getCurrentConfig({}).shouldDisplayRecommendedSearchTags?s===Z6.Hk?te.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER_TAGS:te.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER_TAGS.format({categoryName:l}):s===Z6.Hk?te.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:te.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:l}),d=null!==(u=null===(e=o[n])||void 0===e?void 0:e[s])&&void 0!==u?u:M6.xk;return(0,r.jsx)(X6,{loadId:this.loadId,searchResults:d,mostRecentQuery:n,isFetchingSearch:a,defaultLanguage:i,placeholder:f,currentCategoryId:s,categories:c})};i.renderSearchResults=function(){
var e,t,n=this,o=this.props,i=o.mostRecentQuery,a=o.guilds.search,s=o.availableLanguages,c=o.defaultLanguage,l=o.isFetchingSearch,u=o.theme,f=o.currentCategoryId,d=o.currentCategoryName,p=this.state.loadingGuildId,h=f===Z6.Hk?te.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:te.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:d}),E=null!==(t=null===(e=a[i])||void 0===e?void 0:e[f])&&void 0!==t?t:M6.xk;return(0,r.jsx)(j5,{loadId:this.loadId,availableLanguages:s,defaultLanguage:c,placeholder:h,isFetchingSearch:l,searchResults:E,mostRecentQuery:i,loadingGuildId:p,currentCategoryId:f,currentCategoryName:d,scroller:this._scroller.current,theme:u,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,onTagClick:function(e,t){return n.handleTagSearch(e,t,B$.P1.SEARCH)}})};i.renderRecommendedGuildsSection=function(){var e=this,t=this.props,n=t.guilds,o=t.theme,i=this.state.loadingGuildId;return(0,r.jsx)(S6,{loadId:this.loadId,
title:te.Z.Messages.GUILD_DISCOVERY_FEATURED_HEADER,guildsData:n.featured,analyticsContext:B$.P1.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,cK.$z)(0,30)},loadingGuildId:i,theme:o,onTagClick:function(t,n){return e.handleTagSearch(t,n,B$.P1.POPULAR)}})};i.renderPopularGuildsSection=function(){var e=this,t=this.props,n=t.guilds,o=t.theme,i=t.currentCategoryId,a=this.state.loadingGuildId;return(0,r.jsx)(S6,{loadId:this.loadId,title:te.Z.Messages.GUILD_DISCOVERY_POPULAR_HEADER,guildsData:n[i],loadingGuildId:a,analyticsContext:B$.P1.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,cK.K5)(i)},currentCategoryId:i,theme:o,onTagClick:function(t,n){return e.handleTagSearch(t,n,B$.P1.POPULAR)}})};i.render=function(){var e,t,n=this,i=this.props,a=i.currentCategoryName,s=i.mostRecentQuery,c=i.currentCategoryId,l=i.guilds,u=s.length>0;p3.trackExposure({})
;var f=p3.getCurrentConfig({}).shouldDisplayRecommendedSearchTags,d=c===Z6.Hk?null===(e=l[M.Lcj.FEATURED])||void 0===e?void 0:e.guilds:null===(t=l[c])||void 0===t?void 0:t.guilds;if(c===Z6.U)return(0,r.jsx)(Q5,{loadId:this.loadId});var p=c===Z6.Hk?te.Z.Messages.GUILD_DISCOVERY_HOME_TITLE:te.Z.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:a});return(0,r.jsxs)("div",{className:l5().pageWrapper,children:[(0,r.jsx)(ym.yY,{subsection:u?s:void 0,location:p}),(0,r.jsx)("div",{className:Xp()(l5().dragRegion,l5().pageHeaderDrag,s7({},l5().searchPageDrag,u))}),ao.tq&&(0,r.jsx)(Ib.ZP,{children:(0,r.jsx)(o.Fragment,{})}),(0,r.jsx)(zg.yW,{className:l5().scroller,ref:this._scroller,onScroll:this.handleScroll,children:(0,r.jsx)("div",{className:Xp()(l5().viewWrapper,s7({},l5().searchPage,u)),children:u?this.renderSearchResults():(0,r.jsxs)(q.y5,{forceLevel:1,component:(0,r.jsxs)("div",{className:l5().searchHeader,children:[(0,r.jsx)("img",{alt:"",className:l5().headerImage,src:n7()
}),(0,r.jsx)("div",{className:l5().headerContentWrapper,children:(0,r.jsxs)("div",{className:l5().headerContent,children:[(0,r.jsx)(q.X6,{variant:"heading-xl/semibold",className:l5().searchTitle,children:c===Z6.Hk?te.Z.Messages.GUILD_DISCOVERY_HOME_TITLE:te.Z.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:a})}),(0,r.jsx)(q.xv,{variant:"text-md/normal",className:l5().searchSubtitle,children:c===Z6.Hk&&te.Z.Messages.GUILD_DISCOVERY_HOME_SUBTITLE}),this.renderSearchBar(),f&&(0,r.jsx)(x3,{hideOverflow:!0,section:B$.P1.HEADER,className:l5().headerTagContainer,discoveryTagStyle:R3.LIGHT,onTagClick:function(e){return n.handleTagSearch(e,void 0,B$.P1.HEADER)},tags:ss().chain(d).flatMap((function(e){return e.keywords})).compact().uniq().sampleSize(10).value()})]})})]}),children:[(0,r.jsx)("div",{className:l5().featuredBody,children:c===Z6.Hk?this.renderRecommendedGuildsSection():this.renderPopularGuildsSection()}),(0,r.jsxs)("div",{className:l5().footer,children:[(0,r.jsx)("img",{
alt:"",src:e7(),className:l5().footerImage}),(0,r.jsx)(q.X6,{variant:"heading-md/semibold",children:te.Z.Messages.GUILD_DISCOVERY_CATEGORY_FOOTER_TITLE}),(0,r.jsx)(Q.Co,{look:Q.Co.Looks.LINK,color:Q.Co.Colors.LINK,size:Q.Co.Sizes.MIN,onClick:this.scrollToTop,children:te.Z.Messages.GUILD_DISCOVERY_FOOTER_BODY})]})]})})})]})};return n}(o.PureComponent),m7=s.ZP.connectStores([Wp.Z,zc.default,$5.Z,FV.Z,M6.ZP,y3.Z,kt.Z],(function(){var e,t=Z6.dU,n=zc.default.locale,r=null!==(e=ss().find(t,{code:n}))&&void 0!==e?e:t[0],o=$5.Z.applicationStatistics,i=Object.keys(o),a=FV.Z.hasConsented(M.pjP.PERSONALIZATION)&&i.length>0,s=M6.ZP.getCurrentCategoryId(),c=M6.ZP.getCurrentHomepageCategoryId();return{isFetching:M6.ZP.isFetching(),isFetchingSearch:M6.ZP.isFetchingSearch(),guilds:M6.ZP.getDiscoverableGuilds(),mostRecentQuery:M6.ZP.getMostRecentQuery(),currentCategoryId:s,currentHomepageCategoryId:c,currentCategoryName:y3.Z.getCategoryName(s),categories:y3.Z.getDiscoveryCategories(),
userGuilds:kt.Z.getGuilds(),theme:Wp.Z.theme,mightHaveGamesYouPlay:a,availableLanguages:t,defaultLanguage:r}}))(y7);function b7(e){var t=(0,s.cj)([R5.Z],(function(){return{recommendedGuilds:R5.Z.getRecommendedGuilds(),loadId:R5.Z.getLoadId(),fetching:R5.Z.isFetching()}})),n=t.fetching,o=t.loadId,i=t.recommendedGuilds;return(0,r.jsx)(m7,u7(l7({},e),{fetchingRecommendations:n,usingGameRecommendations:!1,recommendationsGuilds:i,recommendationsLoadId:o}))}var g7=n(922237);function O7(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v7(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _7(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function S7(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.className,l=e.foreground,u=_7(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",v7(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O7(e,t,n[t])}))}
return e}({},(0,qb.Z)(u)),{className:c,width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:l,fill:s,fillRule:"evenodd",clipRule:"evenodd",
d:"M22.447 8.11002L12.447 3.11002C12.166 2.96902 11.834 2.96902 11.552 3.11002L1.552 8.11002C1.35 8.21002 1.197 8.38402 1.107 8.57302C1.046 8.69502 1 8.90202 1 9.00502V14.77C1 15.322 1.448 15.77 2 15.77C2.552 15.77 3 15.322 3 14.77V10.172L12.015 13.927L22.372 9.93302C22.737 9.78602 22.983 9.44002 22.999 9.04602C23.016 8.65202 22.799 8.28702 22.447 8.11002ZM12 16.005C11.869 16.005 11.738 15.979 11.615 15.928L5 13.172V16.185C5 16.564 5.214 16.91 5.553 17.08C5.7173 17.1621 5.88209 17.2461 6.04836 17.3308C7.61773 18.1306 9.31996 18.998 12 18.998C14.6812 18.998 16.3872 18.1284 17.956 17.3287C18.1208 17.2447 18.2842 17.1614 18.447 17.08C18.786 16.911 19 16.564 19 16.186V13.385L12.359 15.939C12.243 15.982 12.122 16.005 12 16.005ZM1 18.005C1 17.453 1.448 17.005 2 17.005C2.552 17.005 3 17.453 3 18.005V20.005C3 20.557 2.552 21.005 2 21.005C1.448 21.005 1 20.557 1 20.005V18.005Z"})}))}function I7(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function T7(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function N7(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function C7(e){
var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.className,l=e.foreground,u=N7(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",T7(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I7(e,t,n[t])}))}return e}({},(0,qb.Z)(u)),{className:c,width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:l,fill:s,
d:"M19.396 3.29898C19.016 3.01598 18.524 2.93098 18.07 3.06498L8.07 6.06498C7.435 6.25498 7 6.83998 7 7.50298V15.054C6.835 15.03 6.671 15.003 6.5 15.003C4.566 15.003 3 16.571 3 18.503C3 20.434 4.566 22.003 6.5 22.003C8.434 22.003 10 20.434 10 18.503V8.61798L17 6.51798V13.054C16.835 13.03 16.671 13.003 16.5 13.003C14.566 13.003 13 14.571 13 16.503C13 18.434 14.566 20.003 16.5 20.003C18.434 20.003 20 18.434 20 16.503V4.50298C20 4.02698 19.775 3.58198 19.396 3.29898Z"})}))}function A7(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function P7(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function j7(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function R7(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.className,l=e.foreground,u=j7(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",P7(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){A7(e,t,n[t])}))}
return e}({},(0,qb.Z)(u)),{className:c,width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:l,fill:s,fillRule:"evenodd",clipRule:"evenodd",
d:"M18.6683 11.9964C19.5992 13.2208 20.3732 14.4331 20.9422 15.5701C22.5858 18.8593 22.0118 20.4688 21.2418 21.2398C20.895 21.5846 20.2596 21.9978 19.1951 21.9978C17.3645 21.9978 14.7478 20.7553 12.0004 18.6683C9.25198 20.7553 6.63527 21.9978 4.80569 21.9978C3.74111 21.9978 3.10478 21.5846 2.75896 21.2398C1.98792 20.4677 1.41392 18.8593 3.05853 15.5701C3.62751 14.4331 4.40257 13.2218 5.33245 11.9964C2.51569 8.28291 1.00176 4.51719 2.75896 2.75898C3.10578 2.41316 3.74111 2 4.80569 2C6.63628 2 9.25298 3.24251 12.0004 5.32944C14.7488 3.24251 17.3655 2 19.1951 2C20.2596 2 20.895 2.41216 21.2418 2.75898C22.999 4.51618 21.4851 8.28191 18.6683 11.9964ZM19.8203 4.18042C19.6806 4.03969 19.4032 4.01053 19.1951 4.01053C18.0481 4.01053 15.9933 4.9203 13.6209 6.64835C15.0262 7.86472 16.2346 9.08512 17.3655 10.395C19.752 7.13188 20.3541 4.71422 19.8203 4.18042ZM14.1325 14.1316C14.8654 13.3987 15.5108 12.689 16.0928 12.0024C15.4876 11.2856 14.8342 10.5689 14.1325 9.86621C13.4128 9.14744 12.701 8.51312 12.0004 7.92202C11.2997 8.51312 10.588 9.14744 9.86821 9.86621C9.16653 10.5689 8.51311 11.2856 7.90794 12.0024C8.48999 12.689 9.13637 13.3987 9.86821 14.1316C10.588 14.8513 11.2997 15.4856 12.0004 16.0747C12.701 15.4856 13.4128 14.8513 14.1325 14.1316ZM4.80569 4.01053C4.5986 4.01053 4.32115 4.03969 4.18142 4.18042C3.64661 4.71422 4.24977 7.13088 6.63628 10.394C7.83556 9.00469 9.05696 7.79435 10.3799 6.64735C8.00645 4.9203 5.95269 4.01053 4.80569 4.01053ZM4.18041 19.8183C4.32014 19.9581 4.5976 19.9872 4.80569 19.9872C5.95269 19.9872 8.00746 19.0785 10.3799 17.3514C8.98357 16.1421 7.7873 14.9348 6.6413 13.6078C5.92053 14.593 5.31133 15.56 4.85695 16.4688C3.79539 18.5909 3.9502 19.5881 4.18041 19.8183ZM19.1941 19.9872C19.4021 19.9872 19.6796 19.9581 19.8193 19.8183C20.0495 19.5881 20.2044 18.5919 19.1428 16.4688C18.6884 15.559 18.0792 14.592 17.3584 13.6078C16.2114 14.9358 15.0152 16.1431 13.6199 17.3514C15.9933 19.0785 18.0471 19.9872 19.1941 19.9872ZM14.0109 11.9984C14.0109 13.1088 13.1108 14.0089 12.0004 14.0089C10.89 14.0089 9.98984 13.1088 9.98984 11.9984C9.98984 10.888 10.89 9.98784 12.0004 9.98784C13.1108 9.98784 14.0109 10.888 14.0109 11.9984Z"
})}))}var x7=n(532665),M7=n(923412),w7=n(596964),Z7=n.n(w7),L7=function(e){switch(e){case Z6.fW.Activity:return(0,r.jsx)(pY.Z,{});case Z6.fW.Discover:return(0,r.jsx)(g7.Z,{});case Z6.fW.Education:return(0,r.jsx)(S7,{});case Z6.fW.Music:return(0,r.jsx)(C7,{});case Z6.fW.Science:return(0,r.jsx)(R7,{});case Z6.fW.Stage:return(0,r.jsx)(oU.Z,{height:22,width:22});case Z6.fW.Television:return(0,r.jsx)(x7.Z,{});default:(0,No.vE)(e)}},D7=function(e){var t=e.categories,n=e.currentCategoryId,o=e.handleCategorySelect,i=e.shouldDisplaySelectedCategory,a=void 0===i||i;return(0,r.jsx)(r.Fragment,{children:t.map((function(e){return(0,r.jsx)(M7.Z,{avatar:L7(e.icon),name:e.name,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){return o(e.categoryId)},wrapContent:!0,selected:a&&e.categoryId===n,className:Z7().categoryItem,selectedClassName:Z7().selectedCategoryItem,innerClassName:Z7().itemInner},e.categoryId)}))})};D7.Icons=Z6.fW;const U7=D7;var k7=n(45622),G7=n.n(k7);function B7(e){
var t=e.text;return(0,r.jsx)(q.X6,{variant:"heading-xl/semibold",className:G7().discoverHeader,children:t})}var H7=n(45183);const V7=function(e){var t=e.handleCategorySelect,n=e.shouldDisplaySelectedCategory,o=e.currentCategoryId,i=(0,s.e7)([Jf.Z],(function(){return Jf.Z.hasHotspot($f.v6.HUB_NEW)}));return(0,r.jsx)(M7.Z,{avatar:(0,r.jsx)(H7.Z,{}),name:te.Z.Messages.HUB_SCHOOL_HUBS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){t(Z6.U);(0,$f.Kw)($f.v6.HUB_NEW)},wrapContent:!0,selected:n&&Z6.U===o,className:Z7().categoryItem,selectedClassName:Z7().selectedCategoryItem,innerClassName:Z7().itemInner,children:i&&(0,r.jsx)("div",{className:Z7().new,children:(0,r.jsx)(q.xv,{color:"none",variant:"text-xs/semibold",className:Z7().newText,children:te.Z.Messages.NEW})})},Z6.U)};function F7(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Y7(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var W7=function(e){switch(e){case 1:return Z6.fW.Activity;case 2:return Z6.fW.Music;case 3:return Z6.fW.Television;case 5:return Z6.fW.Science;case 6:return Z6.fW.Education;default:return Z6.fW.Discover}};const z7=function(){var e=(0,s.cj)([M6.ZP],(function(){return{currentCategoryId:M6.ZP.getCurrentCategoryId(),isViewingSearchResults:M6.ZP.getMostRecentQuery().length>0}})),t=e.currentCategoryId,n=e.isViewingSearchResults,o=(0,s.e7)([y3.Z],(function(){return y3.Z.getDiscoveryCategories()}),[],y3.j),i=null==o?void 0:o.map((function(e){return Y7(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){F7(e,t,n[t])}))}return e}({},e),{icon:W7(e.categoryId)})})),a=function(e){(0,cK.uY)(e,!0);oo();n&&(0,cK.AQ)()};return(0,r.jsxs)(eE.ZP,{children:[(0,r.jsx)(B7,{text:te.Z.Messages.DISCOVER}),(0,r.jsx)(U7,{categories:i,handleCategorySelect:a,currentCategoryId:t,shouldDisplaySelectedCategory:!n}),(0,r.jsx)(V7,{handleCategorySelect:a,currentCategoryId:t,shouldDisplaySelectedCategory:!n})]})};var K7=n(8240),q7=n(187936),X7=n(977288),Q7=n(648073),$7=n(462428),J7=n(120053),e8=n.n(J7),t8=n(330717);function n8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function r8(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){n8(e,t,n[t])}))}return e}function o8(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var i8,a8=e8().defaultRules.lheading,s8=e8().defaultRules.heading,c8=e8().defaultRules.link,l8=e8().defaultRules.image,u8=e8().defaultRules.list,f8=e8().defaultRules.blockQuote,d8=e8().defaultRules.paragraph,p8=/\{(.+?)}/,h8=/^\$(\w+?)\$/;i8=n(329182)
;var E8=function(e){var t=e.transformUpperCase,n=void 0!==t&&t;return function(e,t,r){var o=p8.exec(e[1]),i=e[1].replace(p8,"");n&&(i=i.toUpperCase());return{className:null!=o?o[1]:null,level:"="===e[2]?1:2,content:e8().parseInline(t,i,r)}}},y8=function(e){return o8(r8({},i8.baseRules),{image:r8({},l8,"function"==typeof i8.customRules.image?i8.customRules.image(e):i8.customRules.image),link:r8({},c8,"function"==typeof i8.customRules.link?i8.customRules.link(e):i8.customRules.link),list:r8({},u8,"function"==typeof i8.customRules.list?i8.customRules.list(e):i8.customRules.list),interpolation:{order:t8.ZP.order,match:function(e){return h8.exec(e)},parse:function(e,t,n){var r=n.interpolations[e[1]];return null==r?{type:"text",content:e[0]}:{type:"interpolation",renderer:r}},react:function(e){return e.renderer()}},lheading:r8(o8(r8({},a8),{parse:E8({transformUpperCase:!0})}),"function"==typeof i8.customRules.lheading?i8.customRules.lheading(e):i8.customRules.lheading),
heading:r8({},s8,"function"==typeof i8.customRules.heading?i8.customRules.heading(e):i8.customRules.heading),blockQuote:r8({},f8,"function"==typeof i8.customRules.blockQuote?i8.customRules.blockQuote(e):i8.customRules.blockQuote),paragraph:r8({},d8,"function"==typeof i8.customRules.paragraph?i8.customRules.paragraph(e):i8.customRules.paragraph)})};const m8=function(e){return r8({},y8(e))},b8=function(e){return r8({},y8(e),function(e){return{lheading:r8(o8(r8({},a8),{parse:E8({transformUpperCase:!1})}),"function"==typeof i8.customRules.lheading?i8.customRules.lheading(e):i8.customRules.lheading)}}(e))};var g8=n(853930),O8=n.n(g8);function v8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function S8(e){S8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return S8(e)}
function I8(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function T8(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function N8(e,t){return!t||"object"!==A8(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C8(e,t){C8=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C8(e,t)}var A8=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function P8(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=S8(e);if(t){var o=S8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N8(this,n)}}var j8=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C8(e,t)}(n,e);var t=P8(n)
;function n(){v8(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.selectable,n=e.className,o=e.modalLabeledById,i=e.onClose,a=e.children,s=e.onScroll,c=e.scrollerRef;return(0,r.jsx)(J.ZP,{onCloseRequest:i,renderModal:function(e){var l,u=e.onClose,f=T8(e,["onClose"]);return(0,r.jsxs)(J.Y0,I8(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_8(e,t,n[t])}))}return e}({className:O8().modal},f),{"aria-labelledby":o,children:[(0,r.jsx)(J.hz,{className:Xp()(n,O8().content,{selectable:t}),scrollerRef:c,onScroll:s,children:a}),(0,r.jsx)(q.P3,{className:O8().closeButton,onClick:function(){null!=i&&i();u()},children:(0,r.jsx)(Sb.Z,{width:24,height:24})}),(0,r.jsx)("div",{className:O8().updateBadge,
children:(0,r.jsx)($7.Z,{size:(l=te.Z.Messages.UPDATE_BADGE_HEADER,l.length>12?$7.Z.Sizes.SIZE_10:l.length>10?$7.Z.Sizes.SIZE_12:l.length>8?$7.Z.Sizes.SIZE_14:$7.Z.Sizes.SIZE_16),className:O8().updateBadgeText,children:te.Z.Messages.UPDATE_BADGE_HEADER})})]}))}})};return n}(o.PureComponent);j8.defaultProps={selectable:!1};const R8=j8;var x8=n(866881),M8=n.n(x8);function w8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z8(e){Z8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Z8(e)}function L8(e,t){return!t||"object"!==U8(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D8(e,t){D8=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D8(e,t)}var U8=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k8(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Z8(e);if(t){var o=Z8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L8(this,n)}}var G8=HO.Z.reactParserFor(b8(M8())),B8={},H8=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&D8(e,t)}(i,e);var t=k8(i);function i(){w8(this,i);var e;(e=t.apply(this,arguments)).headerId=(0,$.hQ)();e.state={bodyWidth:451,copied:!1};e._unsetCopiedState=new Ru.sW(1e3,(function(){return e.setState({copied:!1})}));e.trackLinkClick=function(t){e.props.track(M.rMx.CHANGE_LOG_CTA_CLICKED,{
cta_type:"inline_link",target:t},!1)};e.scrollerRef=o.createRef();e.handleResize=function(){var t,n,r=null!==(n=null===(t=e._bodyNode)||void 0===t?void 0:t.offsetWidth)&&void 0!==n?n:e.state.bodyWidth;"number"!=typeof r||Number.isNaN(r)||e.setState({bodyWidth:r})};e.setSpecialBodyRef=function(t){e._bodyNode=t;e.handleResize()};e.handleScroll=function(){var t=e.scrollerRef.current;if(null!=t){var n;null===(n=e.props)||void 0===n||n.onScroll(t)}};return e}var a=i.prototype;a.componentDidMount=function(){window.addEventListener("resize",this.handleResize,!0)};a.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize,!0);this._unsetCopiedState.cancel()};a.close=function(){l.Z.hideChangeLog()};a.track=function(e,t,n){this.props.track(e,t,n)};a.renderVideo=function(){var e=this,t=this.props.changeLog,o=this.state.bodyWidth,i=o*(9/16),a=t.youtube_video_id,s=t.video,c=t.image;if(null!=a&&""!==a)return(0,r.jsx)(Q7.BC,{className:Xp()(M8().video),allowFullScreen:!1,
href:"https://youtu.be/".concat(a),thumbnail:{url:"https://i.ytimg.com/vi/".concat(a,"/maxresdefault.jpg"),width:o,height:i},video:{url:"https://www.youtube.com/embed/".concat(a,"?vq=large&rel=0&controls=0&showinfo=0"),width:o,height:i},maxWidth:o,maxHeight:i,renderVideoComponent:X7.lV,renderImageComponent:X7.Yi,renderLinkComponent:X7.iT,onPlay:function(){e.track(M.rMx.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(null!=s&&""!==s){var l=s.startsWith("https://")?s:n(478717)("./".concat(s));return(0,r.jsx)(rL.Z,{src:l,poster:c,width:o,height:i,loop:!0,muted:!0,autoPlay:!0,className:M8().video,onPlay:function(){e.track(M.rMx.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(null!=c&&""!==c){var u=c.startsWith("https://")?c:n(478717)("./".concat(c));return(0,r.jsx)("img",{className:M8().image,alt:"",src:u,width:o,height:i})}return null};a.render=function(){var e=this.props.changeLog;return(0,r.jsxs)(R8,{className:Xp()(M8().container),modalLabeledById:this.headerId,onClose:this.close,
onScroll:this.handleScroll,scrollerRef:this.scrollerRef,children:[(0,r.jsxs)("div",{className:M8().header,id:this.headerId,tabIndex:0,children:[(0,r.jsxs)("div",{className:M8().headerContent,children:[(0,r.jsx)($7.Z,{size:$7.Z.Sizes.SIZE_32,className:M8().headerText,children:te.Z.Messages.CHANGELOG_STICKERS_HEADER}),(0,r.jsx)(q.xv,{variant:"text-md/normal",className:M8().dateText,children:te.Z.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?Ub()(e.date).toDate():new Date})})]}),(0,r.jsx)("div",{className:M8().headerGraphic})]}),(0,r.jsxs)("div",{className:M8().body,ref:this.setSpecialBodyRef,children:[this.renderVideo(),G8(e.body,!1,{changeLog:this,interpolations:B8,onLinkClick:this.trackLinkClick})]}),(0,r.jsxs)("div",{className:M8().footer,children:[(0,r.jsx)(q.xv,{variant:"text-lg/bold",className:M8().inviteCTAHeader,children:te.Z.Messages.CHANGELOG_STICKERS_CTA_TITLE}),(0,r.jsx)(q.xv,{variant:"text-md/normal",className:M8().inviteCTABody,
children:te.Z.Messages.CHANGELOG_STICKERS_CTA_BODY.format()}),(0,r.jsx)(LT.Z,{className:Xp()((0,Q.nY)({size:Q.Co.Sizes.SMALL,color:Q.Co.Colors.GREEN}),M8().ctaAnchor),href:ee.Z.getArticleURL(M.BhN.STICKERS),onClick:function(){var e,t;Ce.default.track(M.rMx.CHANGE_LOG_CTA_CLICKED,{change_log_id:"".concat(null===(e=qi.Z.changeLog)||void 0===e?void 0:e.date,":").concat(null===(t=qi.Z.changeLog)||void 0===t?void 0:t.revision),cta_type:"stickers_cta"})},children:te.Z.Messages.CHANGELOG_STICKERS_CTA})]})]})};return i}(o.PureComponent),V8=n(355543),F8=n(28184),Y8=n(471730),W8=n(379881),z8=n(97672),K8=n(634427),q8=n.n(K8);function X8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q8(e){Q8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Q8(e)}function $8(e,t){return!t||"object"!==e9(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J8(e,t){J8=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return J8(e,t)}var e9=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function t9(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Q8(e);if(t){var o=Q8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $8(this,n)}}var n9=HO.Z.reactParserFor(m8(q8())),r9={},o9=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&J8(e,t)}(o,e);var t=t9(o);function o(){X8(this,o);var e;(e=t.apply(this,arguments)).handleScroll=function(t){var n;null===(n=e.props)||void 0===n||n.onScroll(t)};e.trackLinkClick=function(t){e.props.track(M.rMx.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:t},!1)};e.renderHeader=function(){var t=e.props.changeLog;return(0,r.jsxs)(Qp.Z.Child,{grow:1,shrink:1,children:[(0,r.jsx)(q.X6,{variant:"heading-lg/semibold",children:te.Z.Messages.WHATS_NEW}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",className:q8().date,children:te.Z.Messages.WHATS_NEW_DATE.format({date:null!=t.date&&""!==t.date?Ub()(t.date).toDate():new Date})})]})};return e}var i=o.prototype;i.close=function(){l.Z.hideChangeLog()};i.track=function(e,t,n){this.props.track(e,t,n)};i.renderFooter=function(){return(0,r.jsxs)("div",{className:q8().footer,children:[(0,r.jsx)(LT.Z,{"aria-label":te.Z.Messages.TWITTER,className:q8().socialLink,href:(0,V8.Z)(M.RK.TWITTER),target:"blank",children:(0,
r.jsx)(W8.Z,{})}),(0,r.jsx)(LT.Z,{"aria-label":te.Z.Messages.FACEBOOK,className:q8().socialLink,href:M.fK7.FACEBOOK_URL,target:"blank",children:(0,r.jsx)(F8.Z,{})}),(0,r.jsx)(LT.Z,{"aria-label":te.Z.Messages.INSTAGRAM,className:q8().socialLink,href:M.fK7.INSTAGRAM_URL,target:"blank",children:(0,r.jsx)(Y8.Z,{})}),(0,r.jsx)(q.xv,{variant:"text-xs/normal",children:te.Z.Messages.FOLLOW_US_FOR_MORE_UPDATES})]})};i.renderVideo=function(){var e=this,t=this.props.changeLog,o=451,i=254,a=t.youtube_video_id,s=t.video,c=t.image;if(null!=a&&""!==a)return(0,r.jsx)(Q7.BC,{className:Xp()(q8().video),allowFullScreen:!1,href:"https://youtu.be/".concat(a),thumbnail:{url:"https://i.ytimg.com/vi/".concat(a,"/maxresdefault.jpg"),width:o,height:i},video:{url:"https://www.youtube.com/embed/".concat(a,"?vq=large&rel=0&controls=0&showinfo=0"),width:o,height:i},maxWidth:o,maxHeight:i,renderVideoComponent:X7.lV,renderImageComponent:X7.Yi,renderLinkComponent:X7.iT,onPlay:function(){
e.track(M.rMx.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(null!=s&&""!==s){var l=s.startsWith("https://")?s:n(478717)("./".concat(s));return(0,r.jsx)(rL.Z,{src:l,poster:c,width:o,height:i,loop:!0,muted:!0,autoPlay:!0,className:q8().video,onPlay:function(){e.track(M.rMx.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(null!=c&&""!==c){var u=c.startsWith("https://")?c:n(478717)("./".concat(c));return(0,r.jsx)("img",{className:q8().image,alt:"",src:u,width:o,height:i})}return null};i.render=function(){var e=this.props.changeLog;return(0,r.jsx)(z8.Z,{className:q8().container,onClose:this.close,renderHeader:this.renderHeader,renderFooter:this.renderFooter,onScroll:this.handleScroll,children:(0,r.jsxs)("div",{tabIndex:0,role:"region","aria-label":te.Z.Messages.CHANGELOG_CONTENT_LABEL,children:[this.renderVideo(),n9(e.body,!1,{changeLog:this,interpolations:r9,onLinkClick:this.trackLinkClick})]})})};return o}(o.PureComponent);const i9=o9;function a9(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s9(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c9(e){c9=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c9(e)}function l9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s9(e,t,n[t])}))}return e}function u9(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)
}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f9(e,t){return!t||"object"!==p9(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d9(e,t){d9=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d9(e,t)}var p9=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h9(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c9(e);if(t){var o=c9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f9(this,n)}}var E9=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d9(e,t)}(n,e);var t=h9(n);function n(){a9(this,n);var e;(e=t.apply(this,arguments)).maxScrolledPercentage=0;e.mountedAt=0;e.handleScroll=function(t){var n=t.getScrollerState(),r=n.offsetHeight,o=n.scrollHeight,i=n.scrollTop/(o-r);e.maxScrolledPercentage=Math.min(Math.max(e.maxScrolledPercentage,i),1)};e.track=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.props.changeLog,i=o.id,a=o.date,s=o.revision,c=l9({change_log_id:"".concat(null!=i&&""!==i?i:a,":").concat(s)},n);r||(c=l9({seconds_open:Math.round((Date.now()-e.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(e.maxScrolledPercentage.toPrecision(4),10)},c));Ce.default.track(t,c)};return e}var o=n.prototype;o.componentDidMount=function(){
var e=this.props,t=e.changeLog,n=e.changeLogSource;if(null==t)return this.close();this.mountedAt=Date.now();this.maxScrolledPercentage=0;this.joinEligibleExperiment();this.track(M.rMx.CHANGE_LOG_OPENED,l9({},n),!0)};o.joinEligibleExperiment=function(){var e=this.props.changeLog;null!=e.experiment_names&&q7.Z.trackExposureToFirstEligibleUserExperiment(e.experiment_names)};o.close=function(){l.Z.hideChangeLog()};o.componentWillUnmount=function(){this.track(M.rMx.CHANGE_LOG_CLOSED)};o.render=function(){return this.props.changeLog.template===qi.S.SPECIAL?(0,r.jsx)(H8,u9(l9({},this.props),{onScroll:this.handleScroll,track:this.track})):(0,r.jsx)(i9,u9(l9({},this.props),{onScroll:this.handleScroll,track:this.track}))};return n}(o.PureComponent),y9=function(){var e=(0,s.cj)([qi.Z],(function(){return{changeLog:qi.Z.changeLog,changeLogSource:qi.Z.changeLogSource,isOpen:qi.Z.isOpen()}})),t=e.changeLog,n=e.changeLogSource,i=e.isOpen,a=(0,s.e7)([K7.Z],(function(){return K7.Z.overrideId})),c=(0,
s.e7)([zc.default],(function(){return zc.default.locale})),u=(0,s.e7)([K7.Z],(function(){return null!=a?K7.Z.getChangelog(a,c):null}),[c,a]);o.useEffect((function(){null!=a&&null==u&&l.Z.fetchChangelog(a,c)}),[a,u,c]);return null!=t&&i?(0,r.jsx)(E9,{changeLog:null!=u?u:t,changeLogSource:n}):null};const m9=o.memo(y9);var b9=n(652075);function g9(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function O9(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g9(i,r,o,a,s,"next",e)}function s(e){g9(i,r,o,a,s,"throw",e)}a(void 0)}))}}function v9(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v9(e,t,n[t])}))}return e}var S9=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function I9(e,t,n){return T9.apply(this,arguments)}function T9(){return(T9=O9((function(e,t,n){var r;return S9(this,(function(o){switch(o.label){case 0:null==t&&(t=Ou.Z.getStatus());return[4,ft.co.updateSetting(e)];case 1:o.sent();r={next_status:e,prev_status:t};null!=n&&(r=_9({},r,n));Ce.default.track(M.rMx.USER_STATUS_UPDATED,r);return[2]}}))}))).apply(this,arguments)}function N9(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function C9(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){N9(i,r,o,a,s,"next",e)}function s(e){N9(i,r,o,a,s,"throw",e)}a(void 0)}))}}function A9(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
var P9=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function j9(){(0,W.ZD)(C9((function(){var e,t;return P9(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(32353),n.e(33376)]).then(n.bind(n,33376))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){A9(e,t,n[t])}))}return e}({},e))}]}}))})),{onCloseCallback:function(){O.Z.dispatch({type:"CLEAR_AUTHENTICATION_ERRORS"});O.Z.dispatch({type:"LOGIN_RESET",isMultiAccount:!0})},modalKey:_E.Ui})}var R9=n(204882),x9=n(318007),M9=n(908170),w9=n(519276),Z9=n.n(w9);function L9(){var e=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),t=(0,s.e7)([Br.Z],(function(){
return Br.Z.hidePersonalInformation})),n=(0,M9.L)().multiAccountUsers,o=n.map((function(n){var o=new JC.Z(n),i=o.id===(null==e?void 0:e.id),a=n.tokenStatus===x9.q.INVALID,s=t?null:"#".concat(o.discriminator);return(0,r.jsx)(aW.sN,{id:o.id,focusedClassName:Z9().focused,label:function(e){var t=e.isFocused;return(0,r.jsxs)("div",{className:Z9().userMenuItem,children:[(0,r.jsx)(cg.ZP,{src:o.getAvatarURL(void 0,40),size:cg.ZP.Sizes.SIZE_24,"aria-label":n.username}),(0,r.jsxs)("div",{className:Z9().userMenuUsername,children:[(0,r.jsx)(q.xv,{className:Z9().userMenuText,variant:"text-sm/normal",children:o.toString()}),(0,r.jsx)(q.xv,{className:Z9().userMenuDiscriminator,variant:"text-sm/normal",children:s})]}),i&&(0,r.jsx)(uP.Z,{color:(0,pN.Lq)(t?M.Ilk.WHITE_500:M.Ilk.BRAND_500),backgroundColor:(0,pN.Lq)(t?M.Ilk.BRAND_500:M.Ilk.WHITE_500),width:18,height:18,className:Z9().activeIcon}),a&&(0,r.jsx)(pT.Z,{color:(0,pN.Lq)(M.Ilk.STATUS_RED_500),backgroundColor:(0,pN.Lq)(M.Ilk.WHITE_500),width:15,
height:15,className:Z9().activeIcon})]})},action:function(){a?j9():function(t){if(t!==(null==e?void 0:e.id)){Ce.default.track(M.rMx.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:M.jXE.PROFILE_POPOUT}});R9.yD(t)}}(o.id)}},o.id)}));o.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(aW.Cl,{}),(0,r.jsx)(aW.sN,{id:"manage-accounts",label:te.Z.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS,action:j9})]}));return o}function D9(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U9(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function k9(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function G9(e){var t=e.width,n=void 0===t?20:t,o=e.height,i=void 0===o?20:o,a=e.color,s=void 0===a?"currentColor":a,c=k9(e,["width","height","color"]);return(0,r.jsxs)("svg",U9(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){D9(e,t,n[t])}))}return e}({},(0,qb.Z)(c)),{width:n,height:i,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,
r.jsx)("path",{d:"M13.4996 0H6.72144C6.62254 1.34004e-06 6.52586 0.0293272 6.44363 0.0842743C6.36141 0.139221 6.29733 0.217322 6.25949 0.308693C6.22165 0.400063 6.21176 0.500602 6.23106 0.597595C6.25037 0.694589 6.298 0.783679 6.36794 0.8536L7.63564 2.1213C7.82317 2.30884 7.92853 2.56319 7.92853 2.8284C7.92853 3.09361 7.82317 3.34796 7.63564 3.5355L6.22144 4.9498C5.65884 5.51241 5.34277 6.27546 5.34277 7.0711C5.34277 7.86674 5.65884 8.62979 6.22144 9.1924C6.40897 9.37993 6.66331 9.48528 6.92853 9.48528C7.19374 9.48528 7.4481 9.37993 7.63564 9.1924L9.75703 7.0711C10.1321 6.69603 10.6408 6.48533 11.1712 6.48533C11.7017 6.48533 12.2104 6.69603 12.5854 7.0711L13.146 7.6317C13.2159 7.70164 13.305 7.74927 13.402 7.76858C13.499 7.78788 13.5996 7.77799 13.6909 7.74015C13.7823 7.70231 13.8604 7.63823 13.9154 7.556C13.9703 7.47377 13.9996 7.37709 13.9996 7.2782V0.5C13.9996 0.367392 13.9469 0.240214 13.8532 0.146446C13.7594 0.052678 13.6322 0 13.4996 0Z",fill:s}),(0,r.jsx)("path",{
d:"M4.5 17.9999H11.2782C11.3771 17.9999 11.4738 17.9706 11.556 17.9157C11.6382 17.8607 11.7023 17.7826 11.7401 17.6912C11.778 17.5999 11.7879 17.4993 11.7686 17.4023C11.7493 17.3053 11.7016 17.2163 11.6317 17.1463L10.364 15.8786C10.1765 15.6911 10.0711 15.4367 10.0711 15.1715C10.0711 14.9063 10.1765 14.652 10.364 14.4644L11.7782 13.0501C12.3408 12.4875 12.6569 11.7245 12.6569 10.9288C12.6569 10.1332 12.3408 9.37014 11.7782 8.80753C11.5907 8.62 11.3363 8.51465 11.0711 8.51465C10.8059 8.51465 10.5515 8.62 10.364 8.80753L8.2426 10.9288C7.86753 11.3039 7.35883 11.5146 6.8284 11.5146C6.29797 11.5146 5.78927 11.3039 5.4142 10.9288L4.85361 10.3682C4.78369 10.2983 4.69459 10.2507 4.5976 10.2314C4.5006 10.2121 4.40006 10.2219 4.30869 10.2598C4.21731 10.2976 4.13922 10.3617 4.08427 10.4439C4.02933 10.5262 4 10.6228 4 10.7217V17.4999C4 17.6325 4.05269 17.7597 4.14645 17.8535C4.24022 17.9473 4.36739 17.9999 4.5 17.9999Z",fill:s})]}))}var B9=n(71531),H9=n(830332),V9=n.n(H9)
;function F9(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Y9(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){F9(i,r,o,a,s,"next",e)}function s(e){F9(i,r,o,a,s,"throw",e)}a(void 0)}))}}function W9(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function z9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){W9(e,t,n[t])}))}return e}function K9(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var q9=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function X9(e){var t=e.status,n=e.description,o=e.focused;return(0,r.jsxs)("div",{className:V9().statusItem,children:[(0,r.jsx)(B9.qb,{status:t,className:V9().icon,size:10,color:o?"currentColor":void 0}),(0,r.jsx)("div",{className:V9().status,children:(0,gq.u5)(t)}),null!=n&&(0,r.jsx)("div",{className:V9().description,children:n})]})}function Q9(e){var t=e.customStatus,n=function(e){e.stopPropagation();ft.Ok.updateSetting(void 0)};return null!=t?(0,r.jsx)("div",{"aria-label":te.Z.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,children:(0,r.jsx)(b9.Z,{className:null!=t.emoji?V9().customStatusWithEmoji:V9().customStatusItem,activity:t,
emojiClassName:V9().customEmoji,textClassName:V9().customText,placeholderText:te.Z.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,children:(0,r.jsx)(Kb.ZP,{text:te.Z.Messages.CUSTOM_STATUS_CLEAR_CUSTOM_STATUS,children:function(e){return(0,r.jsx)(Q.Co,K9(z9({},e),{className:V9().clearStatusButton,onClick:n,look:Q.Co.Looks.BLANK,size:Q.Co.Sizes.NONE,tabIndex:-1,"aria-hidden":!0,children:(0,r.jsx)(fP.Z,{className:V9().clearStatusIcon})}))}})})}):(0,r.jsxs)("div",{className:Xp()(V9().statusItem,V9().customStatusContentIcon),"aria-label":te.Z.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS,children:[(0,r.jsx)("div",{className:V9().customEmojiPlaceholder}),(0,r.jsx)("div",{className:V9().status,children:te.Z.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS})]})}function $9(e){var t=e.focused;return(0,r.jsxs)("div",{className:Xp()(V9().statusItem,V9().statusItemNoPadding,V9().customStatusContentIcon,V9().switchAccountsItem),"aria-label":te.Z.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE,children:[(0,
r.jsx)(G9,{width:18,height:18,className:V9().switchAccountsIcon,color:t?(0,pN.Lq)(M.Ilk.WHITE_500):"currentColor"}),(0,r.jsx)("div",{className:V9().status,children:te.Z.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE})]})}var J9=function(e){var t=e.customStatus,i=e.onClose,a=e.analyticsContext,s=e.onSelect,c=L9();o.useEffect((function(){Ce.default.track(M.rMx.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=t,location:a.location})}),[]);var l=function(e){I9(e,void 0,{location:a.location})};return(0,r.jsxs)(aW.ZP,{navId:"status-picker",variant:"fixed","aria-label":te.Z.Messages.SET_STATUS,onClose:i,onSelect:s,children:[(0,r.jsx)(aW.sN,{id:"online",keepItemStyles:!0,render:function(e){var t=e.isFocused;return(0,r.jsx)(X9,{status:B9.Sk.ONLINE,focused:t})},action:function(){return l(B9.Sk.ONLINE)}}),(0,r.jsx)(aW.Cl,{}),(0,r.jsx)(aW.sN,{id:"idle",keepItemStyles:!0,render:function(e){var t=e.isFocused;return(0,r.jsx)(X9,{status:B9.Sk.IDLE,focused:t})},action:function(){
return l(B9.Sk.IDLE)}}),(0,r.jsx)(aW.sN,{id:"dnd",keepItemStyles:!0,render:function(e){var t=e.isFocused;return(0,r.jsx)(X9,{status:B9.Sk.DND,description:te.Z.Messages.STATUS_DND_HELP,focused:t})},action:function(){return l(B9.Sk.DND)}}),(0,r.jsx)(aW.sN,{id:"invisible",keepItemStyles:!0,render:function(e){var t=e.isFocused;return(0,r.jsx)(X9,{status:B9.Sk.INVISIBLE,description:te.Z.Messages.STATUS_INVISIBLE_HELPER,focused:t})},action:function(){return l(B9.Sk.INVISIBLE)}}),(0,r.jsx)(aW.Cl,{}),(0,r.jsx)(aW.sN,{id:"custom-status",keepItemStyles:!0,render:function(){return(0,r.jsx)(Q9,{customStatus:t})},action:function(){(0,W.ZD)(Y9((function(){var e,t;return q9(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(66767)]).then(n.bind(n,366767))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,K9(z9({},e),{sourceAnalyticsContext:a}))}]}}))})))}}),(0,r.jsx)(aW.Cl,{}),(0,r.jsx)(aW.sN,{id:"switch-account",action:j9,label:function(e){
var t=e.isFocused;return(0,r.jsx)($9,{focused:t})},children:c},"switch-account")]})};const eee=(0,bY.Z)((function(e){var t=(0,s.e7)([gu.Z],(function(){return gu.Z.getCustomStatusActivity()})),n=ft.co.useSetting();return(0,r.jsx)(J9,K9(z9({},e),{customStatus:t,status:n}))}));var tee=(0,WR.B)({kind:"user",id:"2023-01_consumer_education_launch",label:"Safety Consumer Education Launch - Block/Mute",defaultConfig:{bucket:0,enabled:!1},treatments:[{id:1,label:"Mute",config:{bucket:1,enabled:!0}},{id:2,label:"Block",config:{bucket:2,enabled:!0}}]});var nee=n(405728),ree=n(785486),oee=n(337921),iee=n(397945);function aee(e,t,n){return n?te.Z.Messages.CONSOLE_CONNECTING_DISABLED:t?te.Z.Messages.SERVER_DEAFENED_DIALOG_TITLE:e?te.Z.Messages.UNDEAFEN:te.Z.Messages.DEAFEN}var see=n(242829);function cee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lee(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function uee(e){e?(0,W.h7)((function(e){return(0,r.jsx)(Bp.Z,lee(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cee(e,t,n[t])}))}return e}({},e),{title:te.Z.Messages.SERVER_DEAFENED_DIALOG_TITLE,body:te.Z.Messages.SERVER_DEAFENED_DIALOG_BODY}))})):Ke.Z.toggleSelfDeaf()}var fee=n(457188),dee=n(85692),pee=n.n(dee)
;const hee=function(e){var t=e.markAsDismissed,n=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion}));o.useEffect((function(){Ce.default.track(M.rMx.TOOLTIP_VIEWED,{type:"CONNECTION_DETAILS_COACH_MARK"})}),[]);return(0,r.jsx)(QZ.ZP,{header:(0,r.jsxs)("div",{className:pee().headerContainer,children:[te.Z.Messages.CONNECTIONS_NUX_TITLE,(0,r.jsx)(Mb.Z,{className:pee().betaTag,color:(0,pN.Lq)(M.Ilk.WHITE_500)})]}),className:pee().content,asset:(0,r.jsx)(rL.Z,{className:pee().video,src:"https://cdn.discordapp.com/attachments/974778719363268678/1030163177700327545/Connections_NUX_Full.mp4",loop:!0,autoPlay:!n,width:240,height:135}),content:te.Z.Messages.CONNECTIONS_NUX_CONTENT.format({helpdeskArticle:ee.Z.getArticleURL(M.BhN.CONNECTION_DETAILS)}),buttonCTA:te.Z.Messages.CHECK_IT_OUT,secondaryButtonCTA:te.Z.Messages.DISMISS,onClick:function(e){h.Z.open(M.oAB.CONNECTIONS)},markAsDismissed:function(){Ce.default.track(M.rMx.DISMISSIBLE_CONTENT_DISMISSED,{type:"CONNECTION_DETAILS_COACH_MARK"
});t()},caretPosition:QZ.DF.BOTTOM_CENTER,headerClassName:pee().header})};var Eee=n(24390),yee=n(945534),mee=n(444793),bee=n(816043),gee=n.n(bee);var Oee=function(e,t){return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},JQ.X2.HALO,{header:te.Z.Messages.DROP_ENROLLMENT_CTA_TOOLTIP_HEADER_HALO,body:te.Z.Messages.DROPS_ELIGIBILITY_ENROLLMENT_TOOLTIP_BODY_HALO.format({streamLengthRequirement:t}),imgSrc:n(92628),imgStyle:gee().haloInfiniteImage})[e]};function vee(e){var t=e.markAsDismissed,n=e.partnerGame,o=(0,$Q.au)(n),i=o.dropInfo,a=o.config,s=Oee(n,a.streamLengthRequirement),c=s.header,l=s.body,u=s.imgSrc,f=s.imgStyle,d=function(){t(mn.L.DISMISS)};return(0,r.jsxs)("div",{className:gee().container,children:[(0,r.jsx)("img",{src:u,alt:"",className:f}),(0,r.jsx)(q.P3,{className:gee().buttonClose,"aria-label":te.Z.Messages.CLOSE,onClick:d,children:(0,r.jsx)(Sb.Z,{width:16,height:16,className:gee().closeIcon})}),(0,
r.jsx)(q.X6,{className:gee().title,variant:"heading-md/extrabold",children:c}),(0,r.jsx)(q.xv,{variant:"text-sm/medium",className:gee().subTitle,children:l}),n===JQ.X2.HALO?(0,r.jsx)(Q.Co,{look:Q.Co.Looks.INVERTED,fullWidth:!0,onClick:function(){h.Z.open(M.oAB.INVENTORY);t(mn.L.PRIMARY)},children:te.Z.Messages.LEARN_MORE}):(0,r.jsx)(Q.Co,{innerClassName:gee().button,look:Q.Co.Looks.INVERTED,fullWidth:!0,onClick:function(){(0,mee.RJ)(i.dropsQuestId);h.Z.open(M.oAB.INVENTORY);t(mn.L.PRIMARY)},children:te.Z.Messages.DROPS_ELIGIBILITY_ENROLLMENT_PRIMARY_CTA}),(0,r.jsx)(Q.Co,{className:gee().linkButtonContainer,innerClassName:gee().linkButton,onClick:d,look:Q.Co.Looks.LINK,fullWidth:!0,color:Q.Co.Colors.WHITE,children:te.Z.Messages.NOT_NOW}),(0,r.jsx)("div",{className:gee().pointer})]})}var _ee=n(748594),See=n.n(_ee);var Iee=function(e,t){return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},JQ.X2.HALO,{
body:te.Z.Messages.DROPS_QUEST_COMPLETION_TOOLTIP_BODY_HALO.format({streamLengthRequirement:t}),imgSrc:n(92628),imgStyle:See().haloInfiniteImage})[e]};function Tee(e){var t=e.markAsDismissed,n=e.partnerGame,o=(0,$Q.au)(n).config,i=Iee(n,o.streamLengthRequirement),a=i.body,s=i.imgSrc,c=i.imgStyle,l=function(){t(mn.L.DISMISS)};return(0,r.jsxs)("div",{className:See().container,children:[(0,r.jsx)("img",{src:s,alt:"",className:c}),(0,r.jsx)(q.P3,{className:See().buttonClose,"aria-label":te.Z.Messages.CLOSE,onClick:l,children:(0,r.jsx)(Sb.Z,{width:16,height:16,className:See().closeIcon})}),(0,r.jsx)(q.X6,{className:See().title,variant:"heading-md/extrabold",children:te.Z.Messages.DROPS_QUEST_COMPLETION_TOOLTIP_HEADER}),(0,r.jsx)(q.xv,{variant:"text-sm/medium",className:See().subTitle,children:a}),(0,r.jsx)(Q.Co,{look:Q.Co.Looks.INVERTED,fullWidth:!0,onClick:function(){h.Z.open(M.oAB.INVENTORY);t(mn.L.PRIMARY)},children:te.Z.Messages.REDEEM}),(0,r.jsx)(Q.Co,{
className:See().linkButtonContainer,innerClassName:See().linkButton,onClick:l,look:Q.Co.Looks.LINK,fullWidth:!0,color:Q.Co.Colors.WHITE,children:te.Z.Messages.NOT_NOW}),(0,r.jsx)("div",{className:See().pointer})]})}var Nee=n(556932);function Cee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Aee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pee=n(341190),jee=n(306935),Ree=n.n(jee),xee=n(716926),Mee=n.n(xee),wee=n(417454),Zee=n.n(wee);function Lee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Dee(e){var t,n=e.markAsDismissed,o=(0,FM.Z)(vf.Z.PS_VOICE_CONNECT_UPSELL).analyticsLocations,i=(0,s.e7)([cW.Z],(function(){return null!=cW.Z.getAccount(null,M.ABu.PLAYSTATION)}));return(0,r.jsx)(QZ.ZP,{header:i?te.Z.Messages.PS_LINK_UPSELL_HEADER_RECONNECT:te.Z.Messages.PS_LINK_UPSELL_HEADER,content:i?te.Z.Messages.PS_LINK_UPSELL_CONTENT_RECONNECT:te.Z.Messages.PS_LINK_UPSELL_CONTENT,asset:(0,r.jsx)("div",{className:Ree().artContainer,children:(0,r.jsx)("img",{src:i?Zee():Mee(),alt:"",
className:Xp()(Ree().art,(t={},Lee(t,Ree().nuxArt,i),Lee(t,Ree().connectArt,!i),t))})}),onClick:function(){n();(0,Pee.K)(o,M.ABu.PLAYSTATION)},onSecondaryClick:n,markAsDismissed:n,buttonCTA:i?te.Z.Messages.RECONNECT:te.Z.Messages.CONNECT,secondaryButtonCTA:te.Z.Messages.NO_THANKS,caretPosition:QZ.ZP.CaretPosition.BOTTOM_CENTER,buttonLayout:QZ.ZP.ButtonLayout.STACKED})}var Uee=n(713711);const kee=(0,WR.B)({kind:"user",id:"2022-04_account_profile_popout",label:"Account Profile Popout",defaultConfig:{isPopupEnabled:!1,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!1},treatments:[{id:1,label:"Enable Account Profile Popout",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!1}},{id:2,label:"Enable Account Profile Popout w/ DiscordTag button",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!0}}]});var Gee=n(184518),Bee=n.n(Gee);function Hee(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}
s.done?t(c):Promise.resolve(c).then(r,o)}function Vee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Hee(i,r,o,a,s,"next",e)}function s(e){Hee(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Fee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Yee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Fee(e,t,n[t])}))}return e}function Wee(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var zee=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1]
;break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var Kee=n(535737),qee=n(115467),Xee=n(578797),Qee=n(60953),$ee=n(536419);const Jee=(0,$ee.Z)({id:"2022-07_user_panel_context_menu_profile_entrypoint_behavior",label:"User Panel Context Menu Profile Entrypoint (behavior)",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]}),ete=(0,$ee.Z)({id:"2022-07_user_panel_context_menu_profile_entrypoint",label:"User Panel Context Menu Profile Entrypoint",kind:"user",defaultConfig:{entryPointTexti18nKey:void 0},treatments:[{id:1,label:"Customize Your Profile",config:{entryPointTexti18nKey:"PREMIUM_FEATURES_PROFILE_CUSTOMIZATION_MENU_ITEM_TITLE"}},{id:2,label:"Customize Your Profile With Nitro",config:{
entryPointTexti18nKey:"PREMIUM_FEATURES_PROFILE_CUSTOMIZATION_MENU_ITEM_TITLE_LONGER"}}]});var tte=n(591739),nte=n(570459),rte=n(769418),ote=n.n(rte);function ite(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ate(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function ste(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ate(i,r,o,a,s,"next",e)}function s(e){ate(i,r,o,a,s,"throw",e)}a(void 0)}))}}function cte(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){cte(e,t,n[t])}))}return e}function ute(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function fte(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ite(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ite(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dte=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1}
;case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function pte(e,t,n,o){return(0,r.jsx)(aW.sN,{id:e,keepItemStyles:!0,render:function(t){var n=t.isFocused;return(0,r.jsxs)("div",{className:ote().statusItem,children:[(0,r.jsx)(B9.qb,{status:e,className:ote().icon,size:10,color:n?"currentColor":void 0}),(0,r.jsx)("div",{className:ote().status,children:(0,gq.u5)(e)}),null!=o&&(0,r.jsx)("div",{className:ote().description,children:o})]})},action:function(){return I9(e,t,n)}})}function hte(e){
var t=e.user,i=e.customStatus,a=e.guildId,c=e.isApplicationStreaming,l=e.onClose,u=e.onSelect,f=e.closePopout,d=(0,nY.O)(),p=(0,FM.Z)(vf.Z.ACCOUNT_PROFILE_POPOUT).AnalyticsLocationProvider,E=(0,Dj.Z)(t.id,a),y=$i.ZP.canUsePremiumProfileCustomization(t),m=ete.useExperiment({},{autoTrackExposure:!y}).entryPointTexti18nKey,b=void 0!==m&&!y,g=fte((0,s.Wu)([ds.Z],(function(){var e,n=t.id;return"string"!=typeof n?[void 0,void 0,M.Skl.UNKNOWN,!1]:[null!==(e=ds.Z.findActivity(n,(function(e){return e.type!==M.IIU.CUSTOM_STATUS})))&&void 0!==e?e:void 0,ds.Z.findActivity(t.id,(function(e){return e.type===M.IIU.CUSTOM_STATUS})),ds.Z.getStatus(n),ds.Z.isMobileOnline(n)]})),4),O=g[0],v=g[1],_=g[2],S=g[3],I=function(e,t){return(0,r.jsxs)(r.Fragment,{children:[pte(M.Skl.ONLINE,e,t),(0,r.jsx)(aW.Cl,{},"menu-separator-statuses"),pte(M.Skl.IDLE,e,t),pte(M.Skl.DND,e,t,te.Z.Messages.STATUS_DND_HELP),pte(M.Skl.INVISIBLE,e,t,te.Z.Messages.STATUS_INVISIBLE_HELPER)]})}(_,d);o.useEffect((function(){
Ce.default.track(M.rMx.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=i,other_user_id:t.id,application_id:null!=O?O.application_id:void 0,is_streaming:c,application_name:null!=O?O.name:void 0,profile_has_nitro_customization:null!=(null==E?void 0:E.banner),location:d.location})}),[]);var T=Xp()(ote().menuItemFocused,cte({},ote().menuItemFocusedPremium,y)),N=L9(),C=function(e,t){var o=function(e){e.stopPropagation();ft.Ok.updateSetting(void 0)},i=function(){(0,W.ZD)(Vee((function(){var e,t;return zee(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(66767)]).then(n.bind(n,366767))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Yee({sourceAnalyticsContext:a},e))}]}}))})))},a=(0,nY.O)();if(null!=e){var s=null!=e.emoji?function(t){var n=t.className;return(0,r.jsx)(bq.I,{className:n,emoji:e.emoji,animate:!0,hideTooltip:!0})}:void 0;return(0,r.jsx)(aW.sN,{id:"edit-custom-status",
label:te.Z.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,icon:s,focusedClassName:t,showIconFirst:!0,hint:function(e){return(0,r.jsx)(q.P3,Wee(Yee({},e),{onClick:o,tabIndex:-1,children:(0,r.jsx)(fP.Z,{width:18,height:18})}))},action:i})}return(0,r.jsx)(aW.sN,{id:"set-custom-status",focusedClassName:t,label:te.Z.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS_CTA,icon:function(e){return(0,r.jsx)("div",{className:Xp()(Bee().customEmojiPlaceholder,e)})},action:i,showIconFirst:!0})}(null!=i?i:void 0,T);return(0,r.jsx)(p,{children:(0,r.jsxs)(Kee.Z,{user:t,profileType:nte.y0.POPOUT,children:[(0,r.jsx)(Qee.ZP,{user:t,displayProfile:E,onClose:function(){return null==f?void 0:f()},isMobile:S,isStreaming:(0,QV.Z)(O),status:_,onOpenPremiumSettings:function(){Ce.default.track(M.rMx.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:M.jXE.PROFILE_POPOUT,location_object:M.qAy.TOOLTIP});h.Z.open(M.oAB.PREMIUM);null==f||f()},disableUserProfileLink:__OVERLAY__,isHovering:!1}),(0,
r.jsxs)(Kee.Z.Inner,{children:[(0,r.jsx)(qee.Z,{activity:O,customStatusActivity:v,displayProfile:E,user:t,onClose:l,setNote:!1,canDM:!1,hideNote:!0,showCopiableUsername:!0}),(0,r.jsx)(Xee.Z,{className:ote().divider}),(0,r.jsxs)(aW.ZP,{navId:"account","aria-label":te.Z.Messages.SET_STATUS,hideScroller:!0,className:ote().menu,onClose:l,onSelect:u,children:[(0,r.jsxs)(aW.kS,{children:[(0,r.jsx)(aW.sN,{id:"status-picker",label:(0,gq.u5)(_),focusedClassName:T,action:ao.tq?function(){(0,W.ZD)((function(){return new Promise((function(e){e((function(e){return(0,r.jsx)(J.Y0,ute(lte({},e),{size:J.Cg.SMALL,className:ote().modal,"aria-label":te.Z.Messages.SET_STATUS,children:(0,r.jsx)(aW.ZP,{navId:"account",variant:"fixed","aria-label":te.Z.Messages.SET_STATUS,hideScroller:!0,className:ote().statusPickerModalMenu,onClose:e.onClose,onSelect:e.onClose,children:I})}))}))}))}))}:void 0,showIconFirst:!0,icon:function(e){var t=e.className,n=e.isFocused;return(0,r.jsx)(B9.qb,{status:_,size:12,
className:Xp()(t,ote().mainStatusIcon),color:n?"currentColor":void 0})},children:ao.tq?void 0:I},"status-picker"),C,b?(0,r.jsx)(aW.sN,{id:"style-your-profile",focusedClassName:T,color:"brand",label:te.Z.Messages[m],action:function(){if(Jee.getCurrentConfig({},{autoTrackExposure:!y}).enabled){Ce.default.track(M.rMx.OPEN_MODAL,{type:M.jXE.AGGREGATE_PREMIUM_UPSELL_MODAL,location:{section:M.jXE.PROFILE_POPOUT}});(0,W.ZD)(ste((function(){var e,t;return dte(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(13890)]).then(n.bind(n,413890))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ute(lte({},e),{ingressPremiumFeatureId:tte.c.PREMIUM_FEATURE_CUSTOM_PROFILES_ID}))}]}}))})))}else(0,W.ZD)(ste((function(){var e,t;return dte(this,(function(o){switch(o.label){case 0:return[4,n.e(50442).then(n.bind(n,950442))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ute(lte({},e),{source:{section:M.jXE.PROFILE_POPOUT,
object:M.qAy.BUTTON_CTA}}))}]}}))})))},icon:i$.Z,showIconFirst:!0},"style-your-profile"):null]}),(0,r.jsx)(aW.kS,{children:(0,r.jsx)(aW.sN,{id:"switch-account",focusedClassName:T,label:te.Z.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE,icon:G9,showIconFirst:!0,action:j9,children:N},"switch-account")})]})]})]})})}function Ete(e){var t=e.userId,n=e.user,i=e.guildId,a=e.onClose,c=e.onSelect,l=(0,s.e7)([Y.default],(function(){return Y.default.getUser(t)}),[t]),u=(0,s.e7)([gu.Z],(function(){return gu.Z.getCustomStatusActivity()})),f=fte(o.useState(!1),2),d=f[0],p=f[1],h=null!=l?l:n,E=(0,s.e7)([xr.Z],(function(){return null!=h&&null!=xr.Z.getAnyStreamForUser(h.id)}));o.useEffect((function(){null==l&&function(){e.apply(this,arguments)}();function e(){return(e=ste((function(){return dte(this,(function(e){switch(e.label){case 0:return"string"!=typeof t?[3,2]:[4,(0,qc.PR)(t)];case 1:e.sent();p(!0);e.label=2;case 2:return[2]}}))}))).apply(this,arguments)}}),[l,t]);if(null==h){
d&&Oh()(null!=h,"Unexpected missing user");return null}return(0,r.jsx)(hte,{closePopout:a,user:h,customStatus:u,guildId:i,isApplicationStreaming:E,onClose:a,onSelect:c})}function yte(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mte(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function bte(e){return(0,r.jsxs)("svg",mte(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yte(e,t,n[t])}))}return e}({width:232,height:72,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,r.jsx)("rect",{width:232,height:72,rx:36,fill:"#fff"}),(0,r.jsxs)("g",{clipPath:"url(#prefix__clip0_1283_59574)",children:[(0,r.jsx)("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint0_linear_1283_59574)"}),(0,r.jsx)("path",{d:"M37.243 35.366l3.455-22.103a3.098 3.098 0 013.217-2.68 3.157 3.157 0 013.038 3.634l-3.395 22.876-6.315-1.727z",fill:"#E66CA5"}),(0,r.jsx)("path",{d:"M40.936 31.315l2.979-13.881a.476.476 0 01.536-.358c.238.06.417.239.357.477l-1.906 13.583-1.966.179z",fill:"#F085B7"}),(0,r.jsx)("path",{d:"M40.698 13.264a3.157 3.157 0 011.132-2.026c-.536 3.634-1.55 10.068-2.979 20.792l-1.132.178 2.979-18.944z",fill:"#FFABBB"}),(0,r.jsx)("path",{
d:"M18.357 93.928L9.897 52.94a.894.894 0 01.835-1.073h4.17a.953.953 0 01.894.715l8.578 41.345h-6.017z",fill:"#6E2B17"}),(0,r.jsx)("path",{d:"M39.745 55.442H14.068v4.522h25.677v-4.522z",fill:"#6E2B17"}),(0,r.jsx)("path",{d:"M25.923 12.549a3.932 3.932 0 00-2.264 4.885l6.434 18.826 8.281-2.443-7.387-19.064a3.932 3.932 0 00-5.064-2.204z",fill:"#E66CA5"}),(0,r.jsx)("path",{d:"M32.298 31.553l3.276-.477-4.527-11.26a1.191 1.191 0 00-1.728-.655 1.251 1.251 0 00-.655 1.49l3.634 10.902z",fill:"#F085B7"}),(0,r.jsx)("path",{d:"M30.51 31.553l-6.374-17.515a3.992 3.992 0 00-.477 3.396l4.885 14.357 1.966-.238z",fill:"#FFA3B5"}),(0,r.jsx)("path",{d:"M46.319 28.902l-24.281 3.154a6.374 6.374 0 00-5.5 7.142l.022.171a6.374 6.374 0 007.142 5.5l24.281-3.153a6.375 6.375 0 005.5-7.142l-.022-.172a6.374 6.374 0 00-7.142-5.5z",fill:"#FF85AB"}),(0,r.jsx)("path",{d:"M27.294 66.702c-1.49-1.31-2.86-2.562-3.158-3.098-.298-.536.179-.596.953-.894.775-.298 1.31.655 2.085 2.145.775 1.49 1.43 3.038.12 1.847z",fill:"#F2C591"
}),(0,r.jsx)("path",{d:"M47.608 50.915L25.864 54.37c-1.43 1.25-1.55 1.549-2.562 2.442-2.92 2.562-3.694 4.647-3.753 6.911-.179 3.157.119 3.038-.537 4.17-.655 1.132-1.31 1.55-.714 3.158a8.28 8.28 0 001.787 2.74H54.4c7.685-8.996.715-16.323-6.792-22.876z",fill:"#F7E5BC"}),(0,r.jsx)("path",{d:"M50.826 73.791H27.77s.12-2.025.239-7.208-.894-8.758-4.707-9.77c.775-.775 1.609-1.61 2.562-2.443l21.745-3.396c1.43 1.251 2.86 2.502 4.17 3.813a93.885 93.885 0 01-.953 19.004z",fill:"#1F3A70"}),(0,r.jsx)("path",{d:"M47.609 50.974h-.298l-.298.358a58.619 58.619 0 01-3.455 9.472s.119 1.191 1.727-1.132a25.974 25.974 0 003.694-7.506l-1.37-1.192zM28.306 54.37c4.23 5.064 5.66 6.256 7.209 7.268 1.549 1.013.238-.536-1.37-2.919a313.091 313.091 0 01-3.515-5.362l-2.324 1.013z",fill:"#172E5C"}),(0,r.jsx)("path",{d:"M29.974 57.349s-.178.417-1.131 1.013c-.954.595-1.132.893-1.251.715a5.184 5.184 0 00-3.634-2.92c.595-.655 1.25-1.25 1.966-1.906 3.276 1.37 4.05 3.098 4.05 3.098z",fill:"#244AB0"}),(0,r.jsx)("path",{
d:"M45.702 50.915l-4.409 16.442-11.2-15.906 15.609-.536z",fill:"#D4BF9B"}),(0,r.jsx)("path",{d:"M36.17 56.693l8.4 2.205-3.157 5.004-5.243-6.255c-.715-.834-1.37-1.311 0-.954z",fill:"#CCAC89"}),(0,r.jsx)("path",{d:"M32.536 54.072l10.247 1.37c1.132.12 1.191-1.131 1.787-3.574l-11.08.834-.954 1.37z",fill:"#DE5D98"}),(0,r.jsx)("path",{d:"M48.85 39.874L23.86 43.12a6.016 6.016 0 00-5.192 6.739 6.016 6.016 0 006.741 5.189l24.99-3.246a6.016 6.016 0 005.193-6.739 6.016 6.016 0 00-6.742-5.189z",fill:"#FF85AB"}),(0,r.jsx)("path",{d:"M50.17 51.808a6.136 6.136 0 005.421-6.493 6.017 6.017 0 00-4.05-5.183 6.492 6.492 0 002.025-5.54v-.18a6.256 6.256 0 00-7.09-5.48l-19.719 2.561c4.23 2.92 4.23 5.422 3.515 10.188-.05.726.116 1.452.477 2.085a9.353 9.353 0 01-1.013 10.723l20.434-2.68z",fill:"#F06EA8"}),(0,r.jsx)("path",{
d:"M47.31 67.417l-4.11 3.217a.596.596 0 01-.894-.12L37.6 64.2a.715.715 0 01.12-.894l4.17-3.217a.655.655 0 01.893.12l4.647 6.314a.594.594 0 01-.12.894zM53.923 67.476l-4.945-.357a.476.476 0 01-.416-.417l.357-8.281a.476.476 0 01.477-.417l4.944.357a.476.476 0 01.417.477l-.357 8.221a.477.477 0 01-.477.417z",fill:"#BA4E5D"}),(0,r.jsx)("path",{d:"M54.061 61.886l-2.09-2.446-2.59 2.213 2.089 2.446 2.591-2.213z",fill:"#AD3B4B"}),(0,r.jsx)("path",{d:"M53.983 66.344a.417.417 0 00.298-.536l-1.907-7.566-2.978-.238a.477.477 0 00-.477.417l-.357 8.28v.12a.417.417 0 00.357.12l5.064-.597z",fill:"#872C39"}),(0,r.jsx)("path",{d:"M53.328 66.285l-5.004.595a.477.477 0 01-.477-.298l-2.026-8.042a.36.36 0 01.187-.444.358.358 0 01.17-.033l5.005-.655a.476.476 0 01.477.298l2.025 8.042a.417.417 0 01-.357.537z",fill:"#BA4E5D"}),(0,r.jsx)("path",{d:"M51.773 61.16L49.2 59.23l-2.046 2.725 2.573 1.931 2.046-2.725zM44.153 63.485h-3.217v3.407h3.217v-3.407z",fill:"#AD3B4B"}),(0,r.jsx)("path",{
d:"M50.35 65.153l-3.337-7.209-.834.12a.358.358 0 00-.358.476l2.026 7.983 2.204-.774a.477.477 0 00.298-.596zM42.783 60.208a.655.655 0 00-.894-.119l-1.549 1.192 3.217 7.03a.358.358 0 00.477.178l3.276-1.072a.596.596 0 00.12-.894l-4.647-6.315z",fill:"#872C39"}),(0,r.jsx)("path",{d:"M49.753 66.106l-5.42 1.787a.476.476 0 01-.537-.238L40.34 60.15c-.12-.239 0-.477.297-.596L46 57.766a.477.477 0 01.536.238l3.456 7.506a.414.414 0 01-.082.504.417.417 0 01-.157.092z",fill:"#BA4E5D"}),(0,r.jsx)("path",{d:"M51.48 62.949c2.026 1.012 4.826 2.68 4.826 2.68a3.575 3.575 0 011.668 2.8v.537a3.574 3.574 0 01-3.514 3.693c-.12.06-.239 0-.358 0a3.277 3.277 0 01-2.383-1.37 20.37 20.37 0 00-2.145-2.502c-.417-.417-1.548-1.073-1.906-1.43-1.191-1.31-.953-1.906 0-3.396s1.549-2.144 3.813-1.012z",fill:"#F57FB5"}),(0,r.jsx)("path",{
d:"M37.71 41.344c.518-.407.459-1.344-.131-2.094-.59-.75-1.488-1.028-2.005-.621-.517.407-.458 1.345.132 2.094.59.75 1.488 1.028 2.005.621zM47.629 38.217c.16-.87-.207-1.668-.82-1.78-.613-.113-1.239.502-1.399 1.372-.16.871.207 1.668.82 1.78.613.113 1.239-.502 1.399-1.372z",fill:"#1E1C2B"}),(0,r.jsx)("path",{d:"M40.757 43.468l1.55 1.013a2.025 2.025 0 002.918-.834l.477-1.013",stroke:"#BA4173",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M22.051 43.647c-1.43-.358-3.157-.834-3.872-.894a6.554 6.554 0 002.502 1.787l-.239.239 3.694-.18c1.31-.178.775-.297-2.085-.952z",fill:"#F071AB"}),(0,r.jsx)("path",{d:"M20.676 36.013c.937-1.015 1.383-2.128.996-2.485-.387-.357-1.46.177-2.397 1.192-.937 1.016-1.383 2.129-.996 2.486.387.356 1.46-.177 2.397-1.193z",fill:"#FFA1BD"}),(0,r.jsx)("path",{d:"M20.443 67.357l3.276-1.37c.655-.238.06-.477-1.43-1.132-1.489-.655-1.787-.894-1.906.417-.12 1.31-.596 2.323.06 2.085z",fill:"#FAD596"}),(0,r.jsx)("path",{
d:"M28.544 66.642c.656-3.336.596-4.23.834-4.289.239-.06.834.775 1.311 1.787.477 1.013-2.145 2.502-2.145 2.502z",fill:"#172E5C"}),(0,r.jsx)("path",{d:"M57.974 68.43a3.573 3.573 0 00-1.668-2.8s-2.264-1.37-4.17-2.324a12.57 12.57 0 00-2.74 3.575 3.756 3.756 0 00-.477 1.37l.715.536a26.082 26.082 0 012.145 2.502 3.455 3.455 0 001.668 1.251c.805.23 1.663.188 2.442-.119a3.635 3.635 0 002.085-3.574v-.417z",fill:"#F073AB"}),(0,r.jsx)("path",{d:"M47.65 61.933l-2.874-1.446-1.53 3.045 2.873 1.445 1.531-3.044z",fill:"#AD3B4B"}),(0,r.jsx)("path",{d:"M12.4 53.476a2.204 2.204 0 100-4.408 2.204 2.204 0 000 4.408z",fill:"#6E2B17"})]}),(0,r.jsxs)("g",{opacity:.5,fill:"#4F5660",children:[(0,r.jsx)("circle",{cx:82,cy:36,r:2}),(0,r.jsx)("circle",{cx:90,cy:36,r:2}),(0,r.jsx)("circle",{cx:98,cy:36,r:2})]}),(0,r.jsx)("g",{clipPath:"url(#prefix__clip1_1283_59574)",fill:"#4F5660",children:(0,r.jsx)("path",{
d:"M121.04 25.2l-8.16.12c-.48 0-.72.72-.36 1.08l1.56 1.44c.48.48.48 1.2 0 1.68l-1.68 1.8c-1.32 1.44-1.32 3.72.12 5.04.48.48 1.2.48 1.68 0l2.52-2.64c.96-.96 2.4-.96 3.36 0l.72.6c.36.36 1.08.12.96-.48l-.12-8.04c0-.36-.24-.6-.6-.6zM110.72 47.4l8.16-.12c.48 0 .84-.72.36-1.08l-1.56-1.44a1.16 1.16 0 010-1.68l1.68-1.68c1.44-1.44 1.32-3.72-.12-5.04a1.16 1.16 0 00-1.68 0L115.04 39c-.96.96-2.4.96-3.36 0l-.72-.72c-.36-.36-.96-.12-.96.48l.12 8.04c0 .36.36.6.6.6z"})}),(0,r.jsxs)("g",{opacity:.5,fill:"#4F5660",children:[(0,r.jsx)("circle",{cx:134,cy:36,r:2}),(0,r.jsx)("circle",{cx:142,cy:36,r:2}),(0,r.jsx)("circle",{cx:150,cy:36,r:2})]}),(0,r.jsxs)("g",{clipPath:"url(#prefix__clip2_1283_59574)",children:[(0,r.jsx)("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint1_linear_1283_59574)"}),(0,r.jsx)("path",{d:"M197.886 21.806c1.902-7.234 2.816-8.517 7.188.815l-7.188-.815z",fill:"#D4E1FF"}),(0,r.jsx)("path",{
d:"M246.129 126.042c-5.929 2.098-21.615-.692-23.097-4.568-1.482-3.876 12.845-54.809 17.637-57.13 4.793-2.32 18.897 2.05 22.627 15.9 3.73 13.85-3.902 14.789-3.902 14.789s2.371 20.244 2.717 22.417c.346 2.173 1.556 5.95-2.717 6.419-4.274.469-7.115 0-13.265 2.173z",fill:"#4D90E8"}),(0,r.jsx)("path",{d:"M179.878 37.261l-.173.149c2.618 2.469 6.596 8.813 12.647 8.493 0 0 4.891 8.937 10.153 7.95 5.262-.988 9.164-8.395 9.164-8.395a27.582 27.582 0 002.989-8.197c-.074-.666-.321-1.185-.79-1.506-3.755-2.493-31.248-.493-33.99 1.506z",fill:"#1C1B29"}),(0,r.jsx)("path",{d:"M187.857 18.942l5.508 1.481a12.878 12.878 0 015.188-1.036c8.398 0 12.869 6.814 12.869 15.183 0 8.37-4.471 15.184-12.869 15.184-8.399 0-12.845-6.814-12.845-15.184a21.9 21.9 0 01.296-3.679c.569-3.21.418-6.508-.445-9.653a1.879 1.879 0 012.298-2.296z",fill:"#B3CAFF"}),(0,r.jsx)("path",{
d:"M211.126 38.2c-4.076 1.802-8.275-.1-12.326-2.42-4.422-2.543-7.263-8.987-8.473-11.036-1.21-2.05-2.94-2.444-4.125-5.431a1.852 1.852 0 00-.642 1.925 21.983 21.983 0 01.444 9.654 21.9 21.9 0 00-.296 3.678c0 8.37 4.471 15.184 12.845 15.184 7.139 0 11.437-4.938 12.573-11.555z",fill:"#8DAEF7"}),(0,r.jsx)("path",{d:"M210.385 35.705c0 6.518-3.878 11.802-8.646 11.802-4.767 0-8.621-5.284-8.621-11.802 0-10.764 6.694-1.95 11.462-1.95 4.767 0 5.928-7.283 5.805 1.95z",fill:"#FCFDFF"}),(0,r.jsx)("path",{d:"M201.882 41.99c.463-.039.785-.687.722-1.448-.064-.761-.491-1.346-.953-1.308-.462.04-.785.688-.721 1.448.064.761.49 1.347.952 1.308zM207.557 40.729c.138-.751-.12-1.428-.577-1.511-.456-.084-.938.457-1.076 1.208-.137.75.121 1.427.577 1.511.456.084.938-.457 1.076-1.208z",fill:"#1C1B29"}),(0,r.jsx)("path",{d:"M194.007 60.84s-5.755 4.369-11.288 2.073a.914.914 0 01-.544-1.086c.519-1.68 2.495-5.654 9.584-5.259 9.017.518 2.248 4.271 2.248 4.271z",fill:"#A62D69"}),(0,r.jsx)("path",{
d:"M192.352 53.21s-1.778-4.444-9.312-3.26a.868.868 0 00-.685.545.855.855 0 00.141.863 20.874 20.874 0 0011.091 6.617c8.004 1.728-1.235-4.765-1.235-4.765z",fill:"#A62D69"}),(0,r.jsx)("path",{d:"M193.785 57.728c-.321 3.16-5.41 3.284-6.052-.69-.642-3.976 2.297-4.593 4.397-3.284 2.1 1.308 1.655 3.974 1.655 3.974z",fill:"#79A0F7"}),(0,r.jsx)("path",{d:"M214.658 37.261z",fill:"#DE548C"}),(0,r.jsx)("path",{
d:"M226.639 116.734c-3.508.741-14.006-9.258-14.006-9.258 2.89 9.085 3.384 11.801 3.878 14.146.494 2.346.197 2.815 0 4.469-.198 1.654-.198 1.605.79 3.679.988 2.073 1.631 3.53 1.828 4.592a5.839 5.839 0 01-.074 1.851h-44.142s-.223-.987.716-3.728c.939-2.74 3.088-5.011 4.273-6.74 1.186-1.728 1.112-1.555.791-2.271-1.482-3.506.914-2.74 1.927-7.999 1.012-5.259 1.334-30.343 3.581-40.588 2.248-10.246 5.682-12.666 5.929-21.134-4.175-3.9-14.525-14.048-12.425-16.344 2.371 2.222 9.485 3.309 15.29 3.26a2.42 2.42 0 012.322 1.629c.988 2.987 3.483 8.888 7.411 8.122 3.928-.765 6.842-7.777 7.658-10.32a2.54 2.54 0 011.012-1.358 4.324 4.324 0 001.26-1.48c.544 4.863-7.534 17.75-7.534 17.75s2.001 17.48 6.003 23.232c4.001 5.753 15.241 5.753 15.512 11.234.272 5.48 1.483 26.515-2 27.256z",fill:"#BD4070"}),(0,r.jsx)("path",{
d:"M192.698 42.742c-2.915-.173-6.842-.667-13.141-3.802 1.012 3.678 9.041 11.48 12.573 14.813a24.5 24.5 0 01-1.408 7.703c3.186 4.518 7.04 1.58 7.732 14.27.296 5.407 4.273 12.591 8.423 20.368 4.15 7.777 4.718-6.518 4.545-13.554-.099-3.827-.864-8.567-1.68-13.085-1.753-6.839-2.618-14.443-2.618-14.443s5.657-9.036 7.188-14.813c-.386.24-.688.594-.864 1.012a106.604 106.604 0 01-5.138 10.098c-1.952 3.284-5.583 4.913-9.758-1.555-4.174-6.469-2.717-6.814-5.854-7.012z",fill:"#A12C66"}),(0,r.jsx)("path",{d:"M209.298 82.837c-1.087-.223-2.248-1.605-6.151-4.222 0 0-.173-3.308-4.693-2.889 0 0-1.828-4.74-3.335-8.986-1.507-4.247-5.434-1.852-6.25 2.468-1.827 9.826-2.47 28.022.742 34.515 1.877 3.802 3.705 4.592 10.547 6.543 1.482.716 4.743-4.716 6.373-13.382 2.174-11.53 2.767-12.196 2.767-14.047z",fill:"#BD4070"}),(0,r.jsx)("path",{d:"M205.984 24.434c.285-.416-.442-1.41-1.624-2.218-1.182-.809-2.371-1.127-2.656-.71-.285.415.442 1.409 1.624 2.217 1.182.81 2.371 1.128 2.656.711z",fill:"#D4E1FF"}),(0,
r.jsx)("path",{d:"M194.526 30.645c4.348 2.098 5.855 4.765 9.338 4.666 3.483-.099 4.841-1.778 6.249-4.024-.568-1.235-2.124 2.468-5.533 2.468-3.409 0-7.855-4.567-10.054-3.11z",fill:"#8DAEF7"}),(0,r.jsx)("path",{d:"M196.774 67.233c2.495 3.506-.864-7.036-.864-7.036h-4.768c-.642 2.197-1.531 4.172-2.47 6.567 1.433-3.605 4.471-4.592 8.102.469z",fill:"#A12C66"}),(0,r.jsx)("path",{d:"M224.959 53.136l1.853-.815c.049-.024.049-.074 0-.074l-1.853-.84h-.025l-.839-1.85c0-.05-.05-.05-.075 0l-.815 1.85h-.024l-1.878.84c-.025 0-.025.05 0 .074l1.878.815h.024l.815 1.876h.075l.839-1.876h.025z",fill:"#A1F7D7"})]}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("clipPath",{id:"prefix__clip0_1283_59574",children:(0,r.jsx)("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"#fff"})}),(0,r.jsx)("clipPath",{id:"prefix__clip1_1283_59574",children:(0,r.jsx)("path",{fill:"#fff",transform:"translate(110 25.2)",d:"M0 0h11.76v22.2H0z"})}),(0,r.jsx)("clipPath",{id:"prefix__clip2_1283_59574",children:(0,r.jsx)("rect",{x:168,y:8,
width:56,height:56,rx:28,fill:"#fff"})}),(0,r.jsxs)("linearGradient",{id:"prefix__paint0_linear_1283_59574",x1:36,y1:64.254,x2:36,y2:24.141,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#7196FF"}),(0,r.jsx)("stop",{offset:1,stopColor:"#2A5EE8"})]}),(0,r.jsxs)("linearGradient",{id:"prefix__paint1_linear_1283_59574",x1:196,y1:64.254,x2:196,y2:24.141,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#7196FF"}),(0,r.jsx)("stop",{offset:1,stopColor:"#2A5EE8"})]})]})]}))}var gte=n(342983),Ote=n.n(gte);function vte(e){Ne.Z.set(_E.Ip,"true");null==e||e()}function _te(e){var t=e.markAsDismissed;o.useEffect((function(){var e=function(e){e.keyCode===M.yXg.ESCAPE&&vte(t)};window.addEventListener("keydown",e);return function(){window.removeEventListener("keydown",e)}}),[t]);o.useEffect((function(){return function(){vte()}}),[]);return(0,r.jsxs)("div",{className:Ote().container,children:[(0,r.jsx)(bte,{className:Ote().icon}),(0,r.jsx)(q.xv,{
className:Ote().title,variant:"text-sm/normal",children:te.Z.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_TOOLTIP_TITLE}),(0,r.jsx)(q.xv,{variant:"text-sm/normal",className:Ote().subTitle,children:te.Z.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_SUBTITLE.format({maxAltAccounts:_E.$H-1})}),(0,r.jsx)(Q.Co,{look:Q.Co.Looks.INVERTED,fullWidth:!0,onClick:function(){return vte(t)},children:te.Z.Messages.GOT_IT}),(0,r.jsx)("div",{className:Ote().pointer})]})}var Ste=function(){var e=tee.useExperiment({},{autoTrackExposure:!0}).enabled,t=(0,DT.ZP)([Y.default],(function(){return Y.default.getCurrentUser()})),n=(0,DT.ZP)([hn.Z],(function(){return Object.values(hn.Z.getMemberCounts()).some((function(e){return e>=200}))}));return e&&!(0,gq.EO)(t)&&n},Ite=n(140776),Tte=n.n(Ite);const Nte=function(e){var t=e.markAsDismissed,n=(0,DT.ZP)([E.Z],(function(){return E.Z.useReducedMotion}));return Ste()?(0,r.jsx)(QZ.ZP,{asset:(0,r.jsx)(rL.Z,{className:Tte().video,
src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195117439557712/Safety_BLOCK_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:te.Z.Messages.SAFETY_CONSUMER_EDUCATION_BLOCK_HEADER,content:te.Z.Messages.SAFETY_CONSUMER_EDUCATION_BLOCK_CONTENT,buttonCTA:te.Z.Messages.GOT_IT,className:Tte().coachmark,onClick:function(e){e.stopPropagation();t()},markAsDismissed:t,caretPosition:QZ.DF.BOTTOM_CENTER,headerClassName:Tte().header}):null};var Cte=n(92148),Ate=n.n(Cte);const Pte=function(e){var t=e.markAsDismissed,n=(0,DT.ZP)([E.Z],(function(){return E.Z.useReducedMotion}));return Ste()?(0,r.jsx)(QZ.ZP,{asset:(0,r.jsx)(rL.Z,{className:Ate().video,src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195118026772480/Safety_MUTE_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:te.Z.Messages.SAFETY_CONSUMER_EDUCATION_MUTE_HEADER,content:te.Z.Messages.SAFETY_CONSUMER_EDUCATION_MUTE_CONTENT,buttonCTA:te.Z.Messages.GOT_IT,className:Ate().coachmark,
onClick:function(e){e.stopPropagation();t()},markAsDismissed:t,caretPosition:QZ.DF.BOTTOM_CENTER,headerClassName:Ate().header}):null};var jte;!function(e){e[e.VIEW=0]="VIEW";e[e.DISMISS=1]="DISMISS";e[e.CHANGE_SETTING=2]="CHANGE_SETTING"}(jte||(jte={}));var Rte=n(162167),xte=n.n(Rte),Mte=n(660588),wte=n.n(Mte);const Zte=function(e){var t=e.markAsDismissed;o.useEffect((function(){Ce.default.track(M.rMx.DM_SAFETY_COACHMARK_ACTION,{action:jte.VIEW})}),[]);return(0,r.jsx)(QZ.ZP,{asset:(0,r.jsx)("img",{src:wte(),alt:te.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_ASSET_ALT,className:xte().art}),header:te.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_HEADER,content:te.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_CONTENT,buttonCTA:te.Z.Messages.GOT_IT,secondaryButtonCTA:te.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_REDIRECT,className:xte().coachmark,onClick:function(e){e.stopPropagation();t();Ce.default.track(M.rMx.DM_SAFETY_COACHMARK_ACTION,{action:jte.DISMISS})},
onSecondaryClick:function(){(0,X.uL)(M.Z5c.SETTINGS("privacy-and-safety"));Ce.default.track(M.rMx.DM_SAFETY_COACHMARK_ACTION,{action:jte.CHANGE_SETTING})},markAsDismissed:t,caretPosition:QZ.DF.BOTTOM_CENTER,headerClassName:xte().header})};const Lte=function(e){return(0,s.cj)([j.Z,qe.Z,nr.default],(function(){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.Z,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe.Z,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nr.default,i=null!=e?n.getVoiceState(e.getGuildId(),o.getId()):null;return{selfDeaf:r.isSelfDeaf(),deaf:null!==(t=null==i?void 0:i.deaf)&&void 0!==t&&t}}(e,j.Z,qe.Z,nr.default)}))};var Dte=n(899881),Ute=n(762441),kte=n(221713),Gte=n(73393),Bte=n(353967),Hte=n(217039),Vte=n(993167),Fte=n(433415),Yte=n(230365),Wte=n(430542),zte=n(552572),Kte=n(726283),qte=n(129609),Xte=n.n(qte);function Qte(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $te(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Jte(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$te(i,r,o,a,s,"next",e)}function s(e){$te(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ene(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function nne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rne(e){rne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return rne(e)}function one(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){nne(e,t,n[t])}))}return e}function ine(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ane(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function sne(e,t){return!t||"object"!==lne(t)&&"function"!=typeof t?Qte(e):t}function cne(e,t){cne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return cne(e,t)}var lne=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function une(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=rne(e);if(t){var o=rne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sne(this,n)}}var fne=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),
throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},dne=vs.default.getEnableHardwareAcceleration()?cg.Xo:cg.ZP
;var pne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&cne(e,t)}(o,e);var t=une(o);function o(){ene(this,o);var e;(e=t.apply(this,arguments)).copiedTimeout=new Ru.V7;e.copiedDecayTimeout=new Ru.V7;e.speakingWhileMutedTooltipTimeout=new Ru.V7;e.state={hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1};e.handleToggleSelfMute=function(){var t=e.props,n=t.serverMute,r=t.suppress;(0,fee.Z)(n,r)};e.handleToggleSelfDeaf=function(){uee(e.props.serverDeaf)};e.handleOpenAccountSettings=function(){e.handleOpenSettings()};e.handleOpenSettings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.oAB.ACCOUNT,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;h.Z.open(e,t,n)}
;e.handleOpenSettingsContextMenu=function(t){var o=e.props.currentUser;if(null!=o){var i=Qte(e);(0,fb.jW)(t,Jte((function(){var e,t;return fne(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(93864)]).then(n.bind(n,793864))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ine(one({},e),{user:o,premiumSubscription:i.props.premiumSubscription,webBuildOverride:i.props.webBuildOverride}))}]}}))})))}};e.handleInputAudioContextMenu=function(e){(0,fb.jW)(e,Jte((function(){var e,t;return fne(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,14395))];case 1:e=o.sent(),t=e.default;return[2,function(){return(0,r.jsx)(t,{onClose:fb.Zy,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0})}]}}))})))};e.handleOutputAudioContextMenu=function(e){(0,fb.jW)(e,Jte((function(){var e,t;return fne(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,14395))];case 1:e=o.sent(),t=e.default
;return[2,function(){return(0,r.jsx)(t,{onClose:fb.Zy,renderOutputDevices:!0,renderOutputVolume:!0})}]}}))})))};e.handleMouseEnter=function(){e.setState({hovered:!0})};e.handleMouseLeave=function(){e.setState({hovered:!1})};e.handleMouseEnterMute=function(){e.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1});e.speakingWhileMutedTooltipTimeout.stop()};e.handleMouseLeaveMute=function(){e.setState({hoveringOnMute:!1})};e.handleCopyTag=function(){var t=e.props.currentUser,n=e.state,r=n.shouldShowNametagTooltip,o=n.copiedStreak;if(null!=t){(0,Kte.JG)(t.tag);Ce.default.track(M.rMx.TEXT_COPIED,{type:"User Tag"});var i={shouldShowCopiedFeedback:!0,shouldShowNametagTooltip:!0};r||(i.copiedStreak=o+1);e.setState(i,(function(){e.copiedTimeout.start(1e3,(function(){return e.setState({shouldShowNametagTooltip:!1})}));e.copiedDecayTimeout.start(2e3,(function(){return e.setState({copiedStreak:0})}))}))}};e.handleOccludedChanged=function(){e.props.occluded&&e.setState({
shouldShowNametagTooltip:!1,shouldShowSpeakingWhileMutedTooltip:!1})};e.handleSpeakingWhileMutedChanged=function(){var t=e.props,n=t.selfMute,r=t.serverMute,o=t.suppress,i=t.speakingWhileMuted,a=t.occluded,s=e.state.hoveringOnMute;if(i)s||!n||r||o||a||e.setState({shouldShowSpeakingWhileMutedTooltip:!0},(function(){e.speakingWhileMutedTooltipTimeout.start(2e3,(function(){return e.setState({shouldShowSpeakingWhileMutedTooltip:!1})}))}));else{e.setState({shouldShowSpeakingWhileMutedTooltip:!1});e.speakingWhileMutedTooltipTimeout.stop()}};e.renderStatusPickerPopout=function(t){var n=t.closePopout,o=e.props,i=o.showRichProfilePopup,a=o.currentUser;if(i){var s={userId:null==a?void 0:a.id,user:a,onClose:function(){e.handleMouseLeave();null==n||n()}};return(0,r.jsx)("div",{className:Xte().accountProfilePopoutWrapper,children:(0,r.jsx)(Ete,one({},s))})}return(0,r.jsx)(eee,{onClose:function(){e.handleMouseLeave();null==n||n()}})};e.renderSettingsGear=function(){var t=e.props.webBuildOverride
;return(0,r.jsx)(Yte.Z,{tooltipText:null!=t?te.Z.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:t.id}):te.Z.Messages.USER_SETTINGS,onClick:e.handleOpenAccountSettings,onContextMenu:e.handleOpenSettingsContextMenu,innerClassName:null!=t?Xte().buildOverrideButton:null,icon:Gte.Z,children:null!=t?(0,r.jsx)(Hte.Z,{width:9,height:9,className:Xte().hasBuildOverride,"aria-hidden":!0}):null})};return e}var i=o.prototype;i.componentDidUpdate=function(e){var t=e.speakingWhileMuted,n=e.occluded,r=this.props,o=r.speakingWhileMuted;r.occluded!==n&&this.handleOccludedChanged();o!==t&&this.handleSpeakingWhileMutedChanged()};i.componentWillUnmount=function(){this.copiedTimeout.stop();this.copiedDecayTimeout.stop();this.speakingWhileMutedTooltipTimeout.stop()};i.renderCopiedSuccess=function(){
var e=this.state.copiedStreak,t=[te.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_1,te.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_2,te.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_3,te.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_4,te.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_5,te.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_6,te.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_7,te.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_8,te.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_9,te.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_10,te.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_11],n=Math.min(Math.max(0,e-1),t.length-1);return(0,r.jsx)(Ute.Z,{isShaking:this.isCopiedStreakGodlike,children:t[n]})};i.renderNameTag=function(){var e=this.props,t=e.customStatusActivity,n=e.hidePrivateData,o=e.currentUser,i=this.state.hovered;if(null==o)return null;var a=n?null:"#".concat(o.discriminator),s=null!=t?(0,r.jsx)(x4.Z,{hoverText:a,forceHover:i,children:(0,r.jsx)(b9.Z,{activity:t,emojiClassName:Xte().emoji,className:Xte().customStatus})}):a
;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.xv,{className:Xte().usernameContainer,variant:"text-sm/normal",children:(0,r.jsx)(zte.Z,{children:o.username})}),null!=s?(0,r.jsx)(Wte.Z,{className:Xte().discriminator,children:s}):null]})};i.renderCopiableNameTag=function(){var e=this,t=this.props.currentUser,n=this.state,o=n.shouldShowNametagTooltip,i=n.shouldShowCopiedFeedback;if(null==t)return null;var a=null,s=Kb.FG.PRIMARY;if(Kte.wS){a=te.Z.Messages.ACCOUNT_CLICK_TO_COPY;if(i){a=this.renderCopiedSuccess();s=this.isCopiedStreakGodlike?Kb.FG.RED:Kb.FG.GREEN}}return(0,r.jsx)(Kb.ZP,{text:a,forceOpen:o,"aria-label":!!Kte.wS&&te.Z.Messages.ACCOUNT_CLICK_TO_COPY,color:s,delay:500,onAnimationRest:function(t,n){i&&!o&&n.phase===M.UkZ.LEAVE&&e.setState({shouldShowCopiedFeedback:!1})},children:function(t){var n=t.onClick,o=t.onMouseEnter,a=ane(t,["onClick","onMouseEnter"]);return(0,r.jsx)(q.P3,ine(one({},a),{onMouseEnter:function(){if(i){e.copiedTimeout.stop();e.setState({
shouldShowNametagTooltip:!1},o)}else null==o||o()},onClick:function(){null==n||n();e.handleCopyTag()},className:Xp()(Xte().nameTag,nne({},Xte().canCopy,Kte.wS)),children:e.renderNameTag()}))}})};i.renderAvatarWithPopout=function(){var e=this,t=this.props,n=t.speaking,o=t.streaming,i=t.currentUser,a=t.status,s=t.showTagAsButton,c=t.showTaglessAccountPanel,l=t.canUseAvatarDecorations;if(null==i)return null;var u=l?(0,qs.NZ)({userId:i.id,avatarDecoration:i.avatarDecoration,size:(0,wj.y)(cg.u8.SIZE_32)}):null;return(0,r.jsx)(UV.Z,{object:M.qAy.AVATAR,children:(0,r.jsx)(jg.ZP,{renderPopout:this.renderStatusPickerPopout,position:jg.ZP.Positions.TOP,align:jg.ZP.Align.LEFT,animation:jg.ZP.Animation.FADE,spacing:14,fixed:!0,preload:function(){return(0,Lj.Z)(i.id,null==i?void 0:i.getAvatarURL(null,80))},children:function(t,l){var f;return(0,r.jsxs)(q.P3,ine(one({},t),{"aria-label":te.Z.Messages.SET_STATUS,className:Xp()(Xte().avatarWrapper,(f={},nne(f,Xte().withTagAsButton,s),
nne(f,Xte().withTagless,c),f)),children:[(0,r.jsx)(dne,{size:cg.u8.SIZE_32,src:i.getAvatarURL(void 0,32,!1),avatarDecoration:u,"aria-label":i.username,status:o?M.Skl.STREAMING:a,isSpeaking:n,className:Xte().avatar}),s||c?(0,r.jsx)("div",{className:Xp()(Xte().nameTag,nne({},Xte().canCopy,Kte.wS)),children:c?(0,r.jsx)(Yte.Z,{tooltipText:null,icon:l.isShown?kte.Z:_X.Z,role:"switch","aria-label":te.Z.Messages.SET_STATUS}):e.renderNameTag()}):null]}))}})})};i.renderNameZone=function(){var e=this,t=this.props,n=t.currentUser,o=t.dismissibleContents,i=this.props,a=i.showTagAsButton,s=i.showTaglessAccountPanel;return null==n?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ZT.Z,{contentTypes:o.avatar,children:function(t){var n=t.visibleContent,o=t.markAsDismissed;return n===dn.z$.ACCOUNT_MULTIACCOUNT_TOOLTIP?(0,r.jsx)(jg.ZP,{position:jg.ZP.Positions.TOP,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(_te,{markAsDismissed:o})},children:function(){return e.renderAvatarWithPopout()}
}):e.renderAvatarWithPopout()}}),a||s?null:this.renderCopiableNameTag()]})};i.render=function(){var e=this,t=this.props,n=t.currentUser,o=t.selfDeaf,i=t.selfMute,a=t.awaitingRemote,s=t.serverMute,c=t.serverDeaf,l=t.suppress,u=t.dismissibleContents,f=this.state.shouldShowSpeakingWhileMutedTooltip;if(null==n)return null;var d=i||l||s,p=o||c;return(0,r.jsxs)("div",{className:Xte().container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[this.renderNameZone(),(0,r.jsxs)(Qp.Z,{grow:0,children:[(0,r.jsx)(Yte.Z,{tooltipText:f?te.Z.Messages.ACCOUNT_SPEAKING_WHILE_MUTED:(0,see.Z)(i,s,l,a),tooltipColor:f?Kb.FG.GREEN:void 0,tooltipForceOpen:f||void 0,onMouseEnter:this.handleMouseEnterMute,onMouseLeave:this.handleMouseLeaveMute,icon:d?Fte.Z:Vte.Z,iconForeground:d?Xte().strikethrough:null,onClick:this.handleToggleSelfMute,innerClassName:Xp()(nne({},Xte().redIcon,s||l)),onContextMenu:this.handleInputAudioContextMenu,role:"switch","aria-label":te.Z.Messages.MUTE,
"aria-checked":d,disabled:a}),(0,r.jsx)(Yte.Z,{tooltipText:aee(o,c,a),icon:o?Bte.Z:JD.Z,onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,innerClassName:Xp()(nne({},Xte().redIcon,c)),iconForeground:p?Xte().strikethrough:null,role:"switch","aria-label":te.Z.Messages.DEAFEN,"aria-checked":p,disabled:a}),(0,r.jsx)(ZT.Z,{contentTypes:u.settings,children:function(t){var n=t.visibleContent,o=t.markAsDismissed;switch(n){case dn.z$.DROPS_ELIGIBILITY_ENROLLMENT_TOOLTIP_HALO:return(0,r.jsx)(jg.ZP,{position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(vee,{markAsDismissed:o,partnerGame:JQ.X2.HALO})},children:e.renderSettingsGear});case dn.z$.DROPS_QUEST_COMPLETION_TOOLTIP_HALO:return(0,r.jsx)(jg.ZP,{position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(Tee,{markAsDismissed:o,partnerGame:JQ.X2.HALO})},children:e.renderSettingsGear});case dn.z$.CONNECTIONS_NUX:
return(0,r.jsx)(jg.ZP,{position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(hee,{markAsDismissed:o})},children:e.renderSettingsGear});case dn.z$.CHURRO_LINK_UPSELL:return(0,r.jsx)(jg.ZP,{position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(Dee,{markAsDismissed:o})},children:e.renderSettingsGear});case dn.z$.USER_SAFETY_SAFE_DIRECT_MESSAGING:return(0,r.jsx)(jg.ZP,{position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(Zte,{markAsDismissed:o})},children:e.renderSettingsGear});case dn.z$.USER_SAFETY_CONSUMER_EDUCATION_BLOCK:return(0,r.jsx)(jg.ZP,{position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(Nte,{markAsDismissed:o})},children:e.renderSettingsGear});case dn.z$.USER_SAFETY_CONSUMER_EDUCATION_MUTE:return(0,r.jsx)(jg.ZP,{position:jg.ZP.Positions.TOP,
align:jg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(Pte,{markAsDismissed:o})},children:e.renderSettingsGear});default:return e.renderSettingsGear()}}})]})]})};!function(e,t,n){t&&tne(e.prototype,t);n&&tne(e,n)}(o,[{key:"isCopiedStreakGodlike",get:function(){return this.state.copiedStreak>=10}}]);return o}(o.PureComponent);function hne(){var e=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),t=(0,$Q._g)(JQ.X2.HALO),n=(0,s.e7)([nr.default],(function(){return nr.default.getId()})),i=ft.Ok.useSetting(),a=o.useMemo((function(){return null!=i?(0,Eee.Z)(i):null}),[i]),c=(0,s.cj)([Ou.Z],(function(){return{streaming:null!=Ou.Z.findActivity((function(e){return e.type===M.IIU.STREAMING})),status:Ou.Z.getStatus()}})),l=c.streaming,u=c.status,f=(0,ree.Z)({userId:n}),d=(0,s.e7)([Br.Z],(function(){return Br.Z.hidePersonalInformation})),p=(0,s.e7)([C.Z,I.Z],(function(){var e=C.Z.getChannelId();return null!=e?I.Z.getChannel(e):null})),h=(0,
Dte.Z)(p),E=h.mute,y=h.selfMute,m=h.suppress,b=Lte(p),g=b.selfDeaf,O=b.deaf,v=(0,s.e7)([oee.C],(function(){var e;return(0,iee.fD)()?null===(e=oee.C.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null})),_=(0,s.e7)([Xi.Z],(function(){return Xi.Z.getPremiumTypeSubscription()})),S=(0,s.e7)([qe.Z],(function(){return qe.Z.getEverSpeakingWhileMuted()})),N=(0,s.e7)([T.Z],(function(){return T.Z.hasLayers()})),A=(0,W.s9)(W.JQ)||N||Ji.s.isDisallowPopupsSet(),P=(0,Mj.U)(!0).canUseAvatarDecorations;o.useEffect((function(){kee.trackExposure({})}));var j=(0,s.e7)([Yy.Z],(function(){return null!=Yy.Z.getAwaitingRemoteSessionInfo()})),R=kee.useExperiment({}),x=R.isPopupEnabled,w=R.isJoinedTagButtonEnabled,Z=R.isTaglessAccountPanelEnabled,L=(0,s.e7)([yee.Z],(function(){return yee.Z.isCurrentQuestCompleted})),D=(0,s.e7)([yee.Z],(function(){return yee.Z.currentDropQuestGameTitle})),U=(0,Uee.n)(),k=(0,nee.n)(),G=Ste(),B=tee.useExperiment({}).bucket,H=function(){
var e=Nee.YL.useExperiment({}).allowChurroUpsells,t=Aee((0,s.Wu)([cW.Z],(function(){var e;return[!0===(null===(e=cW.Z.getAccount(null,M.ABu.PLAYSTATION))||void 0===e?void 0:e.twoWayLink),cW.Z.isFetching()]})),2),n=t[0],r=t[1];return e&&!r&&!n}(),V={avatar:[],settings:[]};if(!A){null==Ne.Z.get(_E.Ip)&&V.avatar.push(dn.z$.ACCOUNT_MULTIACCOUNT_TOOLTIP);if(t){V.settings.push(dn.z$.DROPS_ELIGIBILITY_ENROLLMENT_TOOLTIP_HALO);L&&D===JQ.Zv[JQ.X2.HALO].title&&V.settings.push(dn.z$.DROPS_QUEST_COMPLETION_TOOLTIP_HALO)}V.settings.push(dn.z$.CONNECTIONS_NUX);H&&V.settings.push(dn.z$.CHURRO_LINK_UPSELL);U&&k&&V.settings.push(dn.z$.USER_SAFETY_SAFE_DIRECT_MESSAGING);G&&(1===B?V.settings.push(dn.z$.USER_SAFETY_CONSUMER_EDUCATION_MUTE):V.settings.push(dn.z$.USER_SAFETY_CONSUMER_EDUCATION_BLOCK))}return(0,r.jsx)(pne,{currentUser:e,customStatusActivity:a,dismissibleContents:V,hidePrivateData:d,occluded:A,premiumSubscription:_,selfDeaf:g,selfMute:y,serverDeaf:O,serverMute:E,showRichProfilePopup:x,
showTagAsButton:w,showTaglessAccountPanel:Z,speaking:f,speakingWhileMuted:S,status:u,streaming:l,suppress:m,webBuildOverride:v,awaitingRemote:j,canUseAvatarDecorations:P})}var Ene=n(296771),yne=n(827955),mne=n.n(yne);function bne(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function gne(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bne(i,r,o,a,s,"next",e)}function s(e){bne(i,r,o,a,s,"throw",e)}a(void 0)}))}}function One(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _ne(e){_ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _ne(e)}function Sne(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ine(e,t){return!t||"object"!==Nne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tne(e,t){Tne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Tne(e,t)}var Nne=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Cne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_ne(e);if(t){var o=_ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ine(this,n)}}var Ane=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Pne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Tne(e,t)}(o,e);var t=Cne(o);function o(){One(this,o);return t.apply(this,arguments)}var i=o.prototype;i.handleContextMenu=function(e,t){(0,fb.jW)(e,gne((function(){var e,o;return Ane(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Sne(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vne(e,t,n[t])}))}return e}({},e),{user:t}))}]}}))})))};i.renderUser=function(e){var t=this;return null==e?null:(0,r.jsxs)(Qp.Z,{className:mne().user,align:Qp.Z.Align.CENTER,onContextMenu:function(n){null!=e&&t.handleContextMenu(n,e)},children:[(0,r.jsx)(cg.ZP,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:cg.ZP.Sizes.SIZE_24,className:mne().avatar}),(0,r.jsx)(_H.Z,{user:e,className:mne().tag,usernameClass:mne().username,discriminatorClass:mne().discriminator})]},e.id)};i.render=function(){var e=this,t=this.props,n=t.party,o=t.header,i=n.map((function(t){return e.renderUser(t)}));return(0,r.jsxs)("div",{className:mne().userList,children:[(0,r.jsx)("div",{className:mne().header,children:o
}),(0,r.jsx)(eE.ZP,{className:mne().content,fade:!0,children:i})]})};return o}(o.PureComponent);const jne=Pne;var Rne=n(283185),xne=n(11605),Mne=n(110854),wne=n.n(Mne);function Zne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Dne(e){Dne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Dne(e)}function Une(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Lne(e,t,n[t])}))}return e}function kne(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Gne(e,t){return!t||"object"!==Hne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bne(e,t){Bne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Bne(e,t)}var Hne=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Vne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=Dne(e);if(t){var o=Dne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gne(this,n)}}var Fne=5,Yne=4,Wne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Bne(e,t)}(n,e);var t=Vne(n);function n(){Zne(this,n);var e;(e=t.apply(this,arguments)).renderPartyMember=function(t,n){if(null==t)return null;var i,a=e.props,s=a.host,c=a.renderUserPopout,l=a.onUserContextMenu;i=(null==s?void 0:s.id)===t.id?te.Z.Messages.SPOTIFY_LISTEN_ALONG_HOST:te.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;return(0,r.jsx)(jg.ZP,{preload:function(){return(0,Lj.Z)(t.id,t.getAvatarURL(void 0,80))},renderPopout:function(e){Oh()(null!=t,"");return c(e,t)},position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,children:function(e){return(0,r.jsx)(Kb.ZP,{text:i,
children:function(r){var i=r.onMouseEnter,a=r.onMouseLeave;return(0,o.createElement)(cg.ZP,kne(Une({},e),{key:t.id,src:t.getAvatarURL(void 0,24),size:cg.ZP.Sizes.SIZE_24,className:Xp()(wne().avatar,n),"aria-label":t.username,onMouseEnter:i,onMouseLeave:a,onContextMenu:function(e){null!=t&&(null==l||l(e,t))}}))}})}},t.id)};e.renderPartyMemberOverflow=function(t,n,o){var i=e.props.renderOverflowPopout;return(0,r.jsx)(jg.ZP,{renderPopout:i,children:function(e){return(0,r.jsx)(Kb.ZP,{text:te.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS,children:function(o){return(0,r.jsx)("div",kne(Une({className:Xp()(wne().overflow,n)},o,e),{children:t}))}})}},o)};return e}var i=n.prototype;i.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===(null==n?void 0:n.id)};i.renderTitle=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(zte.Z,{children:this.isHost()?te.Z.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length
}):te.Z.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER}),(0,r.jsx)(Wte.Z,{children:te.Z.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER})]})};i.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:(0,r.jsx)(Yte.Z,{tooltipText:te.Z.Messages.SPOTIFY_LISTEN_ALONG_STOP,onClick:e,icon:Sb.Z})};i.renderHelpIcon=function(){if(!this.isHost())return null;return(0,r.jsx)(Yte.Z,{tooltipText:te.Z.Messages.SPOTIFY_LISTEN_ALONG_INFO,onClick:function(){window.open(ee.Z.getArticleURL(M.BhN.SPOTIFY_CONNECTION),"_blank")},icon:Hte.Z})};i.render=function(){return(0,r.jsxs)("div",{className:wne().listeningAlong,children:[this.renderTitle(),(0,r.jsx)(Qp.Z,{justify:Qp.Z.Justify.END,className:wne().party,children:(0,r.jsx)(xne.Z,{users:this.props.party,max:this.isHost()?Fne:Yne,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})}),(0,r.jsxs)("div",{className:wne().icons,children:[this.renderHelpIcon(),this.renderStopListeningButton()]})]
})};return n}(o.PureComponent);const zne=Wne;function Kne(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function qne(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Kne(i,r,o,a,s,"next",e)}function s(e){Kne(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Xne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $ne(e){$ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $ne(e)}function Jne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){Qne(e,t,n[t])}))}return e}function ere(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function tre(e,t){return!t||"object"!==rre(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nre(e,t){nre=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return nre(e,t)}var rre=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ore(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$ne(e);if(t){var o=$ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tre(this,n)}}var ire=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue
;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},are=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&nre(e,t)}(o,e);var t=ore(o);function o(){Xne(this,o);var e;(e=t.apply(this,arguments)).handleUserContextMenu=function(e,t){(0,fb.jW)(e,qne((function(){var e,o;return ire(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),o=e.default;return[2,function(e){
return(0,r.jsx)(o,ere(Jne({},e),{user:t}))}]}}))})))};e.renderOverflowPopout=function(){var t=e.props.party;return(0,r.jsx)(jne,{party:t,header:te.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:t.length})})};return e}var i=o.prototype;i.hasParty=function(e){return e.length>1};i.handleStopListening=function(){(0,Rne.Z)()};i.renderUserPopout=function(e,t){return(0,r.jsx)($D.Z,ere(Jne({},e),{userId:t.id}))};i.render=function(){var e=this.props,t=e.currentUser,n=e.host,o=e.party;return this.hasParty(o)&&null!=t?(0,r.jsx)(zne,{currentUser:t,host:n,party:o,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null};return o}(o.PureComponent);const sre=s.ZP.connectStores([DW.Z,Y.default,ps.Z,fF.Z],(function(){var e,t,n=DW.Z.getSyncingWith(),r=DW.Z.getActivity(),o=Y.default.getCurrentUser(),i=[];if(null!=n){e=Y.default.getUser(n.userId);t=n.partyId
}else if(null!=r&&null!=r.party&&null!=r.party.id){e=o;t=r.party.id}if(null!=t){var a;i=ss()(Array.from(null!==(a=fF.Z.getParty(t))&&void 0!==a?a:[])).map((function(e){return Y.default.getUser(e)})).filter(No.lm).orderBy([function(t){return null==e||e.id===t.id},function(e){return ps.Z.isFriend(e.id)}],["desc","desc"]).value()}return{currentUser:o,host:e,party:i}}))(are);var cre,lre,ure=n(8062),fre=n(433411),dre=n(630164),pre=[(cre="Watch Together",lre="2021-09_watch_together_rollout",(0,WR.B)({kind:"guild",id:lre,label:"Exposure tracking for ".concat(cre," (do not override)"),defaultConfig:{},treatments:[]}))];var hre=n(627599),Ere=n(416866),yre=n(228260),mre=n(90151),bre=n(841522),gre=n(781479),Ore=n(57199),vre=n(894411),_re=n(259849),Sre=n(422916),Ire=n.n(Sre);function Tre(e){var t=e.platform;return t===_re.YE.XBOX?(0,r.jsx)(EY.Z,{className:Ire().icon}):t===_re.YE.PLAYSTATION?(0,r.jsx)(Ore.Z,{className:Ire().icon}):null}function Nre(e){
var t,n=e.voiceState,o=e.awaitingRemoteSessionInfo,i=null!=o?(0,vre.y)(o.type):null,a=(0,s.e7)([Cd.Z],(function(){var e;return null===(e=Cd.Z.getSessionById(null!==(t=null==n?void 0:n.sessionId)&&void 0!==t?t:""))||void 0===e?void 0:e.clientInfo.os})),c=null!=i?i:a;if(null==c||!_re.al.has(c))return null;var l=null!=o,u=l?c===_re.YE.XBOX?te.Z.Messages.XBOX_TRANSFERRING_ELLIPSIS:te.Z.Messages.PLAYSTATION_TRANSFERRING_ELLIPSIS:c===_re.YE.XBOX?te.Z.Messages.XBOX_REMOTE_CONNECTED.format():te.Z.Messages.PLAYSTATION_REMOTE_CONNECTED.format();return(0,r.jsxs)("div",{className:Xp()(Ire().root,l?Ire().connecting:Ire().connected),children:[(0,r.jsx)(Tre,{platform:c}),(0,r.jsx)(q.xv,{color:l?"header-primary":"always-white",variant:"text-xs/medium",children:u})]})}var Cre=n(505780),Are=n(123016),Pre=n(435346),jre=n(760253),Rre=n(495188),xre=n.n(Rre);function Mre(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
const wre=o.forwardRef((function(e,t){var n,i=e.closePopout,a=e.body,s=e.header,c=e.artClassName,l=e.headerClassName,u=e.tryItText,f=e.onTryFeature,d=e.analyticsName,p=e.analyticsSection,h=e.className,E=e.inlineArt,y=void 0!==E&&E,m=e.isPremiumFeature,b=void 0!==m&&m,g=e.shouldUseHorizontalButtons,O=void 0!==g&&g,v=e.showGIFTag,_=void 0!==v&&v,S=function(e){Ce.default.track(M.rMx.UPSELL_CLICKED,{type:M.mO$.FEATURE_EDUCATION_TOOLTIP,subtype:d,action:e,location_section:p})},I=O?Q.Co.Sizes.LARGE:Q.Co.Sizes.MAX;o.useEffect((function(){Ce.default.track(M.rMx.UPSELL_VIEWED,{type:M.mO$.FEATURE_EDUCATION_TOOLTIP,subtype:d,location_section:p})}),[]);return(0,r.jsx)("div",{className:h,ref:t,children:(0,r.jsxs)("div",{className:Xp()(xre().content,(n={},Mre(n,xre().contentNoArt,null==c||y),Mre(n,xre().contentPremium,b),n)),children:[(0,r.jsx)("div",{className:Xp()(c,y?xre().artInline:xre().artAbsolute),children:_&&(0,r.jsx)(jre.Z,{className:xre().gifTag})}),(0,r.jsxs)("div",{className:xre().body,
children:[(0,r.jsxs)(q.X6,{className:Xp()(b?xre().headerWithPremiumIcon:xre().header,l),variant:"heading-md/bold",color:"always-white",children:[b?(0,r.jsx)(i$.Z,{className:xre().premiumIcon}):null,s]}),null==a?null:"string"==typeof a?(0,r.jsx)(q.xv,{variant:"text-sm/normal",color:"always-white",children:a}):a]}),null!=f?(0,r.jsxs)("div",{className:O?xre().buttonContainerHorizontal:xre().buttonContainerVertical,children:[(0,r.jsx)(Q.Co,{className:xre().button,size:I,onClick:function(){i();f();S(M.ZEM.PRIMARY)},color:b?Q.Co.Colors.BRAND:Q.Co.Colors.WHITE,look:b?Q.Co.Looks.INVERTED:Q.Co.Looks.FILLED,children:null!=u?u:te.Z.Messages.EDUCATION_NEW_FEATURE_TRY_IT}),(0,r.jsx)(Q.Co,{className:xre().button,size:I,onClick:function(){i();S(M.ZEM.DISMISS)},color:b?Q.Co.Colors.WHITE:Q.Co.Colors.BRAND,look:b?Q.Co.Looks.LINK:Q.Co.Looks.FILLED,children:te.Z.Messages.EDUCATION_NEW_FEATURE_DISMISS})]}):(0,r.jsx)(Q.Co,{className:xre().button,size:Q.Co.Sizes.MAX,onClick:function(){i();S(M.ZEM.PRIMARY)},
color:Q.Co.Colors.WHITE,children:te.Z.Messages.EDUCATION_NEW_FEATURE_CONFIRM}),(0,r.jsx)("div",{className:xre().pointer})]})})}));var Zre=n(806702),Lre=n(61334);function Dre(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ure(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kre(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ure(e,t,n[t])}))}return e}function Gre(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Bre(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Hre(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Dre(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dre(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vre(e){var t=function(e){null==e||e();p()},n=e.channel,o=e.iconClassName,i=Bre(e,["channel","iconClassName"]),a=(0,Dte.Z)(n),s=a.mute,c=a.suppress,l=(0,DT.ZP)([qe.Z],(function(){return qe.Z.isSelfDeaf()})),u=n.getGuildId(),f=Hre((0,Pre.c)([dn.z$.SOUNDBOARD_EDUCATION]),2),d=f[0],p=f[1],h=(0,FM.Z)(vf.Z.SOUNDBOARD_BUTTON).AnalyticsLocationProvider,E=Ih().v4();Are.ZP.useExperiment({guildId:null!=u?u:""},{autoTrackExposure:null!=u});if(null==u)return null;var y=function(e){return(0,r.jsx)(jg.ZP,{position:jg.ZP.Positions.TOP,
renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(Lre.Z,{guildId:u,onClose:t,analyticsSource:"rtc panel"})},children:function(n){return(0,r.jsx)("div",{children:(0,r.jsx)(Q.Co,Gre(kre(Gre(kre({},e,n),{disabled:s||c||l,onClick:function(r){var o;t();null==e||null===(o=e.onClick)||void 0===o||o.call(e);n.onClick(r)},fullWidth:!0,size:Q.Co.Sizes.SMALL}),i),{children:(0,r.jsx)(Zre.Z,{className:o})}))})}})};return d===dn.z$.SOUNDBOARD_EDUCATION?(0,r.jsx)(jg.ZP,{positionKey:E,position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(wre,{header:te.Z.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_HEADER,body:te.Z.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_BODY,tryItText:te.Z.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_GOT_IT,onTryFeature:function(){return t(n)},closePopout:function(){return t(n)},analyticsName:"Soundboard"})},children:function(){return y()}}):(0,r.jsx)(h,{children:(0,r.jsx)(Kb.ZP,{
text:s?te.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE:c?te.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED:l?te.Z.Messages.SOUNDBOARD_OPEN_SOUNBOARRD_ERROR_DEAFENED:te.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD,children:function(e){return y(e)}})})}var Fre=n(116212),Yre=n(623553),Wre=n(544393),zre=n(511390),Kre=n(432107),qre=n(487170),Xre=n(685879),Qre=n(744739),$re=n(640606),Jre=n(475389),eoe=n(421040),toe=n(701197);function noe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function roe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ooe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ioe(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.foreground,l=ooe(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",roe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){noe(e,t,n[t])}))}return e}({},(0,
qb.Z)(l)),{width:n,height:i,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{className:c,d:"M10.889 4C10.889 3.44772 11.3367 3 11.889 3H12.1112C12.6635 3 13.1112 3.44772 13.1112 4V20C13.1112 20.5523 12.6635 21 12.1112 21H11.889C11.3367 21 10.889 20.5523 10.889 20V4Z",fill:s}),(0,r.jsx)("path",{className:c,d:"M6.44439 6.25C6.44439 5.69772 6.89211 5.25 7.44439 5.25H7.66661C8.2189 5.25 8.66661 5.69772 8.66661 6.25V17.75C8.66661 18.3023 8.2189 18.75 7.66661 18.75H7.44439C6.89211 18.75 6.44439 18.3023 6.44439 17.75V6.25Z",fill:s}),(0,r.jsx)("path",{className:c,d:"M3.22222 15.375C3.77451 15.375 4.22222 14.9273 4.22222 14.375L4.22222 9.625C4.22222 9.07272 3.77451 8.625 3.22222 8.625H3C2.44772 8.625 2 9.07272 2 9.625V14.375C2 14.9273 2.44772 15.375 3 15.375H3.22222Z",fill:s}),(0,r.jsx)("path",{className:c,
d:"M22.0001 13.25C22.0001 13.8023 21.5523 14.25 21.0001 14.25H20.7778C20.2255 14.25 19.7778 13.8023 19.7778 13.25V10.75C19.7778 10.1977 20.2255 9.75 20.7778 9.75H21.0001C21.5523 9.75 22.0001 10.1977 22.0001 10.75V13.25Z",fill:s}),(0,r.jsx)("path",{className:c,d:"M16.3333 7.5C15.781 7.5 15.3333 7.94772 15.3333 8.5V15.5C15.3333 16.0523 15.781 16.5 16.3333 16.5H16.5555C17.1078 16.5 17.5555 16.0523 17.5555 15.5V8.5C17.5555 7.94772 17.1078 7.5 16.5555 7.5H16.3333Z",fill:s})]}))}function aoe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function soe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function coe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function loe(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.foreground,l=coe(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",soe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){aoe(e,t,n[t])}))}return e}({},(0,
qb.Z)(l)),{width:n,height:i,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M30.6666 24.9644L35.1111 20.5199V31C35.1111 32.1046 34.2156 33 33.1111 33H32.6666C31.562 33 30.6666 32.1046 30.6666 31V24.9644Z",fill:s}),(0,r.jsx)("path",{d:"M26.2224 14.1463V8C26.2224 6.89543 25.327 6 24.2224 6H23.7779C22.6734 6 21.7779 6.89543 21.7779 8V18.5907L26.2224 14.1463Z",fill:s}),(0,r.jsx)("path",{d:"M21.7779 33.8543L21.9254 33.7056L26.2224 29.4086V40C26.2224 41.1046 25.327 42 24.2224 42H23.7779C22.6734 42 21.7779 41.1046 21.7779 40V33.8543Z",fill:s}),(0,r.jsx)("path",{d:"M17.3332 23.0354L12.8888 27.4799V12.5C12.8888 11.3954 13.7842 10.5 14.8888 10.5H15.3332C16.4378 10.5 17.3332 11.3954 17.3332 12.5V23.0354Z",fill:s}),(0,r.jsx)("path",{d:"M8.44445 28.75C8.44445 29.8546 7.54902 30.75 6.44445 30.75H6C4.89543 30.75 4 29.8546 4 28.75V19.25C4 18.1454 4.89543 17.25 6 17.25H6.44445C7.54902 17.25 8.44445 18.1454 8.44445 19.25L8.44445 28.75Z",fill:s}),(0,
r.jsx)("path",{d:"M44.0001 26.5C44.0001 27.6046 43.1047 28.5 42.0001 28.5H41.5557C40.4511 28.5 39.5557 27.6046 39.5557 26.5V21.5C39.5557 20.3954 40.4511 19.5 41.5557 19.5H42.0001C43.1047 19.5 44.0001 20.3954 44.0001 21.5V26.5Z",fill:s}),(0,r.jsx)("path",{d:"M42 8.54L39.46 6L6 39.46L8.54 42L16.92 33.64L19.38 31.16L22.7 27.84L29.98 20.56L42 8.54Z",fill:s,className:c})]}))}var uoe=n(4258),foe=n(696229),doe=n(240712),poe=n(372194),hoe=n(485502),Eoe=n(303680),yoe=n(458981),moe=n(981008),boe=n(845724);function goe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ooe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){goe(e,t,n[t])}))}return e}function voe(e){var t=e.channel;return(0,
r.jsx)(Yte.Z,{tooltipText:te.Z.Messages.AUDIENCE_DISCONNECT,onClick:function(){(0,moe.Z)(t)?(0,yoe.Us)(t):d.default.disconnect()},icon:boe.Z})}function _oe(e){var t=e.channel,n=(0,hoe.c)({channelId:t.id,shouldDisconnectCall:!0});return(0,r.jsx)(Yte.Z,{tooltipText:te.Z.Messages.DISCONNECT_SELF,onClick:function(){n()||((0,Eoe.Z)(t)?(0,Er.lC)(t):d.default.disconnect())},icon:boe.Z})}function Soe(e){return e.channel.isGuildStageVoice()?(0,r.jsx)(voe,Ooe({},e)):(0,r.jsx)(_oe,Ooe({},e))}var Ioe=n(667805),Toe=n(837790),Noe=n(542448),Coe=n(559714),Aoe=n(452689),Poe=n(270711),joe=n.n(Poe);function Roe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xoe(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Moe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){xoe(i,r,o,a,s,"next",e)}function s(e){xoe(i,r,o,a,s,"throw",e)}
a(void 0)}))}}function woe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Zoe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){woe(e,t,n[t])}))}return e}function Loe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Doe(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Roe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Roe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Uoe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},koe={offset:2},Goe={serverDeaf:{icon:Bte.Z,colorize:!0,getStatus:function(){
return te.Z.Messages.SERVER_DEAFENED}},serverMute:{icon:Fte.Z,colorize:!0,getStatus:function(){return te.Z.Messages.SERVER_MUTED}},deaf:{icon:Bte.Z,colorize:!1,getStatus:function(){return te.Z.Messages.VOICE_CHANNEL_DEAFENED}},mute:{icon:Fte.Z,colorize:!1,getStatus:function(){return te.Z.Messages.VOICE_CHANNEL_MUTED}}};function Boe(e){var t,o,i=function(e){null!=y?(0,fb.jW)(e,Moe((function(){var e,t;return Uoe(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(1951),n.e(36401)]).then(n.bind(n,536401))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Loe(Zoe({},e),{user:c,guildId:y,channelId:a.id,showMediaItems:!0}))}]}}))}))):(0,fb.jW)(e,Moe((function(){var e,t;return Uoe(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Loe(Zoe({},e),{user:c,showMediaItems:!0}))}]}}))
})))},a=e.channel,c=e.user,l=e.nick,u=e.mute,f=e.deaf,d=e.serverMute,p=e.serverDeaf,h=(0,s.e7)([qe.Z],(function(){return qe.Z.isLocalMute(c.id)})),E=(0,ree.Z)({userId:c.id,checkSoundSharing:!0}),y=null!==(t=a.getGuildId())&&void 0!==t?t:void 0,m=c.getAvatarURL(a.guild_id,24),b=null!=l?l:c.username,g=null!==(o=p?Goe.serverDeaf:f?Goe.deaf:d?Goe.serverMute:u||h?Goe.mute:void 0)&&void 0!==o?o:{},O=g.icon,v=g.colorize,_=g.getStatus,S=null!=_?te.Z.Messages.VOICE_PANEL_USER_TOOLTIP.format({userName:b,status:_()}):b;return(0,r.jsx)(jg.ZP,{preload:function(){return(0,Lj.Z)(c.id,c.getAvatarURL(y,80),{guildId:y,channelId:a.id})},position:jg.ZP.Positions.TOP,renderPopout:function(e){return(0,r.jsx)($D.Z,Zoe({userId:c.id,guildId:y,channelId:a.id},e))},children:function(e){return(0,r.jsx)(Kb.ZP,{text:S,children:function(t){return(0,r.jsx)(q.P3,Loe(Zoe({},t,e),{className:joe().avatarContainer,onContextMenu:i,focusProps:koe,children:(0,r.jsx)(Ioe.Z,{shakeLocation:Aoe.oZ.VOICE_USER,isShaking:E,
children:(0,r.jsx)("div",{className:Xp()(joe().avatar,woe({},joe().speaking,E)),style:{backgroundImage:"url(".concat(m,")")},children:null!=O?(0,r.jsx)(O,{className:Xp()(joe().avatarIconOverlay,woe({},joe().avatarIconRed,v)),width:16,height:16,foreground:joe().avatarIconRed}):null})})}))}})}})}function Hoe(e){var t=e.voiceStates,n=e.channel,i=e.className,a=Doe(o.useState(!1),2),c=a[0],l=a[1],u=c?Coe.Z:Noe.Z,f=(0,r.jsx)(Toe.ZP,{className:joe().expandButton,onClick:function(){return l(!c)},color:Toe.YX.PRIMARY,size:Toe.tT.SIZE_24,tooltip:c?te.Z.Messages.VOICE_PANEL_HIDE_EXTRAS:te.Z.Messages.VOICE_PANEL_SHOW_EXTRAS,icon:(0,r.jsx)(u,{width:16,height:16}),focusProps:koe}),d=(0,s.e7)([nr.default],(function(){return nr.default.getId()}),[]),p=Doe(function(e,t){var n,r=[],o=!0,i=!1,a=void 0;try{for(var s,c=function(){var e=s.value;if(e.user.id===t)return"continue";if(r.some((function(t){return t.user.id===e.user.id})))return"continue";if(r.length>=7)return{v:[r,!0]};r.push(e)
},l=e[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=c();if("object"==((n=u)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n))return u.v}}catch(e){i=!0;a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return[r,!1]}(t,d),2),h=p[0],E=p[1],y=E&&c?t:h;return y.length<=0?null:(0,r.jsx)(eE.ZP,{className:Xp()(joe().scroller,i),fade:!0,children:(0,r.jsxs)("div",{className:joe().voiceUsers,role:"group","aria-label":te.Z.Messages.VOICE_PANEL_USERS_A11Y_LABEL,children:[y.map((function(e){var t=e.user,o=e.nick,i=e.voiceState;return t.id!==d?(0,r.jsx)(Boe,{channel:n,user:t,nick:o,mute:i.isVoiceMuted(),deaf:i.isVoiceDeafened(),video:i.selfVideo,serverMute:i.mute,serverDeaf:i.deaf},t.id):null})),E?f:null]})})}var Voe=n(444013),Foe=n.n(Voe);function Yoe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Woe(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}
s.done?t(c):Promise.resolve(c).then(r,o)}function zoe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Woe(i,r,o,a,s,"next",e)}function s(e){Woe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Koe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qoe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xoe(e){Xoe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Xoe(e)}function Qoe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qoe(e,t,n[t])}))}return e}function $oe(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Joe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function eie(e,t){return!t||"object"!==rie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function tie(e,t){tie=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return tie(e,t)}function nie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yoe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yoe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rie=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function oie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Xoe(e);if(t){var o=Xoe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eie(this,n)}}var iie=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function aie(e){var t=e.currentTarget;Ce.default.track(M.rMx.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{section:M.jXE.NOISE_CANCELLATION_POPOUT}})}function sie(){var e=o.useRef(null);(0,q.Tb)(e);o.useEffect((function(){return Ce.default.track(M.rMx.OPEN_POPOUT,{type:M.jXE.NOISE_CANCELLATION_POPOUT})}),[]);var t=(0,s.e7)([qe.Z],(function(){return qe.Z.getNoiseCancellation()}))
;return(0,r.jsxs)("div",{ref:e,className:Foe().noiseCancellationPopout,children:[(0,r.jsx)(q.j7,{hideBorder:!0,className:ah().marginBottom4,value:t,onChange:function(){return Ke.Z.setNoiseCancellation(!t,{section:M.jXE.NOISE_CANCELLATION_POPOUT})},note:te.Z.Messages.NOISE_CANCELLATION_POPOUT_DESCRIPTION,children:te.Z.Messages.NOISE_CANCELLATION_POPOUT_HEADER}),(0,r.jsx)(fre.Z,{title:te.Z.Messages.NOISE_CANCELLATION_POPOUT_MIC_TEST_TITLE,notchBackground:fre._.BLACK,buttonTest:te.Z.Messages.NOISE_CANCELLATION_POPOUT_TEST,buttonStop:te.Z.Messages.NOISE_CANCELLATION_POPOUT_STOP,buttonClassName:Foe().micTestButton,buttonColor:Q.Co.Colors.PRIMARY,location:{section:M.jXE.NOISE_CANCELLATION_POPOUT}}),(0,r.jsx)(q.vw,{tag:q.RB.H5,className:Xp()(ah().marginBottom8,ah().marginTop20),children:te.Z.Messages.NOISE_CANCELLATION_POPOUT_FOOTER}),(0,r.jsxs)(Qp.Z,{justify:Qp.Z.Justify.BETWEEN,className:Foe().footer,children:[(0,r.jsx)(LT.Z,{href:M.EYA.KRISP,onClick:function(e){return aie(e)},children:(0,
r.jsx)("div",{className:Foe().krispLogo})}),(0,r.jsx)(LT.Z,{href:ee.Z.getArticleURL(M.BhN.NOISE_SUPPRESSION),className:Foe().krispLink,onClick:function(e){return aie(e)},children:te.Z.Messages.LEARN_MORE})]})]})}function cie(e){var t=e.channelId,n=(0,s.e7)([eb.Z],(function(){return eb.Z.getStageMusicMuted(t)})),o=n?te.Z.Messages.STAGE_MUSIC_UNMUTE:te.Z.Messages.STAGE_MUSIC_MUTE;return(0,r.jsx)(Yte.Z,{"aria-label":o,tooltipText:o,icon:n?poe.Z:doe.Z,onClick:function(){return bX.Z.updateStageMusicMuted(t,!n)}})}function lie(e){var t=e.channel,n=e.enableActivities,i=(0,Wre.Z)(),a=(0,Kre.Z)(t),c=t.getGuildId(),l=(0,s.cj)([R.ZP],(function(){return null!=R.ZP.getSelfEmbeddedActivityForChannel(t.id)})),u=Are.ZP.useExperiment({guildId:null!=c?c:""}).allowSoundboard,f=(0,zre.Z)(t),d=f.reachedLimit,p=f.limit,h=o.useCallback((function(){(0,Xre.Z)()}),[]),E=(0,tL.bp)(),y=o.useCallback((function(e){if(qe.Z.isVideoEnabled()!==e){var n=function(){Ke.Z.setVideoEnabled(e);if(e){var n;(0,
X.uL)(M.Z5c.CHANNEL(null!==(n=t.getGuildId())&&void 0!==n?n:M.ME,t.id))}};e?(0,Jre.Z)(n,E):n()}}),[t,E]),m=l||n||u,b=(0,r.jsx)(toe.Z,{className:Xp()(Foe().buttonIcon,qoe({},Foe().withText,!m))});return(0,r.jsx)(eoe.Z,$oe(Qoe({onChange:y,onCameraUnavailable:h,hasPermission:a,channelLimit:p,channelLimitReached:d},i),{children:function(e){var t=e.unavailable,n=e.active,o=e.label,i=(e.iconComponent,Joe(e,["unavailable","active","label","iconComponent"]));return(0,r.jsx)(jg.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(bre.Z,{onClose:t})},position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,animation:jg.ZP.Animation.FADE,children:function(e,a){var s=e.onClick,c=Joe(e,["onClick"]),l=a.isShown;return(0,r.jsx)(Kb.ZP,{text:o,children:function(e){var o;return(0,r.jsx)(Q.Co,$oe(Qoe({},i,e,c),{onClick:function(t){var n;i.onClick(t);null===(n=e.onClick)||void 0===n||n.call(e);l&&s(t)},onContextMenu:function(t){var n;s(t);null===(n=e.onContextMenu)||void 0===n||n.call(e)},
size:Q.Co.Sizes.SMALL,className:Xp()(Foe().button,Foe().buttonColor,(o={},qoe(o,Foe().buttonActive,n),qoe(o,Foe().fauxDisabled,t),qoe(o,Foe().disabled,i.disabled),o)),innerClassName:Foe().buttonContents,wrapperClassName:Foe().button,fullWidth:!0,children:m?b:(0,r.jsxs)(Qp.Z,{align:Qp.Z.Align.CENTER,children:[b,te.Z.Messages.VIDEO]})}))}})}})}}))}function uie(e){var t=e.channel,n=e.enableActivities,i=(0,tL.bp)(),a=(0,FM.Z)().analyticsLocations,c=i===M.IlC.POPOUT,l=(0,s.e7)([js.Z],(function(){return js.Z.getIsEnabled()}),[]),u=t.getGuildId();!function(e){o.useEffect((function(){null!=e&&pre.forEach((function(t){t.trackExposure({guildId:e})}))}),[e])}(u);var f=(0,yre.KF)(t.id),d=(0,yre.g5)(f),p=nie((0,s.e7)([R.ZP],(function(){return null!=t.id&&""!==t.id?R.ZP.getEmbeddedActivitiesForChannel(t.id):R.i6})),1)[0],h=(0,s.cj)([R.ZP],(function(){return{userInActivity:null!=R.ZP.getSelfEmbeddedActivityForChannel(t.id)}})).userInActivity,E=(0,nY.O)(),y=(0,hre.i)({guildId:u
}).shouldShowFreeIndicator,m=f!==yre.jy.CAN_LAUNCH;return n?(0,r.jsx)(Kb.ZP,{text:d,children:function(e){var n;return(0,r.jsxs)(Q.Co,$oe(Qoe({},e),{fullWidth:!0,size:Q.Co.Sizes.SMALL,onClick:function(){var n;(0,nL.Z)({channel:t,guildId:t.guild_id,locationObject:E.location,openInPopout:c,analyticsLocations:a});null===(n=e.onClick)||void 0===n||n.call(e)},disabled:m,className:Xp()(Foe().button,Foe().buttonColor,(n={},qoe(n,Foe().buttonDeveloperActivityShelf,l),qoe(n,Foe().buttonActive,h||null!=p),qoe(n,Foe().disabled,m),n)),innerClassName:Foe().buttonContents,wrapperClassName:Foe().button,children:[y?(0,r.jsx)(mre.A,{top:-1,right:-1}):null,(0,r.jsx)(uoe.Z,{className:Foe().buttonIcon})]}))}}):null}function fie(e){var t,n=e.channel,i=e.canGoLive,a=e.enableActivities,c=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),l=(0,s.Wu)([xr.Z],(function(){return xr.Z.getAllActiveStreams()})),u=(0,Kre.Z)(n),f=n.getGuildId(),d=(0,s.cj)([R.ZP],(function(){
return null!=R.ZP.getSelfEmbeddedActivityForChannel(n.id)})),p=Are.ZP.useExperiment({guildId:null!=f?f:""}).allowSoundboard,h=o.useCallback((function(){(0,$re.Z)(f,n.id,M.jXE.ACTIVITY_PANEL)}),[f,n.id]),E=l.find((function(e){return e.ownerId===(null==c?void 0:c.id)})),y=(0,qre.E)(n,c,l);t=null==E?i?h:Qre.Z:function(){return(0,Cre.Z)(E)};var m=null!=E||y.length>0,b=u?te.Z.Messages.SHARE_YOUR_SCREEN:te.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE,g=!u,O=d||a||p,v=(0,r.jsx)(foe.Z,{className:Xp()(Foe().buttonIcon,qoe({},Foe().withText,!O))});return(0,r.jsx)(jg.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(qre.Z,{channel:n,currentUser:c,activeStreams:l,onClose:t,handleGoLive:i?h:Qre.Z})},position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,animation:jg.ZP.Animation.FADE,children:function(e){var n=e.onClick,o=Joe(e,["onClick"]);return(0,r.jsx)(Kb.ZP,{text:b,children:function(e){var i;return(0,r.jsx)(Q.Co,$oe(Qoe($oe(Qoe({},e),{size:Q.Co.Sizes.SMALL,
onClick:function(r){var o;m?n(r):t();null===(o=e.onClick)||void 0===o||o.call(e)},disabled:g,className:Xp()(Foe().button,Foe().buttonColor,(i={},qoe(i,Foe().buttonActive,null!=E),qoe(i,Foe().disabled,g),i))}),m?o:null),{innerClassName:Foe().buttonContents,wrapperClassName:Foe().button,children:O?v:(0,r.jsxs)(Qp.Z,{align:Qp.Z.Align.CENTER,children:[v,te.Z.Messages.GO_LIVE_SHARE_SCREEN]})}))}})}})}var die=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&tie(e,t)}(o,e);var t=oie(o);function o(){Koe(this,o);var e;(e=t.apply(this,arguments)).canScreenshare=function(){var t=e.props,n=t.channel;return t.canGoLive&&null!=n&&null!=n.getGuildId()};e.handleNoiseCancellationClicked=function(){var t=e.props.noiseCancellationActive;Ke.Z.setNoiseCancellation(!t,{section:M.jXE.NOISE_CANCELLATION_POPOUT})}
;e.handleGoLive=function(){var t=e.props,n=t.guild,r=t.channel,o=null!=r?r.getGuildId():null!=n?n.id:null;null!=o&&(0,$re.Z)(o,r.id,M.Sbl.VOICE_PANEL)};e.handleChannelLinkClick=function(t){var n,r=e.props,o=r.guild,i=r.channel;Oh()(null!=i,"Channel is null during navigation click");t.stopPropagation();ure.Z.channelListScrollTo(null!==(n=null==o?void 0:o.id)&&void 0!==n?n:M.ME,i.id)};e.handleChannelLinkContextMenu=function(t){var o=e.props.channel;(0,fb.jW)(t,zoe((function(){var e,t;return iie(this,(function(i){switch(i.label){case 0:return[4,n.e(5087).then(n.bind(n,705087))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,$oe(Qoe({},e),{channel:o}))}]}}))})))};e.handleCloseVoicePanelIntroduction=function(){Sr.Kw(Ir.v.VOICE_PANEL_INTRODUCTION)};e.renderVoicePanelIntroduction=function(){return(0,r.jsxs)("div",{className:Xp()(Foe().voicePanelIntroductionWrapper,"theme-light"),children:[(0,r.jsx)(q.X6,{className:Foe().voicePanelIntroductionHeader,
variant:"heading-md/semibold",children:te.Z.Messages.VOICE_PANEL_INTRODUCTION_HEADER}),(0,r.jsx)(q.xv,{className:Foe().voicePanelIntroductionText,variant:"text-sm/normal",children:te.Z.Messages.VOICE_PANEL_INTRODUCTION_TEXT}),(0,r.jsx)(Q.Co,{className:Foe().voicePanelIntroductionButton,color:Q.Co.Colors.BRAND,onClick:e.handleCloseVoicePanelIntroduction,children:te.Z.Messages.VOICE_PANEL_INTRODUCTION_CLOSE})]})};return e}var i=o.prototype;i.renderConnectionStatus=function(){var e=this.props,t=e.channel,n=e.guild,o=e.rtcConnectionQuality,i=e.rtcConnectionState,a=e.rtcConnectionLastPing,s=e.hasVideo;if(null==t)return null;var c,l=(0,Yd.F6)(t,Y.default,ps.Z,!0);if(null!=n){c=M.Z5c.CHANNEL(n.id,t.id);l="".concat(l," / ").concat(n.name)}else c=M.Z5c.CHANNEL(M.ME,t.id);return(0,r.jsx)(dre.Z,{statusTextClassName:Foe().statusWithPopout,quality:o,state:i,lastPing:a,hasVideo:s,children:(0,r.jsx)(nb.tE,{children:(0,r.jsx)(kQ.rU,{to:c,onClick:this.handleChannelLinkClick,
onContextMenu:this.handleChannelLinkContextMenu,children:(0,r.jsx)(Wte.Z,{className:Foe().channel,children:l})})})})};i.renderNoiseCancellation=function(){var e=this.props,t=e.noiseCancellationActive,n=e.noiseCancellationError,o=e.hasLayers,i=e.remoteVoiceState,a=e.channel,s=e.voiceStates,c=!o&&n;if(null!=i)return null;if(null==a?void 0:a.isGuildStageVoice()){if(!(null!=s.find((function(e){return e.user.id===nr.default.getId()&&(0,bd.gf)(e.voiceState)===bd.xO.ON_STAGE})))&&(0,Yre.U5)(a.id))return(0,r.jsx)(cie,{channelId:a.id})}return c?(0,r.jsx)(Kb.ZP,{text:te.Z.Messages.NOISE_CANCELLATION_CPU_OVERUSE,tooltipClassName:Foe().noiseCancellationTooltip,forceOpen:!0,children:function(e){var t=e["aria-label"];return(0,r.jsx)(Yte.Z,{"aria-label":t,tooltipText:null,disabled:!0,icon:loe})}}):(0,r.jsx)(jg.ZP,{position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,renderPopout:function(){return(0,r.jsx)(sie,{})},children:function(e,n){var o=n.isShown;return(0,r.jsx)(Yte.Z,$oe(Qoe({},e),{
tooltipClassName:Foe().noiseCancellationTooltip,tooltipText:o?null:te.Z.Messages.NOISE_CANCELLATION_TOOLTIP,icon:t?ioe:loe}))}},"krisp-popout")};i.renderVoiceStates=function(){var e=this.props,t=e.channel,n=e.voiceStates,o=e.showVoiceStates;return null!=t&&o&&0!==n.length?(0,r.jsx)(Hoe,{voiceStates:n,channel:t,className:Foe().voiceUsers}):null};i.renderChannelButtons=function(){var e=this.props,t=e.channel,n=e.canGoLive,o=e.canUseSoundboard,i=e.remoteVoiceState,a=e.enableActivities,s=e.voiceStates,c=e.selfStream;if(null==t||null!=i)return null;var l=nr.default.getId();if(t.isGuildStageVoice()){if(!(0,Fre.tu)(t.guild_id))return null;if(!n)return null;var u=s.find((function(e){return e.user.id===l}));if(null==u||u.voiceState.suppress)return null}var f=!t.isGuildStageVoice()||!(0,Fre.xJ)(t.id)||null!=c;return(0,r.jsxs)("div",{className:Foe().actionButtons,children:[(0,r.jsx)(lie,{channel:t,enableActivities:t.isGuildVoice()&&a}),f&&(0,r.jsx)(fie,{channel:t,canGoLive:n,
enableActivities:t.isGuildVoice()&&a}),t.isGuildVoice()&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(uie,{channel:t,enableActivities:a}),o&&(0,Ur.Z)(t)?(0,r.jsx)(Vre,{className:Xp()(Foe().button,Foe().buttonColor),iconClassName:Foe().buttonIcon,channel:t}):null]})]})};i.render=function(){var e=this,t=this.props,n=t.channel,o=t.noiseCancellationSupported,i=t.shouldShowVoicePanelIntroduction;return null==n?null:(0,r.jsx)(jg.ZP,{renderPopout:this.renderVoicePanelIntroduction,position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,animation:jg.ZP.Animation.TRANSLATE,shouldShow:i,children:function(){return(0,r.jsxs)("div",{className:Foe().container,children:[(0,r.jsxs)(Qp.Z,{className:Foe().connection,align:Qp.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:Foe().inner,children:e.renderConnectionStatus()}),(0,r.jsxs)(Qp.Z,{grow:0,shrink:0,children:[o?e.renderNoiseCancellation():null,(0,r.jsx)(Soe,{channel:n})]})]}),e.renderVoiceStates(),e.renderChannelButtons()]})}})};return o
}(o.PureComponent);const pie=(0,bY.Z)((function(e){var t,n,i=(0,gre.Z)(),a=(0,s.e7)([Yy.Z],(function(){return Yy.Z.getAwaitingRemoteSessionInfo()})),c=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),l=(0,s.cj)([C.Z],(function(){return null!=i?{channelId:i.channelId,rtcConnectionQuality:M.IE4.FINE,rtcConnectionState:M.hes.RTC_CONNECTED,rtcConnectionLastPing:0,rtcConnectionConnected:!0}:{channelId:C.Z.getChannelId(),rtcConnectionQuality:C.Z.getQuality(),rtcConnectionState:C.Z.getState(),rtcConnectionLastPing:C.Z.getLastPing(),rtcConnectionConnected:C.Z.isConnected()}})),u=l.channelId,f=Joe(l,["channelId"]),d=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(u)}),[u]),p=null==d?void 0:d.getGuildId(),h=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(p)}),[p]),E=(0,s.cj)([qe.Z],(function(){return{noiseCancellationSupported:qe.Z.isNoiseCancellationSupported(),noiseCancellationActive:qe.Z.getNoiseCancellation(),noiseCancellationError:qe.Z.isNoiseCancellationError(),
canGoLive:(0,Zr.Z)(qe.Z)}})),y=(0,s.e7)([qe.Z,Jf.Z],(function(){return Jf.Z.hasHotspot(Ir.v.VOICE_PANEL_INTRODUCTION)&&(0,gq.EO)(c)&&!qe.Z.isInteractionRequired()&&!(null==d?void 0:d.isGuildStageVoice())})),m=(0,s.e7)([j.Z],(function(){return null!=u&&j.Z.hasVideo(u)}),[u]),b=(0,s.e7)([xr.Z],(function(){return xr.Z.getCurrentUserActiveStream()})),g=(0,s.e7)([T.Z],(function(){return T.Z.hasLayers()})),O=(0,s.e7)([cT.Z],(function(){return cT.Z.isViewingRoles(p)})),v=(0,s.e7)([En.Z],(function(){return O&&!En.Z.can(M.Plq.VIEW_CHANNEL,d)}),[O,d]),_=ft.Fg.useSetting(),S=nie((0,s.Wu)([zy.ZP,KO.Z],(function(){return(null==d?void 0:d.isGuildStageVoice())?[KO.Z.getMutableParticipants(d.id,qO.pV.SPEAKER),KO.Z.getParticipantsVersion(d.id),null]:[null,null,null!=d?zy.ZP.getVoiceStatesForChannel(d):null]}),[d]),3),N=S[0],A=S[1],P=S[2],R=o.useMemo((function(){return null!==(n=null!==(t=null==N?void 0:N.map((function(e){return{user:e.user,nick:e.userNick,voiceState:e.voiceState}
})))&&void 0!==t?t:P)&&void 0!==n?n:[]}),[N,A,P]),x=nie(o.useState(!1),2),w=x[0],Z=x[1];o.useEffect((function(){(O||v)&&Z(!1)}),[O,v,Z]);var L=Are.ZP.useExperiment({guildId:null!=p?p:""},{autoTrackExposure:!0}).allowSoundboard,D=(0,kr.f)(),U=(0,FM.Z)(vf.Z.RTC_PANEL).AnalyticsLocationProvider,k=(0,Ere.Z)(null!=p?p:"",null==d?void 0:d.id);return(0,r.jsx)(U,{children:(0,r.jsxs)("div",{className:Foe().wrapper,children:[null!=i||null!=a?(0,r.jsx)(Nre,{voiceState:i,awaitingRemoteSessionInfo:a}):null,(0,r.jsx)(die,$oe(Qoe({},e,E,f),{enableActivities:k,remoteVoiceState:i,guild:h,channel:d,hasVideo:m,selfStream:b,hasLayers:g,voiceStates:R,showVoiceStates:_,shouldShowVoicePanelIntroduction:y,canUseSoundboard:L&&D})),!w&&O&&null!=p?(0,r.jsxs)("div",{className:Foe().viewAsRolesWarning,children:[(0,r.jsx)(q.xv,{variant:"text-sm/normal",className:Foe().viewAsRolesWarningText,children:v?te.Z.Messages.VIEW_AS_ROLES_HIDDEN_VC_WARNING:te.Z.Messages.VIEW_AS_ROLES_VOICE_WARNING}),(0,r.jsx)(Q.Co,{
className:Foe().viewAsRolesWarningButton,size:Q.Co.Sizes.MIN,onClick:function(){Z(!0)},children:te.Z.Messages.DISMISS})]}):null]})})}));var hie=n(734733),Eie=n.n(hie);function yie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mie(e,t,n[t])}))}return e}function gie(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Oie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yie(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vie=function(e){var t=e.match,n=(0,s.e7)([I.Z,A.Z],(function(){var e=A.Z.getChannelId();return I.Z.getChannel(e)})),o=t.params,i=o.guildId,a=o.channelId;if(null!=i&&null!=a&&(0,cO.AB)(a))switch(a){case cO.oC.ROLE_SUBSCRIPTIONS:return(0,r.jsx)(GM,{guildId:i});case cO.oC.MEMBER_APPLICATIONS:return(0,r.jsx)(xP,{guildId:i});case cO.oC.GUILD_HOME:return(0,r.jsx)(AC,{guildId:i});case cO.oC.CHANNEL_BROWSER:return(0,r.jsx)(kR,{guildId:i,selectedSection:xR.l7.BROWSE});case cO.oC.GUILD_ONBOARDING:return(0,r.jsx)(gx,{guildId:i});case cO.oC.CUSTOMIZE_COMMUNITY:return(0,r.jsx)(kR,{guildId:i,selectedSection:xR.l7.CUSTOMIZE});default:(0,No.vE)(a)}if((null==n?void 0:n.type)===M.d4z.GUILD_STORE){var c=t.params.messageId;return(0,r.jsx)(AQ,{channel:n,inputSkuId:c},n.id)}return(0,r.jsx)(sQ.Z,{})},_ie=o.memo((function(){var e=(0,
iQ.Z)(),t=e.guildId,n=e.channelId,o=(0,s.e7)([A.Z],(function(){return null!=n?n:A.Z.getChannelId(t)}));return window.location.pathname.startsWith(M.Z5c.GUILD_DISCOVERY)?(0,r.jsx)(z7,{}):null!=t?(0,r.jsx)(_B,{selectedChannelId:o,guildId:t},t):(0,r.jsx)(f0,{})}));function Sie(e){var t=(0,iQ.Z)((function(e){return e.guildId}));return(0,r.jsx)(Ene.Z,gie(bie({},e),{guildId:t}))}var Iie=function(e){return(0,r.jsx)(vie,bie({},e))},Tie=function(e){var t=e.match;return null!=t.params.guildId?(0,r.jsx)($C,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},Nie=function(e){var t=e.match;return null!=t.params.guildId?(0,r.jsx)(jB,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},Cie=function(){return(0,r.jsx)(f3,{})},Aie=function(){return(0,r.jsx)(d3.Z,{})},Pie=function(){return(0,r.jsx)(mX,{})},jie=function(){return(0,r.jsx)(hV,{})},Rie=function(e){switch(e.match.params.feature){case"addFriends":return(0,r.jsx)(mX,{initialSection:M.pJs.ADD_FRIEND})
;case"pendingFriends":return(0,r.jsx)(mX,{initialSection:M.pJs.PENDING});case"sessionManagement":return(0,r.jsx)(a.l_,{to:M.Z5c.SETTINGS("sessions")});case"connections":return(0,r.jsx)(a.l_,{to:{pathname:M.Z5c.SETTINGS("connections"),search:e.location.search}});default:return(0,r.jsx)(a.l_,{to:M.Z5c.ME})}};function xie(e){var t,n=e.hasNotice,o=e.sidebarTheme,i=e.hideSidebar,a=(0,s.e7)([eb.Z],(function(){return eb.Z.isFullscreenInContext()})),c=(0,WZ.A)(!i);return i?null:(0,r.jsxs)("div",{className:Xp()(Eie().sidebar,(0,QB.Q)(o),(t={},mie(t,Eie().hasNotice,n),mie(t,Eie().fullWidth,ao.tq),mie(t,Eie().hidden,a),t)),children:[(0,r.jsx)(_ie,{}),(0,r.jsxs)("section",{className:Eie().panels,"aria-label":te.Z.Messages.ACCOUNT_A11Y_LABEL,children:[c&&(0,r.jsx)(oQ,{}),(0,r.jsx)(sre,{}),(0,r.jsx)(UV.Z,{section:M.jXE.ACTIVITY_PANEL,children:(0,r.jsx)(Sie,{className:Eie().activityPanel})}),(0,r.jsx)(UV.Z,{section:M.jXE.RTC_CONNECTION_PANEL,children:(0,r.jsx)(pie,{})}),(0,r.jsx)(UV.Z,{
section:M.jXE.ACCOUNT_PANEL,children:(0,r.jsx)(hne,{})})]}),(0,r.jsx)(UQ,{})]})}function Mie(){var e,t=(0,s.e7)([aQ.Z],(function(){return aQ.Z.hasNotice()})),n=(0,s.e7)([Wp.Z],(function(){return Wp.Z.darkSidebar?M.BRd.DARK:void 0})),i=function(){var e=Oie(o.useState((function(){return window.location.pathname.startsWith(M.Z5c.GUILD_MEMBER_VERIFICATION(""))})),2),t=e[0],n=e[1];o.useEffect((function(){return os.Z.addRouteChangeListener((function(e){n(e.pathname.startsWith(M.Z5c.GUILD_MEMBER_VERIFICATION("")))}))}),[]);return t}(),c=function(){var e=Oie(o.useState((function(){return window.location.pathname.startsWith(M.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(""))})),2),t=e[0],n=e[1];o.useEffect((function(){return os.Z.addRouteChangeListener((function(e){n(e.pathname.startsWith(M.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}))}),[]);return t}(),l=function(){var e,t=(0,a.TH)();return!0===(null===(e=(0,a.LX)(t.pathname,M.Z5c.GUILD_BOOSTING_MARKETING(":guildId")))||void 0===e?void 0:e.isExact)
}(),u=(0,s.e7)([yo],(function(){return yo.getIsOpen()})),f=(0,a.$B)([M.Z5c.CHANNEL(M.ME,":channelId"),M.Z5c.CHANNEL(":guildId",":channelId?",":messageId?")]),d=(null==f||null===(e=f.params)||void 0===e?void 0:e.channelId)===cO.oC.GUILD_ONBOARDING,p=i||c||l||d,h=o.useCallback((function(){return io()}),[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:Eie().container,children:[u&&(0,r.jsx)(SB.Z,{className:Eie().guilds,themeOverride:n}),(0,r.jsx)(tb.Z.Provider,{value:(null==f?void 0:f.params.guildId)===M.ME||null==f?void 0:f.params.guildId,children:(0,r.jsxs)("div",{className:Eie().base,children:[ao.tq?null:(0,r.jsx)(ZJ,{}),(0,r.jsxs)("div",{className:Eie().content,children:[(0,r.jsx)(xie,{hasNotice:t,sidebarTheme:n,hideSidebar:p||!u}),(0,r.jsx)($m.Z.Provider,{value:h,children:(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(Jm.Z,{path:M.Z5c.ACTIVITY,disableTrack:!0,children:(0,r.jsx)(a.l_,{to:M.Z5c.ME})}),(0,r.jsx)(Jm.Z,{path:M.Z5c.APPLICATION_LIBRARY,render:Cie,
impressionName:K.zs.APPLICATION_LIBRARY,disableTrack:!0}),(0,r.jsx)(Jm.Z,{path:M.Z5c.APPLICATION_STORE,render:Aie,impressionName:K.zs.APPLICATION_STORE,disableTrack:!0}),(0,r.jsx)(Jm.Z,{path:M.Z5c.MESSAGE_REQUESTS,render:jie,disableTrack:!0}),(0,r.jsx)(Jm.Z,{path:M.Z5c.ME,exact:!0,render:Pie,impressionName:K.zs.FRIENDS,disableTrack:!0}),(0,r.jsx)(Jm.Z,{path:[M.Z5c.CHANNEL_THREAD_VIEW(":guildId",":channelId",":threadId"),M.Z5c.CHANNEL(M.ME,":channelId"),M.Z5c.CHANNEL(":guildId",":channelId?",":messageId?")],render:Iie,impressionName:K.zs.GUILD_CHANNEL,disableTrack:!0}),(0,r.jsx)(Jm.Z,{path:M.Z5c.GUILD_DISCOVERY,render:function(e){return function(e){var t=null!=e&&e.length>0&&e.startsWith("?")?e.split("?")[1]:null;return(0,r.jsx)(b7,{searchRoute:t})}(e.location.search)},impressionName:K.zs.GUILD_DISCOVERY,disableTrack:!0}),(0,r.jsx)(Jm.Z,{path:M.Z5c.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),render:Tie,impressionName:K.zs.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),(0,
r.jsx)(Jm.Z,{path:M.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),render:Nie,impressionName:K.zs.HUB_EMAIL_SIGNUP,impressionProperties:function(e){return{has_invite:void 0!==e.computedMatch.params.inviteCode}}}),(0,r.jsx)(Jm.Z,{path:M.Z5c.FEATURE(":feature"),exact:!0,render:Rie,disableTrack:!0})]})})]})]})}),(0,r.jsx)(m9,{})]})})}const wie=n(838572).Z;var Zie=n(735489);var Lie=n(121764);function Die(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gie(e){Gie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Gie(e)}function Bie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kie(e,t,n[t])}))}return e}function Hie(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Vie(e,t){return!t||"object"!==Wie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fie(e,t){Fie=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Fie(e,t)}function Yie(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Die(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Die(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wie=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function zie(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Gie(e);if(t){var o=Gie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vie(this,n)}}var Kie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Fie(e,t)}(n,e);var t=zie(n);function n(){Uie(this,n);var e;(e=t.apply(this,arguments)).isMessageRequestsInitialized=!1;return e}var r=n.prototype;r.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.connected,r=e.isNSFWChannel,o=e.channelParentId,i=e.isTextInVoice,a=e.canSendMessage;if(n&&null!=t){(0,Eb.yw)(M.rMx.CHANNEL_OPENED,{
channel_is_nsfw:r,parent_id:o,can_send_message:a});i&&(0,Eb.yw)(M.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:r})}};r.componentDidUpdate=function(e){var t=this.props,n=t.voiceChannelId,r=t.voiceChannelIdJoined,o=t.voiceChannelGuildId,i=t.voiceChannelType,a=t.voiceChannelBitrate,s=t.videoEnabled,c=t.isScreenSharing,l=t.runningGame,u=t.runningGamePid,f=t.selectedChannelId,d=t.selectedGuildId,p=t.channelParentId,h=t.connected,E=t.homeLink,y=t.friendsTabSection,m=t.isNSFWChannel,b=t.isMemberPending,g=t.hasPreviewEnabled,O=t.rtcConnectionId,v=t.postableChannelCount,_=t.isTextInVoice,S=t.canSendMessage,T=t.numMessageRequests;if(e.voiceChannelId!==n&&null!=e.voiceChannelId){var N=Xe.ZP.getCurrentGame(),A=null!=N?N.name:"",j=nw.Z.getStageInstanceByChannel(e.voiceChannelId),R=eO.ZP.getActiveEventByChannel(e.voiceChannelId);Ce.default.track(M.rMx.LEAVE_VOICE_CHANNEL,Bie({channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,
guild_id:e.voiceChannelGuildId,rtc_connection_id:e.rtcConnectionId,game_name:A,duration:C.Z.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,media_session_id:e.mediaSessionId,stage_instance_id:null==j?void 0:j.id,guild_scheduled_event_id:null==R?void 0:R.id},(0,Eb.kO)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),C.Z.getVoiceStateStats(),eb.Z.getSelectedParticipantStats(e.voiceChannelId)))}if(e.voiceChannelIdJoined!==r&&null!=r){var x=Xe.ZP.getCurrentGame(),w=null!=x?x.name:"";if(null!=r&&null!=n){var Z=nw.Z.getStageInstanceByChannel(n),L=eO.ZP.getActiveEventByChannel(n);Ce.default.track(M.rMx.JOIN_VOICE_CHANNEL,Bie({channel_id:n,channel_type:i,channel_bitrate:a,guild_id:o,rtc_connection_id:O,game_name:w,game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==Z?void 0:Z.id,guild_scheduled_event_id:null==L?void 0:L.id},(0,Eb.oG)(o,n),(0,Eb.kO)(o,n,s)))}}if(e.runningGame!==l&&null!=l&&!l.isLauncher){
var D=wn.Z.getGameByName(l.name);Ce.default.track(M.rMx.LAUNCH_GAME,{game:l.name,game_id:null==D?null:D.id,verified:null!=D,elevated:l.elevated,game_platform:M.M7m.DESKTOP,distributor:l.distributor});if(null!=l.name&&null!=u&&wn.Z.shouldReport(l.name)){var U=l.name,k=u;xn.Z.identifyGame(k,U).then((function(e){return xn.Z.reportUnverifiedGame(e)})).catch((function(e){return new Mn.Z("AutoAnalytics").error("Cannot identify game",e)}))}}if((e.videoEnabled!==s||e.isScreenSharing!==c)&&null!=n){var G="none",B=[c?"screen":null,s?"camera":null].filter(No.lm),H=null;if(c){G="screen";H=(0,Zie.t)()}else s&&(G="camera");Ce.default.track(M.rMx.VIDEO_INPUT_TOGGLED,Bie({video_input_type:G,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:B,preview_enabled:ft.qF.getSetting()},H,this.getGameMetadata(),(0,Eb.AB)(n)))}if(h&&null!=d&&(d!==e.selectedGuildId||!e.connected||b&&!e.isMemberPending)){var V,F,Y=Hie(Bie({},b?{is_pending:b,preview_enabled:g}:{}),{postable_channels:v,
premium_progress_bar_enabled:null!==(F=null===(V=kt.Z.getGuild(P.Z.getGuildId()))||void 0===V?void 0:V.premiumProgressBarEnabled)&&void 0!==F&&F,viewing_all_channels:!qd.Z.isOptInEnabled(d),num_recent_channels:Lie.Z.recentsChannelCount(d)});(0,Eb.yw)(M.rMx.GUILD_VIEWED,Y)}else if(!h||null!=d||E!==M.Z5c.FRIENDS||e.connected&&y===e.friendsTabSection&&E===e.homeLink){if(h&&null==d&&E===M.Z5c.MESSAGE_REQUESTS&&(!e.connected||E!==e.homeLink)&&!this.isMessageRequestsInitialized){this.isMessageRequestsInitialized=!0;Ce.default.track(M.rMx.MESSAGE_REQUESTS_INITIALIZED,{num_message_requests:T})}}else Ce.default.track(M.rMx.FRIENDS_LIST_VIEWED,Bie({tab_opened:y},wie()));if(h&&null!=f&&(!e.connected||f!==e.selectedChannelId||d!==e.selectedGuildId)){var W=(0,Eb.KG)(I.Z.getChannel(f),!0);(0,Eb.yw)(M.rMx.CHANNEL_OPENED,Bie({channel_is_nsfw:m,parent_id:p,can_send_message:S},W));_&&(0,Eb.yw)(M.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:m})}};r.getGameMetadata=function(){return{
game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}};r.render=function(){return null};return n}(o.PureComponent);function qie(){var e,t,n,o,i,a=Yie((0,s.Wu)([A.Z],(function(){return[A.Z.getVoiceChannelId(),A.Z.getChannelId()]}),[]),2),c=a[0],l=a[1],u=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(l)}),[l]),f=(0,s.e7)([eb.Z],(function(){return null!=(null==u?void 0:u.id)&&eb.Z.getChatOpen(u.id)}),[u]),d=null==u?void 0:u.nsfw,p=null!==(e=null==u?void 0:u.parent_id)&&void 0!==e?e:void 0,h=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(c)}),[c]),E=(0,s.e7)([P.Z],(function(){return P.Z.getGuildId()}),[]),y=(0,s.e7)([kt.Z],(function(){return kt.Z.getGuild(E)}),[E]),m=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()}),[]),b=(0,s.e7)([ls.ZP],(function(){var e;return null!=m&&null!=E&&(null!==(t=null===(e=ls.ZP.getMember(E,m.id))||void 0===e?void 0:e.isPending)&&void 0!==t&&t)}),[m,E]),g=(0,
s.e7)([Fz],(function(){return Fz.getState().section}),[]),O=(0,s.e7)([FJ.Z],(function(){return FJ.Z.getHomeLink()}),[]),v=(0,s.e7)([iy.Z],(function(){return iy.Z.isConnected()}),[]),_=Yie((0,s.Wu)([qe.Z],(function(){return[qe.Z.isVideoEnabled(),qe.Z.isScreenSharing()]}),[]),2),S=_[0],T=_[1],N=(0,s.e7)([C.Z],(function(){return C.Z.getChannelId()}),[]),j=(0,s.e7)([Ou.Z],(function(){return Ou.Z.getPrimaryActivity()}),[]),R=(0,s.e7)([Xe.ZP],(function(){return Xe.ZP.getCurrentGame()}),[]),x=(0,s.e7)([C.Z],(function(){return C.Z.getMediaSessionId()}),[]),w=(0,s.e7)([C.Z],(function(){return C.Z.getRTCConnectionId()}),[]),Z=(n=E,0===(i=(0,s.e7)([hT.ZP],(function(){return null!==(o=hT.ZP.getChannels(n)[hT.sH])&&void 0!==o?o:[]}),[n])).length?0:i.filter((function(e){var t=e.channel;return En.Z.can(hl.Z.combine(M.Plq.SEND_MESSAGES,M.Plq.VIEW_CHANNEL),t)})).length),L=(0,s.e7)([En.Z],(function(){return En.Z.can(M.Plq.SEND_MESSAGES,u)})),D=(0,s.e7)([ZB.Z],(function(){
return ZB.Z.getMessageRequestsCount()}),[]),U={selectedChannelId:l,channelParentId:p,isNSFWChannel:d,selectedGuildId:E,friendsTabSection:g,homeLink:O,connected:v,videoEnabled:S,isScreenSharing:T,voiceChannelId:null==h?void 0:h.id,voiceChannelIdJoined:N,voiceChannelGuildId:null==h?void 0:h.getGuildId(),voiceChannelType:null==h?void 0:h.type,voiceChannelBitrate:null==h?void 0:h.bitrate,runningGame:R,runningGamePid:null!=R?R.pid:null,gamePlatform:(0,gp.Z)(j),gameName:null!=j?j.name:null,gameId:null!=j?j.application_id:null,gameExeName:null!=R?R.exeName:null,hasPreviewEnabled:null==y?void 0:y.features.has(M.oNc.PREVIEW_ENABLED),isMemberPending:b,mediaSessionId:x,rtcConnectionId:w,postableChannelCount:Z,isTextInVoice:f,canSendMessage:L,numMessageRequests:D};return(0,r.jsx)(Kie,Bie({},U))}var Xie=n(530853),Qie=n(650331);const $ie=function(e,t){O.Z.dispatch({type:"INCOMING_CALL_MOVE",x:e,y:t})};function Jie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function eae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tae(e){tae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return tae(e)}function nae(e,t){return!t||"object"!==iae(t)&&"function"!=typeof t?eae(e):t}function rae(e,t){rae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return rae(e,t)}function oae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var iae=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function aae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=tae(e);if(t){var o=tae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nae(this,n)}}var sae,cae,lae=Math.pow(3,2);!function(e){e[e.DISABLED=0]="DISABLED";e[e.DEFAULT=1]="DEFAULT"
;e[e.OFFSET=2]="OFFSET"}(sae||(sae={}));!function(e){e.TOP="TOP";e.BOTTOM="BOTTOM";e.RIGHT="RIGHT";e.LEFT="LEFT"}(cae||(cae={}));function uae(e,t,n,r,o){var i=e.top,a=e.bottom,s=e.left,c=e.right;if(null==i&&null==a){i=0;a=n-o}else null==i&&null!=a?i=n-(a+o):null!=i&&(a=n-(i+o));if(null==s&&null==c){s=0;c=t-r}else null==s&&null!=c?s=t-(c+r):null==c&&null!=s&&(c=t-(s+r));if(null==i||null==a||null==s||null==c)throw new Error("Logically this can never happen based on our if/else statements");return{top:i,left:s,bottom:a,right:c}}function fae(e){return[null==e.bottom?cae.TOP:cae.BOTTOM,null==e.right?cae.LEFT:cae.RIGHT]}function dae(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;0===t||t<=r?r=null:t=null;0===n||n<=o?o=null:n=null;return{top:t,left:n,bottom:r,right:o}}function pae(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;if(r<0){t+=r;r=0}if(t<0){r+=t;t=0}if(o<0){n+=o;o=0}if(n<0){o+=n;n=0}return{top:t,left:n,bottom:r,right:o}}function hae(e){return null!=e?"".concat(e,"px"):"auto"}
var Eae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&rae(e,t)}(n,e);var t=aae(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).draggableRef=o.createRef();r._dragStart={x:0,y:0};r.handleMouseDown=function(e){var t=r.position,n=t.top,o=t.left,i=t.bottom,a=t.right,s=r.props,c=s.dragAnywhere,l=s.selector,u=s.maxX,f=s.maxY,d=e.target,p=r.draggableRef.current;if(null!=p&&e.button===M.AeJ.PRIMARY&&(c||null!=d&&null!=l&&""!==l&&null!=d.closest(l))){var h=function(e){var t=e.top;return{x:e.left,y:t}}(uae({top:n,left:o,bottom:i,right:a},u,f,p.clientWidth,p.clientHeight)),E=h.x,y=h.y;r._dragStart={x:e.clientX,y:e.clientY};r._offsetX=e.clientX-E;r._offsetY=e.clientY-y
;window.addEventListener("mousemove",r.handleMouseMove);window.addEventListener("mouseup",r.handleMouseUp)}};r.handleMouseMove=function(e){e.preventDefault();var t=e.clientX,n=e.clientY,o=r.draggableRef.current,i=r.props,a=i.maxX,s=i.maxY,c=i.flipVertical,l=i.flipHorizontal,u=i.onDragStart,f=i.onDrag,d=i.onFlip,p=i.snapOrientation,h=r.state,E=h.dragging,y=h.dragging,m=h.verticalOrientation,b=h.horizontalOrientation,g=!1;if(!(null==o||!E&&(O=r._dragStart,v={x:t,y:n},_=O.x,S=O.y,I=v.x,T=v.y,Math.pow(_-I,2)+Math.pow(S-T,2))<lae)){var O,v,_,S,I,T;E=!0;var N=o.clientWidth,C=o.clientHeight,A=pae(uae({top:n-r._offsetY,left:t-r._offsetX},a,s,N,C));if(p){var P=fae(A=dae(A));m=P[0];b=P[1]}else A={top:A.top,left:A.left};if(l===sae.OFFSET&&b!==r.state.horizontalOrientation){r._offsetX=N-r._offsetX;g=!0}if(c===sae.OFFSET&&m!==r.state.verticalOrientation){r._offsetY=C-r._offsetY;g=!0}r.setDOMPositions(A);y||null==u||u(A,o);null==f||f(A,o);g&&(null==d||d([m,b]));r.setState({dragging:E,
verticalOrientation:m,horizontalOrientation:b,atTopEdge:0===A.top})}};r.handleMouseUp=function(){window.removeEventListener("mousemove",r.handleMouseMove);window.removeEventListener("mouseup",r.handleMouseUp);r.state.dragging&&r.setState({dragging:!1},(function(){var e=r.props.onDragEnd,t=r.draggableRef.current;null!=t&&null!=e&&e(r.position,t)}))};r._checkBoundsRAF=null;r.checkBounds=function(){null!=r._checkBoundsRAF&&cancelAnimationFrame(r._checkBoundsRAF);r._checkBoundsRAF=requestAnimationFrame(r._performCheckBounds)};r._performCheckBounds=function(){var e=eae(r),t=e.position,n=e.state,o=e.draggableRef.current,i=e.props,a=i.maxX,s=i.maxY,c=i.onRelocated,l=i.snapOrientation,u=r.state,f=u.verticalOrientation,d=u.horizontalOrientation;if(null!=o){var p,h=o.clientHeight,E=uae(t,a,s,o.clientWidth,h);E=pae(E);if(l){var y=fae(p=dae(E));f=y[0];d=y[1]}else p={top:E.top,left:E.left,right:null,bottom:null};if(t.left!==p.left||t.right!==p.right||t.top!==p.top||t.bottom!==p.bottom){
null==c||c(p,o);r.setDOMPositions(p);var m=0===p.top;f===n.verticalOrientation&&d===n.horizontalOrientation&&m===n.atTopEdge||r.setState({verticalOrientation:f,horizontalOrientation:d,atTopEdge:m})}}};var i=oae(fae(e.initialPosition),2),a=i[0],s=i[1];r.position=function(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;null==n&&null==o&&(n=0);null!=n&&null!=o&&(o=null);null==t&&null==r&&(t=0);null!=t&&null!=r&&(r=null);return{top:t,left:n,bottom:r,right:o}}(e.initialPosition);r.state={dragging:!1,verticalOrientation:a,horizontalOrientation:s,atTopEdge:0===r.position.top};return r}var i=n.prototype;i.componentDidMount=function(){this.checkBounds();this.setDOMPositions(this.position)};i.componentDidUpdate=function(e,t){var n=this.state,r=n.verticalOrientation,o=n.horizontalOrientation,i=n.atTopEdge,a=this.props,s=a.maxX,c=a.maxY,l=a.onRelocated,u=a.snapOrientation
;(e.maxX!==s||e.maxY!==c||e.onRelocated!==l||e.snapOrientation!==u||t.verticalOrientation!==r||t.horizontalOrientation!==o||t.atTopEdge!==i)&&this.checkBounds()};i.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove);window.removeEventListener("mouseup",this.handleMouseUp)};i.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,o=e.right,i=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:o};if(null!=i){i.style.top=hae(t);i.style.bottom=hae(r);i.style.left=hae(n);i.style.right=hae(o)}};i.render=function(){var e=this.props,t=e.children,n=e.className,i=this.state,a=i.dragging,s=i.verticalOrientation,c=i.horizontalOrientation,l=i.atTopEdge,u=this.position,f=u.top,d=u.left,p=u.right,h={pointerEvents:a?"none":"auto",position:"absolute",top:f,left:d,bottom:u.bottom,right:p};return(0,r.jsx)("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:h,children:o.cloneElement(o.Children.only(t),{
flipped:c===cae.RIGHT,verticalFlipped:s===cae.BOTTOM,checkBounds:this.checkBounds,atTopEdge:l})})};return n}(o.PureComponent);Eae.FlipTypes=sae;Eae.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:sae.DISABLED,flipHorizontal:sae.DISABLED,dragAnywhere:!1};var yae=n(620369),mae=n(930149),bae=n(972271),gae=n(316103),Oae=n(414501),vae=n(459541),_ae=n(366236),Sae=n(299005),Iae=n.n(Sae),Tae=n(480798),Nae=n.n(Tae);function Cae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Aae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Aae(e,t,n[t])}))}return e}
function jae(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Rae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xae={width:232,height:315},Mae={width:232,height:267},wae=475,Zae=267;function Lae(e){var t=e.header,n=qe.Z.getCameraComponent(),i=(0,s.e7)([qe.Z],(function(){return qe.Z.getVideoDeviceId()})),a=(0,bae.Z)();o.useEffect((function(){var e=Y.default.getCurrentUser();if(a&&null!=e){var t=(0,yae.P)(e);(0,mae.FU)(t,i,{track:!1}).catch(M.dG4)}}),[a,i]);return(0,r.jsxs)("div",{className:Iae().previewRoot,children:[(0,r.jsx)(Ix.Z,{}),(0,r.jsx)("div",{className:Iae().preview,children:(0,r.jsx)(n,{disabled:!1,deviceId:i,width:wae,height:Zae})}),(0,r.jsx)("div",{className:Iae().previewChannelHeader,children:t})]})}function Dae(e){
var t=e.canVideo,n=e.channel,o=e.numVideoDevices,i=(0,Wre.Z)(),a=i.cameraUnavailable,s=i.enabled,c=(0,Kre.Z)(n);return(0,r.jsxs)("div",{className:Iae().actions,children:[(0,r.jsx)(gae.d,{iconComponent:Sb.Z,color:"red",className:Iae().actionButton,label:te.Z.Messages.DISMISS,onClick:function(){return Qie.Z.stopRinging(n.id)}}),t&&(0,r.jsx)(jg.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(bre.Z,{onClose:t})},position:jg.ZP.Positions.TOP,align:jg.ZP.Align.CENTER,animation:jg.ZP.Animation.FADE,children:function(e,t){var i=e.onClick,l=t.isShown;return(0,r.jsx)(eoe.C,{join:!0,enabled:s,color:"green",centerButton:!0,hasPermission:c,cameraUnavailable:a,channel:n,onPopoutClick:o>1?i:null,className:Iae().actionButton,popoutOpen:l,onCameraUnavailable:Xre.Z,onChange:function(){d.default.selectVoiceChannel(n.id,!0);(0,X.XU)(M.ME,n.id)}})}}),(0,r.jsx)(Oae.Z,{channel:n,color:"green",centerButton:!0,className:Xp()(Iae().actionButton,Iae().last),onClick:function(){
return d.default.selectVoiceChannel(n.id)}})]})}function Uae(e){var t=e.animatedStyle,n=e.y,i=e.x,a=e.channel,c=Rae(o.useState(!1),2),l=c[0],u=c[1],f=(0,SH.x)(a),d=(0,Yd.ZP)(a),p=Rae((0,s.Wu)([qe.Z],(function(){return[qe.Z.supports($e.AN.VIDEO),Object.keys(qe.Z.getVideoDevices()).length]})),2),h=p[0],E=p[1],y=(0,s.e7)([Qe.Z],(function(){return Qe.Z.isFocused()})),m=(0,s.e7)([eb.Z],(function(){return eb.Z.getMode(a.id)})),b=o.useCallback((function(e){null!=e.top&&null!=e.left&&$ie(e.left,e.top)}),[]),g=(0,im.useSpring)({value:l?1:0,config:jae(Pae({},im.config.stiff),{clamp:!0})});o.useEffect((function(){var e=function(e){e.keyCode===M.yXg.ESCAPE&&Qie.Z.stopRinging(a.id)};window.addEventListener("keydown",e);return function(){return window.removeEventListener("keydown",e)}}),[a]);var O=m===M.WtW.VIDEO&&h&&E>0,v=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(vae.Z,{className:Iae().icon,ringing:y,src:null!=f?f:"",ringingType:vae.Z.RingingType.INCOMING,size:l?_ae.u8.SIZE_40:_ae.u8.SIZE_80}),(0,
r.jsxs)("div",{className:Iae().titleGroup,children:[(0,r.jsx)(q.xv,{className:Iae().title,color:"header-primary",variant:l?"text-md/semibold":"text-lg/semibold",children:d}),(0,r.jsx)(q.xv,{color:"header-secondary",className:Iae().subtitle,variant:l?"text-sm/normal":"text-md/normal",children:m===M.WtW.VOICE?te.Z.Messages.INCOMING_CALL_ELLIPSIS:te.Z.Messages.INCOMING_VIDEO_CALL_ELLIPSIS})]})]}),_=O?xae:Mae;return(0,r.jsx)(Eae,{className:Iae().wrapper,selector:".".concat(Iae().root),initialPosition:{left:i,top:n},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:b,dragAnywhere:!0,children:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(im.animated.div,{className:Xp()(Iae().root,Nae().elevationHigh,Aae({},Iae().previewCamera,l),l?(0,QB.Q)("dark"):null),style:jae(Pae({},t),{width:g.value.interpolate([0,1],[_.width,wae]),minHeight:g.value.interpolate([0,1],[_.height,Zae]),translateX:g.value.interpolate([0,1],[0,-1*Math.abs(wae-_.width)/2])}),children:[l?(0,r.jsx)(Lae,{header:v}):(0,
r.jsx)("div",{className:Iae().mainChannelInfo,children:v}),(0,r.jsx)(Dae,{canVideo:O,channel:a,numVideoDevices:E}),O&&!l?(0,r.jsx)(Q.Co,{size:Q.Co.Sizes.SMALL,fullWidth:!0,look:Q.Co.Looks.LINK,color:Q.Co.Colors.PRIMARY,className:Iae().previewButton,onClick:function(){return u(!0)},children:te.Z.Messages.INCOMING_CALL_PREVIEW_CAMERA}):null]})})})}var kae=n(919870),Gae=n(745456);function Bae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Hae(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Vae={transform:"scale(0.7)",
opacity:0},Fae={transform:"scale(1)",opacity:1};const Yae=function(){var e=(0,s.e7)([A.Z],(function(){return A.Z.getChannelId()})),t=(0,s.Wu)([Dm],(function(){return Dm.getIncomingCalls().filter((function(t){var n=t.channel;return e!==n.id}))})),n=(0,s.e7)([Dm],(function(){return Dm.hasIncomingCalls()})),i=(0,s.e7)([Kd.Z],(function(){return Kd.Z.isSoundDisabled("call_ringing")})),a=(0,s.e7)([Br.Z],(function(){return Br.Z.disableSounds})),c=(0,s.e7)([kae.Z],(function(){return kae.Z.getSoundpack()})),l=o.useRef(!1),u=(0,Xie.Z)((function(){if(c===Gae.YC.CLASSIC){var e=500===ss().random(1,1e3)?"call_ringing_beat":"call_ringing";return(0,Ky.tu)(e,"call_ringing")}return(0,Ky.uk)("call_ringing",c)}),[c]);o.useEffect((function(){return function(){u.stop()}}),[u]);o.useEffect((function(){if(a||i){if(l.current){u.stop();l.current=!1}}else if(n&&!l.current){u.loop();l.current=!0}else if(!n&&l.current){u.stop();l.current=!1}}),[i,a,n,u]);var f=(0,im.useTransition)(t,{keys:function(e){var t
;return null===(t=e.channel)||void 0===t?void 0:t.id},enter:{from:Vae,to:Fae},leave:Vae,config:{mass:1,tension:500,friction:18,clamp:!0}});return f((function(e,t){return(0,r.jsx)(Uae,Hae(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Bae(e,t,n[t])}))}return e}({},t),{animatedStyle:e}))}))};var Wae=n(537546),zae=n(812400),Kae=n(785535),qae=n.n(Kae);function Xae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $ae(e){$ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $ae(e)}function Jae(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ose(e,t)}function ese(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qae(e,t,n[t])}))}return e}function tse(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))
;return e}function nse(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function rse(e,t){return!t||"object"!==ise(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ose(e,t){ose=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ose(e,t)}var ise=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ase(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$ae(e);if(t){var o=$ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rse(this,n)}}var sse,cse=(0,Ii.Un)({createPromise:function(){return n.e(54313).then(n.bind(n,105646))},webpackId:105646,name:"UserSettings"}),lse=(0,Ii.Un)({createPromise:function(){return Promise.all([n.e(40532),n.e(40709),n.e(97621)]).then(n.bind(n,201741))},webpackId:201741,name:"ChannelSettings"}),use=(Qae(sse={},M.S9g.USER_SETTINGS,(function(){return(0,r.jsx)(cse,{})})),Qae(sse,M.S9g.CHANNEL_SETTINGS,(function(){return(0,r.jsx)(lse,{})})),Qae(sse,M.S9g.GUILD_SETTINGS,(function(){return(0,r.jsx)(zae.Z,{})})),sse),fse="SHOWN",dse="HIDDEN",pse={friction:10,tension:100},hse=function(e){Jae(n,e);var t=ase(n);function n(e){Xae(this,n);var r;(r=t.call(this,e)).containerRef=o.createRef();var i=1,a=1;if(e.mode===dse){i=.93;a=0}r.state={
animating:!1,scale:new Di.Z.Value(i),opacity:new Di.Z.Value(a),mode:e.mode};return r}var i=n.prototype;i.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return t===fse&&n===dse?this.animateIn():t===dse&&n===fse?this.animateUnder():void 0};i.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1);r.setValue(0);e();this.setState({animating:!0},(function(){return t.animateIn()}))};i.componentWillLeave=function(e){var t=this;this.setState({animating:!0},(function(){return t.animateOut(e)}))};i.animateIn=function(e){var t=this;s.ZP.Emitter.pause(500);var n=this.state,r=n.opacity,o=n.scale;Di.Z.parallel([Di.Z.spring(r,ese({toValue:1},pse)),Di.Z.spring(o,ese({toValue:1},pse))]).start((function(){return t.animateComplete(e)}))};i.animateOut=function(e){s.ZP.Emitter.pause(500);var t=this.state,n=t.opacity,r=t.scale;Ul.S.dispatch(M.CkL.LAYER_POP_START);Di.Z.parallel([Di.Z.spring(n,ese({toValue:0},pse)),Di.Z.spring(r,ese({toValue:1.1
},pse))]).start((function(){e();Ul.S.dispatch(M.CkL.LAYER_POP_COMPLETE)}))};i.animateUnder=function(){var e=this;s.ZP.Emitter.pause(500);var t=this.state,n=t.opacity,r=t.scale;Di.Z.parallel([Di.Z.spring(n,ese({toValue:0},pse)),Di.Z.spring(r,ese({toValue:.93},pse))]).start((function(){return e.animateComplete()}))};i.animateComplete=function(e){this.setState({animating:!1},e)};i.render=function(){var e,t=this,n=this.state.animating,o=this.props,i=o.mode,a=o.children,s=o.baseLayer,c=nse(o,["mode","children","baseLayer"]),l=n||i===dse?this.getAnimatedStyle():null,u=(0,r.jsx)(Di.Z.div,tse(ese({ref:function(e){return t.containerRef.current=null!=e?e.refs.node:void 0},"aria-hidden":i===dse,className:Xp()(qae().layer,(e={},Qae(e,qae().baseLayer,s),Qae(e,qae().animating,n),Qae(e,"stop-animations",i===dse),e)),style:l},c),{children:a}));return s?u:(0,r.jsx)(q.Eq,{containerRef:this.containerRef,children:u})};i.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return{opacity:t,
transform:this.context.reducedMotion.enabled?void 0:[{scale:n},{translateZ:0}]}};n.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null};return n}(o.PureComponent);hse.defaultProps={baseLayer:!1};hse.contextType=eR.S;var Ese=function(e){Jae(n,e);var t=ase(n);function n(){Xae(this,n);return t.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){var e=this.props.layers;if(e[e.length-1]===M.S9g.USER_SETTINGS){Vp.Z.enable();Vp.Z.enableTemp(Wae.u)}Ul.S.subscribe(M.CkL.LAYER_POP_ESCAPE_KEY,Gp.xf)};o.componentDidUpdate=function(e){var t=this.props,n=t.layers,r=t.hasFullScreenLayer,o=e.layers.length>0||e.hasFullScreenLayer,i=n.length>0||r;!o&&i||i&&n===e.layers&&n[0]===M.S9g.USER_SETTINGS?Vp.Z.enableTemp(Wae.u):o&&!i&&Vp.Z.disableTemp()};o.componentWillUnmount=function(){Ul.S.unsubscribe(M.CkL.LAYER_POP_ESCAPE_KEY,Gp.xf)};o.renderLayers=function(){var e=this,t=this.props,n=t.children,o=t.layers,i=t.hasFullScreenLayer,a=o.length,s=[]
;s.push((0,r.jsx)(hse,{mode:0!==a||i?dse:fse,baseLayer:!0,children:n},"layer-base"));o.forEach((function(t,n){return s.push(e.renderComponent(t,n,a))}));return s};o.renderComponent=function(e,t,n){var o,i=t===n-1;o="string"==typeof e?use[e]():(0,r.jsx)(e,{});return(0,r.jsx)(hse,{mode:i?fse:dse,children:o},"layer-".concat(t))};o.renderArtisanalHack=function(){return(0,r.jsx)("div",{className:Xp()(qae().bg,(0,QB.Q)(this.props.sidebarTheme))})};o.render=function(){return(0,r.jsxs)(r.Fragment,{children:[this.renderArtisanalHack(),(0,r.jsx)(Wq.Z,{component:"div",className:Xp()(qae().layers,this.props.className),children:this.renderLayers()})]})};return n}(o.PureComponent);function yse(e){var t=(0,s.e7)([Wp.Z],(function(){return Wp.Z.darkSidebar}))?M.BRd.DARK:void 0,n=(0,s.e7)([T.Z],(function(){return T.Z.getLayers()})),o=(0,Jh.QP)((function(e){return e.fullScreenLayers.length>0}));return(0,r.jsx)(Ese,tse(ese({},e),{sidebarTheme:t,layers:n,hasFullScreenLayer:o}))}var mse=n(436267)
;function bse(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gse(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ose(e){Ose=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ose(e)}function vse(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _se(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Sse(e,t){return!t||"object"!==Tse(t)&&"function"!=typeof t?bse(e):t}function Ise(e,t){Ise=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ise(e,t)}var Tse=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Nse(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ose(e);if(t){var o=Ose(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sse(this,n)}}var Cse=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ise(e,t)}(n,e);var t=Nse(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).ref=o.createRef();r._animate=function(){var e=bse(r).animProps;if(!r.state.shaking||e.progress>e.duration||null==r.ref.current)r._animationComplete();else{var t=Date.now();e.progress+=t-e.last;e.last=t;if(e.frameCount%2!=0){var n=e.lastDirection*e.intensity,o=ss().random(-e.intensity,e.intensity,!0),i=Math.max(0,Math.cbrt(e.duration-e.progress/1e3));e.intensity*=Math.min(1,i);e.lastDirection*=-1;Oh()(null!=r.ref.current,"Shakeable style set when not mounted");r.ref.current.style.transform="translate3d(".concat(n,"px,").concat(o,"px,0px)")}e.frameCount+=1;r._animationFrame=requestAnimationFrame(r._animate)}}
;r._animationCleanup=function(){null!=r.ref.current&&(r.ref.current.style.transform="");cancelAnimationFrame(r._animationFrame)};r.state={shaking:!1};return r}var i=n.prototype;i.getDefaultAnimProps=function(e,t){return{duration:null!=e?e:300,progress:0,last:Date.now(),intensity:null!=t?t:5,lastDirection:-1,frameCount:0}};i.componentWillUnmount=function(){this._animationCleanup()};i.shake=function(e,t){this.animProps=this.getDefaultAnimProps(e,t);this.state.shaking||this.setState({shaking:!0},this._animate)};i.stop=function(){this.state.shaking&&this.setState({shaking:!1})};i._animationComplete=function(){this.setState({shaking:!1},this._animationCleanup)};i.render=function(){var e=this.props,t=e.children,n=_se(e,["children"]);return(0,r.jsx)("div",vse(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gse(e,t,n[t])}))}return e}({},n),{ref:this.ref,children:t}))};return n}(o.Component);const Ase=Cse;var Pse=n(542729),jse=n.n(Pse);function Rse(){var e=o.useRef(null),t=o.useCallback((function(t){var n=t.duration,r=t.intensity;if(!E.Z.useReducedMotion&&Qe.Z.isFocused()){var o=e.current;Oh()(null!=o,"Shakeable is shaken when not mounted");o.shake(n,r)}}),[]);o.useEffect((function(){Vp.Z.setLayout(om.ZP);Vp.Z.enable();return function(){return Vp.Z.disable()}}),[]);o.useEffect((function(){Ul.S.subscribe(M.CkL.SHAKE_APP,t);return function(){Ul.S.unsubscribe(M.CkL.SHAKE_APP,t)}}),[t]);!function(){var e=(0,s.e7)([Dm],(function(){return Dm.hasIncomingCalls()})),t=(0,s.e7)([mm.Z,ps.Z,Kd.Z],(function(){var e=mm.Z.getTotalMentionCount(),t=ps.Z.getPendingCount(),n=mm.Z.hasAnyUnread(),r=Kd.Z.getDisableUnreadBadge(),o=e+t;0===o&&n&&!r&&(o=-1);return o}));o.useEffect((function(){if(e){
var t=vs.default.bounceDock("critical"),n=(0,ym.EM)({messages:[te.Z.Messages.INCOMING_CALL],count:50});return function(){null==t||t();n()}}}),[e]);o.useEffect((function(){km(t)}),[t]);o.useEffect((function(){return function(){return km(0)}}),[])}();return(0,r.jsxs)(Ase,{ref:e,className:jse().app,children:[(0,r.jsxs)(yse,{className:jse().layers,children:[(0,r.jsx)(Mie,{}),(0,r.jsx)(mse.Z,{})]}),(0,r.jsx)(Qm,{}),(0,r.jsx)(rm,{}),(0,r.jsx)(qie,{}),(0,r.jsx)(fm.Z,{}),(0,r.jsx)(um,{}),(0,r.jsx)(Yae,{})]})}const xse=o.memo(Rse);var Mse=n(542433),wse=n(918513),Zse=n(678114),Lse=n.n(Zse);function Dse(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Use(e){Use=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Use(e)}function kse(e,t){return!t||"object"!==Bse(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gse(e,t){Gse=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Gse(e,t)}var Bse=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Hse(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Use(e);if(t){var o=Use(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kse(this,n)}}var Vse=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Gse(e,t)}(n,e)
;var t=Hse(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o,i;(o=t.call(this,e)).videoRef=null;o._noProblemsTimeout=null;o._problemsTimeout=null;o._connectedSound=o.createSound();o._loadingText=(i=[te.Z.Messages.ACCESSIBILITY_LOADING_TIP_1,te.Z.Messages.ACCESSIBILITY_LOADING_TIP_2,te.Z.Messages.ACCESSIBILITY_LOADING_TIP_3,te.Z.Messages.ACCESSIBILITY_LOADING_TIP_4,te.Z.Messages.ACCESSIBILITY_LOADING_TIP_5,te.Z.Messages.ACCESSIBILITY_LOADING_TIP_6.format({tabHook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"tab",className:Lse().keybind},t)}}),te.Z.Messages.ACCESSIBILITY_LOADING_TIP_7,te.Z.Messages.ACCESSIBILITY_LOADING_TIP_8,te.Z.Messages.ACCESSIBILITY_LOADING_TIP_9,te.Z.Messages.ACCESSIBILITY_LOADING_TIP_10.format({F6Hook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"f6",className:Lse().keybind},t)},tabHook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"tab",className:Lse().keybind},t)}
}),te.Z.Messages.LOADING_LINE_1,te.Z.Messages.LOADING_LINE_2,te.Z.Messages.LOADING_LINE_3,te.Z.Messages.LOADING_LINE_4,te.Z.Messages.LOADING_LINE_5,te.Z.Messages.LOADING_LINE_6,te.Z.Messages.LOADING_LINE_7,te.Z.Messages.LOADING_LINE_8,te.Z.Messages.LOADING_LINE_9,te.Z.Messages.LOADING_LINE_10,te.Z.Messages.LOADING_LINE_11,te.Z.Messages.LOADING_LINE_12,te.Z.Messages.LOADING_LINE_13,te.Z.Messages.LOADING_LINE_14,te.Z.Messages.LOADING_LINE_15,te.Z.Messages.LOADING_TIP_1,te.Z.Messages.LOADING_TIP_2,te.Z.Messages.LOADING_TIP_3,te.Z.Messages.LOADING_TIP_4,te.Z.Messages.LOADING_TIP_5,te.Z.Messages.LOADING_TIP_6,te.Z.Messages.LOADING_TIP_7,te.Z.Messages.LOADING_TIP_8,te.Z.Messages.LOADING_TIP_9,te.Z.Messages.LOADING_TIP_10,te.Z.Messages.LOADING_TIP_11,te.Z.Messages.LOADING_TIP_12,te.Z.Messages.LOADING_TIP_13,te.Z.Messages.LOADING_TIP_14,te.Z.Messages.LOADING_TIP_15,te.Z.Messages.LOADING_TIP_16,te.Z.Messages.LOADING_TIP_17,te.Z.Messages.LOADING_TIP_18,te.Z.Messages.LOADING_TIP_19,te.Z.Messages.LOADING_TIP_20,te.Z.Messages.LOADING_TIP_21,te.Z.Messages.LOADING_TIP_22,te.Z.Messages.LOADING_TIP_23,te.Z.Messages.LOADING_TIP_24,te.Z.Messages.LOADING_TIP_25,te.Z.Messages.LOADING_TIP_26,te.Z.Messages.LOADING_TIP_27.format({
asterisks:"**"}),te.Z.Messages.LOADING_KEYBIND_TIP_1.format({quickSwitcherHook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"mod+k",className:Lse().keybind},t)}}),te.Z.Messages.LOADING_KEYBIND_TIP_2.format({markUnreadHook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"alt+click",className:Lse().keybind},t)}}),te.Z.Messages.LOADING_KEYBIND_TIP_3.format({markServerUnreadHook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"shift+esc",className:Lse().keybind},t)}}),te.Z.Messages.LOADING_KEYBIND_TIP_4.format({navigateUnreadHook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"shift+alt+up",className:Lse().keybind},t)},downHook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"down",className:Lse().keybind},t)}}),te.Z.Messages.LOADING_KEYBIND_TIP_5.format({keyboardShortcutsHook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"mod+/",className:Lse().keybind},t)}}),te.Z.Messages.LOADING_KEYBIND_TIP_6.format({messageNewlineHook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"shift+return",
className:Lse().keybind},t)}}),te.Z.Messages.LOADING_KEYBIND_TIP_7.format({shiftHook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"shift",className:Lse().keybind},t)}}),te.Z.Messages.LOADING_KEYBIND_TIP_8.format({upHook:function(e,t){return(0,r.jsx)(am.Z,{shortcut:"up",className:Lse().keybind},t)}})])[ss().random(i.length-1)];o.handleReady=function(){o.setState({ready:!0});if((0,Gt.nI)()){vs.default.send("UPDATED_QUOTES",["Hold Tight — Loading Discord"]);vs.default.send("UPDATE_OPEN_ON_STARTUP")}};o.setVideoRef=function(e){o.videoRef=e};o.setProblemsTimeout=function(){null==o._problemsTimeout&&(o._problemsTimeout=setTimeout((function(){return o.setState({problems:!0})}),1e4))};o.clearProblemsTimeout=function(){clearTimeout(o._problemsTimeout);o._problemsTimeout=null};var a=e.connected;o.state={ready:a,hide:a,problems:!1,shouldRender:!a,opacity:new Di.Z.Value(a?0:1)};o._connectedSound.volume=1;return o}var o=n.prototype;o.createSound=function(){var e=this.props.soundpack,t=(0,
Ky.uk)("discodo",e);t.volume=1;return t};o.componentDidMount=function(){this.setProblemsTimeout()};o.componentDidUpdate=function(e,t){var n=this,r=this.state,o=r.ready,i=r.hide,a=r.problems,s=r.opacity,c=this.props,l=c.connected,u=c.soundpack,f=c.reducedMotion,d=l&&o&&!i&&!a;e.soundpack!==u&&(this._connectedSound=this.createSound());if(e.connected!==l||d)if(l&&null!=this.videoRef){var p=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout);Ne.Z.get(M.wli)&&this._connectedSound.play();f?this.setState({problems:!1,hide:l}):this._noProblemsTimeout=setTimeout((function(){n.setState({problems:!1,hide:l})}),p)}else this.setState({problems:!1,hide:l});else if(t.hide!==i){i?this.clearProblemsTimeout():this.setProblemsTimeout();this.setState({shouldRender:!0});Di.Z.timing(s,{toValue:i?0:1,duration:200}).start((function(){return n.setState({shouldRender:!i})}))}else t.problems!==a&&a&&FQ.Z.checkIncidents()}
;o.componentWillUnmount=function(){this.clearProblemsTimeout();clearTimeout(this._noProblemsTimeout)};o.render=function(){if(this.state.shouldRender){var e=this._loadingText,t=null;if(null!=this.props.incident){e=this.props.incident.name;t=this.props.incident.incident_updates[0].body}return(0,r.jsxs)(Di.Z.div,{className:Lse().container,style:{opacity:this.state.opacity},children:[(0,r.jsxs)("div",{className:Lse().content,children:[(0,r.jsx)(wse.Z,{autoPlay:!0,loop:!this.props.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?Lse().ready:""}),(0,r.jsxs)("div",{className:Lse().text,children:[null!=this.props.incident?null:(0,r.jsx)("div",{className:Lse().tipTitle,children:te.Z.Messages.LOADING_DID_YOU_KNOW}),(0,r.jsx)("div",{className:null!=this.props.incident?Lse().title:Lse().tip,children:e}),(0,r.jsx)("div",{className:Lse().body,children:t})]})]}),(0,r.jsxs)("div",{className:Xp()(Lse().problems,Dse({},Lse().slideIn,this.state.problems)),
children:[(0,r.jsx)("div",{className:Lse().problemsText,children:te.Z.Messages.CONNECTING_PROBLEMS_CTA}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(LT.Z,{className:Lse().twitterLink,href:(0,V8.Z)(M.RK.TWITTER),target:"_blank",children:[(0,r.jsx)(W8.Z,{className:Lse().icon}),te.Z.Messages.TWEET_US]}),(0,r.jsxs)(LT.Z,{className:Lse().statusLink,href:M.yXt.STATUS,target:"_blank",children:[(0,r.jsx)(xQ,{className:Lse().icon}),te.Z.Messages.SERVER_STATUS]})]})]})]})}return null};return n}(o.PureComponent);const Fse=s.ZP.connectStores([iy.Z,Mse.Z,kae.Z,E.Z],(function(){return{isTryingToConnect:iy.Z.isTryingToConnect(),connected:iy.Z.isConnected(),incident:Mse.Z.getIncident(),soundpack:kae.Z.getSoundpack(),reducedMotion:E.Z.useReducedMotion}}))((function(e){var t=e.isTryingToConnect,n=e.connected,o=e.incident,i=e.soundpack,a=e.reducedMotion;return t?(0,r.jsx)(Vse,{reducedMotion:a,soundpack:i,connected:n,incident:o}):null}));var Yse=n(143905);n(737949);function Wse(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zse(e){zse=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return zse(e)}function Kse(e,t){return!t||"object"!==Qse(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qse(e,t){qse=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return qse(e,t)}var Xse,Qse=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=zse(e);if(t){var o=zse(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return Kse(this,n)}}var Jse=new Ru.V7,ece=3e5;function tce(){if(null!=Xse){ck.Z.sendBotMessage(Xse,te.Z.Messages.BOT_CALL_IDLE_DISCONNECT);d.default.selectVoiceChannel(null)}}var nce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&qse(e,t)}(n,e);var t=$se(n);function n(){Wse(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(j.Z)};r.__getLocalVars=function(){return{currentChannelId:Xse,_timeout:Jse,IDLE_TIMEOUT:ece}};return n}(s.ZP.Store);nce.displayName="CallIdleStore";new nce(O.Z,{CONNECTION_CLOSED:function(){Xse=null;Jse.stop()},VOICE_STATE_UPDATES:function(e){return e.voiceStates.reduce((function(e,t){if(null!=t.guildId)return e;var n=j.Z.getCurrentClientVoiceChannelId(null);if(null==n){Jse.stop();return e}
if(1===zy.ZP.countVoiceStatesForChannel(n)){Xse=n;Jse.start(ece,tce,!1)}else Jse.stop();return e}),!1)}});n(978812),n(358434),n(86111),n(766243),n(884825);var rce=n(351621);function oce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ice(e){ice=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ice(e)}function ace(e,t){return!t||"object"!==cce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sce(e,t){sce=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return sce(e,t)}var cce=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function lce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ice(e);if(t){var o=ice(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ace(this,n)}}var uce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&sce(e,t)}(n,e);var t=lce(n);function n(){oce(this,n);return t.apply(this,arguments)}n.prototype.__getLocalVars=function(){return{NOTIFICATION_ICON_SIZE:64}};return n}(s.ZP.Store);uce.displayName="UserAchievementStore";new uce(O.Z,{USER_ACHIEVEMENT_UPDATE:function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete&&null!=r){var o=wn.Z.getGame(n),i=null!=o?o.getIconURL(64):null;rce.default.showNotification(i,r.name,r.description,{
notif_type:"USER_ACHIEVEMENT_UPDATE"},{omitViewTracking:!0})}}});n(74922),n(662912),n(381807),n(276546),n(292074),n(763696),n(695489),n(201055),n(924750),n(820294),n(408247),n(835104),n(617668),n(537204);var fce=n(222419);n(941361),n(829568),n(852453),n(9080),n(215219),n(635448);function dce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pce(e){pce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return pce(e)}function hce(e,t){return!t||"object"!==yce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ece(e,t){Ece=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ece(e,t)}var yce=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=pce(e);if(t){var o=pce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hce(this,n)}}var bce=288e5,gce={};function Oce(e){if(null==e||e===M.ME||e===M.I_8)return!1;var t,n=null!==(t=gce[e])&&void 0!==t?t:0;if(Date.now()<=n+bce)return!1;gce[e]=Date.now();Ce.default.track(M.rMx.HIGHLIGHTS_TEST_LOADED,{guild_id:e})}var vce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ece(e,t)}(n,e);var t=mce(n);function n(){dce(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(P.Z);null!=e&&(gce=e.lastHighlightsLoadMillis)}
;r.getState=function(){return{lastHighlightsLoadMillis:gce}};r.__getLocalVars=function(){return{FETCH_HIGHLIGHTS_THRESHOLD_MILLIS:bce,lastHighlightsLoadMillis:gce}};return n}(s.ZP.PersistedStore);vce.displayName="HighlightsTestStore";vce.persistKey="HighlightsTestStore";new vce(O.Z,{CONNECTION_OPEN:function(){return Oce(P.Z.getGuildId())},CHANNEL_SELECT:function(e){return Oce(e.guildId)}});var _ce=n(770431);function Sce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ice(e){Ice=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ice(e)}function Tce(e,t){return!t||"object"!==Cce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nce(e,t){Nce=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Nce(e,t)}var Cce=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ace(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ice(e);if(t){var o=Ice(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tce(this,n)}}var Pce={};function jce(e,t){var n=Pce[e];if(null==n)return!1;if(n.has(t))return!1;Pce[e]=new Set(n.add(t));return!0}var Rce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Nce(e,t)}(n,e);var t=Ace(n);function n(){Sce(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){
this.waitFor(nr.default,kt.Z);Pce={};null!=e&&Object.keys(e).forEach((function(t){var n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(Pce[t]=new Set(n))}))};r.getProgress=function(e){return Pce[e]};r.hasProgress=function(e){var t=Pce[e];return null!=t&&!t.has(_ce.Rg.DISMISSED)};r.getState=function(){return Pce};r.__getLocalVars=function(){return{guildProgress:Pce}};return n}(s.ZP.PersistedStore);Rce.displayName="GuildProgressStore";Rce.persistKey="GuildProgressStore";new Rce(O.Z,{CONNECTION_OPEN:function(){var e=[];Object.keys(Pce).forEach((function(t){Pce[t].has(_ce.Rg.COMPLETED)&&e.push(t)}));e.forEach((function(e){return jce(e,_ce.Rg.DISMISSED)}))},GUILD_PROGRESS_INITIALIZE:function(e){var t=e.guildId;null==Pce[t]&&(Pce[t]=new Set);Pce[t].has(_ce.Rg.COMPLETED)||Pce[t].delete(_ce.Rg.DISMISSED)},GUILD_PROGRESS_COMPLETED_SEEN:function(e){var t=e.guildId;if(null==Pce[t])return!1;Pce[t]=new Set(Pce[t].add(_ce.Rg.COMPLETED))},GUILD_PROGRESS_DISMISS:function(e){
return jce(e.guildId,_ce.Rg.DISMISSED)},GUILD_CREATE:function(e){var t=e.guild,n=t.id,r=t.member_count,o=kt.Z.getGuild(n);if(null==o)return!1;if(o.ownerId===nr.default.getId()&&null!=Pce[o.id]){null!=o.icon&&Pce[o.id].add(_ce.Rg.AVATAR);r>1&&Pce[o.id].add(_ce.Rg.INVITE)}},CHANNEL_CREATE:function(e){var t=e.channel;return null!=t&&null!=t.guild_id&&null!=Pce[t.guild_id]&&jce(t.guild_id,_ce.Rg.CHANNEL)},CHANNEL_UPDATES:function(e){var t=e.updates,n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value.channel;null!=c&&null!=c.guild_id&&null!=Pce[c.guild_id]&&!1!==jce(c.guild_id,_ce.Rg.CHANNEL)&&(n=!0)}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){var t=e.guild;return null!=t&&(null!=t.id&&null!=Pce[t.id]&&null!=t.icon&&jce(t.id,_ce.Rg.AVATAR))},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=I.Z.getChannel(t)
;return n.author.id===nr.default.getId()&&null!=r&&null!=Pce[r.guild_id]&&jce(r.guild_id,_ce.Rg.MESSAGE)},GUILD_MEMBER_LIST_UPDATE:function(e){var t=e.guildId,n=e.memberCount;return null!=Pce[t]&&n>1&&jce(t,_ce.Rg.INVITE)}});n(45451),n(574503),n(366563),n(267651),n(7564),n(618451),n(739388);var xce=n(414954),Mce=n(451),wce=n(819525);function Zce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dce(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Uce(e,t,n){Uce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kce(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}};return Uce(e,t,n||e)}function kce(e){
kce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return kce(e)}function Gce(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Bce(e,t){return!t||"object"!==Fce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hce(e,t){Hce=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Hce(e,t)}function Vce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fce=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Yce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kce(e);if(t){var o=kce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bce(this,n)}}var Wce=new Mn.Z("ChannelMessagePreviewStore"),zce={connected:!1,latestChannelMessages:{}},Kce=1e3;var qce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Hce(e,t)}(n,e);var t=Yce(n);function n(){Lce(this,n);var e;(e=t.apply(this,arguments)).throttledAppStatePersist=ss().throttle((function(){return e.persist()}),Kce,{leading:!1});return e}var r=n.prototype;r.initialize=function(e){if(null!=(null==e?void 0:e.latestChannelMessages)){
ss().update(e,"latestChannelMessages",(function(e){return ss().chain(e).entries().map((function(e){var t=Vce(e,2),n=t[0],r=t[1];return[n,new Mce.Z(r)]})).fromPairs().value()}));ss().merge(zce.latestChannelMessages,null==e?void 0:e.latestChannelMessages)}this.waitFor(fce.Z,nr.default)};r.persist=function(){Wce.verbose("Persisting store");Uce(kce(n.prototype),"persist",this).call(this)};r.getState=function(){var e;return Gce(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Dce(e,t,n[t])}))}return e}({},zce),{latestChannelMessages:ss().chain(zce.latestChannelMessages).entries().map((function(t){var n,r=Vce(t,2),o=r[0],i=r[1];return[o,null!==(e=null===(n=i.toJS)||void 0===n?void 0:n.call(i))&&void 0!==e?e:void 0]})).fromPairs().value()})}
;r.latestMessage=function(e){return zce.latestChannelMessages[e]};r.latestMessages=function(){return zce.latestChannelMessages};r.__getLocalVars=function(){return{logger:Wce,state:zce,MAX_WRITE_THROTTLE_MS:6e4,MAX_FORCE_WRITE_THROTTLE_MS:Kce,store:Xce}};return n}(s.ZP.PersistedStore);qce.displayName="ChannelMessagePreviewStore";qce.persistKey="ChannelMessagePreviewStore";qce.throttleDelay=6e4;var Xce=new qce(O.Z,{CONNECTION_OPEN:function(){zce.connected=!0;return!1},CONNECTION_CLOSED:function(){zce.connected=!1;return!1},MESSAGE_CREATE:function(e){var t=e.message;if(!(0,xce.cn)())return!1;var n=zce.latestChannelMessages[t.channel_id];if(null==n||bo.Z.extractTimestamp(t.id)>bo.Z.extractTimestamp(null==n?void 0:n.id)){var r=(0,wce.e5)(t);if(null!=r){zce.latestChannelMessages[t.channel_id]=r;return!0}}return!1},CHANNEL_MESSAGE_PREVIEW_LOAD_MESSAGES:function(e){var t=e.messages;if(!(0,xce.cn)())return!1;var n=!0,r=!1,o=void 0;try{
for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;zce.latestChannelMessages[s.channel_id]=(0,wce.e5)(s)}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},LOAD_MESSAGES_SUCCESS:function(e){var t=e.messages;if(!(0,xce.cn)())return!1;var n=(0,wce.e5)(t[0]),r=zce.latestChannelMessages[n.getChannelId()];bo.Z.compare(n.getChannelId(),null==r?void 0:r.getChannelId())>-1&&(zce.latestChannelMessages[n.getChannelId()]=n)},APP_STATE_UPDATE:function(e){var t=e.state;((0,Gt.Dt)()?M.$7l.BACKGROUND:M.$7l.INACTIVE)===t&&zce.connected&&Xce.throttledAppStatePersist();return!1},WINDOW_FOCUS:function(e){e.focused||Xce.throttledAppStatePersist();return!1}});n(492421),n(614503),n(925741),n(11870),n(501887),n(876679),n(882154),n(668479),n(107025),n(852787);function Qce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ce(e){$ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return $ce(e)}function Jce(e,t){return!t||"object"!==tle(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ele(e,t){ele=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ele(e,t)}var tle=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function nle(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$ce(e);if(t){var o=$ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jce(this,n)}}
var rle,ole="ActivityTrackingStore",ile=18e5,ale=3e5,sle=null!==(rle=Ne.Z.get(ole))&&void 0!==rle?rle:{},cle={},lle=!1;function ule(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&fle(e,!0);var n=cle[e.applicationId];if(null!=n){n.stop();delete cle[e.applicationId]}delete sle[e.applicationId];Ne.Z.set(ole,sle)}function fle(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>21e5&&(r=0);hu.Z.updateActivity({applicationId:e.applicationId,distributor:e.isDiscordApplication?M.GQo.DISCORD:e.distributor,shareActivity:(0,F0.OT)(e.applicationId,Gn.Z),token:e.token,duration:Math.floor(r/1e3),closed:t});e.updatedAt=n;var o=cle[e.applicationId];null==o&&(o=cle[e.applicationId]=new Ru.Xp).start(ile,(function(){return fle(e)}));if(!t){sle[e.applicationId]=e;Ne.Z.set(ole,sle)}}function dle(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Xe.ZP.getRunningGames(),n=new Set,r=!0,o=!1,i=void 0;try{
for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,l=c.name,u=c.distributor,f=wn.Z.getGameByName(l);if(null!=f){n.add(f.id);f.id in sle||fle({applicationId:f.id,updatedAt:Date.now(),distributor:u})}}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}var d=!0,p=!1,h=void 0;try{for(var E,y=Object.keys(sle)[Symbol.iterator]();!(d=(E=y.next()).done);d=!0){var m=E.value;n.has(m)||ule(sle[m],e)}}catch(e){p=!0;h=e}finally{try{d||null==y.return||y.return()}finally{if(p)throw h}}}function ple(){var e=!0,t=!1,n=void 0;try{for(var r,o=Object.keys(sle)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;ule(sle[i])}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}lle=!1}var hle=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&ele(e,t)}(n,e);var t=nle(n);function n(){Qce(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Xe.ZP,dt.Z,Gn.Z);this.syncWith([dt.Z],dle)};r.getActivities=function(){return sle};r.__getLocalVars=function(){return{STORAGE_KEY:ole,ACTIVITY_WINDOW:ile,ACTIVITY_WINDOW_GRACE_PERIOD:ale,CLOSE_AUTHENTICATION_FAILED:4004,applicationActivities:sle,applicationIntervals:cle,hasUpdatedOnConnectionOpen:lle}};return n}(s.ZP.Store);hle.displayName="ActivityTrackingStore";new hle(O.Z,{RUNNING_GAMES_CHANGE:function(){return dle()},CONNECTION_OPEN:function(){if(lle)return!1;var e=!0,t=!1,n=void 0;try{for(var r,o=Object.keys(sle)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;fle(sle[i])}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}dle(!1);lle=!0},CONNECTION_CLOSED:function(e){4004===e.code&&ple()},LOGOUT:ple,ACTIVITY_UPDATE_SUCCESS:function(e){var t=e.applicationId,n=e.token,r=sle[t]
;if(null==r)return!1;r.token=n;Ne.Z.set(ole,sle)},ACTIVITY_UPDATE_FAIL:function(e){var t=e.applicationId,n=sle[t];if(null==n)return!1;n.token=null;n.updatedAt=null;Ne.Z.set(ole,sle)}});n(643905),n(406010),n(635395),n(464623),n(577088),n(992141),n(278641),n(107248),n(660582),n(498377),n(488076),n(447887);function Ele(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function mle(e){mle=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return mle(e)}function ble(e,t){return!t||"object"!==Ole(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gle(e,t){gle=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return gle(e,t)}
var Ole=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function vle(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=mle(e);if(t){var o=mle(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ble(this,n)}}var _le=864e5,Sle={},Ile=function(){Sle={guildAffinitiesByGuildId:{},guildAffinities:[],lastFetched:0}};Ile();var Tle=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&gle(e,t)}(n,e);var t=vle(n);function n(){Ele(this,n);return t.apply(this,arguments)}var r=n.prototype
;r.initialize=function(e){null!=e&&(Sle=e);this.waitFor(kt.Z)};r.getState=function(){return Sle};r.getGuildAffinity=function(e){return Sle.guildAffinitiesByGuildId[e]};r.__getLocalVars=function(){return{AFFINITY_DATA_TTL:_le,state:Sle,setDefaultState:Ile}};!function(e,t,n){t&&yle(e.prototype,t);n&&yle(e,n)}(n,[{key:"affinities",get:function(){return Sle.guildAffinities}},{key:"hasRequestResolved",get:function(){return 0!==Sle.lastFetched}}]);return n}(s.ZP.PersistedStore);Tle.displayName="GuildAffinitiesStore";Tle.persistKey="GuildAffinitiesStore";new Tle(O.Z,{CONNECTION_OPEN:function(){Date.now()-Sle.lastFetched>_le&&_s.Z.get({url:M.ANM.GUILD_AFFINITIES,oldFormErrors:!0}).then((function(e){var t=e.body.guild_affinities;O.Z.dispatch({type:"LOAD_GUILD_AFFINITIES_SUCCESS",guildAffinities:t})}),(function(){O.Z.dispatch({type:"LOAD_GUILD_AFFINITIES_FAILURE"})}));return!1},LOAD_GUILD_AFFINITIES_SUCCESS:function(e){var t=e.guildAffinities;Sle.guildAffinities=[]
;Sle.guildAffinitiesByGuildId={};Sle.lastFetched=Date.now();t.forEach((function(e,t){var n=e.affinity,r=e.guild_id,o={score:n,guildId:r,index:t};Sle.guildAffinitiesByGuildId[r]=o;Sle.guildAffinities.push(o)}))},LOGOUT:function(){Ile()}});n(210854),n(835279),n(243256),n(262941),n(287452),n(478063),n(960384),n(909797),n(271981),n(413494),n(520134),n(19710),n(784238),n(149643),n(569395);function Nle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cle(e){Cle=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Cle(e)}function Ale(e,t){return!t||"object"!==jle(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ple(e,t){Ple=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ple(e,t)}var jle=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Rle(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Cle(e);if(t){var o=Cle(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ale(this,n)}}function xle(){return!0}var Mle=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ple(e,t)}(n,e);var t=Rle(n);function n(){Nle(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(fce.Z)};r.getExperimentAssignment=function(e,t){
return fce.Z.getGuildExperimentDescriptor(t,e)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);Mle.displayName="GuildExperimentStore";new Mle(O.Z,{LOGOUT:xle,LOGIN_SUCCESS:xle,CONNECTION_OPEN:xle,EXPERIMENTS_FETCH_SUCCESS:xle,OVERLAY_INITIALIZE:xle,CACHE_LOADED:xle,EXPERIMENTS_FETCH_FAILURE:xle,EXPERIMENT_REGISTER_LEGACY:xle,EXPERIMENT_OVERRIDE_BUCKET:xle});n(133840),n(703863);n(619784);function wle(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zle(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Lle(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zle(i,r,o,a,s,"next",e)}function s(e){Zle(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Dle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ule(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kle(e){kle=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return kle(e)}function Gle(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Fle(e,t)}function Ble(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ule(e,t,n[t])}))}return e}function Hle(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Vle(e,t){return!t||"object"!==Yle(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fle(e,t){Fle=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Fle(e,t)}var Yle=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Wle(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kle(e);if(t){var o=kle(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return Vle(this,n)}}var zle=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop()
;continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};s.ZP.initialize();Bf.loadServer();if(Gt.FB){vs.default.on("USER_SETTINGS_OPEN",(function(){T.Z.getLayers().includes(M.S9g.USER_SETTINGS)||h.Z.open(M.oAB.ACCOUNT)}));vs.default.on("LAUNCH_APPLICATION",(function(e,t){var n=Gn.Z.getActiveLibraryApplication(t);Fy.playApplication(t,n,{analyticsParams:{location:{page:M.ZY5.DIRECT,object:M.qAy.WEB_URL}}})}))}var Kle=s.ZP.connectStores([iy.Z,oy.Z,nr.default],(function(){return{isConnected:iy.Z.isConnected(),defaultRoute:oy.Z.defaultRoute,defaultRouteFallback:oy.Z.fallbackRoute,token:nr.default.getToken()}}))(function(e){Gle(n,e);var t=Wle(n);function n(){Dle(this,n);return t.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){var e=this.props.match;null!=e&&null!=e.params.inviteCode&&function(e){pr.apply(this,arguments)}({code:e.params.inviteCode})};o.render=function(){
var e=this.props,t=e.isConnected,n=e.defaultRoute,o=e.token,i=e.defaultRouteFallback;if(null==o)return(0,r.jsx)(a.l_,{to:M.Z5c.DEFAULT_LOGGED_OUT});if(t){var s=rue(n);return null==s||(s.params.guildId===M.ME||null!=kt.Z.getGuild(s.params.guildId))&&null!=I.Z.getChannel(s.params.channelId)?(0,r.jsx)(a.l_,{to:n}):(0,r.jsx)(a.l_,{to:i})}return null};return n}(o.Component));var qle,Xle=(0,ze.e)(xse,null,{passProps:!1}),Qle=(0,ze.e)((function(e){var t=e.match.params,o=t.applicationId,i=t.section;(0,ay.h)(Lle((function(){var e,t;return zle(this,(function(r){switch(r.label){case 0:return[4,Promise.resolve().then(n.bind(n,414247))];case 1:e=r.sent().ApplicationDirectoryUserExperiment;return(t=e.getCurrentConfig({})).canViewProfile?[4,Promise.resolve().then(n.bind(n,54551))]:[3,3];case 2:(0,r.sent().openApplicationDirectoryModal)({applicationId:o,directoryDisabled:!t.enabled,section:mr(Yse.c,i)});r.label=3;case 3:return[2]}}))})));return(0,r.jsx)(a.l_,{to:oy.Z.defaultRoute})
})),$le=[M.Z5c.GUILD_BOOSTING_MARKETING(":guildId")].concat(function(e){if(Array.isArray(e))return wle(e)}(qle=Array.from(cO.Vg).map((function(e){return M.Z5c.CHANNEL(":guildId",e)})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(qle)||function(e,t){if(e){if("string"==typeof e)return wle(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wle(e,t):void 0}}(qle)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());function Jle(e){var t=e.params,n=t.guildId,r=t.channelId,o=void 0===r?null:r,i=t.messageId,a=void 0===i?null:i,s=t.threadId,c=void 0===s?null:s;return{guildId:null!=n?n:M.ME,channelId:o,messageId:a,threadId:c}}var eue=[{
path:[M.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(":inviteCode")],render:function(e){var t=e.match;return(0,r.jsx)(Kle,{match:t})},isSessionRequired:!0},{path:[M.Z5c.APP],render:function(){return(0,r.jsx)(Kle,{})},isSessionRequired:!0},{path:[M.Z5c.USERS(":id")],render:function(e){var t=e.match,n=e.location,o=(0,i.parse)(n.search).friend_token,s=t.params.id;(0,ay.h)((function(){return(0,bp.m)({userId:s,guildId:M.ME,friendToken:o,analyticsLocation:{section:M.jXE.DIRECT_ROUTE_ACCESS}})}));return(0,r.jsx)(a.l_,{to:oy.Z.defaultRoute})}},{path:[M.Z5c.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:function(e){var t=e.match.params,n=t.gameId,o=t.action;Dy.Z.whenInitialized((function(){Gn.Z.whenInitialized((function(){switch(o){case"launch":var e=Gn.Z.getActiveLibraryApplication(n);if(null==e)return;Fy.playApplication(e.id,e,{analyticsParams:{location:{page:M.ZY5.DIRECT,object:M.qAy.WEB_URL}}});break;case"test-mode":Jn.Z.whenInitialized((function(){return p.Wt(n)}));break
;case"uninstall":var t=Gn.Z.getActiveLibraryApplication(n);if(null==t)return;(0,u.W)(t.id,t.branchId,M.Sbl.URI_SCHEME)}}))}));return(0,r.jsx)(a.l_,{to:M.Z5c.APPLICATION_LIBRARY})}},{path:[M.Z5c.GUILD_CREATE],render:function(){(0,ay.h)((function(){return Dt.Z.openCreateGuildModal({location:"External link"})}));return(0,r.jsx)(a.l_,{to:oy.Z.defaultRoute})}},{path:[M.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?")],render:function(e){var t=e.match.params,n=t.section,o=t.subsection,s=(0,i.parse)(location.search).feature;(0,ay.h)((function(){return _r({section:mr(M.pNK,n),subsection:mr(M.KsC,o),feature:s})}));return(0,r.jsx)(a.l_,{to:oy.Z.defaultRoute})},isSessionRequired:!0},{path:[M.Z5c.CHANGELOGS(":date?")],render:function(e){var t=e.match.params.date,n=qi.Z.changeLog,o=(0,i.parse)(location.search);if(null!=t&&null!=n){if(new Date(t)>new Date(n.date)){var s=o.utm_campaign_current,c=o.utm_content_current,u=o.utm_medium_current,f=o.utm_source_current,d=o.utm_term_current,p=(0,
i.stringify)({utm_campaign_current:s,utm_content_current:c,utm_medium_current:u,utm_source_current:f,utm_term_current:d});window.location="".concat(M.Z5c.CHANGELOGS(),"?").concat(p)}}(0,ay.h)((function(){return l.Z.showChangeLog(o)}));return(0,r.jsx)(a.l_,{to:oy.Z.defaultRoute})},isSessionRequired:!0},{path:[M.Z5c.SETTINGS(":section",":subsection?")],render:function(e){var t,n,o=e.match,s=e.location,c=/-/g,l=null===(t=o.params.section)||void 0===t?void 0:t.toUpperCase().replace(c,"_"),u=null===(n=o.params.subsection)||void 0===n?void 0:n.toUpperCase().replace(c,"_"),f=(0,wE.Z)({}).filter((function(e){var t;return!1===(null===(t=e.predicate)||void 0===t?void 0:t.call(e))})).map((function(e){return e.section}));if(M.oAB.hasOwnProperty(l)&&(["SESSIONS"].includes(l)||!f.includes(M.oAB[l]))&&(null==u||""===u||M.oAB.hasOwnProperty(u)&&!f.includes(M.oAB[u]))){var d=(0,i.parse)(s.search).source;(0,ay.h)((function(){return h.Z.open(M.oAB[l],u,{openWithoutBackstack:!1,impressionSource:d})}))}
return(0,r.jsx)(a.l_,{to:oy.Z.defaultRoute})},isSessionRequired:!0},{path:[M.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(":guildId")],render:function(e){var t=e.match.params.guildId;(0,ay.h)((function(){(0,W.ZD)(Lle((function(){var e,o;return zle(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(19936)]).then(n.bind(n,19936))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Hle(Ble({},e),{guildId:t}))}]}}))})))}));return(0,r.jsx)(a.l_,{to:M.Z5c.CHANNEL(t)})},isSessionRequired:!0},{path:[M.Z5c.APPLICATION_LIBRARY_INVENTORY],render:function(){(0,ay.h)((function(){return h.Z.open(M.oAB.INVENTORY)}));return(0,r.jsx)(a.l_,{to:oy.Z.defaultRoute})},isSessionRequired:!0},{path:[M.Z5c.WELCOME(":guildId?",":channelId?")],render:function(e){var t=e.match.params,n=t.guildId,o=t.channelId;(0,mo.c)(Ao.M5.MARKETING_UNCLAIMED);var i=M.Z5c.CHANNEL(n,o);return(0,r.jsx)(a.l_,{to:i})},isSessionRequired:!0},{
path:[M.Z5c.GUILD_EVENT_DETAILS(":guildId?",":guildEventId")],render:function(e){var t=e.match.params,n=t.guildId,o=t.guildEventId;(0,ay.h)((function(){(0,Er.bO)({eventId:o})}));return(0,r.jsx)(a.l_,{to:M.Z5c.CHANNEL(n)})},isSessionRequired:!0},{path:[M.Z5c.GUILD_SETTINGS(":guildId",":section?",":subsection?")],render:function(e){var t=e.match.params,n=t.guildId,o=t.section,i=t.subsection;(0,ay.h)((function(){yr.Z.open(n,mr(M.pNK,o),void 0,mr(M.KsC,i))}));return(0,r.jsx)(a.l_,{to:M.Z5c.CHANNEL(n)})},isSessionRequired:!0,isChatRoute:!0},{path:[M.Z5c.CHANNEL_THREAD_VIEW(":guildId",":channelId",":threadId"),M.Z5c.CHANNEL(":guildId",":channelId?",":messageId?"),M.Z5c.ACTIVITY,M.Z5c.APPLICATION_LIBRARY,M.Z5c.APPLICATION_STORE,M.Z5c.MESSAGE_REQUESTS,M.Z5c.GUILD_DISCOVERY,M.Z5c.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),M.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),M.Z5c.GUILD_BOOSTING_MARKETING(":guildId"),M.Z5c.FEATURE(":feature")],render:Xle,
isSessionRequired:!0,isChatRoute:!0},{path:[M.Z5c.APPLICATION_DIRECTORY(":applicationId?",":section?")],render:Qle,isSessionRequired:!0}];function tue(e){if(!iy.Z.isConnected()&&!iy.Z.isTryingToConnect()){var t=nr.default.getToken();if(null!=t){var n=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=eue[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,c=s.path;if(s.isSessionRequired){var l=(0,a.LX)(e,{path:c});if(null!=l)return l}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null}(e);null!=n&&c.Z.startSession(t)}}}function nue(e){var t=rue(e);if(null!=t){var n=Jle(t),r=n.guildId,o=n.channelId,i=n.messageId,s=n.threadId,c=(0,is.S)(r),l=(0,is.c)(o),u=(0,is.c)(s),p=P.Z.getGuildId(),h=p!==r;c&&h&&f.Z.selectGuild(r);if(c&&l){var E=A.Z.getChannelId(p),y=E!==o;(h||y||null!=i)&&d.default.selectChannel({guildId:r,channelId:o,messageId:i});if(null!=s&&u){var m=zd.ZP.getCurrentSidebarChannelId(E)
;null!=o&&null!=s&&m!==s&&Qf.Z.openThreadAsSidebar({guildId:r,baseChannelId:o,channelId:s})}else null==o||y||Qf.Z.closeChannelSidebar(o);var b=yo.getIsOpen(),g=y&&b,O=!h&&!y;if(o===cO.oC.ROLE_SUBSCRIPTIONS)oo();else if(h&&b){var v=null==p&&r===M.ME,_=e===M.Z5c.GUILD_DISCOVERY;v||_?oo():io()}else(g||O)&&oo()}else(function(e){return $le.some((function(t){var n;return!0===(null===(n=(0,a.LX)(e,t))||void 0===n?void 0:n.isExact)}))})(e)||(0,X.dL)(oy.Z.fallbackRoute)}}function rue(e){var t=!0,n=!1,r=void 0;try{for(var o,i=eue[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,c=s.path;if(s.isChatRoute){var l=(0,a.LX)(e,{path:c});if(null!=l)return l}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null}function oue(e){var t=e.channelId,n=e.guildId,r=e.pathname;if(iy.Z.isConnected()){(0,X.s1)().location.pathname===r&&(null==I.Z.getChannel(t)?(0,X.dL)(M.Z5c.CHANNEL(n)):(0,X.dL)(r))}}var iue=function(e){Gle(i,e);var t=Wle(i);function i(){
Dle(this,i);var e;(e=t.apply(this,arguments)).historyUnlisten=function(){};e.rewriterUnlisten=function(){};return e}var s=i.prototype;s.componentDidMount=function(){St.initialize();vs.default.setZoomFactor(E.Z.zoom);We.initialize();Bf.init();ut.initialize();Wi.initialize();Kn.initialize();Un();ry.initialize();$n();ma.Z.initialize();no.initialize();y.Z.init();ar();er();qo.initialize();Se.initialize();Rn.initialize();es.initialize();F.initialize();YE.initialize();Li.initialize();g.Z.initialize();sr.Z.init();Tr();Ly();Vy();b.Z.initialize();mp();cy.Z.init();sy.Z.init();fE.init();Nd.initialize();Hd.initialize();kp.initialize();PE();fn.initialize();m.Z.initialize();Xf.initialize();md.initialize();ui.Z.initialize();li.initialize();Si.initialize();Lt.initialize();Nr.Z.init({hasModalOpen:W.$s,openModal:function(){return(0,W.ZD)(Lle((function(){var e,t;return zle(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,553589))];case 1:e=o.sent(),t=e.default
;return[2,function(e){return(0,r.jsx)(t,Ble({},e))}]}}))})))}});en();ro.Z.initialize();rs.Z.initialize();ya.initialize();Da.initialize();$t.initialize();this.rewriterUnlisten=os.Z.addRouteRewriter(this.ensureChannelMatchesGuild);this.historyUnlisten=os.Z.addRouteChangeListener(this.handleHistoryChange)};s.componentWillUnmount=function(){St.terminate();Kn.terminate();ry.terminate();ma.Z.terminate();Wi.terminate();ut.terminate();We.terminate();F.terminate();YE.terminate();g.Z.terminate();es.terminate();Li.terminate();kp.terminate();b.Z.terminate();fn.terminate();ro.Z.terminate();m.Z.terminate();rs.Z.terminate();Xf.terminate();md.terminate();ui.Z.terminate();li.terminate();Si.terminate();Lt.terminate();ya.terminate();Da.terminate();$t.terminate();this.historyUnlisten();this.rewriterUnlisten()};s.handleHistoryChange=function(e){var t=e.pathname;tue(t);nue(t)};s.ensureChannelMatchesGuild=function(e){if(!iy.Z.isConnected())return null;var t=e.pathname,n=rue(t);if(null==n)return null
;var r=Jle(n),o=r.guildId,i=r.channelId,a=r.threadId,s=(0,is.S)(o)&&o!==M.ME&&o!==M.I_8;if(null!=i&&(0,is.c)(i)&&!(0,cO.AB)(i)&&s){var c=I.Z.getChannel(i);if(null==c)Vd.Z.loadThread(i).then((function(){return oue({channelId:i,guildId:o,pathname:t})}));else if(c.guild_id!==o)return{path:M.Z5c.CHANNEL(o),state:e.state};if(null!=a){if(!((0,is.c)(a)&&!(0,cO.AB)(i)))return null;var l=I.Z.getChannel(a);if(null==l)Vd.Z.loadThread(a).then((function(){return oue({channelId:a,guildId:o,pathname:t})}));else if((null==l?void 0:l.parent_id)!==i){Qf.Z.closeChannelSidebar(i);return{path:M.Z5c.CHANNEL(o,i),state:e.state}}}}return null};s.render=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(a.l_,{exact:!0,from:"/channels",to:"/"}),eue.map((function(e){var t=e.path,n=e.render;return(0,r.jsx)(a.AW,{path:t,render:n},t[0])})),(0,r.jsx)(a.l_,{to:"/"})]}),(0,r.jsx)(Fse,{})]})};return i}(o.PureComponent);const aue=iue},552067:(e,t,n)=>{"use strict";n.d(t,{HZ:()=>r,
d$:()=>o,Of:()=>s});var r,o,i=n(213192),a=n.n(i);!function(e){e[e.OTHER=0]="OTHER";e[e.GIFTING_REFUND=1]="GIFTING_REFUND";e[e.BUYERS_REMORSE=2]="BUYERS_REMORSE";e[e.WRONG_PURCHASE=3]="WRONG_PURCHASE";e[e.FORGOT_TO_CANCEL=4]="FORGOT_TO_CANCEL";e[e.SERVER_BOOSTING_COOLDOWN=5]="SERVER_BOOSTING_COOLDOWN";e[e.USER_CONFUSION=6]="USER_CONFUSION";e[e.WANT_TO_SWITCH_TIERS=7]="WANT_TO_SWITCH_TIERS";e[e.DONT_NEED=8]="DONT_NEED"}(r||(r={}));!function(e){e[e.OTHER=0]="OTHER";e[e.ALREADY_REFUNDED=1]="ALREADY_REFUNDED";e[e.NOT_USER_REFUNDABLE_TYPE=2]="NOT_USER_REFUNDABLE_TYPE";e[e.PAST_REFUNDABLE_DATE=3]="PAST_REFUNDABLE_DATE";e[e.ENTITLEMENT_ALREADY_CONSUMED=4]="ENTITLEMENT_ALREADY_CONSUMED";e[e.ALREADY_REFUNDED_PREMIUM=5]="ALREADY_REFUNDED_PREMIUM";e[e.ALREADY_REFUNDED_PREMIUM_GUILD=6]="ALREADY_REFUNDED_PREMIUM_GUILD"}(o||(o={}));var s=Object.freeze(a()({Authorised:null,Error:null}))},72877:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(600075),c=n(365210),l=n(552622),u=n(487502),f=n(668486),d=n(539433),p=n(912551),h=n(959797),E=n(515388),y=n.n(E);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return g(e)}function O(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(n,e);var t=S(n);function n(){m(this,n);return t.apply(this,arguments)}var o=n.prototype;o.getLabel=function(e){return e instanceof l.dm?h.Z.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,p.De)(e.brand),last_4:e.last4
}):e instanceof l.qo?h.Z.Messages.PAYMENT_SOURCE_PAYPAL:e instanceof l.Sf?h.Z.Messages.PAYMENT_SOURCE_SOFORT:e instanceof l.fv?h.Z.Messages.PAYMENT_SOURCE_GIROPAY:e instanceof l.Vg?h.Z.Messages.PAYMENT_SOURCE_PRZELEWY24:e instanceof l.sn?h.Z.Messages.PAYMENT_SOURCE_PAYSAFE_CARD:e instanceof l.o_?h.Z.Messages.PAYMENT_SOURCE_GCASH:e instanceof l.kX?h.Z.Messages.PAYMENT_SOURCE_GRABPAY:e instanceof l.z?h.Z.Messages.PAYMENT_SOURCE_MOMO_WALLET:e instanceof l.Xc?h.Z.Messages.PAYMENT_SOURCE_VENMO:e instanceof l.Om?h.Z.Messages.PAYMENT_SOURCE_KAKAOPAY:e instanceof l.JC?h.Z.Messages.PAYMENT_SOURCE_GOPAY_WALLET:e instanceof l.U4?h.Z.Messages.PAYMENT_SOURCE_BANCONTACT:e instanceof l.jc?h.Z.Messages.PAYMENT_SOURCE_IDEAL_WITH_BANK.format({bank:(0,c.YE)(e.bank)}):e instanceof l.D0?h.Z.Messages.PAYMENT_SOURCE_EPS_WITH_BANK.format({bank:(0,c.Ul)(e.bank)}):h.Z.Messages.PAYMENT_SOURCE_UNKNOWN};o.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return(0,
r.jsx)(s.xv,{className:a()(y().description,n),variant:"text-md/semibold",children:this.getLabel(t)})};o.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,r=null;t instanceof l.dm?r=h.Z.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.E2)(t.expiresMonth,n),year:t.expiresYear}):t instanceof l.qo||t instanceof l.Sf||t instanceof l.Vg?r=t.email:t instanceof l.Xc&&(r="@"+t.username);return r};o.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,o=e.showSubtext,i=e.isForSubscription,a=this.renderSubText();return(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(f.ZP,{type:this.typeString}),(0,r.jsxs)(u.Z,{direction:u.Z.Direction.VERTICAL,className:y().descriptionWrapper,children:[(0,r.jsxs)(u.Z,{align:u.Z.Align.CENTER,children:[this.renderDescription(),t?(0,r.jsx)("div",{className:y().defaultIndicator,children:h.Z.Messages.DEFAULT}):null,i?(0,r.jsx)("div",{className:y().premiumIndicator,children:h.Z.Messages.PAYMENT_SOURCE_SUBSCRIPTION}):null,n.invalid?(0,
r.jsx)("div",{className:y().invalidIndicator,children:h.Z.Messages.PAYMENT_SOURCE_INVALID}):null]}),o&&null!=a?(0,r.jsx)("div",{className:y().subText,children:a}):null]})]})};!function(e,t,n){t&&b(e.prototype,t);n&&b(e,n)}(n,[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof l.qo?f.ZP.Types.PAYPAL:e instanceof l.Sf?f.ZP.Types.SOFORT:e instanceof l.dm?f.ZP.getType(e.brand):e instanceof l.fv?f.ZP.Types.GIROPAY:e instanceof l.Vg?f.ZP.Types.PRZELEWY24:e instanceof l.sn?f.ZP.Types.PAYSAFECARD:e instanceof l.o_?f.ZP.Types.GCASH:e instanceof l.kX?f.ZP.Types.GRABPAY:e instanceof l.z?f.ZP.Types.MOMO_WALLET:e instanceof l.Xc?f.ZP.Types.VENMO:e instanceof l.Om?f.ZP.Types.KAKAOPAY:e instanceof l.JC?f.ZP.Types.GOPAY_WALLET:e instanceof l.U4?f.ZP.Types.BANCONTACT:e instanceof l.D0?f.ZP.Types.EPS:e instanceof l.jc?f.ZP.Types.IDEAL:f.ZP.Types.UNKNOWN}}]);return n}(o.PureComponent);I.defaultProps={isForSubscription:!1,isDefault:!1,showSubtext:!1}},909359:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>_t});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(441143),c=n.n(s),l=n(125447),u=n(791462),f=n(173436),d=n(737325),p=n(977445),h=n(174034),E=n(99250),y=n(490640),m=n(418674),b=n(552622),g=n(514981),O=n(551705),v=n(461061),_=n(298716);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function I(e){I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return I(e)}function T(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}var C=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function A(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&N(e,t)}(n,e);var t=A(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).id=e.id;r.amount=e.amount;r.amountRefunded=e.amountRefunded;r.createdAt=e.createdAt;r.currency=e.currency;r.description=e.description;r.paymentSource=e.paymentSource;r.status=e.status;r.tax=e.tax
;r.taxInclusive=e.taxInclusive;r.subscription=e.subscription;r.skuId=e.skuId;r.skuPrice=e.skuPrice;r.sku=e.sku;r.flags=e.flags;r.downloadableInvoice=e.downloadableInvoice;r.downloadableRefundInvoices=e.downloadableRefundInvoices;r.premiumRefundDisqualificationReasons=e.premiumRefundDisqualificationReasons;return r}n.createFromServer=function(e){var t=null!=e.payment_source?b.ZP.createFromServer(e.payment_source):null,r=null!=e.sku?g.Z.createFromServer(e.sku):null,o=null!=e.subscription?O.Z.createFromServer(e.subscription):null;return new n({id:e.id,createdAt:new Date(e.created_at),currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:t,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,subscription:o,skuId:e.sku_id,skuPrice:e.sku_price,sku:r,downloadableInvoice:e.downloadable_invoice,
downloadableRefundInvoices:e.downloadable_refund_invoices,premiumRefundDisqualificationReasons:e.premium_refund_disqualification_reasons})};!function(e,t,n){t&&S(e.prototype,t);n&&S(e,n)}(n,[{key:"isPurchasedViaApple",get:function(){return this.paymentGateway===v.gg$.APPLE}},{key:"isPurchasedViaGoogle",get:function(){return this.paymentGateway===v.gg$.GOOGLE}},{key:"isPurchasedExternally",get:function(){return this.isPurchasedViaApple||this.isPurchasedViaGoogle}},{key:"isSubscription",get:function(){return null!=this.subscription}},{key:"isPremiumSubscription",get:function(){return null!=this.subscription&&_.dJ.has(this.subscription.planId)}},{key:"isPremiumGuildSubscription",get:function(){return null!=this.subscription&&null!=this.subscription.additionalPlans.find((function(e){var t=e.planId;return _.Z1.has(t)}))}},{key:"isGift",get:function(){return m.yE(this.flags,v.Hrn.GIFT)}},{key:"isPremiumGift",get:function(){return this.isGift&&Object.values(_.Si).includes(this.skuId)}},{
key:"isPreorder",get:function(){return m.yE(this.flags,v.Hrn.PREORDER)}}]);return n}(y.Z);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e){x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return x(e)}function M(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e,t){w=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w(e,t)}function Z(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}var U=[];function k(e){
var t=e.payment,n=P.createFromServer(t),r=U.findIndex((function(e){return e.id===t.id}));if(-1===r){U.push(n);U.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}))}else U[r]=n;U=Z(U)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&w(e,t)}(n,e);var t=D(n);function n(){R(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getPayment=function(e){return U.find((function(t){return t.id===e}))};r.getPayments=function(){return U};r.__getLocalVars=function(){return{payments:U}};return n}(u.ZP.Store);G.displayName="PaymentStore";const B=new G(f.Z,{BILLING_PAYMENTS_FETCH_SUCCESS:function(e){var t=e.payments,n=!0,r=!1,o=void 0;try{for(var i,a=function(){var e=i.value,t=P.createFromServer(e),n=U.findIndex((function(t){return t.id===e.id}));-1!==n?U[n]=t:U.push(t)
},s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)a()}catch(e){r=!0;o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}U.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}));U=Z(U)},PAYMENT_UPDATE:k,BILLING_PAYMENT_FETCH_SUCCESS:k,LOGOUT:function(){U=[]}});var H=n(916957),V=n(720897),F=n(624387),Y=n(487502),W=n(600075),z=n(360240),K=n(169364),q=n(959797),X=n(282230),Q=n.n(X);function $(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function J(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function ee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const te=o.forwardRef((function(e,t){var n=e.currentPageIndex,o=e.numPages,i=e.onChangePage,s=e.children,c=e.className,l=e.showPageCount,u=void 0===l||l,f=ee(e,["currentPageIndex","numPages","onChangePage","children","className","showPageCount"]),d=n<=0,p=n>=o-1;return(0,r.jsxs)("div",J(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$(e,t,n[t])}))}return e}({
className:a()(Q().paginator,c),ref:t},f),{children:[s,(0,r.jsxs)("div",{className:Q().pageActions,children:[(0,r.jsx)(W.P3,{className:a()(Q().pageButtonPrev,$({},Q().disabled,d)),tabIndex:d?-1:0,onClick:d?void 0:function(){return i(n-1)},children:(0,r.jsx)(z.Z,{className:Q().pageButtonIcon,"aria-label":q.Z.Messages.PAGINATION_PREVIOUS})}),u?(0,r.jsx)("div",{className:Q().pageIndicator,children:q.Z.Messages.PAGINATOR_OF_PAGES.format({currentPage:n+1,numPages:o})}):(0,r.jsx)("div",{className:Q().pageIndicator,children:q.Z.Messages.PAGINATOR_CURRENT_PAGE.format({currentPage:n+1})}),(0,r.jsx)(W.P3,{className:a()(Q().pageButtonNext,$({},Q().disabled,p)),tabIndex:p?-1:0,onClick:p?void 0:function(){return i(n+1)},children:(0,r.jsx)(K.Z,{className:Q().pageButtonIcon,"aria-label":q.Z.Messages.PAGINATION_NEXT})})]})]}))}))
;var ne=n(318937),re=n(74030),oe=n(213192),ie=n.n(oe),ae=n(730381),se=n.n(ae),ce=n(709060),le=n(75736),ue=n(673973),fe=n(493266),de=n(367124),pe=n(707955),he=n(277499),Ee=n(892472),ye=n(191940),me=n(693518),be=n(668486),ge=n(757987),Oe=n(414597),ve=n(983067),_e=n(719455),Se=n(370678),Ie=n(732031),Te=n(897576),Ne=n(493316),Ce=n(56435),Ae=n(72877),Pe=(0,n(553494).B)({id:"2021-08_user_initiated_refunds",label:"User Initiated Refunds",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Can refund",config:{enabled:!0}}]});function je(){var e=Pe.getCurrentConfig({}).enabled;Pe.trackExposure({});return e}var Re=n(552067),xe=n(375650),Me=n(89073),we=n.n(Me);function Ze(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Le(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ze(i,r,o,a,s,"next",e)}function s(e){
Ze(i,r,o,a,s,"throw",e)}a(void 0)}))}}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function ke(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ge(e){Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ge(e)}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ke(e,t,n[t])}))}return e}function He(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ve(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e,t){Fe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Fe(e,t)}var Ye=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var o=Ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}var ze=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ke=function(e){return"https://".concat(v.xr4,"/hc/").concat(e.toLowerCase(),"/requests/new?ticket_form_id=360000118612")},qe=[v.epS.DURABLE_PRIMARY,v.epS.DURABLE,v.epS.CONSUMABLE],Xe=ie()({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null,PAYMENT_GATEWAY:null,SKU_STICKER_PACK:null,SUBSCRIPTION_TYPE:null});function Qe(e){switch(e){case Re.d$.ALREADY_REFUNDED_PREMIUM:return q.Z.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_REASON;case Re.d$.ALREADY_REFUNDED_PREMIUM_GUILD:return q.Z.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_GUILD_REASON;case Re.d$.ENTITLEMENT_ALREADY_CONSUMED:
return q.Z.Messages.BILLING_REFUND_ALREADY_CONSUMED_REASON;default:return q.Z.Messages.BILLING_REFUND_GENERIC_REASON}}var $e=[v.PyE.FAILED,v.PyE.REVERSED,v.PyE.CANCELED],Je=[xe.gg.APPLE],et=function(e){var t=e.description,n=e.cost;return(0,r.jsx)("li",{className:we().paymentDetail,children:(0,r.jsxs)(Y.Z,{justify:Y.Z.Justify.BETWEEN,children:[(0,r.jsx)("div",{children:t}),(0,r.jsx)("div",{children:n})]})})},tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Fe(e,t)}(i,e);var t=We(i);function i(){De(this,i);var e;(e=t.apply(this,arguments)).state={expanded:!1};e.refundRules=[{rule:Xe.TIME_PLAYED,canRefund:function(){if(e.isSkuPreorder)return!0;var t=e.timePlayed;return null==t||t.asMilliseconds()<se().duration(2,"hours").asMilliseconds()}},{rule:Xe.PURCHASE_DATE,canRefund:function(){var t=e.props.payment
;if(e.isSkuPreorder)return!0;var n=t.isPremiumSubscription||t.isPremiumGuildSubscription||t.isPremiumGift?5:14;return e.daysSincePurchase<=n}},{rule:Xe.SKU_TYPE,canRefund:function(){var t=e.props.payment;return null==t.sku||t.sku.type!==v.epS.CONSUMABLE}},{rule:Xe.ALREADY_REFUNDED,canRefund:function(){var t=e.props.payment;return t.amountRefunded<t.amount}},{rule:Xe.PAYMENT_STATUS,canRefund:function(){var t=e.props.payment;return!$e.includes(t.status)}},{rule:Xe.PAYMENT_GATEWAY,canRefund:function(){var t=e.props.payment;return null==t.paymentGateway||!Je.includes(t.paymentGateway)}},{rule:Xe.SKU_STICKER_PACK,canRefund:function(){var t=e.props.payment;return null==t.sku||!(0,m.yE)(t.sku.flags,v.l4R.STICKER_PACK)}},{rule:Xe.SUBSCRIPTION_TYPE,canRefund:function(){var t,n,r=e.props.payment;return(null===(t=r.subscription)||void 0===t?void 0:t.type)!==v.NYc.GUILD&&(null===(n=r.subscription)||void 0===n?void 0:n.type)!==v.NYc.APPLICATION}}];e.handleExpandInfo=function(){e.setState({
expanded:!e.state.expanded})};return e}var s=i.prototype;s.validateRefundRules=function(){return this.refundRules.filter((function(e){return!(0,e.canRefund)()})).map((function(e){return e.rule}))};s.renderStatus=function(){var e=this.props.payment;switch(e.status){case v.PyE.PENDING:return(0,r.jsx)("span",{className:we().statusTagGrey,children:q.Z.Messages.BILLING_TAG_PENDING});case v.PyE.FAILED:return(0,r.jsx)("span",{className:we().statusTagRed,children:q.Z.Messages.BILLING_TAG_FAILED});case v.PyE.REFUNDED:return e.amountRefunded!==e.amount?(0,r.jsx)("span",{className:we().statusTagGreen,children:q.Z.Messages.BILLING_TAG_PARTIALLY_REFUNDED}):(0,r.jsx)("span",{className:we().statusTagGreen,children:q.Z.Messages.BILLING_TAG_REFUNDED});case v.PyE.REVERSED:return(0,r.jsx)("span",{className:we().statusTagRed,children:q.Z.Messages.BILLING_TAG_REVERSED});case v.PyE.CANCELED:return(0,r.jsx)("span",{className:we().statusTagRed,children:q.Z.Messages.BILLING_TAG_CANCELED});default:return null}}
;s.renderPrice=function(){var e=this.props.payment,t=e.amount-e.amountRefunded;return(0,r.jsx)("span",{className:we().price,children:(0,Ce.T4)(t,e.currency)})};s.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,i=t.taxInclusive,s=t.tax,c=t.amount,l=t.amountRefunded,u=t.currency;return(0,r.jsxs)("div",{className:a()(we().paymentText,we().paymentBreakdown),children:[null!=t.paymentSource?(0,r.jsx)(Ae.Z,{paymentSource:t.paymentSource,locale:n,descriptionClassName:we().paymentText}):null,(0,r.jsxs)("ul",{children:[!i&&s>0?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(et,{description:t.description,cost:(0,Ce.T4)(c-s,u)}),(0,r.jsx)(et,{description:q.Z.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,Ce.T4)(s,u)})]}):null,(0,r.jsx)(et,{description:q.Z.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,Ce.T4)(c,u)}),l>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et,{description:q.Z.Messages.BILLING_PAYMENT_BREAKDOWN_REFUNDED,cost:(0,Ce.T4)(l,u)}),(0,r.jsx)(et,{
description:q.Z.Messages.BILLING_PAYMENT_BREAKDOWN_NET,cost:(0,Ce.T4)(c-l,u)})]})]})]})};s.renderInvoiceDownload=function(){var e=this.props.payment;return null==e.downloadableInvoice||""===e.downloadableInvoice?null:(0,r.jsxs)("div",{className:we().downloadInvoice,children:[(0,r.jsx)(Ee.Z,{href:e.downloadableInvoice,children:q.Z.Messages.BILLING_DOWNLOAD_INVOICE}),null!=e.downloadableRefundInvoices?e.downloadableRefundInvoices.map((function(e,t){return(0,r.jsx)(Ee.Z,{className:we().downloadRefundInvoice,href:e,children:q.Z.Messages.BILLING_DOWNLOAD_REFUND_INVOICE},t)})):null]})};s.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,i=this.validateRefundRules();if(i.includes(Xe.PAYMENT_GATEWAY)||i.includes(Xe.PAYMENT_STATUS)||i.includes(Xe.ALREADY_REFUNDED)||i.includes(Xe.SKU_STICKER_PACK)||i.includes(Xe.SUBSCRIPTION_TYPE))return null;var a,s=0===i.length,c=Ke(t),l=this.isPremium?5:14
;a=i.includes(Xe.SKU_TYPE)?q.Z.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:c}):s?n.isPreorder&&this.isSkuPreorder?q.Z.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:c}):n.isPremiumSubscription||n.isPremiumGuildSubscription?q.Z.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:l,supportURL:c}):n.isGift?q.Z.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:l,supportURL:c}):q.Z.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:l,playtimeLimit:2,supportURL:c}):n.isGift?q.Z.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:l}):n.isPremiumSubscription||n.isPremiumGuildSubscription?q.Z.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:l}):q.Z.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:l,playtimeLimit:2});this.isPremium&&je()&&(a=null);return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(W.H,{className:we().paymentHeader,children:q.Z.Messages.BILLING_REFUND_HEADER}),(0,r.jsxs)("div",{
className:we().paymentText,children:[(0,r.jsx)("div",{children:a}),this.renderRefundActions(i)]})]})};s.renderRefundCriteria=function(e,t,n,o){return(0,r.jsxs)("div",{className:we().refundCriteria,children:[(0,r.jsx)(W.H,{className:we().refundSubHeader,children:e}),(0,r.jsxs)("div",{className:we().refundIconContainer,children:[(0,r.jsx)(t,{className:we().refundCriteriaIcon}),null!=n&&(0,r.jsx)("div",{children:n})]})]},o)};s.renderRefundActions=function(e){var t,o=this.props,i=o.locale,a=o.payment;if(this.isSkuPreorder||e.includes(Xe.SKU_TYPE))return null;var s,c=e.includes(Xe.PURCHASE_DATE)?_e.Z:ve.Z,l=e.includes(Xe.TIME_PLAYED)||(null===(t=a.premiumRefundDisqualificationReasons)||void 0===t?void 0:t.includes(Re.d$.PAST_REFUNDABLE_DATE))?_e.Z:ve.Z;if(!this.isPremium||!je())return(0,r.jsxs)("div",{className:we().refundActions,children:[(0,r.jsxs)("div",{className:we().refundRules,
children:[this.renderRefundCriteria(a.isPreorder?q.Z.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:q.Z.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER,c,q.Z.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})),a.isSubscription||a.isGift?null:this.renderRefundCriteria(q.Z.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER,l,null!=this.timePlayed?this.timePlayed.humanize():q.Z.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)]}),(0,r.jsx)(Ee.Z,{href:Ke(i),children:q.Z.Messages.BILLING_REFUND_REPORT_A_PROBLEM})]});var u=(null!==(s=a.premiumRefundDisqualificationReasons)&&void 0!==s?s:[Re.d$.OTHER])[0],f=null!=u||0!==e.length||a.isPurchasedExternally;return(0,r.jsxs)("div",{className:we().refundActions,children:[(0,r.jsx)(ge.ZP,{shouldShow:f,text:Qe(u),children:function(e){return(0,r.jsx)(ye.Co,He(Be({},e),{color:ye.Co.Colors.PRIMARY,disabled:f,onClick:function(){return(0,Te.ZD)(Le((function(){var e,t;return ze(this,(function(o){switch(o.label){case 0:
return[4,Promise.all([n.e(40532),n.e(96662)]).then(n.bind(n,796662))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Be({payment:a,reportProblemUrl:Ke(i)},e))}]}}))})))},children:q.Z.Messages.BILLING_REFUND_BUTTON_TEXT}))}}),(0,r.jsx)(Ee.Z,{href:Ke(i),children:q.Z.Messages.BILLING_REFUND_REPORT_A_PROBLEM})]})};s.renderDescription=function(){var e,t,n=this.props,i=n.compactMode,a=n.payment,s=n.application,l=n.stickerPack,u=this.state.expanded,f=a.sku,d=a.subscription,p=null!=a.paymentSource&&v.Uk1.has(a.paymentSource.type);if(null!=d&&0!==d.items.length){var h=[],E=null;if(d.type===v.NYc.PREMIUM)d.items.forEach((function(e){var t=e.planId,n=e.quantity;if((0,re.PV)(t)){h.push(re.ZP.getDisplayName(t,!1,p));E=_.GP[t].skuId}else{h.push("".concat(n>1?"".concat(n,"x "):"").concat(re.ZP.getDisplayName(t,!1,p)));null==E&&(E=_.GP[t].skuId)}}));else if(d.type===v.NYc.GUILD){var y=H.Z.get(d.items[0].planId)
;c()(null!=y,"Guild subscription plan should already have been loaded");var m=y.interval===_.rV.YEAR?q.Z.Messages.YEARLY_GUILD_SUBSCRIPTION:q.Z.Messages.MONTHLY_GUILD_SUBSCRIPTION;h.push(m.format({planName:y.name}));E=y.skuId}else if(d.type===v.NYc.APPLICATION){var b=H.Z.get(d.items[0].planId);c()(null!=b,"Application subscription plan should already have been loaded");null!=s?h.push(q.Z.Messages.MONTHLY_APPLICATION_SUBSCRIPTION_V2.format({tier:null==f?void 0:f.name})):h.push(q.Z.Messages.APPLICATION_SUBSCRIPTION_FROM_DELETED_APPLICATION);E=b.skuId}t=h.join(", ");e=(0,r.jsx)(me.Z,{className:we().descriptionIcon,game:s,size:me.Z.Sizes.XSMALL,skuId:E})}else if(null!=f){t=a.isPreorder?q.Z.Messages.PREORDER_SKU_NAME.format({name:f.name}):f.name;if(null!=l){var g=(0,ue.Zt)(l);e=(0,r.jsx)(fe.ZP,{disableAnimation:!u,isInteracting:u,sticker:g,className:we().descriptionIcon,size:24})}else e=(0,r.jsx)(me.Z,{className:we().descriptionIcon,game:s,size:me.Z.Sizes.XSMALL,skuId:f.id})}else{e=(0,
r.jsx)(Ie.Z,{className:we().descriptionIcon});t=a.description}var O=(0,r.jsx)("div",{className:we().date,children:(0,Ne.vc)(se()(a.createdAt),"MM/DD/YYYY")}),S=a.isGift?(0,r.jsx)(ge.ZP,{text:q.Z.Messages.BILLING_GIFT_PURCHASE_TOOLTIP,children:function(e){return(0,r.jsx)(Se.Z,Be({className:we().giftIcon},e))}}):null;return i?(0,r.jsxs)("div",{className:we().description,children:[e,(0,r.jsxs)("div",{children:[t,O]}),S]}):(0,r.jsxs)(o.Fragment,{children:[O,(0,r.jsxs)("div",{className:we().description,children:[e,(0,r.jsx)("div",{children:t}),S]})]})};s.renderExpandedSection=function(){return(0,r.jsx)(W.P3,{onClick:function(e){return e.stopPropagation()},children:(0,r.jsxs)("div",{className:we().expandedInfo,children:[(0,r.jsx)(W.H,{className:we().paymentHeader,children:q.Z.Messages.BILLING_PURCHASE_DETAILS_HEADER}),this.renderPaymentBreakdown(),this.renderInvoiceDownload(),this.renderRefundDetails()]})})};s.render=function(){
var e=this,t=this.props,n=t.payment,o=t.className,i=t.compactMode,s=this.state.expanded;return(0,r.jsx)(l.mh,{id:n.id,children:function(t){return(0,r.jsxs)(W.P3,He(Be({onClick:e.handleExpandInfo,className:a()(s?we().payment:we().hoverablePayment,o,ke({},we().compact,i)),focusProps:{offset:4}},t),{children:[(0,r.jsxs)(Y.Z,{className:we().summaryInfo,align:Y.Z.Align.CENTER,children:[e.renderDescription(),(0,r.jsxs)("div",{className:we().amount,children:[e.renderStatus(),e.renderPrice()]}),(0,r.jsx)(Oe.Z,{className:we().expand,direction:s?Oe.Z.Directions.UP:Oe.Z.Directions.DOWN})]}),s?e.renderExpandedSection():null]}))}})};!function(e,t,n){t&&Ue(e.prototype,t);n&&Ue(e,n)}(i,[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?se().duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){
var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return se()().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"isPremium",get:function(){var e=this.props.payment;return e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof b.qo?be.ZP.Types.PAYPAL:e instanceof b.dm?be.ZP.getType(e.brand):be.ZP.Types.UNKNOWN}}]);return i}(o.PureComponent);tt.defaultProps={compactMode:!1};function nt(e){var t,n,i=e.payment,a=e.locale,s=e.compactMode,c=e.className,l=null!=i.sku&&qe.includes(i.sku.type)?i.sku.applicationId:null,f=null===(t=i.sku)||void 0===t?void 0:t.applicationId,d=(null===(n=i.subscription)||void 0===n?void 0:n.type)===v.NYc.APPLICATION,p=(0,u.cj)([he.Z,de.Z,pe.Z],(function(){return{
applicationStatistics:null!=l?he.Z.getCurrentUserStatisticsForApplication(l):null,gameApplication:null!=l?de.Z.getGame(l):null,paymentSources:pe.Z.paymentSources}})),h=p.applicationStatistics,E=p.gameApplication,y=p.paymentSources,m=(0,u.e7)([le.Z],(function(){return null!=f?le.Z.getApplication(f):null}));o.useEffect((function(){d&&null!=f&&(0,ce.i6)(f)}),[f,d]);return(0,r.jsx)(tt,{applicationStatistics:h,application:d?m:E,stickerPack:null,paymentSources:y,locale:a,compactMode:s,className:c,payment:i})}var rt=n(582995),ot=n.n(rt);function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function ct(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function lt(e){lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return lt(e)}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ct(e,t,n[t])}))}return e}function ft(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function dt(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function pt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ht(e,t){ht=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ht(e,t)}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=lt(e);if(t){var o=lt(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return pt(this,n)}}var bt=10;function gt(e){var t=e.payments,n=e.locale,i=e.compactMode,s=e.numPages,c=o.useRef(null),u=Et(o.useState(0),2),f=u[0],p=u[1],h=Et(o.useState(null),2),y=h[0],m=h[1],b=t.slice(f*bt,(f+1)*bt);o.useEffect((function(){var e;null===(e=c.current)||void 0===e||e.scrollTo({to:0})}),[f]);var g=o.useCallback((function(e){p(e);var n=t[t.length-1].id;if(e===s-1&&y!==n){(0,d.cQ)(bt,n);m(n)}}),[t,s,y]),O=(0,E.Z)("billing-history",c);return(0,r.jsx)(l.bG,{navigator:O,children:(0,r.jsx)(l.SJ,{children:function(e){var t=e.ref,o=dt(e,["ref"]);return(0,r.jsx)(te,ft(ut({className:a()(ot().verticalFit,ot().paginator),currentPageIndex:f,onChangePage:g,numPages:s,ref:t},o),{children:(0,r.jsx)(ne.ZP,{className:ot().bottomDivider,ref:c,children:b.map((function(e,t){return(0,r.jsx)(nt,{className:a()(ot().paymentRow,ot().bottomDivider),payment:e,locale:n,compactMode:i},t)}))})}))}})})}var Ot=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ht(e,t)}(n,e);var t=mt(n);function n(){at(this,n);var e;(e=t.apply(this,arguments)).scrollerRef=o.createRef();return e}var i=n.prototype;i.componentDidMount=function(){f.Z.wait((function(){(0,p.N)();(0,d.cQ)(20)}))};i.renderPremiumExternalSubscription=function(e){c()(null!=e.paymentGateway,"Expected payment gateway when rendering for external subscription");return(0,r.jsxs)(F.Z,{className:ot().externalRow,children:[(0,r.jsx)("div",{className:ot().externalRowHeader,children:q.Z.Messages.BILLING_EXTERNAL_HEADER.format({paymentGatewayName:xe.Vz[e.paymentGateway]})}),(0,r.jsx)("div",{className:ot().externalRowBody,children:q.Z.Messages.BILLING_EXTERNAL_DESCRIPTION.format({paymentGatewayName:xe.Vz[e.paymentGateway],billingHistoryLink:(0,re.JE)(e.paymentGateway,"BILLING_HISTORY")})})]})}
;i.render=function(){var e=this.props,t=e.compactMode,n=e.payments,o=e.subscription,i=e.locale,s=null!=o&&o.isPurchasedExternally;return 0!==n.length||s?(0,r.jsxs)("div",{className:ot().verticalFit,children:[null!=o&&s?this.renderPremiumExternalSubscription(o):null,n.length>0?(0,r.jsxs)("div",{className:a()(ot().paymentPane,ot().verticalFit),children:[t?null:(0,r.jsx)("div",{className:a()(ot().paymentRow,ot().bottomDivider),children:(0,r.jsxs)(Y.Z,{className:ot().paymentRowHeader,children:[(0,r.jsx)("div",{className:we().date,children:q.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE}),(0,r.jsx)("div",{className:ot().paymentRowHeaderDescription,children:q.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION}),(0,r.jsx)("div",{className:we().amount,children:q.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT})]})}),(0,r.jsx)(gt,{compactMode:t,locale:i,payments:n,numPages:this.numPages})]}):null]}):null};!function(e,t,n){t&&st(e.prototype,t);n&&st(e,n)}(n,[{key:"numPages",get:function(){
return Math.max(Math.ceil(this.props.payments.length/bt),1)}}]);return n}(o.PureComponent);Ot.defaultProps={compactMode:!1};function vt(e){var t,n=e.skuId,r=null===(t=e.subscription)||void 0===t?void 0:t.items[0].planId;return!(null==n||null==r||Object.values(_.Si).includes(n)||(0,re.PV)(r))}function _t(e){var t=(0,u.e7)([B],(function(){return B.getPayments()})),n=(0,u.e7)([V.Z],(function(){return V.Z.getPremiumTypeSubscription()})),i=o.useMemo((function(){return new Set(t.filter(vt).map((function(e){var t=e.subscription;return null==t?void 0:t.items[0].planId})))}),[t]),a=o.useMemo((function(){return new Set(t.filter(vt).map((function(e){return e.skuId})))}),[t]),s=(0,u.Wu)([H.Z],(function(){return H.Z.getPlanIdsForSkus(Array.from(a))})),c=o.useCallback((function(){return s.length===i.size}),[s,i]);o.useEffect((function(){c()||f.Z.wait((function(){a.forEach((function(e){return(0,h.GZ)(e,void 0,void 0,!0,void 0)}))}))}),[c,a]);return(0,r.jsx)(Ot,ft(ut({},e),{payments:c()?t:[],
subscription:n}))}},113518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(647446),s=n(952013),c=n(332233),l=n(783848),u=n(757987),f=n(932847),d=n(461061),p=n(233873),h=n.n(p);const E=function(e){var t=e.disabled,n=void 0!==t&&t,o=e.type,p=e.className,E=e.innerClassName,y=e.onConnect,m=(0,s.ZP)(),b=c.Z.get(o);return(0,r.jsx)(u.ZP,{text:b.name,children:function(e){var t=e.onMouseEnter,s=e.onMouseLeave;return(0,r.jsx)("div",{className:i()(h().wrapper,p),children:(0,r.jsx)(a.tE,{children:(0,r.jsx)("button",{onMouseEnter:t,onMouseLeave:s,className:i()(h().inner,E),type:"button",disabled:n,style:{backgroundImage:"url('".concat(m===d.BRd.DARK?b.icon.darkSVG:b.icon.lightSVG,"')")},onClick:null!=y?y:function(){return function(e){var t=c.Z.get(e);(0,l.Z)(t.type,"Friends List");f.default.track(d.rMx.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})}(o)},"aria-label":b.name})})})}})}},
394330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(667294),o=n(178598),i=n(891153),a=n(742269);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function l(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=d(n);function n(){s(this,n);var e;(e=t.apply(this,arguments)).handleFileDownload=function(t){t.preventDefault();var n=e.getFileContents(),r=e.props,o=r.fileName,i=r.onDownload;a.FB?e.downloadNative(n,o):e.downloadHtml5(n,o);null==i||i()};return e}var c=n.prototype;c.getFileContents=function(){var e=this.props.fileContents;"function"==typeof e&&(e=e());return e};c.downloadNative=function(e,t){i.Z.fileManager.saveWithDialog(e,t)};c.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,o.saveAs)(n,t)};c.render=function(){var e=this.props.children,t=r.Children.only(e)
;return r.cloneElement(t,{onClick:this.handleFileDownload})};return n}(r.Component)},363157:(e,t,n)=>{"use strict";n.d(t,{Z:()=>oe});var r=n(785893),o=n(667294),i=n(427537),a=n.n(i),s=n(717187),c=n.n(s),l=n(742269),u=n(588641),f=n(185347),d=n(461061);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function y(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?h(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var v=[],_=function(e,t,n){var r=(0,l.ED)()?0:1;e===d.MoX.MOUSE_BUTTON&&n===r||v.forEach((function(r){return r._handleEvent(e,t,n)}))},S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}(n,e);var t=O(n);function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e;(e=t.call(this)).combo=[];v.push(h(e));1===v.length&&u.default.setOnInputEventCallback(_);return e}var r=n.prototype;r.destroy=function(){var e=this;this.removeAllListeners();0===(v=v.filter((function(t){return t!==e
}))).length&&u.default.setOnInputEventCallback(null)};r.toString=function(){return(0,f.BB)(this.combo)};r._handleEvent=function(e,t,n){if(0===t)this.combo=this.combo.filter((function(t){var r=b(t,2),o=r[0],i=r[1];return!(o===e&&i===n)}));else{this.combo.push([e,n,(0,f.dU)()]);this.emit("change",this)}};return n}(c()),I=n(294184),T=n.n(I),N=n(238736),C=n.n(N),A=n(496486),P=n.n(A),j=n(647446),R=n(191940),x=n(487502),M=n(959797),w=n(35282),Z=n.n(w);function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U(e){U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return U(e)}function k(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function G(e,t){G=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return G(e,t)}var B,H,V=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}!function(e){e.DEFAULT="DEFAULT";e.RECORDING="RECORDING"}(B||(B={}));var Y=(D(H={},B.DEFAULT,Z().default),D(H,B.RECORDING,Z().recording),H),W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&G(e,t)
}(n,e);var t=F(n);function n(){L(this,n);var e;(e=t.apply(this,arguments))._inputId=P().uniqueId("key-recorder-");e._unregisterNativeRecorder=null;e._mousedownMode=null;e._inputRef=o.createRef();e._containerRef=o.createRef();e.setInputRef=function(t){e._input=t;e._inputRef.current=t};e.handleClick=function(t){t.stopPropagation();t.preventDefault();var n=e.props,r=n.onClick;n.disableOnClickWhileRecording&&e._mousedownMode===B.RECORDING||r()};e.handleMouseDown=function(){e._mousedownMode=e.props.mode};return e}var i=n.prototype;i.componentDidMount=function(){var e=this.props.onChange;if(null!=this.props.registerNativeRecorder&&null!=e)this._unregisterNativeRecorder=this.props.registerNativeRecorder(this._inputId,e);else if(null!=e&&null!=this._input){new(C())(this._input).handleKey=e}};i.componentWillUnmount=function(){null!=this._unregisterNativeRecorder&&this._unregisterNativeRecorder()};i.componentDidUpdate=function(e){var t=this.props.mode;if(e.mode!==t){var n=this._input
;if(null!=n){var r=document.activeElement;t===B.DEFAULT&&n===r&&n.blur();t===B.RECORDING&&n!==r&&n.focus()}}};i.render=function(){var e,t=this,n=this.props,o=n.mode,i=n.value,a=n.disabled,s=(0,f.BB)(i,!0);e=o===B.RECORDING?M.Z.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===i.length?M.Z.Messages.SHORTCUT_RECORDER_BUTTON:M.Z.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var c,l=o===B.DEFAULT&&i.length>0;return(0,r.jsx)(j.tE,{focusTarget:this._inputRef,ringTarget:this._containerRef,children:(0,r.jsx)("div",{onClick:this.handleClick,onMouseDown:this.handleMouseDown,ref:this._containerRef,className:T()(Z().container,Y[o],(c={},D(c,Z().hasValue,l),D(c,Z().disabled,a),c)),children:(0,r.jsxs)(x.Z,{className:Z().layout,children:[(0,r.jsx)(x.Z.Child,{className:Z().input,children:(0,r.jsx)("input",{id:this._inputId,placeholder:M.Z.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:s,disabled:this.props.mode!==B.RECORDING||a})}),(0,r.jsx)(x.Z,{shrink:1,grow:0,style:{
margin:0},children:(0,r.jsxs)(R.Co,{className:Z().button,disabled:a,onClick:function(e){e.stopPropagation();e.preventDefault();t.handleClick(e)},size:R.Co.Sizes.MIN,color:R.Tt.PRIMARY,children:[(0,r.jsx)("span",{className:Z().text,children:e}),(0,r.jsx)("span",{className:Z().editIcon})]})})]})})})};return n}(o.PureComponent);const z=W;function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e){q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return q(e)}function X(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e,t){Q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Q(e,t)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function te(e,t){if(e){
if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}var re=l.FB&&null!=u.default.getDiscordUtils().inputCaptureRegisterElement;const oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}})
;t&&Q(e,t)}(n,e);var t=ne(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e))._mounted=!1;r.recordStart=function(){if(l.FB&&!re){r.gs=new S;r.gs.on("change",r.handleGSChange)}r.setState({mode:B.RECORDING})};r.recordEnd=function(){r.cleanUp();r.setState({mode:B.DEFAULT})};r.toggleRecordMode=function(){r.state.mode===B.DEFAULT?r.recordStart():r.recordEnd()};r.handleComboKeys=function(e,t,n){n.preventDefault();if("keydown"===n.type){var o=t.map((function(e){return[d.MoX.KEYBOARD_KEY,a()(e),d.CgE.BROWSER]})),i=n.keyCode;null==o.find((function(e){var t=$(e,2)[1];return i===t}))&&o.push([d.MoX.KEYBOARD_KEY,i,d.CgE.BROWSER]);r.handleComboChange(o)}};r.handleGSChange=function(e){if(!1!==r._mounted){var t=J(e.combo);r.handleComboChange(t)}};r.handleNativeChange=function(e){e.length>0&&r.handleComboChange(e);r.recordEnd()};var o=e.defaultValue;r.state={codes:o,mode:B.DEFAULT};return r}var o=n.prototype
;o.componentDidMount=function(){this._mounted=!0};o.componentWillUnmount=function(){this._mounted=!1;this.cleanUp()};o.componentDidUpdate=function(e){this.props.defaultValue!==e.defaultValue&&this.setState({codes:this.props.defaultValue})};o.cleanUp=function(){if(l.FB&&null!=this.gs){this.gs.destroy();this.gs=null}};o.handleComboChange=function(e){var t=this.state.mode,n=this.props.onChange;if(t===B.RECORDING){null!=n&&n(e);this.setState({codes:e})}};o.render=function(){var e,t,n=this.state,o=n.codes,i=n.mode,a=this.props.disabled;if(re){t=u.default.getDiscordUtils().inputCaptureRegisterElement;e=this.handleNativeChange}else l.FB||(e=this.handleComboKeys);return(0,r.jsx)(z,{disabled:a,value:o,mode:i,onClick:this.toggleRecordMode,onChange:e,registerNativeRecorder:t,disableOnClickWhileRecording:re})};return n}(o.PureComponent)},586128:(e,t,n)=>{"use strict";n.d(t,{D2:()=>c,SE:()=>l});var r=n(791462),o=n(553494),i=n(940712),a=n(461061),s=(0,o.B)({kind:"guild",
id:"2022-11_default_disable_mass_mention",label:"Disable mass mentions for communities by default",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function c(e){return s.useExperiment({guildId:e},{autoTrackExposure:!0})}function l(e){var t,n=(0,r.e7)([i.Z],(function(){return i.Z.can(a.Plq.MANAGE_GUILD,e)})),o=s.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{autoTrackExposure:!0}).enabled;if(null==e)return!1;var c=e.hasFeature(a.oNc.COMMUNITY);return n&&c&&o}},405728:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=(0,n(553494).B)({kind:"user",id:"2022-05_safety_coms_update",label:"Safety Integrity Platform Coms Update",defaultConfig:{enabled:!1,forceConfirmationOnAccept:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0,forceConfirmationOnAccept:!1}}]});function o(){return r.useExperiment({}).enabled}},484830:(e,t,n)=>{"use strict";n.d(t,{Zh:()=>o,e6:()=>i,iq:()=>a,M9:()=>s})
;var r=n(641645),o=null!=window.speechSynthesis;function i(e,t){var n=e.replace(/(https?:\/\/[^\s]+)/g,(function(e){var t=e.match(/^https?:\/\/(?:www\.)?([^/?#]+)(?:[/?#]|$)/i);return null!=t?t[1]:""}));null!=t&&n.length>t&&(n=(n=n.substring(0,t)).substring(0,Math.min(n.length,n.lastIndexOf(" "))));var o=new SpeechSynthesisUtterance(n);o.rate=r.Z.speechRate;return o}function a(e,t){if(o){e.voice=t;speechSynthesis.speak(e)}}function s(){o&&speechSynthesis.cancel()}},761797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(553494).B)({kind:"user",id:"2022-05_role_styles_setting",label:"Role Styles Setting",defaultConfig:{allowRoleStyles:!1},treatments:[{id:1,label:"Allow Role Styles Setting",config:{allowRoleStyles:!0}}]})},895620:(e,t,n)=>{"use strict";n.d(t,{d:()=>o,Y$:()=>i,jS:()=>a,tZ:()=>s,a8:()=>c});var r=n(173436);function o(){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_TOGGLE_ENABLED"})}function i(){r.Z.dispatch({
type:"DEVELOPER_ACTIVITY_SHELF_TOGGLE_USE_ACTIVITY_URL_OVERRIDE"})}function a(e){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_SET_ACTIVITY_URL_OVERRIDE",activityUrlOverride:e})}function s(e){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_MARK_ACTIVITY_USED",applicationId:e,timestamp:(new Date).getTime()})}function c(e){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_UPDATE_FILTER",filter:e})}},676212:(e,t,n)=>{"use strict";n.r(t);n.d(t,{ACTIVITY_ENCOURAGES_HW_ACCELERATION:()=>_,default:()=>S});var r=n(785893),o=n(667294),i=n(600075),a=n(830395),s=n(320115),c=n(191940),l=n(487502),u=n(67416),f=n(932847),d=n(588641),p=n(461061),h=n(959797),E=n(131378),y=n.n(E);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _="Activity Encourages Hardware Acceleration";function S(e){var t,n=e.applicationId,E=O(e,["applicationId"]),m=v(o.useState(!1),2),S=m[0],I=m[1],T=v((0,s.Z)([n]),1)[0],N=null!==(t=null==T?void 0:T.name)&&void 0!==t?t:"This Activity";o.useEffect((function(){f.default.track(p.rMx.OPEN_MODAL,{type:_})
}),[]);var C=function(){var e="temporary";if(S){e="permanent";a.Z.updatedUnsyncedSettings({disableActivityHardwareAccelerationPrompt:!0})}f.default.track(p.rMx.MODAL_DISMISSED,{type:_,dismiss_type:e});E.onClose()};return(0,r.jsxs)(u.Y0,g(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}({className:y().root,"aria-label":h.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE},E),{children:[(0,r.jsxs)(u.xB,{separator:!1,children:[(0,r.jsx)(i.xv,{className:y().header,variant:"text-lg/normal",children:h.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE}),(0,r.jsx)(u.ol,{onClick:C,className:y().closeButton})]}),(0,r.jsx)(u.hz,{className:y().content,children:(0,r.jsx)(i.xv,{variant:"text-md/normal",
className:y().ratingBody,children:h.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_BODY.format({applicationName:N})})}),(0,r.jsxs)(u.mz,{className:y().footer,direction:l.Z.Direction.HORIZONTAL,children:[(0,r.jsx)(i.XZ,{type:i.XZ.Types.INVERTED,size:18,value:S,onChange:function(){return I(!S)},children:(0,r.jsx)(i.xv,{variant:"text-sm/normal",children:h.Z.Messages.DONT_SHOW_AGAIN})}),(0,r.jsx)(c.Co,{color:c.Co.Colors.PRIMARY,onClick:C,children:h.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_NO_THANKS}),(0,r.jsx)(c.Co,{color:c.Co.Colors.BRAND,onClick:function(){f.default.track(p.rMx.ACTIVITY_ENABLE_HARDWARE_ACCELERATION,{application_id:n});d.default.setEnableHardwareAcceleration(!0)},children:h.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_TURN_IT_ON})]})]}))}},533741:(e,t,n)=>{"use strict";n.d(t,{mN:()=>a,qV:()=>s,qq:()=>c,C8:()=>l});var r=n(173436),o=(n(655695),n(932847)),i=n(461061);function a(e){o.default.track(i.rMx.OPEN_MODAL,{type:"Enter Your Birthday",source:{section:e}})
;r.Z.dispatch({type:"AGE_GATE_MODAL_OPEN",source:e})}function s(){r.Z.wait((function(){return r.Z.dispatch({type:"AGE_GATE_MODAL_CLOSE"})}))}function c(){r.Z.wait((function(){r.Z.dispatch({type:"AGE_GATE_SUCCESS_MODAL_OPEN"})}))}function l(e){r.Z.wait((function(){r.Z.dispatch({type:"AGE_GATE_FAILURE_MODAL_OPEN",underageMessage:e})}))}},838572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});function r(){return{}}},402232:(e,t,n)=>{"use strict";n.d(t,{M:()=>c,Z:()=>l});var r=n(785893),o=(n(667294),n(751615)),i=n(705654),a=n(461061),s=n(32733);function c(){var e=location.pathname+location.search;return s.a?a.Z5c.REGISTER:(0,i.U)(e,!1)}const l=function(){return(0,r.jsx)(o.l_,{to:c()})}},893052:(e,t,n)=>{"use strict";n.d(t,{e:()=>u});var r=n(785893),o=(n(667294),n(631134)),i=n(743221),a=n(402232),s=n(461061);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function u(e,t){var n,c,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{passProps:!0},f=function(n){return!(0,i.$8)()&&o.default.getLoginStatus()!==s.u34.LOGGING_IN&&o.default.allowLogoutRedirect()?null!=t?(0,r.jsx)(t,{renderRedirect:(0,r.jsx)(a.Z,{})}):(0,r.jsx)(a.Z,{}):(0,r.jsx)(e,l({},u.passProps?n:null))};f.displayName="Authenticated(".concat(null!==(c=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==c?c:"<Unknown>",")");return f}},41819:(e,t,n)=>{"use strict";n.d(t,{V:()=>r,h:()=>o});var r,o;!function(e){e[e.DESKTOP=0]="DESKTOP";e[e.MOBILE=1]="MOBILE"}(r||(r={}));!function(e){e[e.YOUTUBE_VIDEO_ID=0]="YOUTUBE_VIDEO_ID";e[e.IMAGE=1]="IMAGE"}(o||(o={}))},8240:(e,t,n)=>{"use strict";n.d(t,{
Z:()=>m});var r=n(791462),o=n(173436),i=n(41819);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function l(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var p={},h=null,E=!1;var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=d(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getChangelog=function(e,t){var n,r;return null!==(r=null===(n=p[e])||void 0===n?void 0:n[t])&&void 0!==r?r:null};r.isConnected=function(){return E};r.__getLocalVars=function(){return{changelogs:p,overrideChangelogId:h,connected:E}};!function(e,t,n){t&&s(e.prototype,t);n&&s(e,n)}(n,[{key:"overrideId",get:function(){return h}}]);return n}(r.ZP.Store);y.displayName="ChangelogV2Store"
;const m=new y(o.Z,{CHANGE_LOG_FETCH_SUCCESS:function(e){var t=e.id,n=e.changelog;null==p[t]&&(p[t]={});p[t][n.locale]=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({id:n.changelog_id,date:n.date,body:n.content,revision:1,locale:n.locale},n.asset_type===i.h.YOUTUBE_VIDEO_ID?"youtube_video_id":"image",n.asset)},CHANGE_LOG_SET_OVERRIDE:function(e){var t=e.id;h=t},CONNECTION_OPEN:function(){E=!0},CONNECTION_CLOSED:function(){E=!1}})},261317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(667294),o=n(236086);function i(e){r.useEffect((function(){if(null!=e){o.Z.lockChangeLog(e);return function(){o.Z.unlockChangeLog(e)}}}),[e])}},902925:(e,t,n)=>{"use strict";n.d(t,{N:()=>a,I:()=>s});var r=n(667294),o=n(553494),i=n(409271),a=(0,o.B)({kind:"user",id:"2022-01_discovery_iar",label:"Ability to report servers in Server Discovery",defaultConfig:{canSeeInAppReportingButtons:!1},treatments:[{id:1,
label:"Show IAR buttons in Server Discovery",config:{canSeeInAppReportingButtons:!0}}]});function s(){var e=a.useExperiment({}).canSeeInAppReportingButtons,t=i.Sb.useSetting(),n=e||t;r.useEffect((function(){a.trackExposure({})}),[]);return n}},395810:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>y,GuildDiscoveryMenuPopout:()=>m});var r=n(785893),o=(n(667294),n(791462)),i=n(281081),a=n(41225),s=n(849832),c=n(769672),l=n(653772),u=n(940712),f=n(761434),d=n(770336),p=n(902925),h=n(461061),E=n(959797);function y(e){var t=e.guild,n=e.shiftId,f=e.onSelect,y=e.closePopout,m=e["aria-label"],b=(0,a.Z)(t.id,n,void 0,y),g=(0,o.e7)([l.Z],(function(){return l.Z.getGuild(t.id)}),[t.id]),O=(0,o.e7)([u.Z],(function(){return u.Z.can(h.Plq.ADMINISTRATOR,g)})),v=p.N.useExperiment({}).canSeeInAppReportingButtons;return(0,r.jsxs)(c.ZP,{onSelect:f,navId:"guild-discovery-context-menu","aria-label":null!=m?m:E.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:i.Zy,children:[(0,r.jsx)(c.kS,{children:!O&&v?(0,
r.jsx)(c.sN,{id:"report-guild-discovery-listing",label:E.Z.Messages.REPORT_SERVER_NO_NAME,action:function(){(0,s.lt)(t);!function(){(0,i.Zy)();null==y||y()}()},icon:d.Z,color:"danger"}):null}),(0,r.jsx)(c.kS,{children:b})]})}var m=function(e){var t=e.guild,n=e.children,o=e.onRequestOpen,i=e.onRequestClose;return(0,r.jsx)(f.ZP,{onRequestOpen:o,onRequestClose:i,animation:f.ZP.Animation.NONE,position:f.ZP.Positions.BOTTOM,spacing:4,align:f.ZP.Align.RIGHT,renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(y,{guild:t,closePopout:n})},children:n})}},698534:(e,t,n)=>{"use strict";n.d(t,{o1:()=>T,L1:()=>N,ZP:()=>C});var r=n(785893),o=n(667294),i=n(791462),a=n(600075),s=n(173436),c=n(277624),l=n(191940),u=n(272729),f=n(67416),d=n(897576),p=n(444793),h=n(945534),E=n(959797),y=n(598080),m=n.n(y);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}
s.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,s,"next",e)}function s(e){g(i,r,o,a,s,"throw",e)}a(void 0)}))}}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function T(e){var t=e.onClose,n=e.code,o=e.copyInputTitle,i=e.bodyText;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f.xB,{separator:!1,className:m().headerContainer,children:[(0,r.jsx)("div",{
className:m().dropArt}),(0,r.jsx)(a.X6,{variant:"heading-xl/semibold",children:E.Z.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE})]}),(0,r.jsxs)(f.hz,{className:m().modalContent,children:[(0,r.jsx)(a.xv,{variant:"text-md/normal",className:m().codeBodyText,children:i}),(0,r.jsx)(a.$i,{className:m().formDivider}),(0,r.jsx)(a.hj,{title:o,className:m().formSection,children:(0,r.jsx)(c.Z,{value:n,buttonColor:l.Co.Colors.BRAND,buttonLook:l.Co.Looks.FILLED,delay:1e3,inputClassName:m().textInput})})]}),(0,r.jsx)(f.mz,{className:m().modalFooter,children:(0,r.jsx)(l.Co,{className:m().closeButton,onClick:t,look:l.Co.Looks.LINK,color:m().closeButton,children:E.Z.Messages.CLOSE})})]})}function N(e){var t=e.onClose,n=e.errorCode,o={26e4:E.Z.Messages.DROPS_USER_NOT_ENROLLED_ERROR,260001:E.Z.Messages.DROPS_QUEST_NOT_COMPLETED_ERROR,260002:E.Z.Messages.DROPS_NO_CODE_AVAILABLE_ERROR,260003:E.Z.Messages.DROPS_CODE_ALREADY_CLAIMED_ERROR},i=E.Z.Messages.GENERIC_ERROR_BODY;null!=o[n]&&(i=o[n])
;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f.xB,{separator:!1,className:m().errorHeader,children:[(0,r.jsx)("div",{className:m().errorArt}),(0,r.jsx)(a.X6,{variant:"heading-xl/semibold",children:E.Z.Messages.GENERIC_ERROR_TITLE})]}),(0,r.jsx)(f.hz,{className:m().errorBody,children:(0,r.jsx)(a.xv,{variant:"text-md/normal",className:m().bodyText,children:i})}),(0,r.jsx)(f.mz,{children:(0,r.jsx)(l.Co,{color:l.Co.Colors.BRAND,onClick:t,children:E.Z.Messages.CLOSE})})]})}const C=function(e){var t=e.onClose,c=e.code,y=e.drop,b=e.platform,g=e.transitionState,N=(0,u.Dt)(),C=S(o.useState(),2),A=C[0],P=C[1];o.useEffect((function(){null==c&&s.Z.wait(O((function(){return I(this,(function(e){switch(e.label){case 0:return[4,(0,p.dN)(y.dropsQuestId)];case 1:e.sent();return[2]}}))})))}),[y.dropsQuestId,c]);var j=(0,i.Wu)([h.Z],(function(){return h.Z.platformAvailability}));return(0,r.jsx)(f.Y0,{transitionState:g,"aria-labelledby":N,children:(0,r.jsx)(r.Fragment,{children:function(){
if(null!=c)return(0,r.jsx)(T,{bodyText:y.messages.claimTip(),onClose:t,copyInputTitle:E.Z.Messages.DROPS_REDEMPTION_CODE_PLATFORM_TITLE.format({platform:b}),code:c});var e=(null==j?void 0:j.length)>0,o=1===(null==j?void 0:j.length);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f.xB,{separator:!1,className:m().headerContainer,children:[(0,r.jsx)("div",{className:m().dropArt}),(0,r.jsx)(a.X6,{variant:"heading-lg/semibold",children:E.Z.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE})]}),(0,r.jsxs)(f.hz,{children:[(0,r.jsx)(a.xv,{variant:"text-md/normal",className:m().dropBodyText,children:o?E.Z.Messages.DROPS_MODAL_CHOOSE_SINGLE_PLATFORM.format({platform:E.Z.Messages["DROPS_PLATFORM_".concat(j[0])]}):E.Z.Messages.DROPS_MODAL_CHOOSE_PLATFORM.format({title:y.title})}),(0,r.jsx)(a.$i,{className:m().formDivider}),(0,r.jsxs)(a.hj,{className:m().dropFormSection,children:[(0,r.jsx)(a.q4,{onChange:P,options:j.map((function(e){return{value:e,label:E.Z.Messages["DROPS_PLATFORM_".concat(e)]}
})),value:o?j[0]:A,isDisabled:!e,className:e?"":m().selectDangerBorder,look:e?a.qQ.FILLED:a.qQ.CUSTOM}),!e&&(0,r.jsx)(a.xv,{variant:"text-sm/medium",color:"text-danger",className:m().errorCodesText,children:E.Z.Messages.DROPS_CODES_RAN_OUT})]})]}),(0,r.jsxs)(f.mz,{children:[e&&(0,r.jsx)(l.Co,{color:l.Co.Colors.BRAND,onClick:function(){(0,d.ZD)(O((function(){var e,i;return I(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(61323)]).then(n.bind(n,661323))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(void 0!==A||o)&&(0,r.jsx)(i,_(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}({},e),{platform:void 0===A?j[0]:A,code:c,dropsQuestId:y.dropsQuestId,closeParentModal:t,
singlePlatformClaim:o}))}]}}))})))},disabled:void 0===A&&!o,children:E.Z.Messages.UNLOCK_CODE}),e?(0,r.jsx)(l.Co,{onClick:t,look:l.Co.Looks.LINK,color:m().maybeLaterButton,children:E.Z.Messages.MAYBE_LATER}):(0,r.jsx)(l.Co,{onClick:t,look:l.Co.Looks.LINK,color:m().closeButton,children:E.Z.Messages.CLOSE})]})]})}()})})}},852453:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(791462),o=n(173436),i=n(819525),a=n(356004),s=n(859023),c=n(90816),l=n(346529);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var b={};function g(e){var t,n=a.Z.getChannel(null==e?void 0:e.channel_id);if(null==n||!n.isForumPost())return!1;var r=b[n.id];return l.Z.compare(null==e?void 0:e.id,null==r||null===(t=r.message)||void 0===t?void 0:t.id)>-1}function O(e,t){var n=null==t?null:(0,i.e5)(t);b[e]={loaded:!0,message:n};return!0}function v(e,t){var n=_(e),r=S(e);if(null==n||null==r)return!1;b[e]=p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({},n),{message:(0,i.wi)(r,t)});return!0}function _(e){return b[e]}function S(e){var t;return null===(t=_(e))||void 0===t?void 0:t.message}var I=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=m(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(a.Z,s.default)};r.getMessageState=function(e){e in b||(b[e]={loaded:!1,message:null});return b[e]};r.__getLocalVars=function(){return{state:b}};return n}(r.ZP.Store);I.displayName="ForumPostRecentMessageStore";const T=new I(o.Z,{CONNECTION_OPEN:function(){b={}},MESSAGE_CREATE:function(e){if(e.isPushNotification)return!1;if(!g(e.message))return!1;e.message.channel_id===e.message.id?O(e.message.channel_id,null):O(e.message.channel_id,e.message)},MESSAGE_UPDATE:function(e){if(!g(e.message))return!1;if(e.message.channel_id===e.message.id)return!1;v(e.message.channel_id,e.message)},MESSAGE_DELETE:function(e){return function(e,t){var n=S(e)
;if((null==n?void 0:n.id)===t){delete b[e];return!0}return!1}(e.channelId,e.id)},LOAD_FORUM_POSTS:function(e){var t=e.threads;for(var n in t)O(n,t[n].most_recent_message)},LOAD_ARCHIVED_THREADS_SUCCESS:function(e){var t=e.threads,n=e.mostRecentMessages;t.forEach((function(e){return O(e.id,null)}));null==n||n.filter(c.lm).forEach((function(e){O(e.channel_id,e)}))}})},662912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(791462),o=n(173436),i=n(742269),a=n(588641),s=new Set(["nvidia"]);var c=n(236625),l=n.n(c);var u=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},i.AB.WINDOWS,{nvidia:">=397.93.0"});function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function p(e){
p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var b=!1,g=!0;var O=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=m(n);function n(){f(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){var e=this;i.FB&&!__OVERLAY__&&a.default.getGPUDriverVersions().then((function(t){b=function(e){var t=u[(0,i.Xf)()];if(null==t)return!1;var n,r,o,a=!0,s=!1,c=void 0;try{for(var f,d=Object.keys(e)[Symbol.iterator]();!(a=(f=d.next()).done);a=!0){var p=f.value,h=e[p],E=t[p];if(null!=h&&null!=E&&null==h.error){var y=(r=void 0,o=void 0,"".concat(null!==(r=(n=h).major)&&void 0!==r?r:0,".").concat(null!==(o=n.minor)&&void 0!==o?o:0,".0"));if(!l().satisfies(y,E))return!0}}}catch(e){s=!0;c=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw c}}return!1}(t);g=function(e){var t=!0,n=!1,r=void 0;try{
for(var o,i=Object.keys(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,c=e[a];if(null!=c&&null==c.error&&s.has(a))return!0}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1}(t);e.emitChange()}))};r.getState=function(){return{GPUDriversOutdated:b,canUseHardwareAcceleration:g}};r.__getLocalVars=function(){return{GPUDriversOutdated:b,canUseHardwareAcceleration:g}};!function(e,t,n){t&&d(e.prototype,t);n&&d(e,n)}(n,[{key:"GPUDriversOutdated",get:function(){return b}},{key:"canUseHardwareAcceleration",get:function(){return g}}]);return n}(r.ZP.Store);O.displayName="StreamingCapabilitiesStore";const v=new O(o.Z,{OVERLAY_INITIALIZE:function(e){var t=e.streamingCapabilitiesStoreState;b=t.GPUDriversOutdated;g=t.canUseHardwareAcceleration}})},464855:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,y:()=>s});var r=n(185253),o=Object.freeze({isPopoutOpen:!1}),i=(0,r.Z)((function(e){return o})),a=function(e){i.setState((function(){return{
isPopoutOpen:e}}))},s=i},956922:(e,t,n)=>{"use strict";n.d(t,{N8:()=>l,BT:()=>u,MR:()=>f,WR:()=>d});var r=n(667294),o=n(791462),i=n(379908),a=n(940712),s=n(808433),c=n(461061);function l(e){var t,n=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",i=s.r.useExperiment({guildId:n}).enableRaidReporting,l=(0,o.e7)([a.Z],(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Z;return t.can(c.Plq.BAN_MEMBERS,e)||t.can(c.Plq.KICK_MEMBERS,e)||t.can(c.Plq.MANAGE_GUILD,e)}(e,a.Z)}),[e]);r.useEffect((function(){l&&s.r.trackExposure({guildId:n})}),[l,n]);return l&&i}function u(e){var t,n=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",r=(0,o.e7)([a.Z],(function(){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Z).can(c.Plq.MANAGE_GUILD,e)}(e,a.Z)}),[e]),i=s.l.useExperiment({guildId:n},{autoTrackExposure:r}).enableRaidAlerts;return r&&i}function f(e){var t=u(e),n=!1===(null==e?void 0:e.hasFeature(c.oNc.RAID_ALERTS_ENABLED))
;return t&&n}function d(e){var t,n=(0,o.e7)([a.Z],(function(){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Z).can(c.Plq.MANAGE_GUILD,e)}(e,a.Z)}),[e]);return(0,i.au)(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",!1)&&n}},939532:(e,t,n)=>{"use strict";n.d(t,{F:()=>p,Q:()=>h});var r=n(791462),o=n(820028),i=n(180918),a=n(537127),s=n(932847),c=n(824657),l=n(461061),u=n(610804),f=n(228031);function d(e,t){var n=a.Z.getDismissedGuildContent(t);return null!=n&&(0,c.jl)(n,e)}function p(e,t){return(0,r.e7)([a.Z],(function(){return d(e,t)}))}function h(e,t,n,r){(0,i.PS)(t,(function(n){if(d(e,t))return!1;n.dismissedGuildContent=(0,c.GV)(n.dismissedGuildContent,e)}),f.fy.INFREQUENT_USER_ACTION);n&&s.default.track(l.rMx.DISMISSIBLE_CONTENT_DISMISSED,{type:o.CW[e],guild_id:t,action:null!=r?r:u.L.AUTO})}},266738:(e,t,n)=>{"use strict";n.d(t,{iq:()=>s,Cl:()=>c,$D:()=>l,Pq:()=>o,Jh:()=>i,gq:()=>u});function r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var o,i,a,s="guild_feed_feedback_last_seen",c=6048e5,l=450;!function(e){e.TERRIBLE="terrible";e.BAD="bad";e.OKAY="okay";e.GOOD="good";e.EXCELLENT="excellent"}(o||(o={}));!function(e){e[e.ALREADY_SAW=0]="ALREADY_SAW";e[e.IRRELEVANT=1]="IRRELEVANT";e[e.TOO_OLD=2]="TOO_OLD";e[e.CONFUSING_OR_RANDOM=3]="CONFUSING_OR_RANDOM";e[e.INAPPROPRIATE=4]="INAPPROPRIATE";e[e.UNINTERESTING=5]="UNINTERESTING";e[e.ENTERTAINING=6]="ENTERTAINING";e[e.INFORMATIVE=7]="INFORMATIVE";e[e.USEFUL=8]="USEFUL";e[e.OTHER=9]="OTHER";e[e.FUNNY=10]="FUNNY"}(i||(i={}));var u=(r(a={},o.TERRIBLE,[i.ALREADY_SAW,i.IRRELEVANT,i.TOO_OLD,i.CONFUSING_OR_RANDOM,i.INAPPROPRIATE,i.OTHER]),r(a,o.BAD,[i.ALREADY_SAW,i.IRRELEVANT,i.TOO_OLD,i.CONFUSING_OR_RANDOM,i.INAPPROPRIATE,i.OTHER]),r(a,o.OKAY,[i.IRRELEVANT,i.TOO_OLD,i.UNINTERESTING,i.ALREADY_SAW,i.OTHER]),r(a,o.GOOD,[i.FUNNY,i.ENTERTAINING,i.INFORMATIVE,i.USEFUL,i.OTHER]),
r(a,o.EXCELLENT,[i.FUNNY,i.ENTERTAINING,i.INFORMATIVE,i.USEFUL,i.OTHER]),a)},725608:(e,t,n)=>{"use strict";n.d(t,{Cd:()=>m,vL:()=>b,i1:()=>g,IT:()=>O});var r=n(667294),o=n(791462),i=n(444450),a=n(730189),s=n(897193),c=n(202552),l=n(932847),u=n(449024),f=n(407723),d=n(266738),p=n(461061),h=n(959797);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(){i.Z.set(d.iq,null)}function b(){var e=r.useMemo((function(){return c.Z.getExperimentBucket(u.Xp.definition.id)}),[]),t=y(r.useState(!1),2),n=t[0],o=t[1],a=r.useMemo((function(){return i.Z.get(d.iq)}),[n]);return{showFeedback:r.useMemo((function(){return 100*Math.random()<e&&(null==a||Date.now()-a>d.Cl)}),[e,a]),setOnDismissedFeedback:o}}function g(e){switch(e){case d.Jh.ALREADY_SAW:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_ALREADY_SAW;case d.Jh.IRRELEVANT:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_IRRELEVANT;case d.Jh.TOO_OLD:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_TOO_OLD;case d.Jh.CONFUSING_OR_RANDOM:
return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_CONFUSING;case d.Jh.INAPPROPRIATE:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_INAPPROPRIATE;case d.Jh.UNINTERESTING:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_UNINTERESTING;case d.Jh.ENTERTAINING:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_ENTERTAINING;case d.Jh.INFORMATIVE:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_INFORMATIVE;case d.Jh.USEFUL:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_USEFUL;case d.Jh.OTHER:return h.Z.Messages.GUILD_FEED_FEEDBACK_OTHER_REASON;case d.Jh.FUNNY:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_FUNNY;default:return null}}function O(e){var t=e.guildId,n=e.guildFeedItem,c=e.setOnDismissFeedback,u=y(r.useState(),2),h=u[0],E=u[1],m=y(r.useState(new Set),2),b=m[0],O=m[1],v=y(r.useState(),2),_=v[0],S=v[1],I=y(r.useState(!1),2),T=I[0],N=I[1],C=y(r.useState(!1),2),A=C[0],P=C[1],j=y(r.useState(!1),2),R=j[0],x=j[1],M=r.useCallback((function(e){E(e);x(!0);N(!1);setTimeout((function(){x(!1)}),d.$D+150)
}),[E,N,x]),w=r.useCallback((function(e){e===d.Jh.OTHER&&b.has(d.Jh.OTHER)&&S(null);var t=new Set(b);t.has(e)?t.delete(e):t.add(e);O(t)}),[b,S,O]),Z=r.useCallback((function(){N(!0);O(new Set)}),[N,O]),L=r.useCallback((function(e){!function(e){var t,n=e.guildId,r=e.guildFeedItem,o=e.dismissed,i=e.selectedRating,a=void 0===i?null:i,c=e.selectedReasons,u=void 0===c?null:c,d=e.userFeedback,h=void 0===d?null:d,E=Array.from(null!=u?u:[]);l.default.track(p.rMx.HOME_FEEDBACK_SUBMITTED,{guild_id:n,home_session_id:f.Z.getHomeSessionId(n),feed_item_id:r.id,feed_item_position:0,dismissed:o,report_name:"feed_item_feedback",load_id:s.ZP.getLoadId(n),rating:a,reason_codes:E,reason_descriptions:E.map((function(e){return null!==(t=g(e))&&void 0!==t?t:""})),user_feedback:h})}({guildId:t,guildFeedItem:n,dismissed:e,selectedRating:h,selectedReasons:b,userFeedback:_})}),[t,n,h,b,_]),D=r.useCallback((function(){i.Z.set(d.iq,Date.now());null==c||c(!0);A||L(!0)}),[L,c,A]),U=r.useCallback((function(){L(!1)
;P(!0);i.Z.set(d.iq,Date.now())}),[L]),k=r.useMemo((function(){return b.size>0&&(!b.has(d.Jh.OTHER)||null!=_&&""!==_)}),[b,_]),G=(0,o.e7)([a.Z],(function(){return a.Z.useReducedMotion})),B=r.useRef(!1);r.useEffect((function(){return function(){B.current=!0}}),[]);r.useEffect((function(){return function(){B.current&&null!=h&&D()}}),[h,D]);return{selectedRating:h,setSelectedRating:M,selectedReasons:b,setSelectedReasons:w,setUserFeedback:S,backPressed:T,onBackPressed:Z,onSubmitPressed:U,onClosePressed:D,showSubmitted:A,isAnimating:R,canSubmit:k,useReducedMotion:G}}},276546:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(791462),o=n(173436),i=n(461061);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var u=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var d,p,h,E,y,m,b,g,O,v=i.QZA.CLOSED,_={},S=!1;function I(){v=i.QZA.CLOSED;_={};b=null;g=void 0;O=[]}function T(){N();C();_={};v=i.QZA.OPEN}function N(){d=void 0;y=void 0}function C(){p=void 0;h=void 0;E=void 0;m=void 0}var A=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=f(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getFormState=function(){return v};r.getErrors=function(){return _};r.showNotice=function(){return void 0!==d||void 0!==p||void 0!==h||void 0!==E||void 0!==y||void 0!==m};r.getPendingAvatar=function(){return d};r.getPendingBanner=function(){return p};r.getPendingBio=function(){return h};r.getPendingNickname=function(){return y};r.getPendingPronouns=function(){return E};r.getPendingAccentColor=function(){return y};r.getPendingThemeColors=function(){return m};r.getAllPending=function(){return{pendingAvatar:d,pendingBanner:p,pendingBio:h,pendingPronouns:E,pendingNickname:y,pendingThemeColors:m}};r.getGuild=function(){return b};r.getSource=function(){return g}
;r.getAnalyticsLocations=function(){return O};r.getIsDisableSubmit=function(){return S};r.__getLocalVars=function(){return{formState:v,errors:_,pendingAvatar:d,pendingBanner:p,pendingBio:h,pendingPronouns:E,pendingNickname:y,pendingThemeColors:m,guild:b,source:g,analyticsLocations:O,disableSubmit:S}};return n}(r.ZP.Store);A.displayName="GuildIdentitySettingsStore";const P=new A(o.Z,{GUILD_IDENTITY_SETTINGS_INIT:function(e){b=e.guild;v=i.QZA.OPEN;_={};g=e.source;O=e.analyticsLocations},GUILD_IDENTITY_SETTINGS_CLOSE:I,GUILD_IDENTITY_SETTINGS_RESET_AND_CLOSE_FORM:function(){T();I()},GUILD_IDENTITY_SETTINGS_SET_GUILD:function(e){b=e.guild;_={}},GUILD_IDENTITY_SETTINGS_SUBMIT:function(){v=i.QZA.SUBMITTING;_={}},GUILD_IDENTITY_SETTINGS_SUBMIT_FAILURE:function(e){if(v!==i.QZA.SUBMITTING)return!1;v=i.QZA.OPEN;var t;_=null!==(t=e.errors)&&void 0!==t?t:{}},GUILD_IDENTITY_SETTINGS_SET_PENDING_AVATAR:function(e){var t=e.avatar;d=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_BANNER:function(e){
var t=e.banner;p=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_BIO:function(e){var t=e.bio;h=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_PRONOUNS:function(e){var t=e.pronouns;E=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_NICKNAME:function(e){var t=e.nickname;y=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_THEME_COLORS:function(e){var t=e.themeColors;m=t},GUILD_IDENTITY_SETTINGS_RESET_PENDING_MEMBER_CHANGES:N,GUILD_IDENTITY_SETTINGS_RESET_PENDING_PROFILE_CHANGES:C,GUILD_IDENTITY_SETTINGS_RESET_ALL_PENDING:T,GUILD_IDENTITY_SETTINGS_SUBMIT_SUCCESS:T,GUILD_IDENTITY_SETTINGS_CLEAR_ERRORS:function(){_={}},GUILD_IDENTITY_SETTINGS_SET_DISABLE_SUBMIT:function(e){var t=e.disable;S=t}})},185328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(600075)),i=n(191940),a=n(969225),s=n(959797),c=n(133766),l=n.n(c),u=n(946137),f=n.n(u);const d=function(e){var t=e.headerId,n=e.reapplyText,c=e.onReapply,u=e.confirmText,d=e.onConfirm,p=e.rejectionReason,h=void 0===p?null:p,E=e.guild,y=void 0===E?null:E
;return(0,r.jsxs)("div",{className:l().confirmation,children:[(0,r.jsxs)("div",{className:l().confirmationContent,children:[null!==y?(0,r.jsx)(a.Z,{size:a.Z.Sizes.LARGER,guild:y,className:l().guildIcon}):(0,r.jsx)("img",{alt:s.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_ICON,src:f(),className:l().verificationStateIcon}),(0,r.jsx)(o.X6,{id:t,variant:"heading-xl/semibold",className:l().header,children:null!=(null==y?void 0:y.name)?s.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE_WITH_GUILD_NAME.format({guildName:y.name}):s.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE}),null!=h&&""!==h?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.xv,{variant:"text-sm/normal",children:[(0,r.jsx)("span",{className:l().rejectionReasonLabel,children:s.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_REASON}),(0,r.jsx)("span",{className:l().rejectionReason,children:h})]})}):null]}),(0,r.jsxs)("div",{className:l().confirmationButtonRow,children:[(0,r.jsx)(i.Co,{onClick:c,
color:i.Co.Colors.PRIMARY,className:l().confirmationButton,children:n}),(0,r.jsx)(i.Co,{onClick:d,color:i.Co.Colors.PRIMARY,className:l().confirmationButton,children:u})]})]})}},271075:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(600075),s=n(191940),c=n(276842),l=n(81951),u=n(580543),f=n.n(u);function d(e){var t=e.message,n=e.error,o=e.onClick,u=e.submitting,d=e.className,p=e.ctaMessage;return(0,r.jsxs)("div",{className:i()(f().container,d),children:[(0,r.jsxs)("div",{className:f().textContainer,children:[(0,r.jsx)(l.Z,{className:f().warningIcon}),(0,r.jsx)(c.Z,{size:10,horizontal:!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Z,{size:1}),(0,r.jsx)(a.xv,{className:f().info,variant:"text-sm/normal",children:t}),null!=n&&(0,r.jsx)(a.xv,{className:i()(f().info,f().error),variant:"text-sm/normal",children:n})]})]}),(0,r.jsx)(c.Z,{size:16,horizontal:!0}),(0,r.jsx)(s.Co,{className:f().undoButton,color:s.Co.Colors.LINK,look:s.Co.Looks.LINK,
size:s.Co.Sizes.ICON,onClick:o,submitting:u,children:p})]})}},615522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(785893),o=n(667294),i=n(730381),a=n.n(i),s=n(737325),c=n(859169),l=n(64833),u=n(954946),f=n(271075),d=n(959797);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=function(e){var t,n,r=E(o.useState(!1),2),i=r[0],a=r[1],c=E(o.useState(null),2),l=c[0],u=c[1],f=(n=(t=function(t){var n;return y(this,(function(r){switch(r.label){case 0:a(!0);u(null);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,(0,s.qu)(t,e)];case 2:r.sent();return[3,5];case 3:n=r.sent();u(n);return[3,5];case 4:a(!1);return[7];case 5:return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){h(i,r,o,a,s,"next",e)}function s(e){h(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e){
return n.apply(this,arguments)});return{resetRenewalMutation:f,submitting:i,error:l}};function b(e){var t=e.groupListingId,n=e.subscription,i=e.className,s=(0,l.Z)(c.Z.PENDING_PLAN_CHANGE_NOTICE).analyticsLocations,p=m(s),h=p.resetRenewalMutation,E=p.submitting,y=p.error,b=(0,u._k)(t,{includeSoftDeleted:!0}),g=o.useMemo((function(){if(null==(null==n?void 0:n.renewalMutations))return{currentListing:void 0,nextListing:void 0};var e=n.items[0].planId,t=n.renewalMutations.items[0].planId;return{currentListing:b.find((function(t){return t.subscription_plans[0].id===e})),nextListing:b.find((function(e){return e.subscription_plans[0].id===t}))}}),[n,b]),O=g.currentListing,v=g.nextListing;if(null==n||null==O||null==v)return null;var _=a()(n.currentPeriodEnd).format("MMM DD, YYYY");return(0,r.jsx)(f.Z,{message:d.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_DESCRIPTION.format({currentListing:O.name,nextListing:v.name,changeDate:_}),error:null==y?void 0:y.message,onClick:function(){
return h(n)},submitting:E,ctaMessage:d.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_CTA,className:i})}},4231:(e,t,n)=>{"use strict";n.d(t,{kZ:()=>d,W4:()=>p,Sn:()=>h,gq:()=>E,I4:()=>m,Ui:()=>b,U3:()=>g});var r=n(675860),o=n(173436),i=n(361138),a=n(99298),s=n(461061);function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function d(){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_CLEAR"})}function p(e,t,n){o.Z.dispatch({applicationId:e,commandId:t,permissions:n,type:"INTEGRATION_PERMISSION_SETTINGS_EDIT"})}function h(e,t){
r.Z.get(s.ANM.GUILD_COMMANDS_FOR_APPLICATION(e,t)).then((function(n){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMANDS_FETCH_SUCCESS",applicationId:t,commands:n.body.application_commands,guildId:e,permissions:n.body.permissions})}),(function(){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMANDS_FETCH_FAILURE",applicationId:t})}))}function E(e,t,n){return y.apply(this,arguments)}function y(){return(y=l((function(e,t,n){var i,a;return f(this,(function(c){switch(c.label){case 0:i=[];c.label=1;case 1:c.trys.push([1,3,,4]);return[4,r.Z.get(s.ANM.APPLICATION_BOT_GUILD_COMMAND_PERMISSIONS(e,t,n))];case 2:(a=c.sent()).ok&&(i=a.body.permissions);return[3,4];case 3:if(404!==c.sent().status){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_APPLICATION_PERMISSIONS_FETCH_FAILURE",applicationId:e,commandId:n,guildId:t});return[2]}return[3,4];case 4:o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMAND_UPDATE",applicationId:e,commandId:n,guildId:t,permissions:i})
;return[2]}}))}))).apply(this,arguments)}function m(e){o.Z.dispatch({applicationId:e,type:"INTEGRATION_PERMISSION_SETTINGS_INIT"})}function b(e){o.Z.dispatch({commandId:e,type:"INTEGRATION_PERMISSION_SETTINGS_RESET"})}function g(e){return O.apply(this,arguments)}function O(){return(O=l((function(e){var t,n,r,a,s,c,l,u;return f(this,(function(f){switch(f.label){case 0:t=e.applicationId,n=e.commandId,r=e.defaultEveryoneValue,a=e.defaultEverywhereValue,s=e.guildId,c=e.permissions;l=n===t?v(s,c,r,a):c;return[4,i.dh(t,s,n,l)];case 1:(u=f.sent()).ok&&o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMAND_UPDATE",applicationId:t,commandId:n,guildId:s,permissions:u.body.permissions});return[2]}}))}))).apply(this,arguments)}function v(e,t,n,r){if(!n||!r)return t;var o,i=(u(o={},e,n),u(o,(0,a.bD)(e),r),o);return t.filter((function(e){var t=i[e.id];return null==t||e.permission!==t}))}},58226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p})
;var r=n(951660),o=n(531286),i=n(865622),a=n(987593),s=n(932847),c=n(618468),l=n(21588),u=n(461061);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var d="template";const p=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){f(e,t,n[t])}))}return e}({},l.Z),{openNativeAppModal:function(e){a.Z.openNativeAppModal(e,u.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.Oh)(e):(0,r.Gk)(),a=(0,o.WS)(),l=(0,o.ZP)(n,{utmSource:d,fingerprint:t,attemptId:a});s.default.track(u.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,i.K)(t),attempt_id:a,source:d,guild_template_code:e});c.Z.launch(l,(function(){}))}}})},395321:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r,o=n(785893),i=(n(667294),n(294184)),a=n.n(i),s=n(952013),c=n(832010),l=n(379579),u=n(760654),f=n(51477),d=n(461061),p=n(627962),h=n.n(p);function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var b=(E(r={},d.BRd.DARK,d.Ilk.STATUS_GREY_500),E(r,d.BRd.LIGHT,d.Ilk.STATUS_GREY_600),r);function g(e){var t,n=e.enabled,r=e.imageClassName,i=e.iconWrapperClassName,d=m(e,["enabled","imageClassName","iconWrapperClassName"]),p=(0,s.ZP)(),g={height:18,width:18,color:(0,c.Lq)(b[p])};return(0,o.jsx)(f.Z,y({className:a()((t={},E(t,h().avatarUploader,n),E(t,h().avatarUploaderDisabled,!n),t)),
imageClassName:a()(r,h().avatarUploaderInnerSquare,E({},h().avatarUploaderInnerSquareDisabled,!n)),icon:null!=d.image&&""!==d.image?(0,o.jsx)(l.Z,y({},g)):(0,o.jsx)(u.Z,y({},g)),iconClassName:a()(h().avatarUploadIcon,h().hideDefaultIcon),iconWrapperClassName:i,showIcon:!0,showIconDisabled:!0,hideSize:!0},d))}},567895:(e,t,n)=>{"use strict";n.d(t,{Zj:()=>E,Fq:()=>y,ZP:()=>b});var r=n(785893),o=n(667294),i=n(678081),a=n(212271),s=n(910866),c=n(959797);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function E(){return[{name:c.Z.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}]}function y(e,t,n){!function(e,t){if(null!=e){var n=new FileReader;n.onload=function(n){var r;"string"==typeof(null===(r=n.target)||void 0===r?void 0:r.result)&&t(n.target.result,e)};n.readAsDataURL(e)}}(e,(function(r){if(e.type===s.m.MP4)return t(r,e);var o=new Image;o.src=r;o.onload=function(){t(r,e)};o.onerror=function(){n()}}))}var m=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(){l(this,n);var e;(e=t.apply(this,arguments))._ref=o.createRef();e._isMounted=!1;e.handleFileChange=function(t){var n=e.props,r=n.onFileSizeError,o=n.maxFileSizeBytes;t.stopPropagation();t.preventDefault();if(null!=t.currentTarget.files)for(var i=0;i<t.currentTarget.files.length;i++){var a=t.currentTarget.files[i];a.size>o?null==r||r(o,a.size):y(a,e.handleFileRead,e.handleFileError)}};e.handleFileRead=function(t,n){var r=e.props.onChange;e._isMounted&&r(t,n)};e.handleFileError=function(){(0,a.xT)({title:c.Z.Messages.PREMIUM_ALERT_ERROR_TITLE,help:c.Z.Messages.UNABLE_TO_PROCESS_IMAGE})};return e}var s=n.prototype;s.componentDidMount=function(){this._isMounted=!0};s.activateUploadDialogue=function(){var e
;null===(e=this._ref.current)||void 0===e||e.activateUploadDialogue()};s.render=function(){var e=this.props,t=e.multiple,n=e.disabled,o=e.className,a=e.tabIndex,s=e["aria-label"],c=e.filters;return(0,r.jsx)(i.Z,{ref:this._ref,onChange:this.handleFileChange,filters:null!=c?c:E(),multiple:t,disabled:n,className:o,tabIndex:a,"aria-label":s})};return n}(o.PureComponent);m.defaultProps={multiple:!0,tabIndex:-1,maxFileSizeBytes:1/0};const b=m},51477:(e,t,n)=>{"use strict";n.d(t,{S:()=>C,Z:()=>P});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(441143),c=n.n(s),l=n(647446),u=n(600075),f=n(892472),d=n(912551),p=n(567895),h=n(461061),E=n(959797),y=n(307436),m=n.n(y);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function S(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var T=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function C(e){var t=e.className,n=e.icon,o=void 0===n?null:n;return(0,r.jsx)("div",{className:a()(m().imageUploaderIcon,t),children:o})}var A=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&I(e,t)}(n,e);var t=N(n);function n(){b(this,n);var e;(e=t.apply(this,arguments)).inputRef=o.createRef();e.handleRemove=function(){e.props.onChange(null)};return e}var i=n.prototype;i.handleExternalFileChange=function(e){c()(null!=this.inputRef.current,"ImageInputRef asked to handleExternalFileChange when not mounted");this.inputRef.current.handleFileChange(e)};i.render=function(){var e,t,n,o,i,s=this.props,c=s.image,y=s.hint,b=s.name,g=s.makeURL,O=s.disabled,S=s.onChange,I=s.showIcon,T=s.showIconDisabled,N=s.className,A=s.imageClassName,P=s.iconClassName,j=s.iconWrapperClassName,R=s.icon,x=s.hideSize,M=s.imageStyle,w=s.showRemoveButton,Z=s.maxFileSizeBytes,L=s.onFileSizeError,D=s.onOpenImageSelectModal,U=s["aria-label"]
;null!=(e=null!=c&&/^data:/.test(c)?c:g(c))?t='url("'.concat(e,'")'):null!=b&&(n=(0,r.jsx)("div",{className:m().imageUploaderAcronym,children:(0,d.Zg)(b)}));if(O)return(0,r.jsx)("div",{className:a()(m().imageUploader,m().disabled,N),children:(0,r.jsxs)("div",{className:a()(m().imageUploaderInner,A),style:_(v({},M),{backgroundImage:t}),children:[n,T&&(0,r.jsx)("div",{className:a()(m().imageUploaderIcon,m().imageUploaderIconDisabled,P),children:R})]})});null!=c?o=(0,r.jsx)(f.Z,{className:m().removeButton,onClick:this.handleRemove,children:E.Z.Messages.REMOVE}):x||(o=(0,r.jsx)("small",{className:m().sizeInfo,children:E.Z.Messages.MINIMUM_SIZE.format({size:h.IXf})}));var k=null!==(i=null!=U?U:y)&&void 0!==i?i:E.Z.Messages.CHANGE_AVATAR;return(0,r.jsxs)("div",{className:a()(m().imageUploader,N),children:[(0,r.jsx)(l.tE,{within:!0,children:(0,r.jsxs)("div",{className:I?a()(m().imageUploaderIconWrapper,j):void 0,children:[(0,r.jsxs)("div",{className:a()(m().imageUploaderInner,A),
style:_(v({},M),{backgroundImage:t}),children:[(0,r.jsx)("span",{"aria-hidden":!0,children:n}),null!=D?(0,r.jsx)(u.P3,{className:m().imageUploaderFileInput,"aria-label":k,onClick:D}):(0,r.jsx)(p.ZP,{ref:this.inputRef,onChange:S,className:m().imageUploaderFileInput,"aria-label":k,tabIndex:0,maxFileSizeBytes:Z,onFileSizeError:L})]}),null!=y&&(0,r.jsx)("div",{className:m().imageUploaderHint,"aria-hidden":"true",children:y}),I&&(0,r.jsx)(C,{className:P,icon:R})]})}),w?o:null]})};return n}(o.PureComponent);A.defaultProps={name:"",makeURL:function(e){return e},disabled:!1,showIcon:!1,hideSize:!1,showRemoveButton:!0,maxFileSizeBytes:1/0,icon:null};const P=A},619784:(e,t,n)=>{"use strict";n.d(t,{i:()=>h,Z:()=>S});var r=n(441143),o=n.n(r),i=n(791462),a=n(173436),s=n(549425),c=n(780921),l=n(722003);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var h,E,y,m,b,g,O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}!function(e){e[e.IN_FLIGHT=0]="IN_FLIGHT";e[e.ERRORED=1]="ERRORED";e[e.SUCCEEDED=2]="SUCCEEDED"}(h||(h={}));var _=function(e){
!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=v(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getModalState=function(e){return e!==E?null:y};r.__getLocalVars=function(){return{currentNonce:E,currentState:y,queuedMessageId:m,queuedMessageChannelId:b,queuedMessageNonce:g}};return n}(i.ZP.Store);_.displayName="InteractionModalStore";const S=new _(a.Z,{LOGOUT:function(){E=null;y=null;m=null;b=null;g=null;return!0},INTERACTION_MODAL_CREATE:function(e){if(e.nonce===g){s.Z.deleteMessage(b,m,!0);m=null;b=null;g=null}return!1},INTERACTION_QUEUE:function(e){var t=e.messageId,n=e.nonce,r=e.data;switch(r.interactionType){case c.B8.APPLICATION_COMMAND:m=t;b=r.channelId;g=n;return!1;case c.B8.MODAL_SUBMIT:
o()(null==E||y===h.ERRORED||y===h.SUCCEEDED,"cannot submit multiple modals at once");E=n;y=h.IN_FLIGHT;setTimeout((function(){E===n&&y===h.IN_FLIGHT&&(0,l.yr)(n)}),1e4);return!0;default:return!1}},INTERACTION_SUCCESS:function(e){var t=e.nonce;if(null==t||t!==E)return!1;y=h.SUCCEEDED;return!0},INTERACTION_FAILURE:function(e){var t=e.nonce;if(null==t||t!==E)return!1;y=h.ERRORED;return!0}})},204882:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>d,yD:()=>p,Zd:()=>h});var r=n(974119),o=n(675860),i=n(173436),a=n(822567),s=n(631134),c=n(318007),l=n(461061);function u(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}var f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.")
;for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function d(){var e,t,n=s.default.getId();c.Z.getUsers().forEach((t=(e=function(e){var t,a,s,c,u;return f(this,(function(f){switch(f.label){case 0:t=e.id;if(null==(a=r.Z.getToken(t))||""===a){i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:t});return[2]}
i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST",userId:t});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,o.Z.get({url:l.ANM.ME,headers:{authorization:a},retries:3})];case 2:s=f.sent();return[3,4];case 3:c=f.sent();u=401===(null==c?void 0:c.status)||403===(null==c?void 0:c.status);i.Z.dispatch({type:u?"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE":"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t});return[2];case 4:i.Z.dispatch({type:n===t?"CURRENT_USER_UPDATE":"USER_UPDATE",user:s.body});i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t});return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e){return t.apply(this,arguments)}))}function p(e){var t=r.Z.getToken(e);null!=t?a.Z.switchAccountToken(t):i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:e})}function h(e){i.Z.dispatch({
type:"MULTI_ACCOUNT_REMOVE_ACCOUNT",userId:e})}},908170:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(667294),o=n(791462),i=n(173436),a=n(204882),s=n(318007);function c(){var e=(0,o.cj)([s.Z],(function(){return{isLoading:s.Z.getIsValidatingUsers(),multiAccountUsers:s.Z.getUsers()}}));r.useEffect((function(){i.Z.wait((function(){a.HJ()}))}),[]);return e}},677523:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,H:()=>i});var r=n(173436);function o(e){r.Z.wait((function(){return r.Z.dispatch({type:"NUF_NEW_USER",newUserType:e})}))}function i(){r.Z.wait((function(){return r.Z.dispatch({type:"NUF_COMPLETE"})}))}},714392:(e,t,n)=>{"use strict";n.d(t,{M5:()=>r});var r;!function(e){e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(r||(r={}))},639472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(791462),o=n(173436);function i(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var l=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return s(this,n)}}var f=null;var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=u(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){var t;f=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};r.getType=function(){return f};r.getState=function(){return{type:f}};r.__getLocalVars=function(){return{type:f}};return n}(r.ZP.PersistedStore);d.displayName="NewUserStore";d.persistKey="nuf";const p=new d(o.Z,{NUF_NEW_USER:function(e){var t=e.newUserType;f=t},NUF_COMPLETE:function(){f=null}})},358188:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var r;!function(e){e.AGE_GATE="age-gate";e.CHOOSE_TEMPLATE="choose-template";e.CUSTOMIZE_GUILD="customize-server";e.CHANNEL_PROMPT="channel-prompt";e.JOIN_GUILD="join-server"
;e.CREATION_INTENT="creation-intent";e.COMPLETE="complete"}(r||(r={}))},614503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(791462),o=n(173436),i=n(388337);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var u,f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var p=(0,i.K4)();function h(e){var t=e.countryCode;if(null!=t){var n;p=null!==(n=(0,i.Zz)(t))&&void 0!==n?n:(0,i.K4)()}}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=d(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(u=e.selectedCountryCode)};r.getUserAgnosticState=function(){return{selectedCountryCode:u}};r.getCountryCode=function(){return null!=u?u:p};r.__getLocalVars=function(){return{selectedCountryCode:u,defaultCountryCode:p}};return n}(r.ZP.DeviceSettingsStore)
;E.displayName="PhoneStore";E.persistKey="PhoneStore";const y=new E(o.Z,{PHONE_SET_COUNTRY_CODE:function(e){var t=e.countryCode;u=t},CONNECTION_OPEN:h,SET_LOCATION_METADATA:h})},542270:(e,t,n)=>{"use strict";n.d(t,{D:()=>v,T:()=>O});var r=n(785893),o=n(667294),i=n(173436),a=n(112712),s=n(911324),c=n(750029),l=n(294184),u=n.n(l),f=n(600075),d=n(476395),p=n(847949),h=n(697888),E=n.n(h),y=function(e){var t=e.color;return(0,r.jsxs)("svg",{width:"48",height:"28",viewBox:"0 0 55 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("rect",{x:"10.1968",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 10.1968 7)",className:E().toastBG}),(0,r.jsx)("rect",{x:"27.3936",y:"0.59021",width:"23.4851",height:"23.4851",transform:"rotate(45 27.3936 0.59021)",className:E().toastBG}),(0,r.jsx)("rect",{x:"44.5903",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 44.5903 7)",className:E().toastBG}),(0,r.jsx)("rect",{x:"10.1968",y:"13",width:"6",height:"6",
transform:"rotate(45 10.1968 13)",fill:t}),(0,r.jsx)("path",{d:"M27.3936 4.39355L34.1233 16.2873L27.3936 28.1811L20.6638 16.2873L27.3936 4.39355Z",fill:t}),(0,r.jsx)("rect",{x:"44.5903",y:"13",width:"6",height:"6",transform:"rotate(45 44.5903 13)",fill:t})]})};function m(e){var t=e.achievement,n=e.unlocked,i=t.name,a=t.description,s=t.rarity,l=t.hideDescriptionUntilUnlock,h=t.onAction,m=(0,c.F7)(s).color;o.useEffect((function(){var e=setTimeout((function(){d.Z.playAchievementUnlockSound()}),50);return function(){clearTimeout(e)}}),[]);var b=null!=h&&n,g=b?f.P3:"div";return(0,r.jsxs)(g,{className:u()(E().container,b&&E().actionable),onClick:function(){b&&h()},children:[(0,r.jsx)("div",{className:E().iconContainer,children:(0,r.jsx)(p.Z,{achievementId:t.id,size:p.Z.Sizes.SIZE_40,unlocked:n})}),(0,r.jsxs)("div",{className:E().nameContainer,children:[(0,r.jsx)(f.xv,{variant:"text-md/semibold",color:"header-primary",children:i()}),(0,r.jsx)(f.xv,{variant:"text-xs/medium",
color:"header-secondary",children:l&&!n?"?????":a()})]}),(0,r.jsx)("div",{className:E().flair,children:(0,r.jsx)(y,{color:m})})]})}var b=n(441640),g=n(959797);function O(e){i.Z.dispatch({type:"POGGERMODE_ACHIEVEMENT_UNLOCK",achievementId:e})}function v(e,t){var n=(0,c.oX)(e);null!=n&&(0,s.CF)((0,a.Yz)(g.Z.Messages.POGGERMODE_ACHIEVEMENTS,a.pC.CUSTOM,{position:b.az.BOTTOM,component:(0,r.jsx)(m,{achievement:n,unlocked:t}),duration:6e3}))}},667519:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(791462),o=n(173436),i=n(631134),a=n(542270),s=n(114193),c=n(959154);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return E(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var b={unlockedAchievements:{}},g=d({},b);var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=m(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(i.default,c.ZP);var t=null!=e?e:d({},b)
;for(var n in t)g[n]=t[n]};r.getState=function(){return g};r.getAllUnlockedAchievements=function(){return g.unlockedAchievements};r.getUnlocked=function(e){var t;return null!==(t=g.unlockedAchievements[e])&&void 0!==t?t:null};r.__getLocalVars=function(){return{ACHIEVEMENT_UNLOCK_TOAST_DELAY_MS:2e3,initialState:b,state:g}};return n}(r.ZP.PersistedStore);O.displayName="PoggermodeAchievementStore";O.persistKey="PoggermodeAchievementStore";const v=new O(o.Z,{POGGERMODE_ACHIEVEMENT_UNLOCK:function(e){var t=e.achievementId;if(!s.Z.isEnabled())return!1;!function(e){if(null!=g.unlockedAchievements[e])return!1;g.unlockedAchievements=p(d({},g.unlockedAchievements),u({},e,{achievementId:e,dateUnlocked:Date.now()}));setTimeout((function(){(0,a.D)(e,!0)}),2e3)}(t)}})},750029:(e,t,n)=>{"use strict";n.d(t,{hn:()=>r,EP:()=>o,LG:()=>l,oX:()=>u,F7:()=>f});var r,o,i,a=n(447086),s=n(959797);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}!function(e){e[e.ENABLE_POGGERMODE=0]="ENABLE_POGGERMODE";e[e.DISABLE_POGGERMODE=1]="DISABLE_POGGERMODE";e[e.PING_SOMEONE=2]="PING_SOMEONE";e[e.PING_ME=3]="PING_ME";e[e.COMBO_MULTI_LEVEL_1=4]="COMBO_MULTI_LEVEL_1";e[e.COMBO_MULTI_LEVEL_2=5]="COMBO_MULTI_LEVEL_2";e[e.COMBO_MULTI_LEVEL_3=6]="COMBO_MULTI_LEVEL_3";e[e.COMBO_MULTI_LEVEL_4=7]="COMBO_MULTI_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_1=8]="TOTAL_SCORE_LEVEL_1";e[e.TOTAL_SCORE_LEVEL_2=9]="TOTAL_SCORE_LEVEL_2";e[e.TOTAL_SCORE_LEVEL_3=10]="TOTAL_SCORE_LEVEL_3";e[e.TOTAL_SCORE_LEVEL_4=11]="TOTAL_SCORE_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_5=12]="TOTAL_SCORE_LEVEL_5";e[e.VISITOR_100=13]="VISITOR_100";e[e.CUSTOMIZE_CONFETTI=14]="CUSTOMIZE_CONFETTI";e[e.MORE=15]="MORE";e[e.COMBO_VALUE_LEVEL_1=16]="COMBO_VALUE_LEVEL_1";e[e.COMBO_VALUE_LEVEL_2=17]="COMBO_VALUE_LEVEL_2";e[e.COMBO_VALUE_LEVEL_3=18]="COMBO_VALUE_LEVEL_3";e[e.COMBO_VALUE_LEVEL_4=19]="COMBO_VALUE_LEVEL_4"}(r||(r={}));!function(e){e[e.COMMON=0]="COMMON";e[e.UNCOMMON=1]="UNCOMMON"
;e[e.RARE=2]="RARE";e[e.EPIC=3]="EPIC";e[e.LEGENDARY=4]="LEGENDARY"}(o||(o={}));var l=(c(i={},r.ENABLE_POGGERMODE,{id:r.ENABLE_POGGERMODE,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1}),c(i,r.DISABLE_POGGERMODE,{id:r.DISABLE_POGGERMODE,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1}),c(i,r.VISITOR_100,{id:r.VISITOR_100,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,onAction:function(){window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ","_blank")}}),
c(i,r.CUSTOMIZE_CONFETTI,{id:r.CUSTOMIZE_CONFETTI,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1}),c(i,r.MORE,{id:r.MORE,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_MORE_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_MORE_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1}),c(i,r.PING_SOMEONE,{id:r.PING_SOMEONE,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1}),c(i,r.PING_ME,{id:r.PING_ME,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1}),
c(i,r.COMBO_MULTI_LEVEL_1,{id:r.COMBO_MULTI_LEVEL_1,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=2}}),c(i,r.COMBO_MULTI_LEVEL_2,{id:r.COMBO_MULTI_LEVEL_2,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=4}}),c(i,r.COMBO_MULTI_LEVEL_3,{id:r.COMBO_MULTI_LEVEL_3,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_DESCRIPTION},rarity:o.RARE,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=5}}),
c(i,r.COMBO_MULTI_LEVEL_4,{id:r.COMBO_MULTI_LEVEL_4,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_DESCRIPTION},rarity:o.RARE,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=7}}),c(i,r.TOTAL_SCORE_LEVEL_1,{id:r.TOTAL_SCORE_LEVEL_1,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 430===(0,a.Eo)(e)}}),c(i,r.TOTAL_SCORE_LEVEL_2,{id:r.TOTAL_SCORE_LEVEL_2,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 555===(0,a.Eo)(e)}}),
c(i,r.TOTAL_SCORE_LEVEL_3,{id:r.TOTAL_SCORE_LEVEL_3,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 898===(0,a.Eo)(e)}}),c(i,r.TOTAL_SCORE_LEVEL_4,{id:r.TOTAL_SCORE_LEVEL_4,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 1337===(0,a.Eo)(e)}}),c(i,r.TOTAL_SCORE_LEVEL_5,{id:r.TOTAL_SCORE_LEVEL_5,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 2048===(0,
a.Eo)(e)}}),c(i,r.COMBO_VALUE_LEVEL_1,{id:r.COMBO_VALUE_LEVEL_1,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_DESCRIPTION},rarity:o.RARE,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 64===e.value}}),c(i,r.COMBO_VALUE_LEVEL_2,{id:r.COMBO_VALUE_LEVEL_2,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 88===e.value}}),c(i,r.COMBO_VALUE_LEVEL_3,{id:r.COMBO_VALUE_LEVEL_3,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 99===e.value}}),
c(i,r.COMBO_VALUE_LEVEL_4,{id:r.COMBO_VALUE_LEVEL_4,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 113===e.value}}),i);function u(e){return l[e]}var f=function(e){switch(e){case o.COMMON:return{color:"#1ABC9C"};case o.UNCOMMON:return{color:"#3498DB"};case o.RARE:return{color:"#9B59B6"};case o.EPIC:return{color:"#E91E63"};case o.LEGENDARY:return{color:"#E67E22"}}}},476395:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(173436),o=n(245189),i=n(919870),a=n(631134),s=n(733285),c=n(379822),l=n(475823),u=n(402801),f=n(114193),d=n(959154),p=n(461061);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){
y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function m(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var _=(0,u.uk)("poggermode_applause",i.Z.getSoundpack()),S=.1,I=!1,T=!1,N=[],C=null,A=function(){if(!I){_.loop();I=!0}},P=function(){_.stop();I=!1},j=function(){
var e=f.Z.isEnabled(),t=f.Z.comboSoundsEnabled;return!(!e||!t)&&null!=c.Z.getChannelId()},R=function(){if(0!==N.length&&j()&&!T){T=!0;var e=g(N[N.length-1],2),t=e[0],n=e[1];(0,u.GN)(t,n);C=setTimeout(x,1e3)}},x=function(){N.pop();T=!1;R()},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=s.Z.isConnected(),r=n?S:1;N.push([e,t*r]);R()};const w=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=v(n);function n(){E(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){d.ZP.addChangeListener(this.startAudio);r.Z.subscribe("RTC_CONNECTION_STATE",this.setVolume);r.Z.subscribe("TYPING_STOP",this.stopAudio);r.Z.subscribe("TYPING_STOP_LOCAL",this.stopAudio);r.Z.subscribe("CHANNEL_SELECT",this.stopAudio)
;r.Z.subscribe("POGGERMODE_SETTINGS_UPDATE",this.stopAudio)};o._terminate=function(){d.ZP.removeChangeListener(this.startAudio);r.Z.unsubscribe("RTC_CONNECTION_STATE",this.setVolume);r.Z.unsubscribe("TYPING_STOP",this.stopAudio);r.Z.unsubscribe("TYPING_STOP_LOCAL",this.stopAudio);r.Z.unsubscribe("CHANNEL_SELECT",this.stopAudio);r.Z.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.stopAudio);clearTimeout(C)};o.setVolume=function(e){e.state===p.hes.RTC_CONNECTED?_.volume=S:_.volume=1};o.handleTypingStop=function(e){var t=e.userId;a.default.getId()===t&&P()};o.stopAudio=function(){P()};o.startAudio=function(){if(j()){var e=c.Z.getChannelId();if(null!=e){var t,n=a.default.getId(),r=l.Z.isTyping(e,n),o=d.ZP.getUserCombo(n,e),i=null!==(t=null==o?void 0:o.multiplier)&&void 0!==t?t:1;r&&i>=7?A():P()}}};o.playAchievementUnlockSound=function(){j()&&M("poggermode_achievement_unlock")};o.__getLocalVars=function(){return{applause:_,COMBO_SOUND_EFFECT_MULTIPLIER_THRESHOLD:7,REGULAR_VOLUME:1,
REDUCED_VOLUME:S,SOUND_DEQUEUE_TIMEOUT_MS:1e3,isLooping:I,isPlaying:T,soundQueue:N,soundTimeoutId:C,loopApplause:A,stopApplause:P,canPlaySound:j,playSoundFromQueue:R,queueNextSound:x,enqueueSound:M}};return n}(o.Z))},847949:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r,o=n(785893),i=(n(667294),n(952013)),a=n(832010),s=n(346370),c=n(519073),l=n(466019),u=n(750029),f=n(366236),d=n(375650),p=n(945052),h=n.n(p);function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}var m=(E(r={},d.BR.DARK,{trophy:d.Il.PRIMARY_DARK_400,locked:d.Il.PRIMARY_DARK_400,unlocked:d.Il.STATUS_GREEN_560}),E(r,d.BR.LIGHT,{
trophy:d.Il.PRIMARY_LIGHT_500,locked:d.Il.PRIMARY_LIGHT_500,unlocked:d.Il.STATUS_GREEN_560}),r);b.Sizes=f.u8;function b(e){var t=e.achievementId,n=e.unlocked,r=e.size,d=void 0===r?f.u8.SIZE_40:r,p=(0,i.ZP)(),E=(0,u.oX)(t);if(null==E)return null;var b,g=(0,f.UC)(d),O=E.name,v=E.rarity,_=(0,u.F7)(v).color,S=m[p],I=.8*(g.size-g.offset-2*g.stroke),T=g.size-g.stroke,N={width:.4*I,height:.4*I},C={width:N.width+1,height:N.height+1,right:g.stroke+1,bottom:g.stroke+1,padding:0};return(0,o.jsxs)("div",{className:h().container,style:{width:T,height:T,padding:g.stroke},"aria-label":"".concat(null!==(b=O())&&void 0!==b?b:""),children:[(0,o.jsx)("div",{className:h().trophyIconContainer,children:(0,o.jsx)(l.Z,{color:n?_:(0,a.Lq)(S.trophy),width:I,height:I})}),!n&&(0,o.jsx)("div",{className:h().lockContainer,style:C,children:(0,o.jsx)(c.Z,y({color:(0,a.Lq)(S.locked)},N))}),n&&v===u.EP.LEGENDARY&&(0,o.jsx)("div",{className:h().lockContainer,style:C,children:(0,o.jsx)(s.Z,y({className:h().confettiIcon
},N))})]})}},591739:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var r;!function(e){e[e.PREMIUM_FEATURE_LARGER_FILE_UPLOADS_ID=0]="PREMIUM_FEATURE_LARGER_FILE_UPLOADS_ID";e[e.PREMIUM_FEATURE_ANIMATED_EMOJI_ID=1]="PREMIUM_FEATURE_ANIMATED_EMOJI_ID";e[e.PREMIUM_FEATURE_HD_VIDEO_STREAMING_ID=2]="PREMIUM_FEATURE_HD_VIDEO_STREAMING_ID";e[e.PREMIUM_FEATURE_CUSTOM_PROFILES_ID=3]="PREMIUM_FEATURE_CUSTOM_PROFILES_ID";e[e.PREMIUM_FEATURE_BUY_ONE_GET_ONE_ID=4]="PREMIUM_FEATURE_BUY_ONE_GET_ONE_ID"}(r||(r={}))},485947:(e,t,n)=>{"use strict";n.d(t,{l:()=>b,Y:()=>g});var r=n(667294),o=n(791462),i=n(173436),a=n(859023),s=n(74030),c=n(385385),l=n(178299),u=n(451168),f=n(803881),d=n(298716);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function m(){var e=(0,o.Wu)([f.Z],(function(){return f.Z.outboundPromotions})),t=(0,o.e7)([f.Z],(function(){return f.Z.consumedInboundPromotionId}));return r.useMemo((function(){return e.filter((function(e){return e.id!==t}))}),[e,t])}function b(){var e=(0,o.e7)([f.Z],(function(){return f.Z.lastFetchedActivePromotions})),t=m(),n=(0,o.e7)([a.default],(function(){return a.default.getCurrentUser()})),p=(0,c._O)(),y=h(r.useState(!1),2),b=y[0],g=y[1],O=h(r.useState([]),2),v=O[0],_=O[1];r.useEffect((function(){null!=e&&i.Z.wait((function(){return u.ZP.markOutboundPromotionsSeen()}))}),[e]);var S=r.useCallback((function(e){_((function(t){return t.some((function(t){return t.promotion.id===e.promotion.id}))?t:E(t).concat([e])}))}),[]),I=(0,s.M5)(n,d.p9.TIER_2);r.useEffect((function(){i.Z.wait((function(){I&&null==e&&u.ZP.fetchActiveOutboundPromotions()}))}),[e,I])
;r.useEffect((function(){i.Z.wait((function(){(0,l.t8)().then((function(e){_(e);g(!0)})).catch((function(){_([]);g(!0)}))}))}),[]);var T={},N=!0,C=!1,A=void 0;try{for(var P,j=v[Symbol.iterator]();!(N=(P=j.next()).done);N=!0){var R=P.value,x=R.code,M=R.promotion;T[M.id]=x}}catch(e){C=!0;A=e}finally{try{N||null==j.return||j.return()}finally{if(C)throw A}}var w=new Set(t.map((function(e){return e.id}))),Z=v.filter((function(e){var t=e.promotion;return!w.has(t.id)}));return{promotionsLoaded:b&&(!I||null!=e),activeOutboundPromotions:t.filter((function(e){return(0,l.ZC)(e)&&(!p||(0,l.Qf)(e,T))})),claimedEndedOutboundPromotions:Z.filter((function(e){return(0,l.ZC)(e.promotion)})),claimedOutboundPromotionCodeMap:T,addClaimedOutboundPromotionCode:S}}function g(){var e=(0,o.e7)([f.Z],(function(){return f.Z.lastSeenOutboundPromotionStartDate})),t=(0,c._O)(),n=m();return r.useMemo((function(){if(null==e)return t?n.filter((function(e){return(0,l.Nw)(e)})):n;var r=n.filter((function(t){
var n=t.startDate;return new Date(n)>new Date(e)}));return t?r.filter((function(e){return(0,l.Nw)(e)})):r}),[n,e,t])}},757073:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(191940)),i=n(303326),a=n.n(i);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.children,n=l(e,["children"]);return(0,r.jsx)(o.Co,c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},n),{size:o.Co.Sizes.SMALL,look:o.Co.Looks.INVERTED,className:a().button,children:t}))}},884326:(e,t,n)=>{"use strict";n.d(t,{MM:()=>ce,ZP:()=>le})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(441143),c=n.n(s),l=n(730381),u=n.n(l),f=n(791462),d=n(600075),p=n(956345),h=n(859169),E=n(64833),y=n(744),m=n(832010),b=n(224292),g=n(832377),O=n(859023),v=n(191940),_=n(624387),S=n(487502),I=n(693518),T=n(82961),N=n(81951),C=n(932847),A=n(74030),P=n(557473),j=n(212658),R=n(194503),x=n(757073),M=n(566960),w=n(433656),Z=n(737325),L=n(80635),D=n(916957),U=n(892472),k=n(67416),G=n(56435),B=n(461061),H=n(959797),V=n(210912),F=n.n(V);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){W(i,r,o,a,s,"next",e)}function s(e){W(i,r,o,a,s,"throw",e)}a(void 0)}))}}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){
return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function X(e){var t=e.subscription,n=e.renewalMutations,o=e.transitionState,i=e.onClose,a=e.analyticsLocation,s=(0,f.e7)([L.Z],(function(){
return L.Z.theme})),l=(0,E.Z)(h.Z.SUBSCRIPTION_CANCEL_DOWNGRADE_MODAL).analyticsLocations;function u(){return(u=z((function(){return q(this,(function(e){switch(e.label){case 0:return[4,(0,Z.dP)(t,t.planId,l,a)];case 1:e.sent();i();return[2]}}))}))).apply(this,arguments)}var p=D.Z.get(t.planId);c()(null!=p,"Missing subscriptionPlan");var y=(0,A.aS)(t.planId,!1,!1,{paymentSourceId:t.paymentSourceId,currency:t.currency}),m=(0,G.og)((0,G.T4)(y.amount,y.currency),p.interval,p.intervalCount);return(0,r.jsxs)(k.Y0,{transitionState:o,"aria-label":H.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER,children:[(0,r.jsxs)(k.xB,{justify:S.Z.Justify.BETWEEN,separator:!1,children:[(0,r.jsx)(d.vw,{tag:d.RB.H4,children:H.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER}),(0,r.jsx)(k.ol,{onClick:i})]}),(0,r.jsx)(k.hz,{className:F().modalBody,children:(0,g.Q)(t.planId)?H.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY_NO_EXISTING_PLAN.format({downgradedPlan:A.ZP.getDisplayName(n.planId),
existingRate:m}):H.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY.format({existingPlan:A.ZP.getDisplayName(t.planId),downgradedPlan:A.ZP.getDisplayName(n.planId),existingRate:m})}),(0,r.jsxs)(k.mz,{children:[(0,r.jsx)(v.Co,{onClick:function(){return u.apply(this,arguments)},children:H.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BUTTON}),(0,r.jsx)(v.Co,{look:v.Co.Looks.LINK,color:s===B.BRd.LIGHT?v.Co.Colors.PRIMARY:v.Co.Colors.WHITE,onClick:i,children:H.Z.Messages.NEVERMIND})]})]})}function Q(e){var t=e.subscription,n=e.renewalMutations,i=e.className,s=e.analyticsLocation,c=K(o.useState(!1),2),l=c[0],u=c[1];return(0,r.jsxs)("div",{className:a()(F().root,i),children:[(0,r.jsx)(N.Z,{className:F().infoIcon}),(0,r.jsx)("div",{className:F().text,children:H.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_NOTICE.format({planName:t.hasExternalPlanChange?(0,A.zL)(n):A.ZP.getDisplayName(n.planId),date:t.currentPeriodEnd})}),t.isPurchasedExternally?null:(0,r.jsx)(U.Z,{onClick:function(e){u(!0)
;e.preventDefault()},className:F().cancelLink,children:H.Z.Messages.CANCEL}),l?(0,r.jsx)(k.ZP,{renderModal:function(e){var o=e.transitionState;return(0,r.jsx)(X,{subscription:t,renewalMutations:n,transitionState:o,onClose:function(){return u(!1)},analyticsLocation:s})},onCloseRequest:function(){return u(!1)}}):null]})}var $=n(56397),J=n.n($);function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e){var t=e.subscription,n=e.fromStandaloneBillingPage,o=void 0===n||n,i=e.className,s=(0,f.e7)([O.default],(function(){var e=O.default.getCurrentUser();c()(null!=e,"GuildBoostingHeader: currentUser cannot be undefined");return e}));if(0===(0,A.uV)(t.additionalPlans))return null;var l,u=t.status,h=(0,A.v6)(t);l=h?J().guildBoostingSubscriptionRowCanceled:(0,A.zV)(u)?J().guildBoostingSubscriptionRowFailedPayment:J().guildBoostingSubscriptionRowActive;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a()(l,i),
children:[(0,r.jsx)("div",{className:J().guildBoostingSubscriptionRowBackground}),(0,r.jsx)("div",{className:J().guildBoostingImage}),(0,r.jsxs)("div",{className:J().guildBoostingSubscriptionRowBody,children:[(0,r.jsx)("div",{className:a()(J().guildBoostingWordmark,te({},J().canceled,h))}),(0,r.jsx)("div",{children:(0,A.bt)(t,s)})]}),o&&(0,r.jsx)(x.Z,{color:v.Co.Colors.BRAND,onClick:function(){return p.Z.open(B.oAB.GUILD_BOOSTING)},children:H.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_MANAGE_YOUR_SUBSCRIPTIONS})]}),!o&&(0,r.jsx)(d.xv,{className:J().boostingDesktopAppBlurb,variant:"text-sm/normal",children:H.Z.Messages.GUILD_BOOSTING_MANAGEMENT_OPEN_DESKTOP_APP.format({openAppHook:function(){return(0,y.Z)("app")}})})]})}function oe(){o.useEffect((function(){C.default.track(B.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_missing_payment_method"})}),[]);return(0,r.jsxs)("div",{className:J().paymentBanner,children:[(0,r.jsx)(N.Z,{className:J().paymentBannerIcon,color:(0,
m.Lq)(B.Ilk.STATUS_YELLOW_400)}),(0,r.jsx)(d.xv,{className:J().paymentBannerText,variant:"text-sm/normal",children:H.Z.Messages.MISSING_PAYMENT_METHOD_BANNER})]})}function ie(){o.useEffect((function(){C.default.track(B.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return(0,r.jsxs)("div",{className:J().paymentBanner,children:[(0,r.jsx)(N.Z,{className:J().paymentBannerIcon,color:(0,m.Lq)(B.Ilk.STATUS_RED_400)}),(0,r.jsx)(d.xv,{className:J().paymentBannerText,variant:"text-sm/normal",children:H.Z.Messages.INVALID_PAYMENT_METHOD_BANNER})]})}function ae(e){var t=e.daysPastDue,n=e.subscription,i=e.openInvoiceId,a=(0,E.Z)(h.Z.PAST_DUE_ONE_TIME_PAYMENT_METHOD_BANNER).analyticsLocations;o.useEffect((function(){C.default.track(B.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return(0,r.jsxs)("div",{className:J().paymentBanner,children:[(0,r.jsx)(N.Z,{className:J().paymentBannerIcon,color:(0,m.Lq)(B.Ilk.STATUS_YELLOW_400)}),(0,
r.jsx)(d.xv,{className:J().paymentBannerText,variant:"text-sm/normal",children:H.Z.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT.format({daysPastDue:t,paymentModalRedirect:function(){(0,b.Z)({initialPlanId:n.planIdFromItems,openInvoiceId:i,analyticsLocations:a})}})})]})}function se(e){var t=e.subscription,n=e.renewalInvoicePreview,o=e.className;return(0,r.jsxs)("div",{className:a()(J().billingInformation,o),children:[(0,r.jsx)(d.vw,{tag:"h3",className:J().detailBlockHeader,children:H.Z.Messages.PREMIUM_SETTINGS_BILLING_INFO}),(0,r.jsx)("div",{children:A.ZP.getBillingInformationString(t,n)})]})}function ce(e){var t=e.className;return(0,r.jsxs)("div",{className:t,children:[(0,r.jsx)(d.vw,{className:J().sectionTitle,tag:"h1",children:H.Z.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER}),(0,r.jsx)("p",{className:J().sectionDescription,children:H.Z.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION}),(0,r.jsx)(_.Z,{className:J().noItemsCard,type:_.Z.Types.CUSTOM,
children:(0,r.jsxs)(S.Z,{align:S.Z.Align.CENTER,children:[(0,r.jsx)(I.Z,{game:null,size:I.Z.Sizes.SMALL,className:J().noItemsIcon}),(0,r.jsx)("span",{className:J().cardText,children:H.Z.Messages.USER_SETTINGS_NO_SUBSCRIPTIONS})]})})]})}function le(e){var t,n,o=e.subscription,i=e.paymentSource,s=e.busy,c=e.className,l=e.fromStandaloneBillingPage,p=void 0===l||l,h=e.analyticsLocation,E=ne((0,j.ED)({subscriptionId:o.id,renewal:!0}),1)[0],y=ne((0,j.ED)({subscriptionId:o.id,renewal:!0,applyEntitlements:!0}),1)[0],m=(0,f.e7)([O.default],(function(){var e;return null===(e=O.default.getCurrentUser())||void 0===e?void 0:e.hasFreePremium()})),b=u()(o.currentPeriodEnd),v=null!=o.paymentSourceId,_=null!==(t=null==y?void 0:y.total)&&void 0!==t?t:0,S=null==i?void 0:i.invalid,I=!v&&_>0&&(b.diff(u()(),"days")<=7||o.status===B.O0b.PAST_DUE)&&!m&&!o.isPurchasedExternally,N=S&&o.status===B.O0b.PAST_DUE&&!m&&!o.isPurchasedExternally,C=(0,
R.U)(),A=!m&&C,x=(null==o?void 0:o.status)===B.O0b.PAST_DUE?u()().diff(u()(o.currentPeriodStart),"days"):0,Z=ne((0,j.Ox)({subscriptionId:o.id,preventFetch:!A}),1)[0];if(null==E||null==y)return(0,r.jsx)(T.Z,{});null!=o.renewalMutations&&(o.renewalMutations.planId!==o.planId&&!(0,g.Q)(o.renewalMutations.planId)||o.hasExternalPlanChange)&&(n=(0,r.jsx)(Q,{subscription:o,renewalMutations:o.renewalMutations,className:J().renewalMutationNotice,analyticsLocation:h}));return(0,r.jsx)("div",{className:c,children:(0,r.jsxs)(d.y5,{component:(0,r.jsx)(d.vw,{className:J().sectionTitle,tag:"h1",children:H.Z.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER}),children:[I?(0,r.jsx)(oe,{}):null,N?(0,r.jsx)(ie,{}):null,A&&null!=Z?(0,r.jsx)(ae,{daysPastDue:x,subscription:o,openInvoiceId:Z.id}):null,n,(0,r.jsxs)("div",{className:J().subscriptionRows,children:[(0,r.jsx)("p",{className:J().sectionDescription,children:H.Z.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION}),(0,r.jsx)(M.Z,{subscription:o,
renewalInvoicePreview:E,paymentSource:i,busy:s,analyticsLocation:h}),(0,r.jsx)(re,{subscription:o,fromStandaloneBillingPage:p,className:J().guildSubscriptionRow})]}),(0,r.jsx)("div",{children:(0,r.jsx)(d.y5,{component:(0,r.jsx)(d.vw,{tag:"h5",children:H.Z.Messages.BILLING_STEP_PAYMENT}),children:(0,r.jsxs)("div",{className:J().details,children:[(0,r.jsx)(se,{subscription:o,renewalInvoicePreview:y,className:J().detailsBlock}),(0,r.jsxs)("div",{className:a()(J().detailsBlock,te({},J().redBorder,N)),children:[(0,r.jsx)(d.vw,{tag:"h3",className:J().detailBlockHeader,children:o.isPurchasedExternally&&null!=o.paymentGateway?H.Z.Messages.BILLING_MANAGED_BY_PAYMENT_GATEWAY.format({paymentGatewayName:B.Vzj[o.paymentGateway]}):H.Z.Messages.BILLING_PAY_FOR_IT_WITH}),(0,r.jsx)(w.Z,{subscription:o,onPaymentSourceAdded:P.i1,highlightAddPaymentMethodButton:I||N,analyticsLocation:h,currentInvoicePreview:E,dropdownClassName:J().paymentDropdown}),(0,r.jsx)("div",{className:J().paymentDropdownFinePrint,
children:H.Z.Messages.BILLING_APPLIES_TO_ALL_SUBSCRIPTIONS})]})]})})})]})})}},566960:(e,t,n)=>{"use strict";n.d(t,{R:()=>k,Z:()=>G});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(441143),s=n.n(a),c=n(951667),l=n(859169),u=n(64833),f=n(832691),d=n(224292),p=n(832377),h=n(916957),E=n(892472),y=n(191940),m=n(757987),b=n(581643),g=n(203493),O=n(897576),v=n(74030),_=n(557473),S=n(757073),I=n(298716),T=n(461061),N=n(959797),C=n(956424),A=n.n(C);function P(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){P(i,r,o,a,s,"next",e)}function s(e){P(i,r,o,a,s,"throw",e)}a(void 0)}))}}function R(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){R(e,t,n[t])}))}return e}function M(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var w=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Z=new f.Z("SubscriptionHeader.tsx"),L={page:T.ZY5.USER_SETTINGS,section:T.jXE.SETTINGS_PREMIUM,object:T.qAy.CARD};function D(e){var t=e.wordMark,n=e.subscriptionInfo,o=e.buttons,a=e.statusClasses;return(0,
r.jsxs)("div",{className:i()(A().banner,a),children:[(0,r.jsx)("div",{className:A().bannerBackgroundImage}),(0,r.jsxs)("div",{className:A().detailsContainer,children:[(0,r.jsx)("div",{className:A().image}),(0,r.jsxs)("div",{className:A().details,children:[t,n]})]}),(0,r.jsx)("div",{className:A().buttons,children:o})]})}function U(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Z,{className:A().discordWordmark,"aria-label":N.Z.Messages.PREMIUM_TIER_1}),(0,r.jsx)("div",{className:A().classicWordmark})]})}function k(){var e=(0,u.Z)(l.Z.ACCOUNT_CREDIT_BANNER).analyticsLocations;return(0,r.jsx)(D,{wordMark:(0,r.jsx)(U,{}),subscriptionInfo:(0,r.jsx)("div",{className:A().planInfo,children:N.Z.Messages.PREMIUM_TIER_1_ACCOUNT_CREDIT_BANNER_DESCRIPTION}),buttons:(0,r.jsx)(S.Z,{className:A().toolsButton,onClick:function(){return(0,d.Z)({subscriptionTier:I.Si.TIER_1,analyticsLocations:e,analyticsObject:L})},children:N.Z.Messages.PREMIUM_TIER_1_ACCOUNT_CREDIT_BANNER_CTA}),
statusClasses:R({},A().tier1,!0)})}const G=function(e){var t=e.subscription,o=e.renewalInvoicePreview,a=e.paymentSource,f=e.busy,C=e.analyticsLocation,P=(0,u.Z)(l.Z.SUBSCRIPTION_HEADER).analyticsLocations,k=function(){t.status!==T.O0b.ACTIVE&&t.status!==T.O0b.PAST_DUE||G()},G=function(){(0,O.ZD)(j((function(){var e,o;return w(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(84469),n.e(12508),n.e(29005),n.e(64634)]).then(n.bind(n,164634))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,M(x({},e),{premiumSubscription:t,analyticsLocation:C,analyticsLocations:P}))}]}}))})))},B=function(){if(null!=t&&null!=t.planIdFromItems){var e=h.Z.get(t.planIdFromItems);if(null==e){Z.info("Plan not fetched for plan id: ".concat(t.planIdFromItems));return}var n=(0,_.DE)(e,null==a?void 0:a.id,!1),r=n.length>0?n[0]:t.currency,o=!1;1===n.length&&(null==a?void 0:a.id)===t.paymentSourceId&&(0,_.tD)(e.id,r,null==a?void 0:a.id)?o=!0:null==a||(0,v.Z8)()||(o=!0)
;o?c.O5(t,P):(0,d.Z)({initialPlanId:t.planIdFromItems,analyticsLocations:P,analyticsLocation:C,analyticsObject:L})}},H=v.ZP.getPlanIdFromInvoice(t,o);if((0,p.Q)(H))return null;var V,F=v.ZP.getStatusFromInvoice(t,o),Y=v.ZP.getPremiumType(H),W=(R(V={},A().tier0,Y===I.p9.TIER_0),R(V,A().tier1,Y===I.p9.TIER_1),R(V,A().tier2,Y===I.p9.TIER_2),R(V,A().canceled,F===T.O0b.CANCELED),R(V,A().failedPayment,(0,v.zV)(F)),V),z=null;switch(Y){case I.p9.TIER_0:z=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Z,{className:A().discordWordmark,"aria-label":N.Z.Messages.PREMIUM_TIER_0}),(0,r.jsx)("div",{className:A().basicWordmark})]});break;case I.p9.TIER_1:z=(0,r.jsx)(U,{});break;case I.p9.TIER_2:z=(0,r.jsx)(b.Z,{className:A().planName,"aria-label":N.Z.Messages.PREMIUM_TITLE})}return(0,r.jsx)(D,{wordMark:z,subscriptionInfo:function(e){s()(null!=o,"Expected renewalInvoicePreview");return(0,r.jsx)("div",{className:A().planInfo,children:(0,v.qV)({planId:e,subscription:t,renewalInvoicePreview:o})})}(H),
buttons:function(){var e=t.status;if(t.isPurchasedExternally){var n=(0,v.JE)(t.paymentGateway,"SUBSCRIPTION_MANAGEMENT");return(0,r.jsx)(E.Z,{href:n,useDefaultUnderlineStyles:!1,children:(0,r.jsx)(y.Co,{className:i()(A().toolsButton,A().externalButton),size:y.Co.Sizes.SMALL,look:y.iL.OUTLINED,color:y.Tt.WHITE,submitting:f,children:N.Z.Messages.BILLING_MANAGE_SUBSCRIPTION})})}if(v.ZP.isBaseSubscriptionCanceled(t))return(0,r.jsx)(y.Co,{className:A().toolsButton,size:y.Co.Sizes.SMALL,look:y.iL.INVERTED,color:y.Tt.BRAND,submitting:f,onClick:B,children:N.Z.Messages.RESUBSCRIBE});if(e===T.O0b.ACTIVE||e===T.O0b.PAST_DUE){var o=!1,a=null;if(null!=t.renewalMutations){o=!0;a=t.renewalMutations.planId!==t.planId?N.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PLAN:N.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PREMIUM_GUILD_SUBSCRIPTION}if(null!=t.trialEndsAt){o=!0;a=N.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_IN_TRIAL}e===T.O0b.PAST_DUE&&(o=!0);return(0,r.jsxs)("div",{
className:A().toolsButtons,children:[(0,r.jsx)(y.Co,{className:A().toolsButton,size:y.Co.Sizes.SMALL,look:y.iL.LINK,color:y.Tt.WHITE,submitting:f,onClick:k,children:N.Z.Messages.CANCEL}),(0,r.jsx)(m.ZP,{text:a,children:function(e){return(0,r.jsx)(S.Z,M(x({},e),{disabled:o,className:A().toolsButton,onClick:function(){(0,d.Z)({analyticsLocations:P,analyticsLocation:C,analyticsObject:L})},children:N.Z.Messages.PREMIUM_SWITCH_PLANS}))}})]})}}(),statusClasses:W})}},433656:(e,t,n)=>{"use strict";n.d(t,{Z:()=>W});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(441143),c=n.n(s),l=n(791462),u=n(600075),f=n(976882),d=n(951667),p=n(174034),h=n(238307),E=n(909187),y=n(64833),m=n(767121),b=n(893321),g=n(707955),O=n(916957),v=n(892472),_=n(191940),S=n(82961),I=n(30741),T=n(897576),N=n(95467),C=n(74030),A=n(56435),P=n(557473),j=n(862325),R=n(212658),x=n(461061),M=n(959797),w=n(778916),Z=n.n(w),L=n(3066),D=n.n(L);function U(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){k(i,r,o,a,s,"next",e)}function s(e){k(i,r,o,a,s,"throw",e)}a(void 0)}))}}function B(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){B(e,t,n[t])}))}return e}function V(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function W(e){var t,i,s=e.subscription,u=e.onPaymentSourceAdded,I=e.highlightAddPaymentMethodButton,N=e.dropdownClassName,A=e.analyticsLocation,w=e.currentInvoicePreview,L=(0,l.e7)([b.Z],(function(){return b.Z.hidePersonalInformation})),U=F((0,l.Wu)([g.Z],(function(){return[g.Z.paymentSources,g.Z.hasFetchedPaymentSources]})),2),k=U[0],B=U[1],W=(0,m.V)((0,j.yb)(s)),z=(0,y.Z)().analyticsLocations,q=o.useMemo((function(){return Object.values(k).filter((function(e){return!e.invalid}))}),[k]),X=F(o.useState(!1),2),Q=X[0],$=X[1],J=F(o.useState(s.currency),2),ee=J[0],te=J[1],ne=(t=G((function(e,t){return Y(this,(function(n){switch(n.label){case 0:if(null==s||null==e&&!(0,C.Z8)())throw Error("missing subscription and paymentSource")
;return null!=e?[3,2]:[4,d.fG(s,t,z,A)];case 1:n.sent();return[3,4];case 2:return[4,d.tq(s,e,t,z,A)];case 3:n.sent();n.label=4;case 4:$(!1);te(t);return[2]}}))})),function(e,n){return t.apply(this,arguments)}),re=function(){var e=G((function(e,t,n){var r;return Y(this,(function(o){switch(o.label){case 0:if(null==e&&!(0,C.Z8)())throw Error("PaymentSource required");$(!0);return[4,(0,R.hz)({subscriptionId:s.id,paymentSourceId:null==e?void 0:e.id,renewal:!0,currency:t})];case 1:r=o.sent();w.currency!==r.currency||w.currency===r.currency&&w.total!==r.total?K(r,(function(){n(e,t);if(!(0,C.Z8)()){c()(null!=e,"paymentSource required");(0,p.Y2)(e.country,e.id)}}),(function(){$(!1)})):n(e,t);return[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),oe=function(e){var t=O.Z.get(s.planIdForCurrencies);c()(null!=e,"paymentSource not specified for change");c()(null!=t,"Unable to fetch plan");var n=(0,P.DE)(t.id,e.id,!1);return n.length>0?n[0]:x.pKx.USD},ie=function(e){
null!=e&&re(e,oe(e),ne)},ae=function(e){(0,P.i1)(e.id,(0,j.yb)(s)).then((function(){re(e,oe(e),ne)}));"function"==typeof u&&u(e.id)},se=function(){(0,T.ZD)(G((function(){var e,t;return Y(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(81230),n.e(67543),n.e(64972)]).then(n.bind(n,564972))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,V(H({},e),{onAddPaymentSource:ae,analyticsLocation:A}))}]}}))})),{onCloseCallback:function(){(0,f.fw)()}})};if(s.isPurchasedExternally)return function(e){c()(null!=e.paymentGateway,"Expected payment gateway when managed externally");var t=(0,C.JE)(e.paymentGateway,"PAYMENT_SOURCE_MANAGEMENT");return(0,r.jsx)(v.Z,{href:t,useDefaultUnderlineStyles:!1,className:Z().externalLink,children:(0,r.jsx)(_.Co,{fullWidth:!0,look:_.Co.Looks.FILLED,color:_.Co.Colors.PRIMARY,children:M.Z.Messages.BILLING_MANAGE_BILLING})})}(s);if(B&&W){if(q.length>0){var ce=O.Z.get(s.planIdForCurrencies)
;c()(null!=ce,"Unable to fetch plan");var le=(0,P.DE)(ce,s.paymentSourceId,!1);return(0,r.jsxs)(r.Fragment,{children:[(i=s.paymentSourceId,(0,r.jsx)(E.Z,{prependOption:null==i?{label:M.Z.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION,value:null}:null,className:N,paymentSources:q,hidePersonalInformation:L,selectedPaymentSourceId:i,onChange:ie,onPaymentSourceAdd:se,dropdownLoading:Q})),null!=s.paymentSourceId?(0,r.jsx)(h.b,{currencies:le,children:(0,r.jsxs)("div",{className:a()(Z().currency,D().flex,D().alignCenter),children:[(0,r.jsx)("div",{children:M.Z.Messages.PAYMENT_CURRENCY_PAYING_IN}),(0,r.jsx)(h.Z,{className:Z().currencyDropdown,selectedCurrency:ee,currencies:le,onChange:function(e){re(void 0,e,ne)}})]})}):null]})}return(0,r.jsx)(_.Co,{fullWidth:!0,look:_.Co.Looks.FILLED,color:I?_.Co.Colors.BRAND:_.Co.Colors.PRIMARY,onClick:se,children:M.Z.Messages.BILLING_ADD_PAYMENT_METHOD})}return(0,r.jsx)(S.Z,{})}var z=function(e){
var t=e.modalProps,n=e.onConfirm,o=e.onCancel,i=e.newInvoice,a={newCurrencyAndPrice:(0,A.T4)(i.total,i.currency),helpCenterLink:N.Z.getArticleURL(x.BhN.LOCALIZED_PRICING)};return(0,r.jsx)(I.default,V(H({header:M.Z.Messages.BILLING_CONFIRM_PRICE_CHANGE_TITLE,confirmText:M.Z.Messages.YES_TEXT,cancelText:M.Z.Messages.NO_TEXT,onConfirm:n,onCancel:o,confirmButtonColor:_.Co.Colors.BRAND},t),{children:(0,r.jsx)(u.xv,{variant:"text-md/normal",children:M.Z.Messages.LOCALIZED_PRICING_ON_CHANGE_PAYMENT_METHOD.format(a)})}))},K=function(e,t,n){(0,T.h7)((function(o){return(0,r.jsx)(z,{newInvoice:e,onConfirm:t,onCancel:n,modalProps:o})}),{onCloseRequest:function(){return!1}})}},894272:(e,t,n)=>{"use strict";n.d(t,{RE:()=>M,T5:()=>Z,Xb:()=>L,aE:()=>D,cD:()=>U,s9:()=>k,zM:()=>G,zy:()=>B,S5:()=>H,t9:()=>V,fy:()=>F,vv:()=>Y,YK:()=>z,tr:()=>K,FJ:()=>q,bu:()=>X,_f:()=>Q});n(496486)
;var r=n(608575),o=n(675860),i=n(620903),a=n(444450),s=n(549425),c=n(188363),l=n(74907),u=n(60890),f=n(409271),d=n(53551),p=n(653772),h=n(849166),E=n(171447),y=n(962564),m=n(859023),b=n(882687),g=n(570992),O=n(763611),v=n(856640),_=n(438022),S=n(461061);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,s,"next",e)}function s(e){T(i,r,o,a,s,"throw",e)}a(void 0)}))}}function C(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop()
;a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var P=function(){var e=S.Hae.split(":")[0];if(!e.includes("."))return e;var t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),j=new RegExp("^".concat(O.Z.escape("https://"),"(?:[a-z]+\\.)?(").concat(O.Z.escape(P),"|discordapp.com|discord.com)$")),R={};function x(e){"customEmoji"===e.type&&(e.type="emoji");"emoji"===e.type&&e.src&&(e.src=M(e.src));Array.isArray(e.content)&&(e.content=e.content.map(x));return e}function M(e){
return/^http/.test(e)?e:"".concat(location.protocol,"//").concat(location.host).concat("/"===e.charAt(0)?"":"/").concat(e)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.indexOf(e)>-1}function Z(e,t){var n=[],r=e.getGuildId();[S.d4z.GUILD_CATEGORY].concat(C(d.tx)).includes(e.type)||n.push(new Promise((function(t){E.Z.whenReady(e.id,(function(){return t()}));s.Z.fetchMessages({channelId:e.id,limit:S.AQB})})));return Promise.all(n).then((function(){var n,o=(!e.isNSFW()||!0===(null===(n=m.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed))&&t?E.Z.getMessages(e.id).toArray().map(L):[],i=Object.values(b.Z.getVoiceStatesForChannel(e.id)).map((function(t){return D(r,e.id,t)}));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:r,position:e.position,messages:o,voice_states:i}}))}function L(e){var t=l.Z.parseToAST(e.content,!0,{channelId:e.channel_id}).map(x),n=(0,
u.ZH)(e),r=n.colorString,o=n.nick;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:o,author_color:r,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:e.author?(0,_.Z)(e.author):void 0,pinned:e.pinned,type:e.type}}function D(e,t,n){var r=n.mute,o=n.deaf,i=n.selfMute,a=n.selfDeaf,s=n.suppress,c=n.userId,l=m.default.getUser(c);if(null==l)throw new Error("Invalid user id: ".concat(c));return{nick:g.Z.getName(e,t,l),mute:h.Z.isLocalMute(l.id),volume:h.Z.getLocalVolume(l.id),pan:h.Z.getLocalPan(l.id),voice_state:{mute:r,deaf:o,self_mute:i,self_deaf:a,suppress:s},user:(0,_.Z)(l)}}function U(e,t,n){var r=m.default.getUser(t);return{type:e,user:null!=r?(0,_.Z)(r):null,presence:{status:y.Z.getStatus(t),
activity:null!=n?y.Z.getApplicationActivity(t,n):y.Z.getPrimaryActivity(t)}}}function k(e){if(null==e)return!1;var t,n=window.location.origin;if(e===n)return!0;try{t=r.parse(e).hostname}catch(e){return!1}return window.location.hostname===t&&"localhost"===t||null==e.match("staging")&&!(!j.test(e)||!j.test(n))}function G(e,t,n){var r=p.Z.getGuild(e.getGuildId());return(null!=r?r.getApplicationId():e.getApplicationId())===t||n.indexOf(S.xVR.MESSAGES_READ)>-1}function B(e){switch(e){case S.hes.RTC_CONNECTED:case S.hes.RTC_CONNECTING:case S.hes.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}}function H(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.instance,r=e.secrets,o=e.party,i=0;n&&(i|=S.xjy.INSTANCE);null!=(null==r?void 0:r.join)&&(i|=S.xjy.JOIN);if(t){i|=S.xjy.EMBEDDED;return i|=S.xjy.PARTY_PRIVACY_VOICE_CHANNEL}if((null==o?void 0:o.privacy)===S.RYY.PUBLIC||a.Z.get("ACTIVITIES_FORCE_PUBLIC")){
f.cP.getSetting()&&(i|=S.xjy.PARTY_PRIVACY_FRIENDS);f.Ou.getSetting()&&(i|=S.xjy.PARTY_PRIVACY_VOICE_CHANNEL)}return i}function V(e,t,n){return e===S.mFx.JOIN&&(null!=t&&null!=t.id&&null!=n.join)}function F(e,t,n){return o.Z.get({url:S.ANM.APPLICATION_RPC(t),oldFormErrors:!0,retries:3}).then((function(r){var o=r.body,i=o.rpc_origins,a=o.id,s=o.name,l=o.icon,u=o.cover_image,f=o.flags;if("string"==typeof n)if(e.transport===S.Hej.POST_MESSAGE){var d=(0,c.Z)(t);if(null==d||!w(n,[d]))throw new v.Z(S.$VG.INVALID_ORIGIN,"Invalid Origin")}else if(!w(n,i))throw new v.Z(S.$VG.INVALID_ORIGIN,"Invalid Origin");e.application={id:a,name:s,icon:l,coverImage:u,flags:f}}),(function(){throw new v.Z(S.$VG.INVALID_CLIENTID,"Invalid Client ID")}))}function Y(e,t){return W.apply(this,arguments)}function W(){return(W=N((function(e,t){var n,r;return A(this,(function(o){switch(o.label){case 0:if(null==(n=R[e])){r=t?2:60;n=new i.Z(r,6e4);R[e]=n}return[4,n.process()];case 1:o.sent();return[2]}}))
}))).apply(this,arguments)}function z(e,t){null==t&&(e.authorization.scopes=[S.lHf])}function K(e){var t=h.Z.getSettings(),n=function(e){return Object.values(e).sort((function(e,t){return e.index-t.index})).map((function(e){return{id:e.id,name:e.name}}))},r=e(t);return{input:{available_devices:n(h.Z.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(h.Z.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,threshold:t.modeOptions.threshold,shortcut:r,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}}function q(e,t){var n=h.Z.getSettings(e),r=t(n);return{input_mode:{type:n.mode,shortcut:r},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}}function X(e){
if(e!==S.Hej.POST_MESSAGE)throw new v.Z(S.lTL.INVALID_COMMAND,'command not available from "'.concat(e," transport"))}function Q(e){if(null==e.id)throw new v.Z(S.lTL.INVALID_COMMAND,"Invalid application")}},42370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={HANDSHAKE:0,FRAME:1,CLOSE:2,HELLO:3}},180119:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(461061);function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var s="<removed>";function c(e){var t=i({},e);(function(e){var t=e;return"object"==typeof t.args&&"string"==typeof t.cmd})(t)&&(t=function(e){return e.cmd===r.Etm.AUTHENTICATE?a(i({},e),{args:a(i({},e.args),{access_token:s})}):i({},e)}(t));(function(e){var t=e;return"object"==typeof t.data&&"string"==typeof t.cmd})(t)&&(t=function(e){return e.cmd===r.Etm.AUTHENTICATE?a(i({},e),{data:a(i({},e.data),{access_token:s})}):i({},e)}(t));return t}},812681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(496486),o=n.n(r),i=n(856640),a=n(461061);var s=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.transport=t;this.version=n
;this.encoding=r;this.id=o().uniqueId();this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)};this.application={id:null,name:null,icon:null};if(null==n||n>a.X6Q||n<1)throw new i.Z(a.$VG.INVALID_VERSION,"Invalid Version: ".concat(n))}},239037:(e,t,n)=>{"use strict";n.d(t,{s0:()=>p,em:()=>y,_X:()=>m,GC:()=>b});var r=n(472631),o=n(870),i=n(588641),a=n(185347),s=n(856640),c=n(894272),l=n(461061);function u(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}var f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o
;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=["207646673902501888"];function p(e){if(o.Z.isReady(e)){r.Z.setLocked(!1,e);return{lock:function(){r.Z.setLocked(!0,e)},context:l.IlC.OVERLAY}}i.default.focus(null,!0);return{lock:function(){i.default.setForegroundProcess(e)},context:l.IlC.APP}}var h,E,y=(E=(h=function(e,t,n){var r;return f(this,(function(o){switch(o.label){case 0:(0,c.YK)(e,t);if((null==n||""===n)&&(0,c.s9)(t)){
e.authorization.scopes=[l.cEn,l.CND];return[2,Promise.resolve()]}if(null==n||""===n)return[2,Promise.reject(new s.Z(l.$VG.INVALID_CLIENTID,"No Client ID Specified"))];r=i.default.releaseChannel!==l.R5N.CANARY&&!d.includes(n)&&e.transport!==l.Hej.POST_MESSAGE;return[4,(0,c.vv)(n,r)];case 1:o.sent();return[2,(0,c.fy)(e,n,t)]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=h.apply(e,t);function i(e){u(o,n,r,i,a,"next",e)}function a(e){u(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e,t,n){return E.apply(this,arguments)});var m=function(){return(0,c.tr)((function(e){var t=[];null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=function(e){return e.map((function(e){var t;return{type:e[0],code:e[1],name:null!==(t=(0,a.H9)(e))&&void 0!==t?t:"unknown"}}))}(e.modeOptions.shortcut));return t}))},b=function(e){return(0,c.FJ)(e,(function(e){var t="";null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,
a.BB)(e.modeOptions.shortcut));return t}))}},901288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(348764),o=n(717187),i=n.n(o),a=n(496486),s=n.n(a),c=n(832691),l=n(588641),u=n(180119),f=n(812681),d=n(239037),p=n(461061);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}function m(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var g=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var v,_=l.default.requireModule("discord_rpc").RPCIPC,S=new c.Z("RPCServer:IPC"),I={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function T(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function N(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function C(e){return new Promise((function(t,n){"string"==typeof e&&(e=_.net.createConnection(e));e.pause();e.on("readable",(function(){try{P(e)}catch(t){e.end(A(I.CLOSE,{code:1003,
message:t.message}));e.destroy()}}));var r=function(){try{e.end();e.destroy()}catch(e){}},o=Promise.race([new Promise((function(t){return e.on("error",(function(){return t()}))})),new Promise((function(t,n){e.on("pong",(function(){return n(new Error("socket responded with pong"))}))})),new Promise((function(e,t){setTimeout((function(){return t(new Error("socket alive timeout"))}),1e3)}))]).then((function(){r()}),(function(e){r();throw e}));e.write(A(I.PING,s().uniqueId()));return o.then(t,n)}))}function A(e,t){t=JSON.stringify(t);var n=r.Buffer.byteLength(t),o=r.Buffer.alloc(8+n);o.writeInt32LE(e,0);o.writeInt32LE(n,4);o.write(t,8,n);return function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}(o)}function P(e){var t=e.read(8);if(t){var n=(t=r.Buffer.from(t)).readInt32LE(0),o=t.readInt32LE(4);if(!Object.values(I).includes(n)||o<0)throw new Error("protocol error");if(!(t=e.read(o)))throw new Error("data size does not match what was received");t=r.Buffer.from(t)
;var i=JSON.parse(t.toString());switch(n){case I.PING:e.emit("ping",i);e.write(A(I.PONG,i));break;case I.PONG:e.emit("pong",i);break;case I.HANDSHAKE:if(N(e))throw new Error("already did handshake");T(e,!0);e.emit("handshake",i);break;case I.FRAME:if(!N(e))throw new Error("did not handshake");e.emit("request",i);break;case I.CLOSE:e.end();e.destroy()}P(e)}}var j=function(e){y(n,e);var t=O(n);function n(e,r,o){h(this,n);var i;(i=t.call(this,"ipc",r,o))._socket=e;return i}var r=n.prototype;r.send=function(e){S.info("Socket Emit: ".concat(this.id),(0,u.Z)(e));this._socket.write(A(I.FRAME,e))};r.close=function(e,t){this._socket.end(A(I.CLOSE,{code:e,message:t}));this._socket.destroy()};return n}(f.Z);const R=new(function(e){y(n,e);var t=O(n);function n(){h(this,n);var e;e=t.call(this);(v=_.net.createServer((function(t){return e.handleConnection(t)}))).on("error",(function(e){return S.error("Error: ".concat(e.message))}));_.getAvailableSocket(C).then((function(e){v.listen(e,(function(){
("function"==typeof v.listening?v.listening():v.listening)&&S.info("Starting on ".concat(v.address()))}))}));return e}n.prototype.handleConnection=function(e){var t=this;T(e,!1);e.pause();e.on("readable",(function(){try{P(e)}catch(t){e.end(A(I.CLOSE,{code:p.$VG.CLOSE_UNSUPPORTED,message:t.message}));e.destroy()}}));e.once("handshake",(function(n){var r,o=n.client_id,i=+n.v;try{r=new j(e,i,"json")}catch(t){e.end(A(I.CLOSE,{code:t.code,message:t.message}));e.destroy();return}S.info("Socket Opened: ".concat(r.id));e.on("error",(function(e){return S.error("Socket Error: ".concat(e.message))}));e.on("close",(function(){S.info("Socket Close: ".concat(r.id));t.emit("disconnect",r)}));(0,d.em)(r,null,o).then((function(){e.on("request",(function(e){S.info("Socket Message: ".concat(r.id),(0,u.Z)(e));t.emit("request",r,e)}));t.emit("connect",r)})).catch((function(e){var t=e.code,n=e.message;return r.close(t,n)}))}))};return n}(i()))},649464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V})
;var r=n(717187),o=n.n(r),i=n(496486),a=n.n(i),s=n(817673),c=n(608575),l=n(173436),u=n(832691),f=n(528090),d=n(588641),p=n(856640),h=n(180119),E=n(812681),y=n(239037),m=n(461061),b=n(348764).Buffer;function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return S(e)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C(e,t)}
function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}function N(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?O(e):t}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P,j=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}try{P=d.default.requireModule("discord_erlpack")}catch(e){try{P=d.default.requireModule("erlpack")}catch(e){}}
var x,M=d.default.requireModule("discord_rpc").RPCWebSocket,w=window.GLOBAL_ENV.MARKETING_ENDPOINT,Z=new u.Z("RPCServer:WSS"),L=[];function D(e){return"function"==typeof e?e():e}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e>0?void 0:function(){if(D(x.listening)){var e=x.address().port;Z.info("Starting on ".concat(e));l.Z.dispatch({type:"RPC_SERVER_READY",port:e})}};x.listen(m.V6Z+e%m.frH,"127.0.0.1",t)}function k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=D(e.headers).origin?{"Access-Control-Allow-Origin":D(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":["Content-Type","Authorization"].join(", ")}:{};n=n?JSON.stringify(n):"";r=200!==r||n.length?r:204;t.setHeader("Content-Length",b.byteLength(n));t.setHeader("Content-Type","application/json")
;t.writeHead(r,T({},o,i));t.end(n)}function G(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;k(e,t,{code:o,message:r},n)}var B=function(e){I(n,e);var t=R(n);function n(e,r,o){v(this,n);var i;i=t.call(this,"ws",r,o);if(-1===["etf","json"].indexOf(o))throw new p.Z(m.$VG.INVALID_ENCODING,"Invalid Encoding: ".concat(o));if("etf"===o&&null==P)throw new p.Z(m.$VG.INVALID_ENCODING,"Erlpack cannot be used on this client");i._socket=e;return i}var r=n.prototype;r.send=function(e){(f.default.isLoggingOverlayEvents||e.cmd!==m.Etm.OVERLAY&&e.evt!==m.zMe.OVERLAY)&&Z.info("Socket Emit: ".concat(this.id),(0,h.Z)(e));null!=P&&"etf"===this.encoding?this._socket.send(P.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))};r.close=function(e,t){this._socket.close(e,t)};return n}(E.Z),H=function(e){I(n,e);var t=R(n);function n(e,r,o,i){v(this,n);var a;a=t.call(this,"http",o,i);if("json"!==i)throw new p.Z(m.$VG.INVALID_ENCODING,"Invalid Encoding: ".concat(i));a._sendCallback=e
;a._closeCallback=r;return a}var r=n.prototype;r.send=function(e){(f.default.isLoggingOverlayEvents||e.cmd!==m.Etm.OVERLAY)&&Z.info("Socket Emit: ".concat(this.id),e);this._sendCallback(e)};r.close=function(e,t){this._closeCallback(t,e)};return n}(E.Z);const V=new(function(e){I(n,e);var t=R(n);function n(){v(this,n);var e;e=t.call(this);var r=0;(x=M.http.createServer()).on("error",(function(e){Z.error("Error: ".concat(e.message));("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout((function(){return U(++r)}),1e3)}));x.on("request",e.handleRequest.bind(O(e)));U(r);var o={instanceId:x.instanceId||0,server:x};new M.ws.Server(o).on("connection",(function(t){return e.handleConnection(t)}));return e}var r=n.prototype;r.handleRequest=function(e,t){var n=this,r=A(D(e.url).split("?"),2),o=r[0],i=r[1],a=D(e.method);if("/rpc"!==o||"OPTIONS"!==a){var l="POST"===a;if("/rpc"!==o||"GET"!==a&&!l)G(e,t,404,"Not Found");else{
var u=s.parse(i),f=l?D(e.headers)["content-type"].split("/")[1]:"json",d=function(){var e=c.parse(u.callback),n=e.protocol,r=e.host;n===location.protocol&&r===location.host?t.setHeader("Location",u.callback):t.setHeader("Location",w);t.writeHead(301);t.end()},p=new H(l?k.bind(null,e,t):d,l?G.bind(null,e,t,400):d,+u.v,f);if(l)(0,y.em)(p,D(e.headers).origin,u.client_id).then((function(){var r="";e.on("data",(function(e){return r+=e}));e.on("error",(function(){return G(e,t,500,"Internal Server Error")}));e.on("end",(function(){return n.handleMessage(p,r)}))})).catch((function(e){var t=e.code,n=e.message;return p.close(t,n)}));else{p.authorization.scopes=[m.CND];this.handleMessage(p,decodeURIComponent(u.payload))}}}else k(e,t,{body:""})};r.handleConnection=function(e){var t,n=this,r=s.parse(D(e.upgradeReq).url.split("?")[1]),o=D(e.upgradeReq).headers.origin||"";try{t=new B(e,+r.v,r.encoding||"json")}catch(t){e.close(t.code,t.message);return}Z.info("Socket Opened: ".concat(t.id))
;e.on("error",(function(e){return Z.error("WS Error: ".concat(e.message))}));e.on("close",(function(e,r){Z.info("Socket Closed: ".concat(t.id,", code ").concat(e,", message ").concat(r));a().remove(L,(function(e){return e===t}));n.emit("disconnect",t)}));(0,y.em)(t,o,r.client_id).then((function(){L.push(t);e.on("message",(function(e){return n.handleMessage(t,e)}));n.emit("connect",t)})).catch((function(e){var n=e.code,r=e.message;return t.close(n,r)}))};r.handleMessage=function(e,t){var n;try{if(null!=P&&"etf"===e.encoding)n=P.unpack(t);else{if("string"!=typeof t)throw new Error;n=JSON.parse(t)}}catch(t){e.close(m.$VG.CLOSE_UNSUPPORTED,"Payload not ".concat(e.encoding));return}(f.default.isLoggingOverlayEvents||n.cmd!==m.Etm.OVERLAY)&&Z.info("Socket Message: ".concat(e.id),(0,h.Z)(n));this.emit("request",e,n)};return n}(o()))},66692:(e,t,n)=>{"use strict";n.d(t,{f:()=>r,q:()=>o})
;var r=200,o=[0,.25,.5,.75,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,3.25,3.5,3.75,4,4.25,4.5,4.75,5,5.25,5.5,5.75,6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10]},333999:(e,t,n)=>{"use strict";n.d(t,{vG:()=>i,M0:()=>a,Od:()=>s});var r,o=n(959797),i="emails";!function(e){e.COMMUNICATION="communication";e.SOCIAL="social";e.TIPS="tips";e.RECOMMENDATIONS_AND_EVENTS="recommendations_and_events";e.UPDATES_AND_ANNOUNCEMENTS="updates_and_announcements"}(r||(r={}));var a=[r.TIPS,r.RECOMMENDATIONS_AND_EVENTS,r.UPDATES_AND_ANNOUNCEMENTS],s=[{category:r.COMMUNICATION,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION_SUBLABEL}},{category:r.SOCIAL,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL_SUBLABEL}},{category:r.UPDATES_AND_ANNOUNCEMENTS,label:function(){
return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS_SUBLABEL}},{category:r.TIPS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS_SUBLABEL}},{category:r.RECOMMENDATIONS_AND_EVENTS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS_SUBLABEL}}]},852787:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(791462),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var u=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var d={},p=null;function h(){d={};p=null}var E=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=f(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getEmailSettings=function(){return{categories:d,initialized:p}};r.__getLocalVars=function(){return{categories:d,initialized:p}};return n}(r.ZP.Store);E.displayName="EmailSettingsStore";const y=new E(o.Z,{CONNECTION_OPEN:h,LOGOUT:h,EMAIL_SETTINGS_FETCH_SUCCESS:function(e){var t=e.settings;d=t.categories;p=t.initialized},EMAIL_SETTINGS_UPDATE_SUCCESS:function(e){var t=e.settings;d=t.categories},EMAIL_SETTINGS_UPDATE:function(e){var t=e.updates;d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},d,t)}})},735696:(e,t,n)=>{"use strict";n.d(t,{X:()=>l});var r=n(791462),o=n(144857),i=n(556932),a=n(859023),s=(0,n(553494).B)({kind:"user",id:"2022-10_crunchyroll_connection",label:"Crunchyroll connection",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Crunchyroll connection",config:{enabled:!0}}]}),c=n(461061),l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=i.YL.useExperiment({}).allowChurroStaging,n=s.useExperiment({}).enabled,l=(0,r.e7)([a.default],(function(){return a.default.getCurrentUser()}));return function(r){var i;return r.type===c.ABu.PLAYSTATION_STAGING?t:r.type===c.ABu.CRUNCHYROLL?n:!(void 0===l||!(null===(i=o.bO[r.type])||void 0===i?void 0:i.includes(l.id)))||(!!e||r.enabled)}}},280370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(600075),s=n(979915),c=n(445206),l=n.n(c)
;function u(e){var t=e.children,n=e.className;return(0,r.jsxs)("div",{className:i()(l().root,n),children:[(0,r.jsx)(s.Z,{className:l().info}),(0,r.jsx)(a.xv,{className:l().text,variant:"text-sm/medium",color:"text-normal",children:t})]})}},118499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(785893),o=n(667294),i=n(441143),a=n.n(i),s=n(791462),c=n(600075),l=n(822567),u=n(912224),f=n(859023),d=n(191940),p=n(30741),h=n(897576),E=n(959797);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var S=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(n,e);var t=I(n);function n(){y(this,n);var e;(e=t.apply(this,arguments)).state={isSendingVerificationEmail:!1};e.handleResendVerification=function(){var t=e.props,n=t.currentUser,o=t.onClick;null==o||o();e.setState({isSendingVerificationEmail:!0
},(function(){l.Z.verifyResend().then((function(){return(0,h.h7)((function(e){return(0,r.jsx)(p.default,O(g({header:E.Z.Messages.VERIFICATION_EMAIL_TITLE,confirmText:E.Z.Messages.OKAY,confirmButtonColor:d.Co.Colors.BRAND},e),{children:(0,r.jsx)(c.xv,{variant:"text-md/normal",children:E.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:n.email})})}))}))})).catch((function(e){var t=e.body,n=E.Z.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email);(0,h.h7)((function(e){return(0,r.jsx)(u.Z,g({title:E.Z.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))}))})).then((function(){return e.setState({isSendingVerificationEmail:!1})}))}))};return e}n.prototype.render=function(){var e=this.props,t=e.color,n=e.look,o=e.size;return(0,r.jsx)(d.Co,{look:n,size:o,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification,children:E.Z.Messages.RESEND_VERIFICATION_EMAIL})};return n}(o.Component);T.defaultProps={size:d.Co.Sizes.MEDIUM,
color:d.Co.Colors.BRAND};const N=s.ZP.connectStores([f.default],(function(){var e=f.default.getCurrentUser();a()(null!=e,"ResendEmailVerificationButton: currentUser cannot be undefined");return{currentUser:e}}))(T)},57731:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>S});var r=n(785893),o=n(667294),i=n(791462),a=n(600075),s=n(395951),c=n(493925),l=n(191940),u=n(462428),f=n(67416),d=n(429244),p=n(461061),h=n(86030),E=n(959797),y=n(843204),m=n.n(y);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,s,"next",e)}function s(e){g(i,r,o,a,s,"throw",e)}a(void 0)}))}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){
return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function S(e){
var t,n,y,b,g=e.transitionState,S=e.onSuccess,I=e.onClose,T=e.requirementsUpdated,N=e.noSkip,C=void 0!==N&&N,A=v(o.useState(""),2),P=A[0],j=A[1],R=v(o.useState(""),2),x=R[0],M=R[1],w=v(o.useState(""),2),Z=w[0],L=w[1],D=v(o.useState(null),2),U=D[0],k=D[1],G=v(o.useState(null),2),B=G[0],H=G[1],V=(0,i.e7)([c.Z],(function(){return c.Z.getErrors()})),F=(0,i.e7)([c.Z],(function(){return c.Z.getFormState()})),Y=o.useRef(null);o.useEffect((function(){if(g===h.Dv.ENTERED){var e;null===(e=Y.current)||void 0===e||e.focus()}}),[g]);function W(){W=O((function(e){var t,n,r;return _(this,(function(o){switch(o.label){case 0:e.preventDefault();(0,s.b9)();t=!1;if(""===x){k(E.Z.Messages.PASSWORD_REQUIREMENTS_EMPTY);t=!0}else k(null);if(x!==Z){H(E.Z.Messages.FORM_LABEL_NEW_PASSWORD_MISMATCH);t=!0}else H(null);return t?[2]:[4,(0,s.Mn)({password:P,newPassword:x})];case 1:(null==(n=o.sent())?void 0:n.ok)?S():null!=(null==n||null===(r=n.body)||void 0===r?void 0:r.username)&&(0,d.P)();return[2]}}))}))
;return W.apply(this,arguments)}return(0,r.jsxs)(f.Y0,{transitionState:g,children:[(0,r.jsxs)(f.xB,{separator:!1,className:m().header,children:[(0,r.jsx)(u.Z,{color:u.Z.Colors.HEADER_PRIMARY,size:u.Z.Sizes.SIZE_24,className:m().title,children:E.Z.Messages.UPDATE_PASSWORD}),(0,r.jsx)(a.xv,{color:"header-secondary",variant:"text-md/normal",className:m().subtitle,children:T?E.Z.Messages.FORCE_PASSWORD_UPDATE_DESCRIPTION:E.Z.Messages.USER_SETTINGS_ACCOUNT_CHANGE_PASSWORD_PROMPT_DESKTOP}),!0!==C&&(0,r.jsx)(f.ol,{onClick:I,className:m().modalCloseButton})]}),(0,r.jsxs)("form",{onSubmit:function(e){return W.apply(this,arguments)},children:[(0,r.jsxs)(f.hz,{className:m().content,children:[(0,r.jsx)(a.xJ,{title:E.Z.Messages.FORM_LABEL_CURRENT_PASSWORD,error:null==V||null===(t=V.password)||void 0===t?void 0:t[0],children:(0,r.jsx)(a.oi,{type:"password",value:P,onChange:j,inputRef:Y})}),(0,r.jsx)(a.xJ,{className:m().newPassword,title:E.Z.Messages.FORM_LABEL_NEW_PASSWORD,
error:null!==(b=null!==(y=null==V||null===(n=V.new_password)||void 0===n?void 0:n[0])&&void 0!==y?y:U)&&void 0!==b?b:void 0,children:(0,r.jsx)(a.oi,{type:"password",value:x,onChange:M})}),(0,r.jsx)(a.xJ,{className:m().newPassword,title:E.Z.Messages.FORM_LABEL_CONFIRM_NEW_PASSWORD,error:null!=B?B:void 0,children:(0,r.jsx)(a.oi,{type:"password",value:Z,onChange:L})})]}),(0,r.jsxs)(f.mz,{children:[(0,r.jsx)(l.Co,{type:"submit",color:l.Co.Colors.BRAND,size:l.Co.Sizes.MEDIUM,submitting:F===p.QZA.SUBMITTING,children:E.Z.Messages.DONE}),!0!==C&&(0,r.jsx)(l.Co,{className:m().cancel,look:l.Co.Looks.LINK,color:l.Co.Colors.PRIMARY,onClick:I,children:E.Z.Messages.CANCEL})]})]})]})}},562377:(e,t,n)=>{"use strict";n.d(t,{Z:()=>LC});var r=n(785893),o=n(667294),i=n(506884),a=n(820028),s=n(600075),c=n(173436),l=n(822567),u=n(236086),f=n(395951),d=n(956345),p=n(377018),h=n(64833),E=n(791462),y=n(817513),m=n(711655),b=n(256416),g=n(294184),O=n.n(g),v=n(168190),_=n.n(v);function S(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S(e,t,n[t])}))}return e}function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function N(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function C(e){var t=e.title,n=e.note,o=e.children,i=e.className;return(0,r.jsxs)("div",{className:O()(_().inputItem,i),children:[(0,r.jsxs)("div",{className:_().inputItemText,children:[(0,r.jsx)(s.xv,{className:_().inputItemTitle,variant:"text-md/semibold",color:"interactive-active",children:t}),null!=n&&(0,r.jsx)(s.xv,{className:_().note,variant:"text-sm/medium",color:"header-secondary",children:n})]}),o]})}function A(e){var t=e.options,n=e.value,o=e.select,i=e.selectClassName,a=N(e,["options","value","select","selectClassName"]);return(0,r.jsx)(C,T(I({},a),{children:(0,r.jsx)(s.Ph,{className:O()(_().selectControl,i),options:t,isSelected:function(e){return e===n},select:o,serialize:function(e){return String(e)}})}))}
function P(e){var t=e.value,n=e.onChange,o=e.editable,i=e.textInputClassName,a=e.onClick,c=N(e,["value","onChange","editable","textInputClassName","onClick"]);return(0,r.jsx)(C,T(I({},c),{children:(0,r.jsx)(s.oi,{onClick:a,editable:o,className:O()(_().selectControl,i),value:t,onChange:n})}))}var j=n(827271),R=n(959797),x=n(628701),M=n.n(x);function w(){var e=(0,E.e7)([b.Z],(function(){return b.Z.getSettings()})),t=e.viewerClipsEnabled,n=e.viewerConnectivity,i=(0,E.e7)([y.default],(function(){return y.default.locale})),a=o.useMemo((function(){return[{value:j.dJ.ALL,label:R.Z.Messages.CLIPS_CONNECTIVITY_ALL},{value:j.dJ.FRIENDS,label:R.Z.Messages.CLIPS_CONNECTIVITY_FRIENDS}]}),[i]);return(0,r.jsxs)(s.hj,{children:[(0,r.jsx)(s.j7,{className:M().formItem,hideBorder:!0,value:t,note:R.Z.Messages.CLIPS_SETTINGS_ALLOW_VIEWER_CLIPS_HELP,onChange:m.yl,children:R.Z.Messages.CLIPS_SETTINGS_ALLOW_VIEWER_CLIPS}),(0,r.jsx)(A,{className:M().formItem,title:R.Z.Messages.CLIPS_SETTINGS_WHO_CAN_CAPTURE,
note:R.Z.Messages.CLIPS_SETTINGS_WHO_CAN_CAPTURE_HELP,value:n,select:m.QM,options:a})]})}var Z=n(441143),L=n.n(Z),D=n(754780),U=n(363157),k=n(931439),G=n(461061),B=n(988662),H=n.n(B),V=n(808698),F=n.n(V);function Y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function W(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function z(){var e=(0,E.cj)([b.Z],(function(){return b.Z.getSettings()})),t=e.clipsEnabled,n=e.clipsQuality,i=e.clipsLength,a=(0,E.e7)([k.Z],(function(){return k.Z.getKeybindForAction(G.kg4.SAVE_CLIP,!0)}))
;L()(null!=a,"Save clip keybind unset");var c=(0,E.e7)([y.default],(function(){return y.default.locale})),l=o.useMemo((function(){return[{value:j.Rp.DEFAULT,label:R.Z.Messages.CLIPS_QUALITY_DEFAULT}]}),[c]),u=o.useMemo((function(){return[{value:j.OT.SECONDS_30,label:R.Z.Messages.CLIPS_LENGTH_SECONDS.format({count:30})},{value:j.OT.MINUTES_1,label:R.Z.Messages.CLIPS_LENGTH_MINUTES.format({count:1})},{value:j.OT.MINUTES_2,label:R.Z.Messages.CLIPS_LENGTH_MINUTES.format({count:2})}]}),[c]),f=o.useCallback((function(e){D.Z.setKeybind(W(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Y(e,t,n[t])}))}return e}({},a),{shortcut:e}))}),[a]);return(0,r.jsxs)(s.hj,{children:[(0,r.jsx)(s.j7,{hideBorder:!0,className:F().formItem,value:t,
note:R.Z.Messages.CLIPS_SETTINGS_ENABLE_CLIPS_HELP,onChange:m.em,children:R.Z.Messages.CLIPS_SETTINGS_ENABLE_CLIPS}),(0,r.jsx)(C,{className:F().formItem,title:R.Z.Messages.CLIPS_SETTINGS_KEYBIND,note:R.Z.Messages.CLIPS_SETTINGS_KEYBIND_HELP,children:(0,r.jsx)("div",{className:H().keyRecorder,children:(0,r.jsx)(U.Z,{defaultValue:a.shortcut,onChange:f})})}),(0,r.jsx)(A,{className:F().formItem,select:m.yi,title:R.Z.Messages.CLIPS_SETTINGS_VIDEO_QUALITY,note:R.Z.Messages.CLIPS_SETTINGS_VIDEO_QUALITY_HELP,value:n,options:l}),(0,r.jsx)(A,{className:F().formItem,select:m.eU,title:R.Z.Messages.CLIPS_SETTINGS_LENGTH,note:R.Z.Messages.CLIPS_SETTINGS_LENGTH_HELP,value:i,options:u})]})}var K=n(891153),q=n(371452),X=n(150829);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function J(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$(i,r,o,a,s,"next",e)}function s(e){$(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ne(){var e,t,n=(0,E.e7)([b.Z],(function(){return b.Z.getSettings().storageLocation})),i=ee(o.useState(null),2),a=i[0],c=i[1];o.useEffect((function(){X.Z.queryDirectory(n,(function(e,t){null==e&&null!=t&&c(t)}))}),[n]);return(0,r.jsxs)(s.hj,{children:[(0,r.jsx)(P,{className:F().formItem,title:R.Z.Messages.CLIPS_SETTINGS_STORAGE_LOCATION,note:R.Z.Messages.CLIPS_SETTINGS_STORAGE_LOCATION_HELP,value:n,editable:!1,onClick:J((function(){var e;return te(this,(function(t){switch(t.label){case 0:return[4,K.Z.fileManager.showOpenDialog({properties:["openDirectory"]})];case 1:(e=t.sent()).length>0&&m.T1(e[0]);return[2]}}))})),onChange:G.VqG}),(0,r.jsx)(P,{className:F().formItem,title:R.Z.Messages.CLIPS_SETTINGS_STORAGE_USED,editable:!1,
note:R.Z.Messages.CLIPS_SETTINGS_STORAGE_USED_HELP,value:null==a?"Calculating...":"".concat((0,q.BU)(null!==(e=a.availableKB)&&void 0!==e?e:0)," out of ").concat((0,q.BU)(null!==(t=a.totalKB)&&void 0!==t?t:0)),onChange:G.VqG})]})}var re=n(193570),oe=n.n(re);function ie(){var e=(0,h.Z)().AnalyticsLocationProvider;return(0,r.jsx)(e,{children:(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.X6,{variant:"heading-lg/extrabold",children:R.Z.Messages.CLIPS_CLIPPING}),children:[(0,r.jsx)(s.xv,{className:oe().subHeader,variant:"text-sm/medium",color:"header-secondary",children:R.Z.Messages.CLIPS_SETTINGS_TOP_SUBHEADER}),(0,r.jsxs)("form",{className:oe().form,onSubmit:function(e){return e.preventDefault()},children:[(0,r.jsx)(z,{}),(0,r.jsx)(s.$i,{className:F().formItem}),(0,r.jsx)(w,{}),(0,r.jsx)(s.$i,{className:F().formItem}),(0,r.jsx)(ne,{})]})]})})}var ae=n(832010),se=n(444450),ce=n(180918),le=n(537127),ue=n(191940),fe=n(487502),de=n(31165),pe=n(462428),he=n(824657),Ee=n(380203),ye=n.n(Ee)
;function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e){
var t=e.contents,n=e.content,o=e.onChange,i=(0,he.jl)(t,a.z$[n]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.j7,{value:i,onChange:function(){o(n);i?(0,ce.w9)(a.z$[n]):(0,ce.nm)(a.z$[n])},children:(0,r.jsx)(s.R9,{size:pe.Z.Sizes.SIZE_16,className:ye().marginTop4,children:"".concat(n.toLowerCase()," (").concat(a.z$[n],")")})})})}function Oe(e){var t=e.items,n=e.dismissedContents,o=e.handleChange;return(0,r.jsx)(r.Fragment,{children:t.filter((function(e){return isNaN(Number(e))})).map((function(e){return(0,r.jsx)(ge,{contents:n,content:e,onChange:o},e)}))})}function ve(){var e,t=be(o.useState(""),2),n=t[0],i=t[1],c=null!==(e=(0,E.e7)([le.Z],(function(){var e;return null===(e=le.Z.settings.userContent)||void 0===e?void 0:e.dismissedContents})))&&void 0!==e?e:new Uint8Array,l=be(function(e,t){var n=be(o.useState((function(){var n=se.Z.get(e);return null!=n?n:t})),2),r=n[0],i=n[1];o.useEffect((function(){se.Z.set(e,r)}),[e,r]);return[r,i]
}("RecentDismissibleOverrides",[]),2),u=l[0],f=l[1],d=function(e){f((function(t){var n=new Set(t);n.delete(e);var r=Array.from(n).slice(0,4);r.unshift(e);return r}))},p=u.filter((function(e){return e.toLowerCase().includes(n.toLowerCase())})),h=Object.keys(a.z$).filter((function(e){return!u.includes(e)})).filter((function(e){return e.toLowerCase().includes(n.toLowerCase())})).sort((function(e,t){return e.localeCompare(t)}));return(0,r.jsxs)(s.hj,{title:"Dismissible Contents",tag:s.RB.H1,children:[(0,r.jsx)(de.Z,{className:ye().marginBottom20,size:de.Z.Sizes.LARGE,query:n,onChange:i,onClear:function(){return i("")}}),p.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:ye().marginBottom20,children:(0,r.jsx)(s.vw,{children:"Recent Overrides"})}),(0,r.jsx)(Oe,{items:p,dismissedContents:c,handleChange:d})]}):null,(0,r.jsx)(fe.Z,{className:O()(ye().marginBottom20,ye().marginTop20),children:(0,r.jsx)(s.vw,{children:"Available Dismissible Contents"})}),(0,r.jsx)(Oe,{items:h,
dismissedContents:c,handleChange:d}),(0,r.jsx)(ue.Co,{look:ue.Co.Looks.LINK,onClick:ce.sr,children:"Clear All Dismissed Contents"})]})}var _e=n(192202),Se=n(874058),Ie=n(276546),Te=n(114193),Ne=n(496486),Ce=n.n(Ne),Ae=n(365523),Pe=n(579220),je=n(730189),Re=n(304546),xe=n(944257),Me=n(169364),we=n(466019),Ze=n(897576),Le=n(882699),De=n(402801),Ue=n(542270),ke=n(750029),Ge=n(282004),Be=n(549867),He=n(301679),Ve=n(90816),Fe=n(667519),Ye=n(730381),We=n.n(Ye),ze=n(493316),Ke=n(847949),qe=n(974848),Xe=n.n(qe);function Qe(e){var t=e.achievementId,n=e.dateUnlocked,o=(0,ke.oX)(t);if(null==o)return null;var i=null!=n,a=o.name,c=o.description,l=o.hideDescriptionUntilUnlock,u=o.onAction,f=l&&!i,d=i?"header-primary":"text-muted",p=i?"header-secondary":"text-muted",h=We()(n),E=null!=u&&i,y=E?s.P3:"div";return(0,r.jsxs)(y,{className:O()(Xe().container,E&&Xe().actionable),onClick:function(){E&&u()},children:[(0,r.jsx)("div",{className:Xe().iconContainer,children:(0,r.jsx)(Ke.Z,{achievementId:t,
size:Ke.Z.Sizes.SIZE_40,unlocked:i})}),(0,r.jsxs)("div",{className:Xe().nameContainer,children:[null!=n&&(0,r.jsx)(s.xv,{variant:"text-xxs/semibold",color:"text-muted",className:Xe().unlocked,children:(0,ze.Y4)(h)}),(0,r.jsx)(s.xv,{variant:"text-md/medium",color:d,children:a()}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:p,children:f?"?????":c()})]})]})}var $e=n(953141),Je=n.n($e);function et(e){var t=e.onBackClick,n=(0,E.e7)([Fe.Z],(function(){return Fe.Z.getAllUnlockedAchievements()})),i=o.useMemo((function(){return Object.values(n).sort((function(e,t){return t.dateUnlocked-e.dateUnlocked}))}),[n]),a=o.useMemo((function(){return Object.values(ke.LG).filter(Ve.lm).filter((function(e){return null==n[e.id]})).sort((function(e,t){return e.rarity-t.rarity}))}),[n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.hj,{children:(0,r.jsxs)(s.P3,{onClick:t,className:Je().backContainer,children:[(0,r.jsx)(He.Z,{direction:He.Z.Directions.LEFT,className:Je().icon}),(0,r.jsx)(s.xv,{
variant:"text-lg/normal",color:"text-normal",children:R.Z.Messages.BACK})]})}),(0,r.jsxs)("div",{className:Je().headerContainer,children:[(0,r.jsxs)("div",{className:Je().headerTextContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-lg/extrabold",color:"header-primary",children:R.Z.Messages.POGGERMODE_ACHIEVEMENT_TITLE}),(0,r.jsx)(s.xv,{variant:"text-md/normal",color:"header-secondary",children:R.Z.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION})]}),(0,r.jsx)("div",{className:Je().headerIcon,children:(0,r.jsx)(we.Z,{color:(0,ae.Lq)(G.Ilk.STATUS_ORANGE_460),width:40,height:40})})]}),i.length>0&&(0,r.jsx)(s.hj,{className:Je().divider,children:(0,r.jsx)("div",{className:Je().achievementGrid,children:i.map((function(e){var t=e.achievementId,n=e.dateUnlocked;return(0,r.jsx)(Qe,{achievementId:t,dateUnlocked:n},t)}))})}),a.length>0&&(0,r.jsxs)(s.hj,{className:Je().divider,children:[(0,r.jsx)("div",{className:Je().headerTextContainer,children:(0,r.jsx)(s.xv,{variant:"text-md/bold",
color:"header-secondary",children:R.Z.Messages.POGGERMODE_ACHIEVEMENT_LOCKED_TITLE})}),(0,r.jsx)("div",{className:Je().achievementGrid,children:a.map((function(e){return(0,r.jsx)(Qe,{achievementId:e.id},e.id)}))})]}),(0,r.jsx)(s.hj,{className:Je().divider,children:(0,r.jsx)("div",{className:Je().bottomPadding})})]})}var tt=n(409112),nt=n(452689),rt=n(438235),ot=n.n(rt);function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function st(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){at(i,r,o,a,s,"next",e)}function s(e){at(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ct(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lt(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ct(e,t,n[t])}))}return e}function ut(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dt,pt,ht=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Et={enabled:!0,combosEnabled:!0,screenshakeEnabled:!1,confettiEnabled:!1},yt=(0,Ne.range)(0,11),mt=(0,Ne.range)(0,2.25,.25),bt=(0,Ne.range)(1,11),gt=(0,Ne.range)(1,26);!function(e){e[e.CONFETTI=0]="CONFETTI";e[e.SHAKE=1]="SHAKE"}(dt||(dt={}));!function(e){
e[e.USER_SETTINGS=0]="USER_SETTINGS";e[e.ACHIEVEMENT_LIST=1]="ACHIEVEMENT_LIST"}(pt||(pt={}));function Ot(e){var t=e.disabled,n=e.locations,o=e.settingsLocations,i=e.onChange,a=n.map((function(e){return(0,r.jsx)(s.j7,{disabled:t,value:o[e.location],note:e.description,onChange:function(t){return i(ut(lt({},o),ct({},e.location,t)))},children:e.title},e.location)}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.vw,{children:R.Z.Messages.POGGERMODE_LOCATIONS}),a]})}function vt(e){var t=e.children;return(0,r.jsx)(s.xv,{className:ot().sliderDescription,variant:"text-sm/normal",color:"header-secondary",children:t})}function _t(e){var t=e.settings,o=t.enabled,i=t.warningSeen,a=e.updateSettings,c=(0,E.e7)([je.Z],(function(){return je.Z.useReducedMotion}));return(0,r.jsx)(s.j7,{value:o,note:R.Z.Messages.POGGERMODE_ENABLE_DESCRIPTION,onChange:function(e){e||(0,Ue.T)(ke.hn.DISABLE_POGGERMODE);!e||i&&!c?a({enabled:e}):(0,Ze.ZD)(st((function(){var e,t;return ht(this,(function(o){
switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,30741))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ut(lt({header:c?R.Z.Messages.POGGERMODE_WARNING_TITLE_REDUCED_MOTION:R.Z.Messages.POGGERMODE_WARNING_TITLE,confirmText:R.Z.Messages.ENABLE,cancelText:R.Z.Messages.CANCEL,onConfirm:function(){return a(c?Et:{enabled:!0,warningSeen:!0})}},e),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:c?R.Z.Messages.POGGERMODE_WARNING_BODY_REDUCED_MOTION:R.Z.Messages.POGGERMODE_WARNING_BODY})}))}]}}))})))},children:R.Z.Messages.POGGERMODE_ENABLE})}function St(e){var t=e.settings,n=t.enabled,o=t.confettiEnabled,i=t.confettiCount,a=t.confettiSize,c=t.confettiEnabledLocations,l=e.updateSettings,u=!n||!o;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.POGGERMODE_CONFETTI_CUSTOMIZATION,children:[(0,r.jsx)(s.j7,{disabled:!n,value:o,note:R.Z.Messages.POGGERMODE_CONFETTI_ENABLED_DESCRIPTION,onChange:function(e){return l({confettiEnabled:e},dt.CONFETTI)
},children:R.Z.Messages.POGGERMODE_CONFETTI_ENABLED}),(0,r.jsxs)(s.xJ,{disabled:u,title:R.Z.Messages.POGGERMODE_CONFETTI_COUNT,className:ot().formItem,children:[(0,r.jsx)(vt,{children:R.Z.Messages.POGGERMODE_CONFETTI_COUNT_DESCRIPTION}),(0,r.jsx)(s.iR,{disabled:u,markers:bt,stickToMarkers:!0,minValue:bt[0],maxValue:bt[bt.length-1],initialValue:i,onValueChange:function(e){return l({confettiCount:e},dt.CONFETTI)},onValueRender:function(e){return"".concat(e)}})]}),(0,r.jsxs)(s.xJ,{disabled:u,title:R.Z.Messages.POGGERMODE_CONFETTI_SIZE,className:ot().formItem,children:[(0,r.jsx)(vt,{children:R.Z.Messages.POGGERMODE_CONFETTI_SIZE_DESCRIPTION}),(0,r.jsx)(s.iR,{disabled:u,markers:gt,stickToMarkers:!0,minValue:gt[0],maxValue:gt[gt.length-1],initialValue:a,onValueChange:function(e){return l({confettiSize:e},dt.CONFETTI)},onValueRender:function(e){return"".concat(e)}})]}),(0,r.jsx)(Ot,{disabled:u,locations:[{location:nt.Hn.CHAT_INPUT,
title:R.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED,description:R.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:nt.Hn.REACTION,title:R.Z.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED,description:R.Z.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED_DESCRIPTION},{location:nt.Hn.MEMBER_USER,title:R.Z.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED,description:R.Z.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED_DESCRIPTION},{location:nt.Hn.CALL_TILE,title:R.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED,description:R.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED_DESCRIPTION}],settingsLocations:c,onChange:function(e){return l({confettiEnabledLocations:e},dt.CONFETTI)}})]})}function It(e){var t=e.settings,n=t.enabled,o=t.combosEnabled,i=t.comboSoundsEnabled,a=t.combosRequiredCount,c=e.updateSettings,l=!n||!o;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,
title:R.Z.Messages.POGGERMODE_COMBOS_CUSTOMIZATION,children:[(0,r.jsx)(s.j7,{disabled:!n,value:o,note:R.Z.Messages.POGGERMODE_COMBOS_ENABLED_DESCRIPTION,onChange:function(e){return c({combosEnabled:e})},children:R.Z.Messages.POGGERMODE_COMBOS_ENABLED}),(0,r.jsx)(s.j7,{disabled:!n,value:i,note:R.Z.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED_DESCRIPTION,onChange:function(e){return c({comboSoundsEnabled:e})},children:R.Z.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED}),(0,r.jsxs)(s.xJ,{disabled:l,title:R.Z.Messages.POGGERMODE_COMBOS_REQUIRED,className:ot().formItem,children:[(0,r.jsx)(vt,{children:R.Z.Messages.POGGERMODE_COMBOS_REQUIRED_DESCRIPTION}),(0,r.jsx)(s.iR,{disabled:l,markers:yt,stickToMarkers:!0,minValue:yt[0],maxValue:yt[yt.length-1],initialValue:a,onValueChange:function(e){return c({combosRequiredCount:e})},onValueRender:function(e){return"".concat(e)}})]}),(0,r.jsx)(s.$i,{className:ot().divider})]})}function Tt(e){
var t=e.settings,n=t.enabled,o=t.screenshakeEnabled,i=t.shakeIntensity,a=t.screenshakeEnabledLocations,c=e.updateSettings,l=(0,E.e7)([je.Z],(function(){return je.Z.useReducedMotion})),u=!n||!o||l;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.POGGERMODE_SCREENSHAKE_CUSTOMIZATION,children:[(0,r.jsx)(s.j7,{disabled:!n||l,tooltipNote:l?R.Z.Messages.POGGERMODE_SCREENSHAKE_DISABLED_REDUCED_MOTION:null,value:o&&!l,note:R.Z.Messages.POGGERMODE_SCREENSHAKE_ENABLED_DESCRIPTION,onChange:function(e){return c({screenshakeEnabled:e},dt.SHAKE)},children:R.Z.Messages.POGGERMODE_SCREENSHAKE_ENABLED}),(0,r.jsxs)(s.xJ,{disabled:u,title:R.Z.Messages.POGGERMODE_SCREENSHAKE,className:ot().formItem,children:[(0,r.jsx)(vt,{children:R.Z.Messages.POGGERMODE_SCREENSHAKE_DESCRIPTION}),(0,r.jsx)(s.iR,{disabled:u,markers:mt,equidistant:!0,stickToMarkers:!0,minValue:mt[0],maxValue:mt[mt.length-1],initialValue:i,onValueChange:function(e){return function(e,t){null!=e.shakeIntensity&&e.shakeIntensity>i&&(0,
Ue.T)(ke.hn.MORE);c(e,t)}({shakeIntensity:e},dt.SHAKE)},onMarkerRender:function(e){return e===mt[mt.length-1]?R.Z.Messages.POGGERMODE_SCREENSHAKE_MAX:"".concat(100*e,"%")}})]}),(0,r.jsx)(Ot,{disabled:u,locations:[{location:nt.oZ.CHAT_INPUT,title:R.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED,description:R.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:nt.oZ.VOICE_USER,title:R.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED,description:R.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED_DESCRIPTION},{location:nt.oZ.MENTION,title:R.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED,description:R.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED_DESCRIPTION}],settingsLocations:a,onChange:function(e){return c({screenshakeEnabledLocations:e},dt.SHAKE)}})]})}function Nt(e){var t=e.updateSettings;return(0,r.jsx)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.POGGERMODE_SETTINGS_CUSTOMIZATION,children:(0,
r.jsxs)(s.xJ,{className:ot().formItem,children:[(0,r.jsx)(s.R9,{className:ot().formItem,children:R.Z.Messages.POGGERMODE_HIDE_SETTINGS_DESCRIPTION}),(0,r.jsx)(ue.Co,{className:ot().hideButton,size:ue.Co.Sizes.SMALL,onClick:function(){t({enabled:!1,settingsVisible:!1});(0,Pe.xf)()},children:R.Z.Messages.POGGERMODE_HIDE_SETTINGS})]})})}function Ct(e){var t=e.onChangePage;return(0,r.jsxs)(s.hj,{children:[(0,r.jsxs)(s.P3,{onClick:function(){return t(pt.ACHIEVEMENT_LIST)},className:ot().achievementContainer,children:[(0,r.jsx)("div",{className:ot().achievementIconContainer,children:(0,r.jsx)(we.Z,{color:(0,ae.Lq)(G.Ilk.STATUS_ORANGE_460)})}),(0,r.jsxs)("div",{className:ot().achievementTextContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",color:"header-primary",children:R.Z.Messages.POGGERMODE_ACHIEVEMENT_TITLE}),(0,r.jsx)(s.xv,{variant:"text-md/normal",color:"header-secondary",children:R.Z.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION})]}),(0,r.jsx)(Me.Z,{width:16,
className:ot().rightCaretIcon})]}),(0,r.jsx)(s.$i,{className:ot().divider})]})}var At=function(){return n.e(37948).then(n.t.bind(n,394198,19)).then((function(e){return e.default}))};function Pt(e){var t=e.onChangePage,n=e.setShowEnableAnimation,i=function(e,t,n,r){return(null!=t?t:e)&&(null!=r?r:n)},a=(0,E.cj)([Te.Z],(function(){return Te.Z.getState()})),c=o.useRef(new Ae.V7),l=ft(o.useState(!1),2),u=l[0],f=l[1],d=ft(o.useState({x:0,y:0}),2),p=d[0],h=d[1],y=function(e,t){!function(e){if(e.enabled&&!1===a.enabled){n(!0);(0,De.GN)("poggermode_enabled");var t;Le.S.dispatch(G.CkL.SHAKE_APP,{duration:2e3,intensity:null!==(t=e.shakeIntensity)&&void 0!==t?t:a.shakeIntensity})}}(e);(0,Ge.AI)(e);if(null!=t){var r=t===dt.CONFETTI,o=i(a.confettiEnabled,e.confettiEnabled,a.enabled,e.enabled);if(r&&o){f(!0);c.current.start(2*tt.z,(function(){f(!0);c.current.start(2*tt.z,(function(){return f(!1)}))}))}var s=t===dt.SHAKE,l=i(a.screenshakeEnabled,e.screenshakeEnabled,a.enabled,e.enabled);if(s&&l){
var u;Le.S.dispatch(G.CkL.SHAKE_APP,{duration:1e3,intensity:null!==(u=e.shakeIntensity)&&void 0!==u?u:a.shakeIntensity})}}},m=function(e){h({x:e.clientX,y:e.clientY})};o.useEffect((function(){var e=c.current;window.addEventListener("mousemove",m);return function(){e.stop();window.removeEventListener("mousemove",m)}}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.X6,{variant:"heading-lg/semibold",className:ot().title,children:R.Z.Messages.POGGERMODE}),(0,r.jsx)(_t,{settings:a,updateSettings:y}),(0,r.jsx)(Ct,{onChangePage:t}),(0,r.jsx)(It,{settings:a,updateSettings:y}),(0,r.jsx)(Tt,{settings:a,updateSettings:y}),(0,r.jsx)(St,{settings:a,updateSettings:y}),(0,r.jsx)(Nt,{updateSettings:y}),(0,r.jsx)(Be.Z,{firing:u,position:p})]})}var jt=function(e,t,n){var o=function(e){return function(){t(e)}};switch(e){case pt.USER_SETTINGS:return(0,r.jsx)(Pt,{onChangePage:o(pt.ACHIEVEMENT_LIST),setShowEnableAnimation:n});case pt.ACHIEVEMENT_LIST:return(0,r.jsx)(et,{
onBackClick:o(pt.USER_SETTINGS)});default:return null}},Rt=function(e){return e===pt.USER_SETTINGS?xe.n.LEFT:xe.n.RIGHT};function xt(){var e=ft(o.useState(pt.USER_SETTINGS),2),t=e[0],n=e[1],i=ft(o.useState(Rt(t)),2),a=i[0],s=i[1],c=ft(o.useState(!1),2),l=c[0],u=c[1],f=(0,E.e7)([je.Z],(function(){return je.Z.useReducedMotion})),d=l&&!f;o.useEffect((function(){var e=setTimeout((function(){s(Rt(t))}),500);return function(){return clearTimeout(e)}}),[t]);o.useEffect((function(){Math.random()>.99&&(0,Ue.T)(ke.hn.VISITOR_100)}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(xe.Z,{className:ot().slideAnimator,step:t,direction:a,children:jt(t,n,u)}),(0,r.jsx)("div",{className:d?ot().enableAnimationOverlayVisible:ot().enableAnimationOverlayHidden,children:(0,r.jsx)(Re.Z,{className:ot().enableAnimation,importData:At,shouldAnimate:d,autoplay:!1,resetOnPlay:!0,loop:!1,onComplete:function(){return u(!1)}})})]})}
var Mt=n(729347),wt=n(737325),Zt=n(361417),Lt=n(358623),Dt=n(174034),Ut=n(915222),kt=n(757073),Gt=n(720897),Bt=n(276842),Ht=n(597970),Vt=n.n(Ht),Ft=n(56397),Yt=n.n(Ft),Wt=n(50682),zt=n.n(Wt);function Kt(e){var t=e.onClickManageSubscription,n=(0,E.e7)([Gt.Z],(function(){return Gt.Z.getSubscriptions()})),i=o.useMemo((function(){return Object.values(null!=n?n:{}).filter((function(e){return e.type===G.NYc.APPLICATION&&e.status!==G.O0b.ENDED}))}),[n]);return 0===i.length?null:(0,r.jsxs)("div",{className:Vt().container,children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",className:Vt().sectionTitle,children:R.Z.Messages.APPLICATION_USER_SUBSCRIPTIONS_TITLE}),(0,r.jsx)(Bt.Z,{size:4}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:Vt().sectionDescription,children:R.Z.Messages.APPLICATION_USER_SUBSCRIPTIONS_DESCRIPTION}),(0,r.jsx)(Bt.Z,{size:24}),(0,r.jsxs)("div",{className:O()(Yt().guildBoostingSubscriptionRow,Vt().card),children:[(0,r.jsx)("img",{src:zt(),alt:"",
className:Vt().bannerImage}),(0,r.jsxs)("div",{className:Vt().textContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-xl/semibold",className:Vt().header,children:R.Z.Messages.APPLICATION_USER_SUBSCRIPTIONS_TITLE}),(0,r.jsx)(s.xv,{variant:"text-md/normal",className:Vt().description,children:R.Z.Messages.APPLICATION_ACTIVE_USER_SUBSCRIPTIONS_DESCRIPTION.format({numSubscriptions:i.length})})]}),(0,r.jsx)(kt.Z,{color:ue.Co.Colors.BRAND,onClick:t,children:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTIONS_BUTTON})]})]})}var qt=n(82961),Xt=n(818445),Qt=n(130462),$t=n(997903),Jt=n(732025),en=n(615522),tn=n(212658),nn=n(433656),rn=n(707955),on=n(969225),an=n(221713),sn=n(146724),cn=n.n(sn);const ln=function(e){var t=e.label,n=e.onClick,o=e.submitting;return(0,r.jsx)(s.P3,{onClick:o?void 0:n,className:cn().button,children:(0,r.jsxs)("div",{className:cn().contentContainer,children:[o?(0,r.jsx)(qt.Z,{type:qt.Z.Type.PULSING_ELLIPSIS,className:cn().spinner}):(0,r.jsx)(s.xv,{variant:"text-md/medium",
className:cn().label,children:t}),(0,r.jsx)(an.Z,{className:cn().arrow})]})})};var un=n(757987),fn=n(272729),dn=n(436035),pn=n(226300),hn=n(525037),En=n(75736),yn=n(653772),mn=n(922877),bn=n(56435),gn=n(835104),On=n(551589);function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e){var t=(0,On.bZ)(e),n=(0,E.e7)([gn.Z],(function(){return gn.Z.getSubscriptionListingForPlan(t)}),[t]),r=(0,E.e7)([gn.Z],(function(){return null!=n?gn.Z.getSubscriptionGroupListingForSubscriptionListing(n.id):null}),[n]),i=(0,E.e7)([mn.Z],(function(){var t=mn.Z.getForSubscription(e.id);if(null!=t){return _n(Array.from(t),1)[0]}return null}),[e]),a=(0,E.e7)([En.Z],(function(){if(null!=i){var e=En.Z.getApplication(i.applicationId);if(null!=e)return e}}),[i]),s=(0,E.e7)([yn.Z],(function(){if(null!=i)return yn.Z.getGuild(i.guildId)}),[i]),c=_n(o.useState(!1),2),l=c[0],u=c[1],f=null==n?void 0:function(e){var t=e.listing,n=e.subscription,r=n.currentPeriodEnd,o=t.subscription_plans[0],i=(0,
bn.T4)(o.price,o.currency),a=n.createdAt,s=n.status===G.O0b.CANCELED,c=n.status===G.O0b.PAST_DUE;return{subscribedSinceDate:a,currentPeriodEndDate:r,currentPeriodEndLabel:We()().isAfter(n.currentPeriodEnd)?R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIPTION_ENDED:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIPTION_ENDS,subscriptionPlanPrice:i,isCancelled:s,isPastDue:c}}({listing:n,subscription:e});return{application:a,guild:s,expanded:l,handleToggleExpanded:function(){return u((function(e){return!e}))},listing:n,groupListing:r,subscriptionInfo:f}}var In=n(101673),Tn=n.n(In);function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function An(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Cn(i,r,o,a,s,"next",e)}function s(e){
Cn(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Pn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pn(e,t,n[t])}))}return e}function Rn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xn(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Mn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},wn=function(e){var t=e.label,n=e.value,o=e.showInfoIcon,i=e.infoIconTooltipText
;return(0,r.jsxs)("div",{className:Tn().infoCard,children:[(0,r.jsxs)("div",{className:Tn().infoCardLabelContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-deprecated-12/semibold",className:Tn().infoCardLabel,children:t}),o&&(0,r.jsx)(un.ZP,{text:i,children:function(e){return(0,r.jsx)(dn.Z,Rn(jn({},e),{className:Tn().infoCardIcon}))}})]}),(0,r.jsx)(s.X6,{variant:"heading-xl/semibold",className:Tn().infoCardValue,children:n})]})},Zn=function(e){var t=e.subscription,n=xn((0,tn.ED)({subscriptionId:t.id,renewal:!0}),1)[0],o=(0,E.e7)([rn.Z],(function(){return rn.Z.hasFetchedPaymentSources}));return null!=n&&o?(0,r.jsx)(nn.Z,{subscription:t,currentInvoicePreview:n,dropdownClassName:Tn().paymentSourceDropdown}):(0,r.jsx)(qt.Z,{})},Ln=function(e){var t=e.isCancelled,n=e.onCancelSubscriptionClick;return t?null:(0,r.jsxs)("div",{children:[(0,r.jsx)(s.vw,{children:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_LABEL}),(0,r.jsx)("div",{className:Tn().rowButtons,children:(0,
r.jsx)(ln,{label:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CANCEL,onClick:n})})]})};const Dn=function(e){var t=e.subscription,o=Sn(t),i=o.listing,a=o.groupListing,c=o.guild,l=o.expanded,u=o.handleToggleExpanded,f=o.subscriptionInfo,d=o.application,p=(0,fn.Dt)();if(null==a||null==i||null==f)return null;var h,E=function(){null!=c&&null!=d&&(0,Ze.ZD)(An((function(){var e,o;return Mn(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(78487)]).then(n.bind(n,778487))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,jn({application:d,listing:i,subscription:t},e))}]}}))})))},y=f.isCancelled,m=f.isPastDue,b=f.subscriptionPlanPrice,g=f.subscribedSinceDate,v=f.currentPeriodEndDate,_=f.currentPeriodEndLabel,S=i.soft_deleted||null==c||null==d;return(0,r.jsxs)("div",{className:Tn().container,children:[(0,r.jsx)(Jt.Z,{onClick:u,className:Tn().headerContainer,children:function(e){var t=e.areaRef,n=e.handleStopPropagation;return(0,
r.jsxs)(r.Fragment,{children:[null!=d&&(0,r.jsx)(hn.Z,{size:hn.H.SMALL,className:Tn().applicationIcon,application:d}),(0,r.jsxs)("div",{className:Tn().headerTextContainer,children:[(0,r.jsx)(s.xv,{variant:"text-md/medium",className:Tn().applicationName,children:null!=d?d.name:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_APPLICATION_NAME_UNAVAILABLE}),(0,r.jsxs)("div",{className:Tn().headerSubtitleContainer,children:[(0,r.jsxs)(s.xv,{variant:"text-sm/normal",className:Tn().tierName,children:[R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_IN_GUILD.format({guildName:null!==(h=null==c?void 0:c.name)&&void 0!==h?h:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_GUILD_NAME_UNAVAILABLE}),null!=c&&(0,r.jsx)(on.Z,{guild:c,size:on.Z.Sizes.MINI,className:Tn().guildIcon})]}),y?(0,r.jsx)(pn.IG,{text:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CANCELED}):m?(0,r.jsx)(un.ZP,{text:R.Z.Messages.APPLICATION_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,children:function(e){return(0,
r.jsx)("div",Rn(jn({},e),{children:(0,r.jsx)(pn.IG,{className:Tn().paymentDueBadge,text:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAST_DUE,color:$t.Z.STATUS_YELLOW_500})}))}}):null]})]}),(0,r.jsx)(s.P3,{onClick:n(u),"aria-label":R.Z.Messages.APPLICATION_SUBSCRIPTION_TOGGLE_SECTION_LABEL,"aria-controls":p,"aria-expanded":l,focusProps:{ringTarget:t},children:(0,r.jsx)(an.Z,{className:O()(Tn().arrowIcon,Pn({},Tn().arrowIconExpanded,l))})})]})}}),l?(0,r.jsxs)("div",{id:p,children:[(0,r.jsx)("div",{className:Tn().divider}),(0,r.jsx)(en.Z,{groupListingId:a.id,subscription:t,className:Tn().changePlanNotice}),(0,r.jsxs)("div",{className:Tn().subscriptionInfoCards,children:[(0,r.jsx)(wn,{label:_,value:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_CURRENT_PERIOD_END_DATE.format({timestamp:v.getTime()})}),(0,r.jsx)(wn,{label:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_PRICE,value:b}),(0,r.jsx)(wn,{label:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIBED_SINCE,
value:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIBED_SINCE_DATE.format({timestamp:g.getTime()})})]}),(0,r.jsx)(Bt.Z,{size:16}),!y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.vw,{children:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAYMENT_METHOD_LABEL}),(0,r.jsx)(Zn,{subscription:t})]}),!S&&(0,r.jsx)(Ln,{isCancelled:y,onCancelSubscriptionClick:E})]}):null]})};var Un=n(888197),kn=n.n(Un);const Gn=function(e){var t,n=e.onGoBack,o=(0,E.e7)([Gt.Z],(function(){return null!==(t=Gt.Z.getActiveApplicationSubscriptions())&&void 0!==t?t:[]})),i=(0,Qt.sp)(o).loading,a=(0,Qt.qz)().loadState;return i||a!==Qt.jd.LOADED?(0,r.jsx)(qt.Z,{}):0===o.length?null:(0,r.jsxs)("div",{className:kn().container,children:[(0,r.jsxs)(ue.Co,{look:ue.Co.Looks.BLANK,innerClassName:kn().backButtonContents,onClick:n,children:[(0,r.jsx)(Xt.Z,{className:kn().arrowIcon}),R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_BACK_CTA]}),(0,r.jsx)(Bt.Z,{size:10}),(0,r.jsx)(s.vw,{tag:"h1",
children:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_TITLE}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:kn().pageDescription,children:R.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_DESCRIPTION}),(0,r.jsx)("div",{className:kn().subscriptionsContainer,children:o.map((function(e){return(0,r.jsx)(Dn,{subscription:e},e.id)}))})]})};var Bn=n(767121),Hn=n(58131),Vn=n.n(Hn),Fn=n(709804),Yn=n.n(Fn);function Wn(e){var t=e.onClickManageSubscription,n=(0,E.e7)([Gt.Z],(function(){return Gt.Z.getSubscriptions()})),i=o.useMemo((function(){return Object.values(null!=n?n:{}).filter((function(e){return e.type===G.NYc.GUILD})).filter((function(e){return e.status!==G.O0b.ENDED}))}),[n]);return 0===i.length?null:(0,r.jsxs)("div",{className:Vn().container,children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",className:Vn().sectionTitle,children:R.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE}),(0,r.jsx)(Bt.Z,{size:4}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",
className:Vn().sectionDescription,children:R.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_DESCRIPTION}),(0,r.jsx)(Bt.Z,{size:24}),(0,r.jsxs)("div",{className:O()(Yt().guildBoostingSubscriptionRow,Vn().card),children:[(0,r.jsx)("img",{src:Yn(),alt:"",className:Vn().handImage}),(0,r.jsxs)("div",{className:Vn().textContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-xl/semibold",className:Vn().header,children:R.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE}),(0,r.jsx)(s.xv,{variant:"text-md/normal",className:Vn().description,children:R.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_ACTIVE_USER_SUBSCRIPTIONS_DESCRIPTION.format({numSubscriptions:i.length})})]}),(0,r.jsx)(kt.Z,{color:ue.Co.Colors.BRAND,onClick:t,children:R.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_BUTTON})]})]})}var zn=n(606076),Kn=n(261317),qn=n(954946),Xn=n(45451),Qn=n(80142);function $n(){var e=(0,E.e7)([Xn.Z],(function(){return Xn.Z.getGuildIdsWithPurchasableRoles()}));return(0,
E.e7)([Xn.Z],(function(){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(Xn.Z.getUserSubscriptionRoles(a).size>0)return!0}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1}),[e])?Qn.PY.SUBSCRIBED:0===e.size?Qn.PY.NONE:Qn.PY.IN_SUBSCRIPTION_SERVER}var Jn=[];function er(e){var t,n=e.ensureFresh,r=e.hasFetched,o=e.hasRoleSubscriptions,i=Gt.Z.getActiveGuildSubscriptions();return!(0!==(null!==(t=null==i?void 0:i.length)&&void 0!==t?t:0)||!o)||(!(!n||r)||!r&&!Gt.Z.hasFetchedSubscriptions())}var tr=n(193059),nr=n(975533),rr=n(655695),or=n(653191),ir=n(394616);function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cr(e){var t=(0,ir.W)(e),n=(0,E.e7)([or.Z],(function(){return or.Z.getSubscriptionListingForPlan(t)})),r=(0,E.e7)([or.Z],(function(){return null!=n?or.Z.getSubscriptionGroupListingForSubscriptionListing(n.id):null})),i=(0,E.e7)([yn.Z],(function(){return yn.Z.getGuild(null==r?void 0:r.guild_id)
})),a=sr(o.useState(!1),2),s=a[0],c=a[1],l=(0,qn.JH)().fetchSubscriptionsSettings;o.useEffect((function(){s&&null!=i&&l(i.id)}),[s,i,l]);var u=null==n?void 0:function(e){var t=e.listing,n=e.subscription,r=We()(n.currentPeriodEnd).format("M/D/YY"),o=t.subscription_plans[0],i=(0,bn.T4)(o.price,o.currency),a=We()(n.createdAt).format("M/D/YY"),s=n.status===G.O0b.CANCELED,c=n.status===G.O0b.PAST_DUE,l=null!=n.trialId;return{memberSince:a,nextRenewalDate:r,nextRenewalLabel:s?R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBERSHIP_ENDS:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_NEXT_RENEWAL,subscriptionPlanPrice:i,isCancelled:s,isPastDue:c,isTrial:l}}({listing:n,subscription:e});return{guild:i,expanded:s,handleToggleExpanded:function(){return c((function(e){return!e}))},listing:n,groupListing:r,subscriptionInfo:u}}var lr=n(859169),ur=n(67416),fr=n(935406),dr=n(331454),pr=n(666309),hr=n.n(pr);function Er(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yr(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function mr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){yr(i,r,o,a,s,"next",e)}function s(e){yr(i,r,o,a,s,"throw",e)}a(void 0)}))}}function br(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Or=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},vr=function(e){var t,n,i=e.transitionState,a=e.groupListing,c=e.guildId,l=e.listing,u=e.subscription,f=e.onClose,d=(0,fn.Dt)(),p=(0,qn.YB)(c),E=null!=(null==p||null===(t=p.cover_image_asset)||void 0===t?void 0:t.application_id)?(0,fr._W)(p.cover_image_asset.application_id,p.cover_image_asset,440):void 0,y=function(e){var t,n=gr(o.useState(!1),2),r=n[0],i=n[1],a=gr(o.useState(null),2),s=a[0],c=a[1],l=(t=mr((function(t){var n;return Or(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,3,4]);i(!0);return[4,wt.EO(t,e)];case 1:r.sent()
;return[2,!0];case 2:n=r.sent();c(n);return[3,4];case 3:i(!1);return[7];case 4:return[2]}}))})),function(e){return t.apply(this,arguments)});return{cancelSubscription:l,error:s,submitting:r}}((0,h.Z)(lr.Z.GUILD_ROLE_SUBSCRIPTION_CANCELLATION_MODAL).analyticsLocations),m=y.cancelSubscription,b=y.error,g=y.submitting,O=(n=mr((function(){return Or(this,(function(e){switch(e.label){case 0:return[4,m(u.id)];case 1:e.sent()&&f();return[2]}}))})),function(){return n.apply(this,arguments)}),v=l.role_benefits.benefits.filter((function(e){return e.ref_type===Qn.Qs.CHANNEL})),_=l.role_benefits.benefits.filter((function(e){return e.ref_type===Qn.Qs.INTANGIBLE})),S=We()(u.currentPeriodEnd).format("MMMM Do, YYYY"),I=R.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_DESCRIPTION.format({numChannels:v.length,numAdditionalBenefits:_.length,subscriptionEndDate:S});return(0,r.jsxs)(ur.Y0,{transitionState:i,className:hr().modal,"aria-labelledby":d,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{
src:E,alt:"",className:hr().headerImage}),(0,r.jsx)(ur.ol,{withCircleBackground:!0,className:hr().closeButton,onClick:f})]}),null!=b?(0,r.jsx)(s.kz,{children:b.message}):null,(0,r.jsxs)(ur.hz,{className:hr().content,children:[(0,r.jsx)(s.X6,{id:d,variant:"text-md/medium",className:hr().title,children:R.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_TITLE}),(0,r.jsx)(s.xv,{className:hr().description,variant:"text-sm/normal",children:I}),(0,r.jsx)(dr.c,{listingId:l.id,guildId:a.guild_id,className:hr().benefits})]}),(0,r.jsxs)(ur.mz,{className:hr().footer,children:[(0,r.jsx)(ue.Co,{color:ue.Co.Colors.RED,onClick:O,submitting:g,children:R.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_CANCEL_CTA}),(0,r.jsx)(ue.Co,{look:ue.Co.Looks.LINK,color:ue.Co.Colors.WHITE,className:hr().goBackButton,onClick:f,children:R.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_NEVERMIND_CTA})]})]})},_r=function(e){Ze.h7((function(t){return(0,r.jsx)(vr,function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){br(e,t,n[t])}))}return e}({},t,e))}))};var Sr=n(373171),Ir=n(393109),Tr=n(35236),Nr=n(228031),Cr=n(779383),Ar=n.n(Cr);function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jr(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Rr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){Rr(e,t,n[t])}))}return e}function Mr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pr(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Zr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1}
;case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Lr=function(e){var t=e.label,n=e.value,o=e.showInfoIcon,i=e.infoIconTooltipText;return(0,r.jsxs)("div",{className:Ar().infoCard,children:[(0,r.jsxs)("div",{className:Ar().infoCardLabelContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-deprecated-12/semibold",className:Ar().infoCardLabel,children:t}),o&&(0,r.jsx)(un.ZP,{clickableOnMobile:!0,text:i,children:function(e){return(0,r.jsx)(dn.Z,Mr(xr({},e),{className:Ar().infoCardIcon}))}})]}),(0,r.jsx)(s.X6,{variant:"heading-xl/semibold",
className:Ar().infoCardValue,children:n})]})},Dr=function(e){var t=e.subscription,n=wr((0,tn.ED)({subscriptionId:t.id,renewal:!0}),1)[0],o=(0,E.e7)([rn.Z],(function(){return rn.Z.hasFetchedPaymentSources}));return null!=n&&o?(0,r.jsx)(nn.Z,{subscription:t,currentInvoicePreview:n,dropdownClassName:Ar().paymentSourceDropdown}):(0,r.jsx)(qt.Z,{})},Ur=function(e){var t=e.isTrial,n=e.isCancelled,o=e.isResubscribing,i=e.shouldHideRoleSubscriptionEntryPoints,a=e.onCancelSubscriptionClick,c=e.onResubscribeClick,l=e.onChangePlanClick;return n&&(t||i)?null:(0,r.jsxs)("div",{children:[(0,r.jsx)(s.vw,{children:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_LABEL}),(0,r.jsx)("div",{className:Ar().rowButtons,children:n?(0,r.jsx)(ue.Co,{onClick:c,submitting:o,children:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_RESTART_SUBSCRIPTION}):(0,r.jsxs)(r.Fragment,{children:[!t&&!i&&(0,r.jsx)(ln,{label:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CHANGE_TIER,onClick:l
}),(0,r.jsx)(ln,{label:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CANCEL,onClick:a})]})})]})};const kr=function(e){var t=e.subscription,n=cr(t),i=n.listing,a=n.groupListing,c=n.guild,l=n.expanded,u=n.handleToggleExpanded,f=n.subscriptionInfo,p=wr(o.useState(!1),2),E=p[0],y=p[1],m=(0,fn.Dt)(),b=(0,h.Z)().analyticsLocations,g=(0,nr.VV)(null==c?void 0:c.id).shouldHideRoleSubscriptionPurchaseEntryPoints;if(null==a||null==i||null==f)return null;var v,_,S=function(){if(null!=c){(0,rr.uL)(G.Z5c.CHANNEL(c.id,Tr.oC.ROLE_SUBSCRIPTIONS));(0,Pe.xf)();tr.Z.show(G.kVF.BACK_TO_PREVIOUS_SCREEN,void 0,R.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_SUBSCRIPTION_USER_SETTING_CTA,(function(){return d.Z.open(G.oAB.SUBSCRIPTIONS,Nr.cP)}))}},I=function(){null!=c&&_r({guildId:c.id,groupListing:a,listing:i,subscription:t})},T=(_=(v=function(){return Zr(this,(function(e){switch(e.label){case 0:e.trys.push([0,,2,3]);y(!0);return[4,wt.pl(t,b)];case 1:e.sent();(0,Sr.B)({
title:R.Z.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_TITLE,body:R.Z.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_DESCRIPTION,Icon:Ir.Z});return[3,3];case 2:y(!1);return[7];case 3:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=v.apply(e,t);function i(e){jr(o,n,r,i,a,"next",e)}function a(e){jr(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(){return _.apply(this,arguments)}),N=f.isCancelled,C=f.isPastDue,A=f.subscriptionPlanPrice,P=f.memberSince,j=f.nextRenewalDate,x=f.nextRenewalLabel,M=f.isTrial,w=i.soft_deleted||null==c;return(0,r.jsxs)("div",{className:Ar().container,children:[(0,r.jsx)(Jt.Z,{onClick:u,className:Ar().headerContainer,children:function(e){var t=e.areaRef,n=e.handleStopPropagation;return(0,r.jsxs)(r.Fragment,{children:[null!=c&&(0,r.jsx)(on.Z,{guild:c,active:!0,size:on.Z.Sizes.MEDIUM}),(0,r.jsxs)("div",{className:Ar().headerTextContainer,children:[(0,r.jsx)(s.xv,{variant:"text-md/medium",className:Ar().guildName,
children:null!=c?c.name:R.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SERVER_NAME_UNAVAILABLE}),(0,r.jsxs)("div",{className:Ar().headerSubtitleContainer,children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:Ar().tierName,children:i.name}),N?(0,r.jsx)(pn.IG,{text:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_CANCELLED}):M?(0,r.jsx)(pn.IG,{text:R.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_FREE_TRIAL_TITLE,color:$t.Z.BRAND_500}):C?(0,r.jsx)(un.ZP,{text:R.Z.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,children:function(e){return(0,r.jsx)("div",Mr(xr({},e),{children:(0,r.jsx)(pn.IG,{className:Ar().paymentDueBadge,text:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAST_DUE,color:$t.Z.STATUS_YELLOW_500})}))}}):null]})]}),(0,r.jsx)(s.P3,{onClick:n(u),"aria-label":R.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_TOGGLE_SECTION_LABEL,"aria-controls":m,"aria-expanded":l,focusProps:{ringTarget:t},children:(0,r.jsx)(an.Z,{className:O()(Ar().arrowIcon,Rr({},Ar().arrowIconExpanded,l))})})]})}
}),l?(0,r.jsxs)("div",{id:m,children:[(0,r.jsx)("div",{className:Ar().divider}),(0,r.jsx)(en.Z,{groupListingId:a.id,subscription:t,className:Ar().changePlanNotice}),(0,r.jsxs)("div",{className:Ar().subscriptionInfoCards,children:[(0,r.jsx)(Lr,{label:x,value:j}),(0,r.jsx)(Lr,{label:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_PRICE,value:A,showInfoIcon:M,infoIconTooltipText:M?R.Z.Messages.GUILD_ROLE_SUBSCRIPTION_MANAGE_SUBSCRIPTION_PAGE_TRIAL_PRICE_INFO:void 0}),(0,r.jsx)(Lr,{label:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBER_SINCE,value:P})]}),(0,r.jsx)(Bt.Z,{size:16}),!N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.vw,{children:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAYMENT_METHOD_LABEL}),(0,r.jsx)(Dr,{subscription:t})]}),!w&&(0,r.jsx)(Ur,{isTrial:M,isCancelled:N,isResubscribing:E,shouldHideRoleSubscriptionEntryPoints:g,onCancelSubscriptionClick:I,onChangePlanClick:S,onResubscribeClick:T})]}):null]})};var Gr=n(670578),Br=n.n(Gr);const Hr=function(e){
var t=e.onGoBack,n=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ensureFresh,t=void 0!==e&&e,n=$n()===Qn.PY.SUBSCRIBED,r=(0,E.e7)([Gt.Z],(function(){return Gt.Z.getActiveGuildSubscriptions()})),i=o.useRef(!1);o.useEffect((function(){if(er({ensureFresh:t,hasRoleSubscriptions:n,hasFetched:i.current})){i.current=!0;wt.jg()}}),[t,n]);return null!=r?r:Jn}(),i=(0,qn.sp)(n).loading;(0,Kn.Z)(zn.tq?"role-subscriptions-user-setting":void 0);return i?(0,r.jsx)(qt.Z,{}):0===n.length?null:(0,r.jsxs)("div",{className:Br().container,children:[(0,r.jsxs)(ue.Co,{look:ue.Co.Looks.BLANK,innerClassName:Br().backButtonContents,onClick:t,children:[(0,r.jsx)(Xt.Z,{className:Br().arrowIcon}),R.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_PAGE_BACK_BUTTON_CTA]}),(0,r.jsx)(Bt.Z,{size:10}),(0,r.jsx)(s.vw,{tag:"h1",children:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_TITLE}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:Br().pageDescription,
children:R.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_DESCRIPTION}),(0,r.jsx)("div",{className:Br().subscriptionsContainer,children:n.map((function(e){return(0,r.jsx)(kr,{subscription:e},e.id)}))})]})};var Vr=n(893321),Fr=n(381807),Yr=n(378564),Wr=n(624387),zr=n(693518),Kr=n(932847),qr=n(74030),Xr=n(859023),Qr=n(916957),$r=n(732031),Jr=n(916061),eo=n(566960),to=n(298716),no=n(692202),ro=n.n(no);function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function io(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(e){var t=e.user,n=e.planId,o=e.count,i=e.userPremiumSubscription,a=ao((0,E.Wu)([Qr.Z],(function(){return[Qr.Z.get(n),null!=i?Qr.Z.get(i.planId):null]})),2),c=a[0],l=a[1];if(null==c||qr.ZP.getInterval(n).intervalType!==to.rV.MONTH)return null;var u,f=null!=l?l.skuId:null,d=c.skuId===f,p=qr.ZP.getDisplayName(n);return(0,r.jsxs)("div",{className:ro().accountCreditRow,children:[(0,r.jsx)("div",{className:O()((u={},io(u,ro().iconBackgroundTier0,c.skuId===to.Si.TIER_0),
io(u,ro().iconBackgroundTier1,c.skuId===to.Si.TIER_1),io(u,ro().iconBackgroundTier2,c.skuId===to.Si.TIER_2),u)),children:(0,r.jsx)($r.Z,{className:ro().icon})}),(0,r.jsxs)("div",{className:ro().rowDetails,children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:R.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT.format({planName:p})}),t.hasFreePremium()?null:(0,r.jsx)(s.X6,{className:ro().rowApplied,variant:"heading-sm/semibold",color:"header-secondary",children:d&&null!=i?R.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_ON.format({date:i.currentPeriodEnd}):R.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_MISMATCHED_PLAN.format({planName:p})})]}),(0,r.jsx)(s.xv,{className:ro().rowCreditCount,variant:"text-md/semibold",children:R.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT_COUNT_MONTHS.format({count:o})})]})}const co=function(e){var t=e.className,n=e.entitlements,o=Ce()(Array.from(n)).filter((function(e){var t=e.subscriptionPlanId,n=e.parentId,r=e.consumed;return null!=t&&null!=n&&!r
})).groupBy((function(e){return e.subscriptionPlanId})).value(),i=(0,E.e7)([Gt.Z],(function(){return Gt.Z.getPremiumSubscription()})),a=(0,E.e7)([Gt.Z],(function(){return null==Gt.Z.getPremiumTypeSubscription()})),c=Object.keys(o).some((function(e){return e===to.Xh.PREMIUM_MONTH_TIER_1}))&&a,l=Jr.L.useExperiment({},{autoTrackExposure:c}).enableTier0&&c,u=(0,E.e7)([Xr.default],(function(){return Xr.default.getCurrentUser()}));return null==u?null:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:O()(t,ro().premiumSubscriptionAccountCredit),children:Object.keys(o).map((function(e){return(0,r.jsx)(so,{planId:e,count:o[e].length,userPremiumSubscription:i,user:u},e)}))}),l&&(0,r.jsxs)("div",{children:[(0,r.jsx)(s.xv,{className:ro().tier1AccountCreditHeader,variant:"text-md/normal",children:R.Z.Messages.PREMIUM_TIER_1_ACCOUNT_CREDIT_HEADER}),(0,r.jsx)(eo.R,{})]})]})};var lo=n(799337),uo=n.n(lo);function fo(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e){var t=e.subscription,n=e.withOverheadSeparator,o=po((0,
tn.ED)({subscriptionId:t.id,renewal:!0}),1)[0];if(null==o)return null;var i=n?uo().finePrintWithOverheadSeparator:uo().finePrint,a=o.invoiceItems.find((function(e){var t=e.subscriptionPlanId;return(0,qr.uZ)(t)}));if(null==a)return null;var c=a.subscriptionPlanId,l=Qr.Z.get(c);L()(null!=l,"Missing plan");var u=(0,bn.T4)(o.total,o.currency),f="";l.interval===to.rV.YEAR?f=R.Z.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_YEARLY.format({price:u,termsUrl:G.EYA.TERMS,paidURL:G.EYA.PAID_TERMS,privacyUrl:G.EYA.PRIVACY}):l.interval===to.rV.MONTH&&(f=1===l.intervalCount?R.Z.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MONTHLY.format({price:u,termsUrl:G.EYA.TERMS,paidURL:G.EYA.PAID_TERMS,privacyUrl:G.EYA.PRIVACY}):R.Z.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MULTI_MONTH.format({price:u,termsUrl:G.EYA.TERMS,paidURL:G.EYA.PAID_TERMS,privacyUrl:G.EYA.PRIVACY,intervalCount:l.intervalCount}));return(0,r.jsx)(s.xv,{color:"text-muted",className:i,variant:"text-xs/normal",children:f})}
function Eo(e){var t=e.subscription,n=e.withOverheadSeparator;return t.status===G.O0b.CANCELED||t.isPurchasedExternally?null:(0,r.jsx)(ho,{subscription:t,withOverheadSeparator:n})}var yo=n(884326),mo=n(162652),bo=n.n(mo);function go(){return(0,r.jsx)(Wr.Z,{className:bo().noItemsCard,type:Wr.Z.Types.CUSTOM,children:(0,r.jsxs)(fe.Z,{align:fe.Z.Align.CENTER,children:[(0,r.jsx)(zr.Z,{game:null,size:zr.Z.Sizes.SMALL,className:bo().noItemsIcon}),(0,r.jsx)("span",{className:bo().cardText,children:R.Z.Messages.USER_SETTINGS_NO_SUBSCRIPTION_CREDIT})]})})}function Oo(){var e=(0,E.e7)([mn.Z],(function(){return mn.Z.getForApplication(to.RQ)}));o.useEffect((function(){(0,Lt.yD)(to.RQ)}),[]);return(0,r.jsxs)("section",{className:bo().sectionAccountCredit,children:[(0,r.jsx)(s.vw,{className:bo().accountCreditTitle,tag:s.RB.H1,children:R.Z.Messages.BILLING_SUBSCRIPTION_CREDIT}),(0,r.jsx)("p",{className:bo().accountCreditDescription,children:R.Z.Messages.BILLING_ACCOUNT_CREDIT_DESCRIPTION
}),null!=e&&qr.ZP.hasAccountCredit(e)?(0,r.jsx)(co,{className:bo().accountCredit,entitlements:e}):(0,r.jsx)(go,{})]})}const vo=function(){var e=(0,E.e7)([Gt.Z],(function(){return Gt.Z.getPremiumTypeSubscription()})),t=(0,E.e7)([rn.Z],(function(){return null!=e&&null!=e.paymentSourceId?rn.Z.getPaymentSource(e.paymentSourceId):null}),[e]),n=(0,E.e7)([Gt.Z],(function(){return Gt.Z.hasFetchedSubscriptions()})),i=(0,E.e7)([Yr.Z],(function(){return Yr.Z.isBusy})),a=(0,Bn.V)(),s=(0,E.e7)([Fr.Z],(function(){return Fr.Z.getSubsection()}));o.useEffect((function(){c.Z.wait((function(){(0,Dt.Y2)();wt.jg();(0,Zt.X8)();wt.tZ()}));return function(){d.Z.clearSubsection()}}),[]);return Vr.Z.enabled?(0,r.jsx)(Ut.Z,{}):n&&a?s===Nr.cP?(0,r.jsx)(Hr,{onGoBack:function(){return d.Z.clearSubsection()}}):s===Nr.XZ?(0,r.jsx)(Gn,{onGoBack:function(){return d.Z.clearSubsection()}}):(0,r.jsx)("div",{className:bo().container,children:(0,r.jsxs)("div",{className:bo().content,children:[null!=e?(0,r.jsx)(yo.ZP,{
className:bo().subscriptionDetails,subscription:e,paymentSource:t,busy:i}):(0,r.jsx)(yo.MM,{className:bo().subscriptionDetails}),(0,r.jsx)(Wn,{onClickManageSubscription:function(){return d.Z.setSection(G.oAB.SUBSCRIPTIONS,Nr.cP)}}),(0,r.jsx)(Kt,{onClickManageSubscription:function(){d.Z.setSection(G.oAB.SUBSCRIPTIONS,Nr.XZ);Kr.default.track(G.rMx.PREMIUM_APPLICATION_SUBSCRIPTION_MANAGE_CTA_CLICKED)}}),(0,r.jsx)(Oo,{}),null!=e?(0,r.jsx)(Eo,{subscription:e,withOverheadSeparator:!1}):null]})}):(0,r.jsx)("div",{className:O()(bo().container,bo().loading),children:(0,r.jsx)(qt.Z,{})})};var _o=n(26503);function So(e){var t={};void 0!==e.pendingBanner&&(t.banner=e.pendingBanner);null!=e.pendingBio&&(t.bio=e.pendingBio);null!=e.pendingPronouns&&(t.pronouns=e.pendingPronouns);void 0!==e.pendingAccentColor&&(t.accent_color=e.pendingAccentColor);void 0!==e.pendingThemeColors&&(t.theme_colors=e.pendingThemeColors);return t}var Io=n(928676);function To(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function No(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Co(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){No(i,r,o,a,s,"next",e)}function s(e){No(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return To(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return To(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Po=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function jo(){var e=(0,E.e7)([Ie.Z],(function(){return Ie.Z.getIsDisableSubmit()})),t=(0,E.e7)([Ie.Z],(function(){return Ie.Z.getGuild()})),n=Ao(o.useState(!1),2),i=n[0],a=n[1],s=o.useCallback(Co((function(){var e,n,r,o,i,s,c,l;return Po(this,(function(u){switch(u.label){case 0:a(!0);e=Ie.Z.getAllPending();n=function(e){var t={};void 0!==e.pendingAvatar&&(t.avatar=e.pendingAvatar);if(void 0!==e.pendingNickname){var n;t.nick=null!==(n=e.pendingNickname)&&void 0!==n?n:""}return t}(e);r=So(e);o=!0;return Object.keys(n).length>0?[4,(0,Se.iq)(null==t?void 0:t.id,n)]:[3,2];case 1:i=u.sent()
;o=o&&null!==(s=null==i?void 0:i.ok)&&void 0!==s&&s;(null==i?void 0:i.ok)&&(0,Se.IO)();u.label=2;case 2:return Object.keys(r).length>0?[4,(0,Io.Z)(r,null==t?void 0:t.id)]:[3,4];case 3:c=u.sent();o=o&&null!==(l=null==c?void 0:c.ok)&&void 0!==l&&l;(null==c?void 0:c.ok)&&(0,Se.pG)();u.label=4;case 4:o&&(0,Se.b9)();a(!1);return[2]}}))})),[null==t?void 0:t.id]),c=o.useCallback((function(){(0,Se.W3)()}),[]);return(0,r.jsx)(_o.Z,{submitting:i,onSave:s,onReset:c,disabled:e})}var Ro=n(493925),xo=n(429244);function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wo(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Zo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){wo(i,r,o,a,s,"next",e)}function s(e){wo(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Lo(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Do=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Uo(){var e=(0,E.e7)([Ro.Z],(function(){return Ro.Z.getIsDisableSubmit()
})),t=Lo(o.useState(!1),2),n=t[0],i=t[1],a=o.useCallback(Zo((function(){var e,t,n,r,o,a,s,c,l;return Do(this,(function(u){switch(u.label){case 0:i(!0);e=Ro.Z.getAllPending();t=function(e){var t={};void 0!==e.pendingAvatar&&(t.avatar=e.pendingAvatar);void 0!==e.pendingAvatarDecoration&&(t.avatarDecoration=e.pendingAvatarDecoration);return t}(e);n=So(e);r=!0;return Object.keys(t).length>0?[4,(0,f.Mn)(t)]:[3,2];case 1:a=u.sent();r=r&&null!==(s=null==a?void 0:a.ok)&&void 0!==s&&s;(null==a?void 0:a.ok)?(0,f.si)():null!=(null==a||null===(o=a.body)||void 0===o?void 0:o.username)&&(0,xo.P)();u.label=2;case 2:return Object.keys(n).length>0?[4,(0,Io.Z)(n)]:[3,4];case 3:c=u.sent();r=r&&null!==(l=null==c?void 0:c.ok)&&void 0!==l&&l;(null==c?void 0:c.ok)&&(0,Io.pG)();u.label=4;case 4:r&&(0,f.b9)();i(!1);return[2]}}))})),[]),s=o.useCallback((function(){(0,f.W3)()}),[]);return(0,r.jsx)(_o.Z,{submitting:n,onSave:a,onReset:s,disabled:e})}function ko(){return(0,E.e7)([Ie.Z],(function(){
return Ie.Z.showNotice()}))?(0,r.jsx)(jo,{}):(0,r.jsx)(Uo,{})}var Go=n(805338),Bo=n(23816),Ho=n(763973),Vo=n.n(Ho),Fo=n(524268),Yo=n.n(Fo),Wo=n(950737),zo=n.n(Wo);function Ko(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var qo,Xo;!function(e){e[e.WUMPUS=0]="WUMPUS";e[e.PHIBI=1]="PHIBI"}(qo||(qo={}));Ko(Xo={},qo.WUMPUS,Vo().activityCharacterWumpus),Ko(Xo,qo.PHIBI,Vo().activityCharacterPhibi);var Qo=n(316921),$o=n(952013),Jo=n(573269),ei=n(823569),ti=n(967022),ni=n(51477),ri=n(802604),oi=n(185139),ii=n(747302),ai=n(535737),si=n(578797),ci=n(60953),li=n(66583),ui=n(737947),fi=n(124689),di=n(126861),pi=n(71646),hi=n(409271),Ei=n(212218),yi=n(962564),mi=n(426217),bi=n(760253),gi=n(71531),Oi=n(917870),vi=n(248088),_i=n(879716);function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ii(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}
s.done?t(c):Promise.resolve(c).then(r,o)}function Ti(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ii(i,r,o,a,s,"next",e)}function s(e){Ii(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ni(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Si(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ai,Pi,ji=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e[e.WUMPUS=0]="WUMPUS";e[e.PHIBI=1]="PHIBI"}(Ai||(Ai={}));var Ri=(Ni(Pi={},Ai.WUMPUS,Vo().activityCharacterWumpus),Ni(Pi,Ai.PHIBI,Vo().activityCharacterPhibi),Pi);const xi=o.memo((function(e){var t=e.activityName,n=e.activityCharacter,i=void 0===n?Ai.WUMPUS:n,a=e.showExampleButton,c=void 0!==a&&a,l=Ci(o.useState(0),2),u=l[0],f=l[1],d=Ci((0,vi.useSpring)((function(){return{from:{rotate:"0deg"},config:{tension:1e3,friction:5}}})),2),p=d[0],h=d[1],E=o.useRef({seconds:u,jitter:Ti((function(){var e;return ji(this,(function(t){switch(t.label){case 0:0;e=function(e){if(je.Z.useReducedMotion)return 0
;e-=5399;return Math.min(10,e/300*10)}(E.current.seconds);h({rotate:"-".concat(e,"deg")});return[4,new Promise((function(e){return setTimeout(e,80)}))];case 1:t.sent();h({rotate:"".concat(e,"deg")});return[4,new Promise((function(e){return setTimeout(e,80)}))];case 2:t.sent();return[3,0];case 3:return[2]}}))}))});o.useEffect((function(){E.current.seconds=u}));o.useEffect((function(){var e=setInterval((function(){f((function(e){5399===e&&E.current.jitter();return++e}))}),1e3);return function(){return clearInterval(e)}}),[]);var y=i===Ai.WUMPUS?zo():Yo();return(0,r.jsxs)(_i.Z,{lastSection:!0,"aria-hidden":!0,children:[(0,r.jsx)(s.X6,{className:Vo().fakeActivityTitle,variant:"eyebrow",children:R.Z.Messages.USER_SETTINGS_CUSTOMIZE_PROFILE_TITLE}),(0,r.jsxs)("div",{className:Vo().fakeActivityLayout,children:[(0,r.jsx)("div",{className:O()(Vo().fakeActivityIcon,Ri[i]),children:(0,r.jsx)(vi.animated.img,{className:Vo().fakeActivityPencil,src:y,style:p})}),(0,r.jsxs)("div",{
className:Vo().fakeActivityContent,children:[(0,r.jsx)(s.xv,{variant:"text-sm/semibold",children:null!=t?t:R.Z.Messages.USER_SETTINGS_USER_PROFILE}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:R.Z.Messages.PROFILE_CUSTOMIZATION_ACTIVITY_TIME.format({renderTimeHook:function(e,t){var n=u%60,o=(u-n)/60;return(0,r.jsxs)("span",{className:Vo().fakeActivityTimeValues,children:[o.toString().padStart(2,"0"),":",n.toString().padStart(2,"0")]},t)}})})]})]}),c&&(0,r.jsx)(ue.Co,{className:Vo().button,color:Vo().buttonColor,size:ue.Co.Sizes.SMALL,fullWidth:!0,children:R.Z.Messages.USER_SETTINGS_CUSTOMIZE_PROFILE_EXAMPLE_BUTTON})]})}));var Mi=n(664830),wi=n(827851),Zi=n(476154),Li=n(570459),Di=n(336568),Ui=n.n(Di);function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gi(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Bi(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gi(i,r,o,a,s,"next",e)}function s(e){Gi(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Hi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Hi(e,t,n[t])}))}return e}function Fi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ki(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wi=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function zi(e){var t,i,a,c,l,u,f,d,p=e.user,h=e.guild,y=e.canUsePremiumCustomization,m=e.onUpsellClick,b=e.onAvatarChange,g=e.onBannerChange,v=e.pendingAccentColor,_=e.pendingBanner,S=e.pendingBio,I=e.pendingPronouns,T=e.pendingAvatar,N=e.pendingAvatarDecoration,C=e.pendingNickname,A=e.pendingThemeColors,P=e.avatarClassName,j=e.openPremiumSettings,x=e.activityName,M=e.activityCharacter,w=e.overrideDiscriminator,Z=e.sampleBadgeList,L=e.isTryItOutFlow,D=void 0!==L&&L,U=e.disabledInputs,k=void 0!==U&&U,B=e.hideExampleButton,H=void 0!==B&&B,V=e.hideFakeActivity,F=void 0!==V&&V,Y=o.useRef(null),W=Yi(o.useState(!1),2),z=W[0],K=W[1],q=hi.QK.getSetting(),X=(0,ei.U)().canUseAvatarDecorations?(0,Mi.Wp)(N,p):null,Q=(0,oi.Z)(p.id,null==h?void 0:h.id),$=(0,E.e7)([je.Z],(function(){return je.Z.syncProfileThemeWithUserTheme})),J=(0,$o.ZP)(),ee=(0,E.e7)([Ei.ZP],(function(){return null==h?null:Ei.ZP.getMember(h.id,p.id)
})),te=void 0===T?p.getAvatarURL(void 0,80):T,ne=(0,Jo.ZP)(te,(0,ae.Lq)(G.Ilk.PRIMARY_DARK_530),!1),re=null==Q?void 0:Q.getPreviewThemeColors(A),oe=null!==(t=null==re?void 0:re[0])&&void 0!==t?t:null==Q?void 0:Q.primaryColor,ie=$?J:(0,ri.V3)(oe),se=(0,ti.Z)(null!==(i=null!=v?v:oe)&&void 0!==i?i:(0,Qo._i)(ne)).hsl,ce=(0,E.e7)([mi.Z],(function(){return mi.Z.isFocused()})),le=q?ce:z,ue=null==Q?void 0:Q.getPreviewBanner(_,le),fe=(0,Mi.gh)(C,null==ee?void 0:ee.nick),de=Yi((0,E.Wu)([yi.Z],(function(){return[yi.Z.findActivity(p.id,(function(e){return e.type===G.IIU.CUSTOM_STATUS})),yi.Z.getStatus(p.id)]})),2),pe=de[0],he=de[1],Ee=(0,E.e7)([Vr.Z],(function(){return Vr.Z.hidePersonalInformation})),ye=(null==Q?void 0:Q.canUsePremiumProfileCustomization)||y,me=o.useCallback((function(){var e,t;null===(t=null===(e=Y.current)||void 0===e?void 0:e.inputRef.current)||void 0===t||t.activateUploadDialogue()}),[]),be=o.useCallback((function(e,t){
null==e||null==t?b(null):"image/gif"!==t.type||qr.ZP.canUseAnimatedAvatar(p)?(0,Ze.ZD)(Bi((function(){var o,i;return Wi(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(22852),n.e(96378)]).then(n.bind(n,122852))];case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(i,Vi({onCrop:b,file:t,imgURI:e,allowSkip:!0},n))}]}}))}))):(0,Ze.ZD)(Bi((function(){var t,o;return Wi(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(89341)]).then(n.bind(n,89341))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,Fi(Vi({},t),{imgURI:e,onChangeAvatar:function(){t.onClose();me()}}))}]}}))})))}),[p,me,b]),ge=function(e,t){if(null==e||null==t)return g(null);(0,Ze.ZD)(Bi((function(){var o,i;return Wi(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(22852),n.e(96378)]).then(n.bind(n,122852))];case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(i,Vi({onCrop:g,
uploadType:Zi.pC.BANNER_V2,file:t,imgURI:e,allowSkip:!0},n))}]}}))})))};o.useEffect((function(){if(!q){var e=null==Q?void 0:Q.getBannerURL({canAnimate:!0,size:480});if(Oi.F8(e)){(new Image).src=null!=e?e:""}}}),[Q,q]);return(0,r.jsx)(ai.Z,{forceShowPremium:y,user:p,guildId:null==h?void 0:h.id,profileType:Li.y0.POPOUT,pendingThemeColors:A,className:ye?Ui().profileCustomizationPreviewWithTheme:Ui().profileCustomizationPreviewWithoutTheme,children:(0,r.jsxs)(s.y5,{children:[(0,r.jsx)(ii.Z,{user:p,profileType:Li.y0.POPOUT,hasBannerImage:null!=ue,isPremium:y,hasThemeColors:ye,overrideAvatarDecorationURL:X,children:y?(0,r.jsxs)("div",{onMouseMove:function(){return K(!0)},onMouseLeave:function(){return K(!1)},children:[(0,r.jsx)(ni.Z,{className:Ui().bannerUploader,showRemoveButton:!1,disabled:!y||k,image:ue,makeURL:function(){return ue},onChange:ge,imageStyle:{backgroundColor:se},imageClassName:null!=ue?Ui().bannerUploaderInnerSquare:Ui().bannerUploaderInnerSquareEmpty,
hint:R.Z.Messages.CHANGE_BANNER,onOpenImageSelectModal:function(){return(0,Mi.$r)(Zi.pC.BANNER_V2,null==ee?void 0:ee.guildId,D)},hideSize:!0,maxFileSizeBytes:wi.B,onFileSizeError:Mi.Wf}),!q&&Oi.F8(ue)?(0,r.jsx)(bi.Z,{className:Ui().gifTag}):null]}):(0,r.jsx)("div",{className:Ui().bannerNormal,style:{backgroundColor:se},children:(0,r.jsx)(s.P3,{onClick:function(){return null==m?void 0:m({object:G.qAy.EDIT_PROFILE_BANNER})},className:Ui().bannerNitroUpsell,children:(0,r.jsx)(s.X6,{className:Ui().bannerNitroUpsellText,variant:"eyebrow",children:R.Z.Messages.USER_SETTINGS_UNLOCK_BANNER})})})}),(l=(0,Mi.SG)(T,ee,p),u=null!=ee&&!y,f=null!=ie?(0,gi.QF)(ie):null,d=(0,r.jsxs)("div",{className:(a=y,c=null!=ue,a&&c?Ui().avatarUploaderPremium:a?Ui().avatarUploaderPremiumNoBanner:Ui().avatarUploaderNormal),children:[(0,r.jsx)(ni.Z,{disabled:k,ref:Y,showIcon:null==X,hint:u?R.Z.Messages.UNLOCK_GUILD_MEMBER_AVATAR:R.Z.Messages.CHANGE_AVATAR,showRemoveButton:!1,
imageClassName:O()(P,Ui().avatarUploaderInner),image:l,onChange:be,makeURL:function(){return l},maxFileSizeBytes:wi.B,onFileSizeError:Mi.Wf,onOpenImageSelectModal:function(){return(0,Mi.$r)(Zi.pC.AVATAR,null==ee?void 0:ee.guildId,D)}}),null!=X&&(0,r.jsx)("img",{className:Ui().avatarDecoration,src:X,alt:" ","aria-hidden":!0}),(0,r.jsxs)("div",{className:Ui().status,children:[null!=f&&(null==Q?void 0:Q.canUsePremiumProfileCustomization)&&(0,r.jsx)("div",{className:Ui().statusDotBackground,style:{backgroundColor:f,opacity:(0,gi.lm)(he,f)}}),(0,r.jsx)("svg",{className:Ui().statusDot,children:(0,r.jsx)("rect",{height:"100%",width:"100%",fill:(0,ae.Lq)((0,gi.z2)(he)),mask:"url(#".concat((0,gi.rs)(he,!1),")")})})]})]}),u?(0,r.jsx)(s.P3,{onClickCapture:function(e){e.stopPropagation();null==m||m({object:G.qAy.AVATAR})},children:d}):d),(0,r.jsx)(ci.Cb,{user:p,guildId:null==h?void 0:h.id,onOpenPremiumSettings:j,sampleBadgeList:Z}),function(){var e,t=null==Q?void 0:Q.getPreviewBio(S);return(0,
r.jsxs)(ai.Z.Inner,{className:Ui().body,children:[(0,r.jsx)(pi.Z,{overrideDiscriminator:w,user:p,nickname:fe,usernameIcon:(0,Mi.$y)(T,ee)&&(0,r.jsx)(li.Z,{user:p,nickname:fe})}),(0,r.jsx)(fi.Z,{customStatusActivity:pe}),(0,r.jsx)(si.Z,{}),(0,r.jsx)(di.Z,{pendingPronouns:I,currentPronouns:null!==(e=null==Q?void 0:Q.pronouns)&&void 0!==e?e:"",hidePersonalInformation:Ee}),(0,r.jsx)(ui.Z,{isUsingGuildBio:null==t?void 0:t.isUsingGuildValue,guild:h,bio:null==t?void 0:t.value,hidePersonalInformation:Ee,lastSection:F}),!F&&(0,r.jsx)(xi,{activityName:x,activityCharacter:M,showExampleButton:null==h&&!H})]})}()]})})}var Ki,qi,Xi=n(546418),Qi=n(337823),$i=n(273465),Ji=n.n($i);function ea(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e.PREMIUM="premium";e.LIMITED="limited"}(Ki||(Ki={}));var ta=(ea(qi={},Ki.PREMIUM,{border:Ji().premiumFeatureBorder,background:Ji().premiumBackground}),ea(qi,Ki.LIMITED,{
border:Ji().limitedFeatureBorder,background:Ji().limitedBackground}),qi);const na=o.forwardRef((function(e,t){var n=e.children,o=e.type,i=void 0===o?Ki.PREMIUM:o,a=e.isShown,s=e.hasBackground,c=void 0!==s&&s,l=e.className,u=e.backgroundClassName;if(!a)return(0,r.jsx)(r.Fragment,{children:n});var f=ta[i],d=f.border,p=f.background;return(0,r.jsx)("div",{ref:t,className:O()(d,l),children:(0,r.jsx)("div",{className:O()(c?p:Ji().background,u),children:n})})}));var ra=n(107159),oa=n.n(ra);function ia(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function aa(e){var t=e.errors;return(0,r.jsx)(r.Fragment,{children:t.map((function(e,t){return(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"text-danger",className:oa().errorMessage,children:(n=e,n.replace(/[0-9.,]+ ?kb/g,(function(e){var t=1024*parseInt(e,10);return isNaN(t)?e:(0,Qi.Ng)(t)})))},t);var n}))})}function sa(e){
var t,n=e.title,o=e.titleIcon,i=e.titleId,a=e.description,c=e.children,l=e.className,u=e.errors,f=e.disabled,d=void 0!==f&&f,p=e.hideDivider,h=void 0!==p&&p,E=e.showBorder,y=void 0!==E&&E,m=e.borderType,b=e.hasBackground,g=void 0!==b&&b,v=e.forcedDivider,_=void 0!==v&&v;return(0,r.jsx)("div",{className:O()(oa().customizationSection,l,(t={},ia(t,oa().disabled,d),ia(t,oa().hideDivider,h),ia(t,oa().showBorder,y),ia(t,oa().withDivider,_),t)),children:(0,r.jsxs)(na,{className:oa().customizationSectionBorder,isShown:y,type:m,hasBackground:g,children:[(0,r.jsxs)("div",{className:oa().title,children:[(0,r.jsx)(s.vw,{className:oa().titleText,id:i,children:n}),(0,r.jsx)("div",{className:oa().titleIcon,children:o})]}),null!=a?(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:oa().sectionDescription,children:a}):null,c,null!=u&&(0,r.jsx)(aa,{errors:u})]})})}var ca=n(753388),la=n.n(ca);function ua(e){var t=e.children,n=e.className,o=e.layoutClassName,i=e.profilePreview,a=e.previewTitle,c=(0,
Xi.Z)().canViewThemes,l=function(){return(0,r.jsx)(sa,{title:null!=a?a:R.Z.Messages.PROFILE_CUSTOMIZATION_PREVIEW,className:c?la().previewProfileThemes:la().preview,children:i})};return(0,r.jsx)("div",{className:n,children:(0,r.jsxs)(s.hj,{className:la().profileCustomizationSection,children:[zn.tq&&l(),(0,r.jsxs)("div",{className:O()(c?la().baseLayoutProfileThemes:la().baseLayout,o),children:[t,!zn.tq&&l()]})]})})}var fa=n(36391),da=n(95467),pa=n(277323),ha=n.n(pa),Ea=n(970298),ya=n.n(Ea);function ma(){return(0,r.jsxs)("div",{className:ha().emptyState,children:[(0,r.jsx)("img",{src:ya(),alt:"",className:ha().image}),(0,r.jsx)(s.X6,{className:ha().topSpacing,variant:"heading-lg/extrabold",children:R.Z.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_TITLE}),(0,r.jsx)(s.xv,{className:ha().topSpacing,variant:"text-md/normal",children:R.Z.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_DESCRIPTION}),(0,r.jsx)(ue.Co,{className:ha().topSpacing,onClick:function(){(0,rr.uL)(G.Z5c.GUILD_DISCOVERY)
;Pe.xf()},children:R.Z.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_CTA})]})}var ba=n(553494);const ga=(0,ba.B)({kind:"user",id:"2022-07_premium_upsell_overlay",label:"Premium upsell overlay",defaultConfig:{showPremiumUpsellOverlay:!1},treatments:[{id:1,label:"Premium upsell overlay enabled",config:{showPremiumUpsellOverlay:!0}}]});var Oa=n(598627),va=n(747465),_a=n(691869),Sa=n(172458),Ia=n(741738),Ta=n(53551),Na=n(780683),Ca=n.n(Na);function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ja=(0,fn.hQ)(),Ra=(0,Ta.kt)({id:"1",type:G.d4z.DM}),xa=(0,fn.hQ)();function Ma(e){var t=e.sectionTitle,n=e.errors,i=e.onBioChange,a=e.pendingBio,s=e.placeholder,c=e.currentBio,l=e.disabled,u=void 0!==l&&l,f=Pa(o.useState(null!=a?a:c),2),d=f[0],p=f[1],h=Pa(o.useState((0,Sa.JM)(d)),2),E=h[0],y=h[1],m=o.useRef(!1);o.useEffect((function(){if(void 0===a){var e=(0,Sa.JM)(c);p(c);y(e)}}),[a,c]);return(0,r.jsxs)(sa,{title:t,titleId:ja,description:R.Z.Messages.USER_SETTINGS_ABOUT_ME_DETAILS,errors:n,disabled:u,children:[(0,r.jsx)(Ia.Z,{
"aria-describedby":xa,"aria-labelledby":ja,innerClassName:Ca().bioTextArea,maxCharacterCount:G.tPV,onChange:function(e,t,n){if(t!==d){p(t);y(n);i(t)}},placeholder:s,channel:Ra,textValue:d,richValue:E,type:_a.I.PROFILE_BIO_INPUT,onBlur:function(){m.current=!1},onFocus:function(){m.current=!0},focused:m.current,onSubmit:function(){return new Promise((function(e){e({shouldClear:!1,shouldRefocus:!0})}))}}),(0,r.jsx)(va.Z,{id:xa,children:R.Z.Messages.MAXIMUM_LENGTH.format({maxLength:G.tPV})})]})}var wa=n(889373),Za=n(807640),La=n.n(Za);function Da(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Ua=[{name:"gif",extensions:["gif"]}];function ka(e){var t=e.showRemoveAvatarButton,n=e.errors,o=e.onAvatarChange,i=e.sectionTitle,a=e.changeAvatarButtonText,s=e.guildId,c=e.className,l=e.disabled,u=void 0!==l&&l,f=e.isTryItOutFlow,d=void 0!==f&&f,p=e.forcedDivider,h=e.withHighlight,E=void 0!==h&&h,y=E?wa.C:ue.Co;return(0,r.jsx)(sa,{
className:c,title:i,errors:n,disabled:u,forcedDivider:p,children:(0,r.jsxs)("div",{className:La().buttonsContainer,children:[(0,r.jsx)(y,{className:O()(Da({},La().buttonHighlighted,E)),size:ue.Co.Sizes.SMALL,onClick:function(){return(0,Mi.$r)(Zi.pC.AVATAR,s,d,d?Ua:void 0)},children:null!=a?a:R.Z.Messages.USER_SETTINGS_CHANGE_AVATAR}),t&&(0,r.jsx)(ue.Co,{className:La().removeButton,color:ue.Co.Colors.PRIMARY,look:ue.Co.Looks.LINK,size:ue.Co.Sizes.SMALL,onClick:function(){return o(null)},children:null!=s?R.Z.Messages.USER_SETTINGS_RESET_AVATAR:R.Z.Messages.USER_SETTINGS_REMOVE_AVATAR})]})})}var Ga=n(256481),Ba=n(20945),Ha=n.n(Ba);function Va(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fa(e){
var t=e.canUsePremiumCustomization,n=e.showRemoveBannerButton,o=e.errors,i=e.upsellButton,a=e.onBannerChange,s=e.guildId,c=e.className,l=e.disabled,u=void 0!==l&&l,f=e.showPremiumIcon,d=void 0===f||f,p=e.isTryItOutFlow,h=void 0!==p&&p,E=e.forcedDivider,y=e.withHighlight,m=void 0!==y&&y,b=(0,Xi.Z)(!0).canViewThemes,g=b?Zi.pC.BANNER_V2:Zi.pC.BANNER,v=m?wa.C:ue.Co;return(0,r.jsx)(sa,{className:c,title:(0,r.jsxs)(r.Fragment,{children:[R.Z.Messages.USER_SETTINGS_PROFILE_BANNER,d&&(0,r.jsx)(Ga.Z,{})]}),errors:o,description:b?void 0:R.Z.Messages.USER_SETTINGS_BANNER_SPECS,disabled:u,forcedDivider:E,children:t||u?(0,r.jsxs)("div",{className:Ha().buttonsContainer,children:[(0,r.jsx)(v,{className:O()(Va({},Ha().buttonHighlighted,m)),size:ue.Co.Sizes.SMALL,onClick:function(){return(0,Mi.$r)(g,s,h)},children:R.Z.Messages.CHANGE_BANNER}),n&&(0,r.jsx)(ue.Co,{className:Ha().removeButton,color:ue.Co.Colors.PRIMARY,look:ue.Co.Looks.LINK,size:ue.Co.Sizes.SMALL,onClick:function(){return a(null)},
children:null!=s?R.Z.Messages.USER_SETTINGS_RESET_BANNER:R.Z.Messages.USER_SETTINGS_REMOVE_BANNER})]}):i})}var Ya=n(618446),Wa=n.n(Ya),za=n(833802),Ka=n(468811),qa=n.n(Ka),Xa=n(665232),Qa=n(121319),$a=n(761434),Ja=n(379579),es=n(166251),ts=n.n(es);function ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rs(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rs(e,t,n[t])}))}return e}function is(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function as(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ss(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ns(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cs(e){var t=e.onChange,n=e.onClose,i=e.color,a=e.suggestedColors,c=e.disabled,l=e.label,u=e.colorPickerMiddle,f=e.colorPickerFooter,d=e.showEyeDropper,p=o.useRef(null),h=(0,ae.O0)(G.tPk.BACKGROUND_PRIMARY).hex,E=(0,ae.r7)(G.tPk.BACKGROUND_ACCENT),y=(0,Mi.DP)(i),m=(0,Qo.Rf)(i),b=m===h?E:m,g=(0,ae.Lq)(y?G.Ilk.WHITE_500:G.Ilk.PRIMARY_DARK_530),v=(0,Xa.Z)(u),_=(0,Xa.Z)(f),S=ss(o.useState(qa().v4()),2),I=S[0],T=S[1];o.useEffect((function(){
v===u&&_===f||T(qa().v4())}),[f,u,_,v]);return(0,r.jsx)($a.ZP,{positionKey:I,renderPopout:function(e){return(0,r.jsx)(Qa.Z$,is(os({},e),{value:i,onChange:t,suggestedColors:a,middle:u,footer:f,showEyeDropper:d}))},onRequestClose:n,children:function(e){var t=e.onClick,n=as(e,["onClick"]);return(0,r.jsxs)("div",{ref:p,className:O()(ts().colorSwatch,rs({},ts().disabled,c)),children:[(0,r.jsx)(s.P3,is(os({},n),{tabIndex:c?-1:0,onClick:c?G.dG4:t,style:{backgroundColor:m,borderColor:b},className:ts().swatch,"aria-label":R.Z.Messages.USER_SETTINGS_PROFILE_COLOR_SELECT_COLOR,focusProps:{ringTarget:p},children:(0,r.jsx)(Ja.Z,{className:ts().editPencilIcon,width:14,height:14,color:g})})),l]})}})}var ls=n(715683),us=n.n(ls);function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ds(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ps(e){var t=e.user,n=e.pendingAvatar,o=e.pendingColors,i=e.onThemeColorsChange,a=e.preventDisabled,c=e.guildId,l=e.className,u=e.showPremiumIcon,f=void 0===u||u,d=e.showResetThemeButton,p=void 0!==d&&d,h=e.forcedDivider,E=(0,oi.Z)(t.id,c),y=ds((0,za.Z)(t,E,{pendingThemeColors:o,
isPreview:!0}),2),m=y[0],b=y[1],g=qr.ZP.canUsePremiumProfileCustomization(t),v=null!=n?n:t.getAvatarURL(c,80),_=(0,ae.Sl)(G.Ilk.PRIMARY_DARK_530).hex,S=(0,Jo.Cf)(v,_,!1);if(null==m||null==b)return null;var I=function(e){var t=Wa()(e,null==E?void 0:E.themeColors);i(t?void 0:e)};return(0,r.jsx)(sa,{title:R.Z.Messages.USER_SETTINGS_PROFILE_THEME,disabled:!g&&!a,className:O()(us().profileThemesSection,l),titleIcon:f&&(0,r.jsx)(Ga.Z,{className:us().premiumIcon}),forcedDivider:h,children:(0,r.jsxs)("div",{className:us().sectionContainer,children:[(0,r.jsx)("div",{className:us().sparkleContainer,children:(0,r.jsx)(cs,{onChange:function(e){return I([e,b])},color:m,suggestedColors:S,showEyeDropper:!0,label:(0,r.jsx)(s.xv,{className:us().colorSwatchLabel,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0,children:R.Z.Messages.USER_SETTINGS_PROFILE_THEME_PRIMARY})})}),(0,r.jsx)("div",{className:us().sparkleContainer,children:(0,r.jsx)(cs,{onChange:function(e){return I([m,e])},
color:b,suggestedColors:S,showEyeDropper:!0,label:(0,r.jsx)(s.xv,{className:us().colorSwatchLabel,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0,children:R.Z.Messages.USER_SETTINGS_PROFILE_THEME_ACCENT})})}),p&&null!=c&&(0,r.jsx)(ue.Co,{className:us().resetButton,color:ue.Co.Colors.PRIMARY,look:ue.Co.Looks.LINK,size:ue.Co.Sizes.SMALL,onClick:function(){return I([null,null])},children:R.Z.Messages.USER_SETTINGS_RESET_PROFILE_THEME})]})})}var hs=n(560211);function Es(e){var t=e.sectionTitle,n=e.errors,o=e.onPronounsChange,i=e.pendingPronouns,a=e.placeholder,c=e.currentPronouns,l=e.disabled,u=void 0!==l&&l;return hs.Z.useExperiment({}).showPronouns?(0,r.jsx)(sa,{title:t,errors:n,disabled:u,children:(0,r.jsx)(s.oi,{placeholder:null!=a?a:R.Z.Messages.PROFILE_CUSTOMIZATION_PRONOUNS_PLACEHOLDER,maxLength:40,value:null!=i?i:c,onChange:function(e){o(e===c?void 0:e)},disabled:u})}):null}var ys=n(940712),ms=n(514049),bs=n.n(ms);function gs(e){
var t=e.errors,n=e.pendingNick,o=e.currentNick,i=e.username,a=e.guild,c=null!=n?n:o,l=(0,E.e7)([ys.Z],(function(){return ys.Z.can(G.Plq.CHANGE_NICKNAME,a)||ys.Z.can(G.Plq.MANAGE_NICKNAMES,a)}));return(0,r.jsxs)(sa,{title:R.Z.Messages.NICKNAME,errors:t,children:[(0,r.jsx)(s.oi,{value:null!=c?c:"",placeholder:i,maxLength:G.l$U,onChange:function(e){t=e,n=o,(0,Se.sr)(t===n?void 0:t);var t,n},disabled:!l}),!l&&(0,r.jsx)(s.R9,{className:bs().nicknameDisabled,type:s.R9.Types.DESCRIPTION,children:R.Z.Messages.CHANGE_IDENTITY_NICKNAME_PERMISSIONS_DISABLED})]})}var Os=n(716421),vs=n(71528),_s=n.n(vs),Ss=n(652951),Is=n.n(Ss),Ts=n(207357),Ns=n.n(Ts);function Cs(e){switch(e){case G.BRd.DARK:return Is();case G.BRd.LIGHT:return Ns()}}function As(e){var t=e.user,n=e.showOverlay,i=e.children,a=(0,$o.ZP)(),c=(0,Xi.Z)(!0).canEditThemes,l=(0,h.Z)(lr.Z.PREMIUM_UPSELL_OVERLAY).analyticsLocations;o.useEffect((function(){n&&Kr.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{location_stack:l,
type:to.cd.PREMIUM_GUILD_MEMBER_PROFILE_UPSELL_INLINE})}),[n,l]);return n?(0,r.jsxs)("div",{className:_s().upsellOverlayContainer,children:[(0,r.jsx)("div",{children:i}),(0,r.jsxs)("div",{className:_s().upsellOverlay,children:[(0,r.jsx)("img",{className:_s().upsellImage,alt:R.Z.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_IMAGE_ALT,src:Cs(a)}),(0,r.jsxs)("div",{className:_s().upsellTextContainer,children:[(0,r.jsx)(s.xv,{variant:"text-lg/semibold",color:"always-white",children:R.Z.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_TITLE}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",color:"always-white",children:c?R.Z.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_DESCRIPTION_THEMES:R.Z.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_DESCRIPTION})]}),(0,r.jsx)(Os.Z,{size:ue.Co.Sizes.LARGE,color:ue.Co.Colors.GREEN,buttonText:qr.ZP.isPremium(t)?R.Z.Messages.USER_SETTINGS_PROFILE_THEMES_UPSELL_UPGRADE:R.Z.Messages.CHANGE_IDENTITY_UPSELL,subscriptionTier:to.Si.TIER_2})]})]}):(0,r.jsx)(r.Fragment,{children:i})}
var Ps=n(36574),js=n.n(Ps);function Rs(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function xs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Rs(i,r,o,a,s,"next",e)}function s(e){Rs(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ms(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ms(e,t,n[t])}))}return e}function Zs(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Ls=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Ds(e){var t=e.user,n=e.onUpsellClick,i=(0,h.Z)().analyticsLocations;o.useEffect((function(){Kr.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:to.cd.PREMIUM_GUILD_MEMBER_PROFILE_UPSELL_INLINE,location:{page:G.ZY5.GUILD_CHANNEL,section:G.jXE.PREMIUM_GUILD_MEMBER_PROFILE},location_stack:i})}),[i]);return(0,r.jsxs)("div",{className:js().upsellContainer,children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:R.Z.Messages.GUILD_IDENTITY_SETTINGS_UPSELL_NO_LINK}),(0,r.jsxs)(wa.C,{size:ue.Co.Sizes.SMALL,onClick:n,color:ue.Co.Colors.GREEN,className:js().upsellButton,innerClassName:js().upsellButtonInner,children:[(0,r.jsx)($r.Z,{
className:js().premiumIconButton}),qr.ZP.isPremium(t)?R.Z.Messages.USER_SETTINGS_PROFILE_THEMES_UPSELL_UPGRADE:R.Z.Messages.CHANGE_IDENTITY_UPSELL]})]})}function Us(e){var t=e.guild,o=(0,E.e7)([Xr.default],(function(){var e=Xr.default.getCurrentUser();L()(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),i=(0,E.cj)([Ie.Z],(function(){var e=Ie.Z.getAllPending(),t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBio,o=e.pendingPronouns;return{pendingAvatar:t,pendingNickname:n,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:o,pendingThemeColors:e.pendingThemeColors,errors:Ie.Z.getErrors(),guild:Ie.Z.getGuild()}})),a=i.pendingAvatar,s=i.pendingNickname,c=i.pendingBanner,l=i.pendingBio,u=i.pendingPronouns,f=i.pendingThemeColors,d=i.errors,p=i.guild,h=null!=t?t:p;L()(null!=h,"guild should not be null");var y,m,b=(0,E.e7)([Ei.ZP],(function(){return null==h.id?null:Ei.ZP.getMember(h.id,o.id)})),g=(0,E.e7)([fa.Z],(function(){
return fa.Z.getGuildMemberProfile(o.id,h.id)})),O=qr.ZP.canUsePremiumProfileCustomization(o),v=(0,Oa.gd)(a,null==b?void 0:b.avatar),_=(0,Oa.f$)(c,null==g?void 0:g.banner),S=function(e,t){return void 0===e?null!=t:null!=(null==e?void 0:e[0])&&null!=(null==e?void 0:e[1])}(f,null==g?void 0:g.themeColors),I=null!==(y=null==g?void 0:g.bio)&&void 0!==y?y:"",T=null!==(m=null==g?void 0:g.pronouns)&&void 0!==m?m:"",N=(0,Xi.Z)(!0).canEditThemes,C=ga.useExperiment({},{autoTrackExposure:!O}).showPremiumUpsellOverlay,A=function(e,t,n){n(null!=e?e:null!=t?null:void 0)};return(0,r.jsxs)("div",{className:js().sectionsContainer,children:[(0,r.jsx)(gs,{username:o.toString(),pendingNick:s,currentNick:null==b?void 0:b.nick,guild:h},"nick"),C||O?null:(0,r.jsx)(Ds,{user:o,onUpsellClick:function(){return e={object:G.qAy.BUTTON_CTA},void(0,Ze.ZD)(xs((function(){var t,o;return Ls(this,(function(i){switch(i.label){case 0:return[4,n.e(90424).then(n.bind(n,190424))];case 1:t=i.sent(),o=t.default
;return[2,function(t){return(0,r.jsx)(o,ws({source:Zs(ws({},e),{page:G.ZY5.GUILD_MEMBER_PROFILE_SETTINGS})},t))}]}}))})));var e}}),(0,r.jsxs)(As,{user:o,showOverlay:C&&!O,children:[(0,r.jsx)(ka,{sectionTitle:(0,r.jsxs)(r.Fragment,{children:[R.Z.Messages.USER_SETTINGS_AVATAR,(0,r.jsx)(un.ZP,{text:R.Z.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP,children:function(e){return(0,r.jsx)($r.Z,Zs(ws({},e),{className:js().nitroWheel}))}})]}),showRemoveAvatarButton:v,onAvatarChange:function(e){return A(e,null==b?void 0:b.avatar,Se.I5)},errors:d.avatar,guildId:h.id,disabled:!O},"avatar"),(0,r.jsx)(Fa,{canUsePremiumCustomization:O,showRemoveBannerButton:_,errors:d.banner,upsellButton:null,onBannerChange:function(e){return A(e,null==g?void 0:g.banner,Se.g_)},guildId:null==h?void 0:h.id,disabled:!O},"banner"),N&&(0,r.jsx)(ps,{user:o,pendingAvatar:a,pendingColors:f,onThemeColorsChange:function(e){!function(e,t){var n=null==(null==e?void 0:e[0])||null==(null==e?void 0:e[1]);(0,
Se.z5)(n&&null==t?void 0:e)}(e,null==g?void 0:g.themeColors)},guildId:null==h?void 0:h.id,showResetThemeButton:S}),(0,r.jsx)(Es,{sectionTitle:R.Z.Messages.USER_SETTINGS_PRONOUNS,errors:d.pronouns,onPronounsChange:function(e){!function(e,t){(0,Se.ID)(e===t?void 0:e)}(e,T)},pendingPronouns:u,currentPronouns:T},"pronouns"),(0,r.jsx)(Ma,{placeholder:R.Z.Messages.CHANGE_IDENTITY_BIO_PLACEHOLDER,sectionTitle:(0,r.jsxs)(r.Fragment,{children:[R.Z.Messages.USER_PROFILE_ABOUT_ME,(0,r.jsx)(un.ZP,{text:R.Z.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP,children:function(e){return(0,r.jsx)($r.Z,Zs(ws({},e),{className:js().nitroWheel}))}})]}),onBioChange:function(e){!function(e,t){(0,Se.Cf)(e===t?void 0:e)}(e,I);(0,Se._V)(null!=e&&e.length>G.tPV)},errors:d.bio,pendingBio:l,currentBio:I,disabled:!O},"about")]})]})}var ks=n(969357),Gs=n(784238),Bs=n(226657),Hs=n.n(Bs);function Vs(e){var t=e.guildId,n=e.navigateToUserProfileSettings,i=(0,E.e7)([Gs.Z],(function(){return Gs.Z.getFlattenedGuildIds()
})),a=(0,E.e7)([yn.Z],(function(){return yn.Z.getGuilds()})),c=(0,E.e7)([Ie.Z],(function(){return Ie.Z.showNotice()})),l=o.useMemo((function(){return i.map((function(e){var t=a[e];L()(null!=t,"guild should not be null");return{label:t.name,value:t.id}}))}),[i,a]),u=o.useCallback((function(e){return null==e?null:(0,r.jsx)(on.Z,{className:Hs().guildSelectOptionIcon,guild:a[e.value],size:on.Z.Sizes.SMOL,active:!0})}),[a]),f=function(e){var t=a[e];null!=t&&(0,Se.HP)(t)};return(0,r.jsx)(ks.WO,{substep:to.fJ.PROFILE_CUSTOMIZATION_GUILD_PROFILES,onPreviousSubstep:function(e){e===to.fJ.PROFILE_CUSTOMIZATION_THEME&&n()},children:function(){return(0,r.jsx)(sa,{className:Hs().section,title:R.Z.Messages.PROFILE_CUSTOMIZATION_GUILD_SELECT_TITLE,forcedDivider:!0,children:(0,r.jsx)(s.Vc,{isDisabled:c,onChange:f,value:t,options:l,renderOptionPrefix:u,placeholder:R.Z.Messages.PROFILE_CUSTOMIZATION_GUILD_SELECT_PLACEHOLDER})})}})}function Fs(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e)
;return}s.done?t(c):Promise.resolve(c).then(r,o)}function Ys(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fs(i,r,o,a,s,"next",e)}function s(e){Fs(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ws(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ws(e,t,n[t])}))}return e}function Ks(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var qs=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break
}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Xs(){Kr.default.track(G.rMx.PREMIUM_PROMOTION_OPENED,{location_page:G.ZY5.GUILD_MEMBER_PROFILE_SETTINGS,location_object:G.qAy.BADGE});(0,Se.jR)();d.Z.open(G.oAB.PREMIUM)}function Qs(e){(0,Ze.ZD)(Ys((function(){var t,o;return qs(this,(function(i){switch(i.label){case 0:return[4,n.e(90424).then(n.bind(n,190424))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,zs({source:Ks(zs({},e),{page:G.ZY5.GUILD_MEMBER_PROFILE_SETTINGS})},t))}]}}))})))}function $s(e){var t=e.selectedGuild,n=e.navigateToUserProfileSettings,i=(0,h.Z)(lr.Z.GUILD_PROFILE).AnalyticsLocationProvider,a=(0,E.e7)([Xr.default],(function(){var e=Xr.default.getCurrentUser();L()(null!=e,"GuildIdentitySettingsPage: user cannot be undefined")
;return e})),l=(0,E.e7)([fa.Z],(function(){return!fa.Z.isFetchingProfile(a.id)})),u=(0,E.e7)([Vr.Z],(function(){return Vr.Z.hidePersonalInformation})),f=(0,E.cj)([Ie.Z],(function(){var e=Ie.Z.getAllPending(),t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBio,o=e.pendingPronouns;return{pendingAvatar:t,pendingNickname:n,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:o,pendingThemeColors:e.pendingThemeColors,source:Ie.Z.getSource()}})),d=f.pendingAvatar,p=f.pendingNickname,y=f.pendingBanner,m=f.pendingBio,b=f.pendingPronouns,g=f.pendingThemeColors,O=f.source;o.useEffect((function(){return function(){return c.Z.wait(Se.W3)}}),[]);o.useEffect((function(){null!=O&&Bo.ZP.trackWithMetadata(G.rMx.SETTINGS_PANE_VIEWED,{settings_type:"guild",destination_pane:G.jXE.SETTINGS_CUSTOMIZE_PROFILE,source:O})}),[O]);if(u)return(0,r.jsx)(Ut.Z,{});if(!l)return(0,r.jsx)(qt.Z,{});var v=qr.ZP.canUsePremiumProfileCustomization(a),_={user:a,guild:t,canUsePremiumCustomization:v,
onAvatarChange:Se.I5,onBannerChange:Se.g_,onUpsellClick:Qs,pendingAvatar:d,pendingBanner:y,pendingBio:m,pendingPronouns:b,pendingNickname:p,activityName:R.Z.Messages.CHANGE_IDENTITY_SERVER_PROFILE,activityCharacter:qo.PHIBI,openPremiumSettings:Xs};return(0,r.jsxs)(i,{children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:R.Z.Messages.PROFILE_CUSTOMIZATION_GUILD_HINT.format({helpCenterLink:da.Z.getArticleURL(G.BhN.GUILD_PROFILES)})}),null!=t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Vs,{guildId:t.id,navigateToUserProfileSettings:n}),(0,r.jsx)(ua,{previewTitle:R.Z.Messages.CHANGE_IDENTITY_PREVIEW_WITH_GUILD_NAME.format({guildName:null==t?void 0:t.name}),profilePreview:(0,r.jsx)(zi,Ks(zs({},_),{pendingThemeColors:g})),children:(0,r.jsx)(Us,{})})]}):(0,r.jsx)(ma,{})]})}var Js,ec=n(356002),tc=n(635940),nc=n(640753),rc=n(39802);function oc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
var ic=Object.freeze((oc(Js={},Nr.KQ.ProfileCustomizationScrollPositions.TRY_IT_OUT,G.oAB.PROFILE_CUSTOMIZATION),oc(Js,Nr.KQ.AccessibilityScrollPositions.REDUCED_MOTION,G.oAB.ACCESSIBILITY),oc(Js,Nr.KQ.AccessibilityScrollPositions.SYNC_PROFILE_THEME_WITH_USER_THEME,G.oAB.ACCESSIBILITY),Js));const ac=function(e,t){var n=(0,E.e7)([je.Z],(function(){return je.Z.useReducedMotion})),r=(0,E.e7)([Fr.Z],(function(){return Fr.Z.getScrollPosition()}));(0,o.useEffect)((function(){var o=e.current;if(null!=o&&t===r){var i=requestAnimationFrame((function(){o.scrollIntoView({behavior:n?"auto":"smooth"});d.Z.clearScrollPosition(ic[t])}));return function(){return cancelAnimationFrame(i)}}}),[e,t,r,n])};var sc=n(250831),cc=n(398235),lc=n.n(cc);function uc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function dc(){Kr.default.track(G.rMx.PREMIUM_PROMOTION_OPENED,{location_page:G.ZY5.USER_SETTINGS,location_section:G.jXE.SETTINGS_ACCOUNT,location_object:G.qAy.BADGE});d.Z.setSection(G.oAB.PREMIUM)}function pc(e){var t=e.user,i=(0,Xi.Z)().canTryItOut,a=o.useContext(rc.S).reducedMotion,c=qr.ZP.isPremium(t),l=c?void 0:[{tooltip:R.Z.Messages.PREMIUM_BADGE_TOOLTIP.format({date:new Date}),onClick:dc,key:Li.Bm.PREMIUM}],u=(0,E.cj)([Ro.Z],(function(){var e=Ro.Z.getAllPending(),t=Ro.Z.getErrors();return fc(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uc(e,t,n[t])}))}return e}({},e,Ro.Z.getAllTryItOut()),{errors:t})})),d=u.pendingAvatar,p=u.pendingBanner,y=u.pendingThemeColors,m=u.pendingPronouns,b=u.pendingBio,g=u.tryItOutThemeColors,O=u.tryItOutAvatar,v=u.tryItOutBanner,_=o.useRef(null);ac(_,Nr.Y_.TRY_IT_OUT);var S,I=(0,oi.Z)(t.id),T=null==I?void 0:I.getPreviewBio(b),N=(0,h.Z)(lr.Z.USER_SETTINGS_TRY_OUT_PREMIUM),C=N.AnalyticsLocationProvider,A=N.sourceAnalyticsLocations;o.useEffect((function(){Kr.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:to.cd.PREMIUM_PROFILE_TRY_IT_OUT,location:{page:G.ZY5.USER_SETTINGS},location_stack:A})}),[A,t]);return(0,r.jsx)(C,{children:(0,r.jsx)(na,{ref:_,className:lc().tryItOutSection,type:Ki.PREMIUM,isShown:!0,hasBackground:!0,children:(0,r.jsx)(ua,{layoutClassName:lc().tryItOutLayout,previewTitle:(0,
r.jsxs)(r.Fragment,{children:[(0,r.jsx)($r.Z,{className:lc().premiumIcon})," ",R.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_PREVIEW]}),profilePreview:(0,r.jsx)(zi,{user:t,onAvatarChange:Io.c_,onBannerChange:Io.f4,pendingPronouns:m,pendingBio:b,pendingBanner:null!==(S=null!=v?v:p)&&void 0!==S?S:n(276727),pendingAvatar:null!=O?O:d,pendingThemeColors:null!=g?g:y,avatarClassName:null!=O||null!=d||a.enabled?void 0:lc().spinningAvatar,openPremiumSettings:dc,canUsePremiumCustomization:!0,isTryItOutFlow:!0,disabledInputs:!i,overrideDiscriminator:"0001",sampleBadgeList:l,hideExampleButton:!0,hideFakeActivity:Boolean(null==T?void 0:T.value)}),children:(0,r.jsxs)("div",{className:lc().editor,children:[(0,r.jsx)(hc,{}),(0,r.jsx)(ps,{className:lc().customizationSection,user:t,pendingAvatar:null!=O?O:d,pendingColors:null!=g?g:y,onThemeColorsChange:Io.rf,showPremiumIcon:!1,preventDisabled:i}),(0,r.jsx)(Fa,{className:lc().customizationSection,disabled:!i,canUsePremiumCustomization:!0,isTryItOutFlow:!0,
showRemoveBannerButton:null!=v,upsellButton:null,onBannerChange:Io.f4,showPremiumIcon:!1}),(0,r.jsx)(ka,{className:lc().customizationSection,disabled:!i,isTryItOutFlow:!0,onAvatarChange:Io.c_,showRemoveAvatarButton:!1,changeAvatarButtonText:R.Z.Messages.USER_SETTINGS_ADD_ANIMATED_AVATAR,sectionTitle:R.Z.Messages.PREMIUM_TIER_0_FEATURE_AVATAR}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:lc().premiumPerksListTitle,children:R.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_ALSO_INCLUDES}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:(0,r.jsxs)("ul",{className:lc().premiumPerksList,children:[(0,r.jsx)("li",{children:R.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_CUSTOM_TAG}),(0,r.jsx)("li",{children:R.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_EXCLUSIVE_BADGE})]})}),(0,r.jsx)(Os.Z,{onSubscribeModalClose:function(e){if(e){(0,f.I5)(O);(0,Io.g_)(v);(0,Io.z5)(g)}},subscriptionTier:to.Si.TIER_2,className:lc().premiumSubscribeButton,size:ue.Co.Sizes.MEDIUM,
buttonText:c?R.Z.Messages.USER_SETTINGS_PROFILE_THEMES_UPSELL_UPGRADE:R.Z.Messages.PREMIUM_UPSELL_GET_NITRO})]})})})})}var hc=function(){return(0,Xi.Z)().canTryItOut?(0,r.jsxs)("div",{children:[(0,r.jsx)(s.X6,{variant:"heading-xl/extrabold",children:R.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_HEADER}),(0,r.jsx)(s.xv,{className:lc().description,variant:"text-sm/normal",children:R.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_DESCRIPTION})]}):(0,r.jsxs)("div",{className:lc().titleContainer,children:[(0,r.jsx)(sc.Z,{className:lc().titleIcon}),(0,r.jsx)(s.X6,{variant:"heading-md/extrabold",children:R.Z.Messages.PREMIUM_FEATURES_PROFILE_CUSTOMIZATION_MENU_ITEM_TITLE})]})};n(591739);function Ec(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function yc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ec(i,r,o,a,s,"next",e)}function s(e){Ec(i,r,o,a,s,"throw",e)}a(void 0)}))}}
function mc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mc(e,t,n[t])}))}return e}function gc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Oc=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]
},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function vc(){(0,
Ze.ZD)(yc((function(){var e,t;return Oc(this,(function(o){switch(o.label){case 0:return[4,n.e(50442).then(n.bind(n,950442))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,gc(bc({},e),{source:{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_CUSTOMIZE_PROFILE,object:G.qAy.BUTTON_CTA,type:G.Qqv.BUY}}))}]}}))})))}var _c=n(796339),Sc=n.n(_c);function Ic(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Tc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ic(i,r,o,a,s,"next",e)}function s(e){Ic(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Nc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Cc=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Ac(e){(0,Ze.ZD)(Tc((function(){var t,o;return Cc(this,(function(i){
switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(58755)]).then(n.bind(n,958755))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Nc(e,t,n[t])}))}return e}({analyticsLocations:e},t))}]}}))})))}function Pc(e){var t=e.user,n=(0,ei.U)().canUseAvatarDecorations,i=(0,E.e7)([Ro.Z],(function(){return Ro.Z.getPendingAvatarDecoration()})),a=(0,E.e7)([Ro.Z],(function(){return Ro.Z.getErrors()})).avatarDecoration,s=(0,h.Z)().analyticsLocations,c=qr.ZP.canUsePremiumProfileCustomization(t);o.useEffect((function(){n&&!c&&Kr.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:to.cd.AVATAR_DECORATIONS_INLINE_SETTINGS,location_stack:s})}),[n,c,s]);if(!n)return null
;var l=void 0===i?null!=t.avatarDecoration:null!=i;return(0,r.jsx)(sa,{title:(0,r.jsxs)(r.Fragment,{children:[R.Z.Messages.USER_SETTINGS_AVATAR_DECORATION,(0,r.jsx)(Ga.Z,{})]}),errors:a,children:(0,r.jsxs)("div",{className:Sc().buttonsContainer,children:[(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.SMALL,onClick:function(){return Ac(s)},children:R.Z.Messages.USER_SETTINGS_CHANGE_AVATAR_DECORATION}),l&&(0,r.jsx)(ue.Co,{className:Sc().removeButton,color:ue.Co.Colors.PRIMARY,look:ue.Co.Looks.LINK,size:ue.Co.Sizes.SMALL,onClick:function(){var e=null==t.avatarDecoration?void 0:null;(0,f.cV)(e)},children:R.Z.Messages.USER_SETTINGS_REMOVE_AVATAR_DECORATION})]})})}function jc(e){var t,n=e.user,o=e.savedUserColor,i=e.pendingColor,a=e.setPendingAccentColor,s=n.getAvatarURL(null,80),c=(0,ae.Sl)(G.Ilk.PRIMARY_DARK_530).hex,l=(0,Jo.Cf)(s,c,!1),u=(0,Qo._i)(l[0]);return(0,r.jsx)(sa,{title:R.Z.Messages.USER_SETTINGS_BANNER_COLOR_TITLE,children:(0,r.jsx)(cs,{onChange:function(e){return a(e)},
color:null!==(t=null!=i?i:o)&&void 0!==t?t:u,suggestedColors:l,showEyeDropper:!0})})}var Rc=n(602815),xc=n.n(Rc);function Mc(e){var t=e.user,n=e.children,i=(0,Xi.Z)(!0),a=i.canEditThemes,c=i.canViewTryItOut,l=qr.ZP.canUsePremiumProfileCustomization(t),u=(0,h.Z)(lr.Z.PROFILE_THEME_UPSELL_INLINE),f=u.AnalyticsLocationProvider,d=u.sourceAnalyticsLocations;o.useEffect((function(){l||!a||c||Kr.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:to.cd.PROFILE_THEME_UPSELL_INLINE,location_stack:d})}),[d,l,a,c]);return!a||l||c?(0,r.jsx)(r.Fragment,{children:n}):(0,r.jsxs)(f,{children:[(0,r.jsxs)(na,{className:xc().upsellBorder,isShown:!0,type:Ki.PREMIUM,children:[(0,r.jsxs)("div",{className:xc().inlineUpsell,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,children:R.Z.Messages.USER_SETTINGS_PROFILE_THEMES_INLINE_UPSELL}),(0,r.jsx)(Os.Z,{subscriptionTier:to.Si.TIER_2,className:xc().premiumSubscribeButton,size:ue.Co.Sizes.SMALL,
buttonText:qr.ZP.isPremium(t)?R.Z.Messages.USER_SETTINGS_PROFILE_THEMES_UPSELL_UPGRADE:R.Z.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL})]}),n]}),(0,r.jsx)("div",{className:xc().divider})]})}var wc=n(430099),Zc=n.n(wc);function Lc(e){var t=e.user,n=(0,h.Z)().analyticsLocations,i=qr.ZP.isPremium(t)?R.Z.Messages.USER_SETTINGS_CUSTOMIZATION_UPGRADE_UPSELL:R.Z.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL;o.useEffect((function(){Kr.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:to.cd.CUSTOM_PROFILE_SETTINGS_BANNER_BUTTON,location:{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_CUSTOMIZE_PROFILE,object:G.qAy.BUTTON_CTA},location_stack:n})}),[n]);return(0,r.jsxs)(wa.C,{color:ue.Co.Colors.GREEN,onClick:vc,innerClassName:Zc().premiumUpsellButtonInner,children:[(0,r.jsx)($r.Z,{className:Zc().premiumUpsellButtonWheel}),i]})}var Dc=n(241941),Uc=n.n(Dc);function kc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gc(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Bc(e){var t,n,o=(0,E.e7)([Xr.default],(function(){var e=Xr.default.getCurrentUser();L()(null!=e,"DefaultCustomizationSections: user cannot be undefined");return e})),i=(0,E.e7)([fa.Z],(function(){return fa.Z.getUserProfile(o.id)})),a=(0,E.cj)([Ro.Z],(function(){var e=Ro.Z.getAllPending(),t=Ro.Z.getErrors();return Gc(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kc(e,t,n[t])}))}return e}({},e),{errors:t})})),s=a.pendingAvatar,c=a.pendingBanner,l=a.pendingBio,u=a.pendingPronouns,d=a.pendingAccentColor,p=a.pendingThemeColors,h=a.errors,y=qr.ZP.canUsePremiumProfileCustomization(o),m=(0,Oa.gd)(s,o.avatar),b=(0,Oa.f$)(c,null==i?void 0:i.banner),g=(0,Xi.Z)(!0),O=g.canEditThemes,v=!g.canViewTryItOut||y;return(0,r.jsxs)("div",{className:Uc().sectionsContainer,children:[(0,r.jsx)(ks.WO,{substep:to.fJ.PROFILE_CUSTOMIZATION_AVATAR,shouldFireFlowStartEvent:!0,children:function(e){return(0,r.jsx)(ka,{onAvatarChange:f.I5,showRemoveAvatarButton:m,errors:h.avatar,sectionTitle:R.Z.Messages.USER_SETTINGS_AVATAR,forcedDivider:!0,withHighlight:e},"avatar")}}),(0,r.jsx)(Pc,{user:o},"decoration"),(0,r.jsxs)(Mc,{user:o,children:[v&&(0,r.jsx)(ks.WO,{substep:to.fJ.PROFILE_CUSTOMIZATION_BANNER,children:function(e){return(0,r.jsx)(Fa,{canUsePremiumCustomization:y,showRemoveBannerButton:b,
errors:h.banner,upsellButton:(0,r.jsx)(Lc,{user:o}),onBannerChange:Io.g_,disabled:!y&&O,forcedDivider:!0,withHighlight:e},"banner")}}),O&&v&&(0,r.jsx)(ks.WO,{substep:to.fJ.PROFILE_CUSTOMIZATION_THEME,onNextSubstep:function(t){t===to.fJ.PROFILE_CUSTOMIZATION_GUILD_PROFILES&&e.navigateToGuildIdentitySettings()},children:function(){return(0,r.jsx)(ps,{user:o,pendingAvatar:s,pendingColors:p,onThemeColorsChange:Io.z5,forcedDivider:!0})}})]}),(!y||!O)&&(0,r.jsx)(jc,{user:o,savedUserColor:null==i?void 0:i.accentColor,pendingColor:d,setPendingAccentColor:Io.CM},"color"),(0,r.jsx)(Es,{sectionTitle:R.Z.Messages.USER_SETTINGS_PRONOUNS,errors:h.pronouns,onPronounsChange:Io.ID,pendingPronouns:u,currentPronouns:null!==(t=null==i?void 0:i.pronouns)&&void 0!==t?t:""},"pronouns"),(0,r.jsx)(Ma,{sectionTitle:R.Z.Messages.USER_SETTINGS_ABOUT_ME,errors:h.bio,onBioChange:function(e){(0,Oa.xQ)(e,null==i?void 0:i.bio);(0,f._V)(null!=e&&e.length>G.tPV)},pendingBio:l,
currentBio:null!==(n=null==i?void 0:i.bio)&&void 0!==n?n:""},"bio")]})}function Hc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Hc(e,t,n[t])}))}return e}function Fc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Yc(){
Kr.default.track(G.rMx.PREMIUM_PROMOTION_OPENED,{location_page:G.ZY5.USER_SETTINGS,location_section:G.jXE.SETTINGS_ACCOUNT,location_object:G.qAy.BADGE});d.Z.setSection(G.oAB.PREMIUM)}function Wc(e){var t,n,i=(0,E.e7)([Xr.default],(function(){var e=Xr.default.getCurrentUser();L()(null!=e,"UserSettingsProfileCustomization: user cannot be undefined");return e})),s=(0,E.e7)([Vr.Z],(function(){return Vr.Z.hidePersonalInformation})),l=(0,E.cj)([Ro.Z],(function(){var e=Ro.Z.getAllPending(),t=Ro.Z.getErrors();return Fc(Vc({},e),{errors:t})})),u=l.pendingAvatar,d=l.pendingBanner,p=l.pendingBio,y=l.pendingPronouns,m=l.pendingAccentColor,b=l.pendingAvatarDecoration,g=l.pendingThemeColors,O=hi.dN.useSetting()&&null!=p?nc.ZP.parse(void 0,p).content:p,v=qr.ZP.canUsePremiumProfileCustomization(i);t=(0,ei.U)().canUseAvatarDecorations,n=(0,tc.wE)(a.z$.AVATAR_DECORATION_NEW_BADGE),o.useEffect((function(){t&&!n&&(0,tc.EW)(a.z$.AVATAR_DECORATION_NEW_BADGE,{forceTrack:!0})}),[t,n]);var _=(0,
h.Z)(lr.Z.PROFILE).AnalyticsLocationProvider,S={user:i,canUsePremiumCustomization:v,onUpsellClick:vc,onAvatarChange:f.I5,onBannerChange:Io.g_,pendingBanner:d,pendingBio:O,pendingPronouns:y,pendingAvatar:u,pendingAvatarDecoration:b,openPremiumSettings:Yc};o.useEffect((function(){return function(){return c.Z.wait(f.W3)}}),[]);return s?(0,r.jsx)(Ut.Z,{}):(0,r.jsx)(_,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ua,{profilePreview:(0,r.jsx)(zi,Fc(Vc({},S),{pendingThemeColors:g,pendingAccentColor:m})),children:(0,r.jsx)(Bc,{navigateToGuildIdentitySettings:e.navigateToGuildIdentitySettings})}),!qr.ZP.canUsePremiumProfileCustomization(i)&&(0,r.jsx)(pc,{user:i})]})})}var zc=n(497762),Kc=n(752758),qc=n.n(Kc);function Xc(){var e=function(e){if(u!==e)if(a){Le.S.dispatch(G.CkL.SHAKE_APP,{duration:300,intensity:Go.$x});Le.S.dispatch(G.CkL.EMPHASIZE_NOTICE)}else{e===Nr.NB.GUILD&&null==n&&null!=c&&(0,Se.Fq)(c,y);d.Z.setSection(G.oAB.PROFILE_CUSTOMIZATION,e)}},t=(0,E.e7)([Gs.Z],(function(){
return Gs.Z.getFlattenedGuildIds()})),n=(0,E.e7)([Ie.Z],(function(){return Ie.Z.getGuild()})),i=(0,E.e7)([yn.Z],(function(){return yn.Z.getGuild(t[0])})),a=(0,E.e7)([Ie.Z,Ro.Z],(function(){return Ie.Z.showNotice()||Ro.Z.showNotice()})),c=null!=n?n:i,l=(0,E.e7)([Xr.default],(function(){return Xr.default.getCurrentUser()})),u=(0,E.e7)([Fr.Z],(function(){var e;return null!==(e=Fr.Z.getSubsection())&&void 0!==e?e:Nr.NB.USER_PROFILE})),f=(0,h.Z)(),p=f.AnalyticsLocationProvider,y=f.analyticsLocations;o.useEffect((function(){null!=l&&(0,ec.Z)(l.id,l.getAvatarURL(null==c?void 0:c.id,80),{guildId:null==c?void 0:c.id})}),[null==c?void 0:c.id,l]);return(0,r.jsx)(p,{children:(0,r.jsx)(ks.X2,{step:to.dq.PROFILE_CUSTOMIZATION,dismissOnUnmount:!0,children:(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.X6,{variant:"heading-lg/semibold",children:R.Z.Messages.USER_SETTINGS_PROFILES}),children:[(0,r.jsxs)(zc.ZP,{className:qc().tabBar,type:zc.ZP.Types.TOP,look:zc.ZP.Looks.BRAND,selectedItem:u,onItemSelect:e,
children:[(0,r.jsx)(zc.ZP.Item,{className:qc().tabBarItem,id:Nr.NB.USER_PROFILE,children:R.Z.Messages.EDIT_PROFILE_CATEGORY_USER_PROFILE},Nr.NB.USER_PROFILE),(0,r.jsx)(zc.ZP.Item,{className:qc().tabBarItem,id:Nr.NB.GUILD,children:R.Z.Messages.EDIT_PROFILE_CATEGORY_GUILD_IDENTITY},Nr.NB.GUILD)]}),function(){switch(u){case Nr.NB.GUILD:return(0,r.jsx)($s,{selectedGuild:c,navigateToUserProfileSettings:function(){return e(Nr.NB.USER_PROFILE)}});case Nr.NB.USER_PROFILE:default:return(0,r.jsx)(Wc,{navigateToGuildIdentitySettings:function(){return e(Nr.NB.GUILD)}})}}()]})})})}var Qc=n(498377),$c=n(849166),Jc=n(870),el=n(334444),tl=n(81951),nl=n(30741),rl=n(742269);const ol=(0,ba.B)({kind:"user",id:"2022-06_auth_sessions_user_settings",label:"Auth Sessions User Settings",defaultConfig:{showSettings:!1},treatments:[{id:1,label:"Show settings",config:{showSettings:!0}}]});var il=n(131795),al=n.n(il),sl=n(696499),cl=n.n(sl);function ll(){
var e,t,n,o=window.GLOBAL_ENV.RELEASE_CHANNEL,i=null===(e="a125c4a22e1b0b5724c3c76051fc5a655142c620")?void 0:e.substring(0,7),a=null===K.Z||void 0===K.Z?void 0:K.Z.remoteApp.getVersion(),c=null===(t=null===K.Z||void 0===K.Z?void 0:K.Z.remoteApp.getBuildNumber)||void 0===t?void 0:t(),l=null===al()||void 0===al()||null===(n=al().os)||void 0===n?void 0:n.toString(),u=null!=K.Z?"(".concat(K.Z.os.release,")"):null;return(0,r.jsxs)("div",{className:cl().info,children:[(0,r.jsxs)(s.xv,{tag:"span",className:cl().line,variant:"text-xs/normal",color:"text-muted",children:[o," ","171842"," ",(0,r.jsxs)("span",{className:cl().versionHash,children:["(",i,")"]})]})," ",null!=a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.xv,{tag:"span",className:cl().line,variant:"text-xs/normal",color:"text-muted",children:["Host ",a," ",null!=c?(0,r.jsxs)("span",{children:["(",c,")"]}):null]})," "]}):null,null!=l?(0,r.jsxs)(s.xv,{tag:"span",className:cl().line,variant:"text-xs/normal",color:"text-muted",
children:[l," ",u]}):null]})}var ul=n(619323),fl=n(983067),dl=n(719455),pl=n(639617),hl=n.n(pl);function El(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return El(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return El(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ml(e){var t=e.hotspotLocation,n=yl((0,E.Wu)([ul.qc],(function(){return[ul.qc.hasHotspot(t,!0),ul.qc.getHotspotOverride(t)]})),2),o=n[0],i=n[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.xJ,{title:t,className:hl().hotspotSwitch,children:[o?(0,r.jsx)(un.DY,{className:hl().iconContainer,element:"span",text:"Active",children:(0,r.jsx)(fl.Z,{className:hl().checkmark})}):(0,r.jsx)(un.DY,{className:hl().iconContainer,element:"span",text:"Inactive",children:(0,r.jsx)(dl.Z,{className:hl().xmark})}),(0,r.jsx)(s.q4,{className:hl().overrideSelect,value:i,options:[{value:void 0,label:"No Override"},{value:!0,label:"Force Active"},{value:!1,label:"Force Inactive"}],onChange:function(e){return null!=e?(0,ul.hv)(t,e):(0,ul.Po)(t)}})]}),(0,r.jsx)(s.$i,{})]})}function bl(e){var t=e.className;return(0,r.jsxs)(s.hj,{
title:"Hotspots",tag:s.RB.H1,className:t,children:[(0,r.jsx)(s.xv,{className:hl().helpText,tag:"p",variant:"text-sm/normal",children:'All the "hotspots" in app, and their current status. Use the select menu to override them on or off.'}),Object.keys(ul.v6).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return(0,r.jsx)(ml,{hotspotLocation:e},e)}))]})}var gl=n(817673),Ol=n(353192),vl=n(224292),_l=n(892472),Sl=n(598022),Il=n.n(Sl),Tl=n(349748),Nl=n.n(Tl),Cl=n(3066),Al=n.n(Cl);function Pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jl(e,t,n[t])}))}return e}function xl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ml(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const wl=function(){var e=Ml(o.useState(to.Si.TIER_2),2),t=e[0],n=e[1],i=Ml((0,E.Wu)([yn.Z],(function(){return[yn.Z.getGuilds()]})),1)[0],a=Ml((0,E.Wu)([Gt.Z],(function(){return[Gt.Z.getPremiumSubscription()]})),1)[0],c=Object.values(i).map((function(e){return{value:e,label:e.name}})),l=Ml(o.useState(c.length>0?c[0].value:null),2),u=l[0],f=l[1],d=Ml(o.useState(""),2),p=d[0],y=d[1],m=Ml(o.useState({plan_id:to.Xh.PREMIUM_MONTH_TIER_2,gift:"true"
}),2),b=m[0],g=m[1],v="true"!==b.gift&&null!=a,_=Ml(o.useState(c.length>0?c[0].value:null),2),S=_[0],I=_[1],T=(0,h.Z)(lr.Z.PAYMENT_FLOW_TEST_PAGE),N=T.AnalyticsLocationProvider,C=T.analyticsLocations;(0,qn.tT)(null==S?void 0:S.id);var A=(0,qn.GG)(null==S?void 0:S.id),P=o.useMemo((function(){return null==S?[]:A.filter((function(e){return null!=e.subscription_listings&&e.subscription_listings.map((function(e){return e.published})).includes(!0)}))}),[A,S]);return(0,r.jsx)(N,{children:(0,r.jsxs)(s.hj,{title:"Payment Flow Modals",tag:s.RB.H1,children:[(0,r.jsxs)(s.xJ,{className:O()(Al().flex,Il().formItem),children:[(0,r.jsx)(s.vw,{children:"Gift"}),(0,r.jsx)(s.q4,{value:t,options:[{value:to.Si.TIER_2,label:"nitro"},{value:to.Si.TIER_1,label:"nitro classic"}],onChange:function(e){return n(e)}}),(0,r.jsx)(Os.Z,{subscriptionTier:t,isGift:!0,premiumModalAnalyticsLocation:{},className:Nl().button})]}),(0,r.jsx)(s.$i,{className:Il().formDivider}),(0,r.jsxs)(s.xJ,{
className:O()(Al().flex,Il().formItem),children:[(0,r.jsx)(s.vw,{children:"Premium Select Plan"}),(0,r.jsx)(ue.Co,{onClick:function(){return(0,vl.Z)({analyticsLocations:C})},children:"Select Plan"})]}),(0,r.jsx)(s.$i,{className:Il().formDivider}),(0,r.jsxs)(s.xJ,{className:O()(Al().flex,Il().formItem),children:[(0,r.jsx)(s.vw,{children:"Boost"}),(0,r.jsx)(s.q4,{value:u,options:c,onChange:function(e){return f(e)}}),null!=u?(0,r.jsx)(Ol.Z,{guild:u,analyticsLocation:{}}):(0,r.jsx)("div",{children:"No Guild to boost"})]}),(0,r.jsx)(s.$i,{className:Il().formDivider}),(0,r.jsxs)(s.xJ,{className:O()(Al().flex,Il().formItem),children:[(0,r.jsxs)(s.vw,{children:[(0,r.jsx)("div",{children:"Standalone: Trial Promotion Redemption"}),(0,r.jsx)(_l.Z,{href:"https://i.dis.gd/createPromo",children:"How to create promotion"})]}),(0,r.jsx)(s.oi,{placeholder:"Promotion Code",value:p,onChange:function(e){return y(e)}}),(0,r.jsx)(un.ZP,{text:"Need Promotion Code",shouldShow:p.length<1,children:function(e){
var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(ue.Co,{disabled:p.length<1,onMouseEnter:t,onMouseLeave:n,onClick:function(){window.open(G.Z5c.BILLING_PROMOTION_REDEMPTION(p))},children:"Open Link"})}})]}),(0,r.jsx)(s.$i,{className:Il().formDivider}),(0,r.jsxs)(s.xJ,{className:O()(Al().flex,Il().formItem),children:[(0,r.jsx)(s.vw,{children:"Standalone: Gift/Subscription Purchase"}),(0,r.jsx)(s.q4,{value:b.plan_id,options:[{value:to.Xh.PREMIUM_MONTH_TIER_1,label:"nitro classic"},{value:to.Xh.PREMIUM_MONTH_TIER_2,label:"nitro"}],onChange:function(e){return g((function(t){return xl(Rl({},t),{plan_id:e})}))}}),(0,r.jsx)(s.q4,{value:b.gift,options:[{value:"true",label:"Gift"},{value:"false",label:"Not Gift"}],onChange:function(e){return g((function(t){return xl(Rl({},t),{gift:e})}))}}),(0,r.jsx)(un.ZP,{text:"Already subscribed",shouldShow:v,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(ue.Co,{onMouseLeave:n,onMouseEnter:t,disabled:v,onClick:function(){
window.open(G.Z5c.BILLING_PREMIUM_SUBSCRIBE+"?"+gl.stringify(Rl({},b)))},children:"Open Link"})}})]}),(0,r.jsx)(s.$i,{className:Il().formDivider}),(0,r.jsxs)(s.xJ,{className:O()(Al().flex,Al().alignCenter,Il().formItem),children:[(0,r.jsx)(s.vw,{children:"Creator Revenue"}),(0,r.jsx)(s.xv,{className:Il().guildServerDescription,variant:"text-sm/normal",children:"Premium Server Subscription For"}),(0,r.jsx)(s.q4,{value:S,options:c,onChange:function(e){return I(e)}})]}),null!=S?(0,r.jsx)("div",{className:O()(Il().groupListings,Al().flex),children:P.map((function(e){return e.subscription_listings_ids.map((function(t){return(0,r.jsx)(dr.Z,{guildId:S.id,groupListingId:e.id,listingId:t},t)}))}))}):null,(0,r.jsx)(s.$i,{className:Il().formDivider}),(0,r.jsxs)(s.xJ,{className:O()(Al().flex,Il().formItem),children:[(0,r.jsx)(s.vw,{children:"Helpers"}),(0,r.jsx)(ue.Co,{onClick:function(){return(0,Dt.mE)()},children:"Reset SubscriptionPlanStore"}),(0,r.jsx)(ue.Co,{onClick:function(){return(0,
wt.GM)()},children:"Reset SubscriptionStore"})]})]})})};var Zl=n(355543),Ll=n(28184),Dl=n(471730),Ul=n(379881),kl=n(126436),Gl=n.n(kl),Bl={offset:{top:-8}};function Hl(){return(0,r.jsxs)("div",{className:Gl().socialLinks,children:[(0,r.jsx)(_l.Z,{target:"_blank",tabIndex:-1,rel:"author",title:"Twitter",href:(0,Zl.Z)(G.RK.TWITTER),className:Gl().link,focusProps:Bl,children:(0,r.jsx)(Ul.Z,{foreground:Gl().foreground,"aria-hidden":!0})}),(0,r.jsx)(_l.Z,{target:"_blank",rel:"author",title:"Facebook",tabIndex:-1,href:G.fK7.FACEBOOK_URL,className:Gl().link,focusProps:Bl,children:(0,r.jsx)(Ll.Z,{foreground:Gl().foreground,"aria-hidden":!0})}),(0,r.jsx)(_l.Z,{target:"_blank",rel:"author",title:"Instagram",tabIndex:-1,href:G.fK7.INSTAGRAM_URL,className:Gl().link,focusProps:Bl,children:(0,r.jsx)(Dl.Z,{foreground:Gl().foreground,"aria-hidden":!0})})]})}var Vl=n(742758);function Fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yl(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wl(){var e=Yl(o.useState(""),2),t=e[0],n=e[1];return(0,r.jsxs)(s.hj,{title:"Text components",tag:s.RB.H1,children:[(0,r.jsx)(s.oi,{
placeholder:"Enter custom text...",onChange:function(e){return n(e)}}),(0,r.jsx)(s.$i,{style:{margin:"10px 0"}}),Vl.O.map((function(e){return"code"===e?null:(0,r.jsx)(s.xv,{variant:e,children:""!==t?"".concat(t," (").concat(e,")"):e},e)}))]})}var zl=n(484830),Kl=n(733436),ql=n(761797),Xl=n(989115),Ql=n(819525),$l=n(790948),Jl=n(60890),eu=n(565469),tu=n(861298);function nu(e){switch(e){case tu.mX.REDUCED_MOTION:return R.Z.Messages.ACCESSIBILITY_REDUCED_MOTION_SETTINGS_OVERRIDE.format();case tu.mX.REDUCED_MOTION_STICKERS:return R.Z.Messages.STICKERS_AUTO_PLAY_HELP_DISABLED;default:return}}var ru=n(723927),ou=n(641645),iu=n(522271),au=n(10178),su=n(766936),cu=n(730942),lu=n(722571),uu=n(796165),fu=n(66692),du=n(218863),pu=n.n(du),hu=n(603008),Eu=n.n(hu);function yu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mu(e,t,n[t])}))}return e}function gu(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ou(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vu=(0,fn.hQ)(),_u=(0,fn.hQ)(),Su=(0,fn.hQ)(),Iu=Ce().debounce((function(e){(0,Kl.o2)(e)}),250),Tu=Ce().debounce((function(e){(0,ru.Ct)(e)}),250);function Nu(e){var t=ql.Z.useExperiment({},{autoTrackExposure:!0}).allowRoleStyles,n=(0,Xi.Z)().canViewThemes;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.ACCESSIBILITY,
children:[(0,r.jsx)(Cu,{}),(0,r.jsx)(Au,{}),(0,r.jsx)(s.$i,{}),(0,r.jsx)(Pu,{}),t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ju,{}),(0,r.jsx)(s.$i,{className:ye().marginTop20})]}):null,n?(0,r.jsx)(Ru,{}):null,(0,Xl.b)()?(0,r.jsx)(xu,{}):null,(0,r.jsx)(Mu,{}),(0,r.jsx)(wu,{}),(0,r.jsx)(Zu,{}),(0,r.jsx)(Lu,{}),(0,r.jsx)(s.$i,{className:ye().marginBottom20}),(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.ACCESSIBILITY_SETTINGS_APPEARANCE_LINK.format({onAppearanceClick:function(){d.Z.open(G.oAB.APPEARANCE)}})})]})}function Cu(){var e=hi.jU.useSetting(),t=Ou(o.useState((function(){var e=(0,Ql.e5)(gu(bu({},(0,$l.ZP)({channelId:"1337",content:R.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_LINK_PREVIEW_MESSAGE.format({previewLink:"https://discord.com/accessibility"})})),{state:G.yb.SENT,id:"".concat(0)}));e.colorString="green";return e})),1)[0];return(0,r.jsx)(s.Rn,{children:(0,r.jsxs)(Wr.Z,{className:pu().preview,"aria-hidden":!0,children:[(0,r.jsxs)("div",{
className:pu().previewHeader,children:[(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.SMALL,color:ue.Co.Colors.BRAND,children:R.Z.Messages.ACCESSIBILITY_EXAMPLE_BUTTON_LABEL}),(0,r.jsx)("div",{className:pu().previewAvatars,children:[G.Skl.ONLINE,G.Skl.DND,G.Skl.IDLE].map((function(e){return(0,r.jsx)(su.Xo,{"aria-label":R.Z.Messages.USER_SETTINGS_AVATAR,src:Eu(),size:su.ZP.Sizes.SIZE_32,status:e},e)}))})]}),(0,r.jsx)("div",{className:pu().previewMessage,children:(0,r.jsx)(eu.Z,{compact:e,author:gu(bu({},(0,Jl.ZH)(t)),{colorString:"#DD80F4"}),message:t})})]})})}function Au(){var e=(0,E.cj)([je.Z],(function(){return{saturation:je.Z.saturation,desaturateUserColors:je.Z.desaturateUserColors}})),t=e.saturation,n=e.desaturateUserColors;return(0,r.jsxs)(s.hj,{className:ye().marginTop20,children:[(0,r.jsx)(s.vw,{id:vu,className:ye().marginBottom8,children:R.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_TITLE}),(0,r.jsx)(s.R9,{id:_u,type:s.R9.Types.DESCRIPTION,className:ye().marginBottom20,
children:R.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_DESCRIPTION}),(0,r.jsx)(s.iR,{"aria-labelledby":vu,"aria-describedby":_u,markers:G.yqN.SATURATION_INCREMENTS,equidistant:!0,stickToMarkers:!0,maxValue:1,minValue:0,initialValue:t,onValueChange:Iu,onMarkerRender:function(e){return 100*e%2==0?"".concat(100*e,"%"):void 0}}),(0,r.jsx)(s.j7,{hideBorder:!0,className:O()(ye().marginTop8,ye().marginBottom20),value:n,onChange:Kl.f1,note:R.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_DESCRIPTION,children:R.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_LABEL})]})}function Pu(){var e=(0,E.e7)([je.Z],(function(){return je.Z.alwaysShowLinkDecorations}));return(0,r.jsx)(s.xJ,{className:ye().marginTop20,children:(0,r.jsx)(s.j7,{note:R.Z.Messages.ACCESSIBILITY_SETTINGS_ALWAYS_SHOW_LINK_DECORATIONS_NOTE,value:e,onChange:function(){(0,Kl.gs)(!e)},children:R.Z.Messages.ACCESSIBILITY_SETTINGS_ALWAYS_SHOW_LINK_DECORATIONS_LABEL})})}function ju(){var e=(0,
E.e7)([je.Z],(function(){return je.Z.roleStyle}));return(0,r.jsxs)(s.xJ,{title:R.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_TITLE,className:ye().marginTop20,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginBottom8,children:R.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DESCRIPTION}),(0,r.jsx)(s.Ee,{options:[{name:R.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_USERNAME_LABEL,value:"username"},{name:R.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DOT_LABEL,value:"dot"},{name:R.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_HIDDEN_LABEL,value:"hidden"}],onChange:function(e){(0,Kl.u1)(e.value)},value:e})]})}function Ru(){var e=(0,E.e7)([je.Z],(function(){return je.Z.syncProfileThemeWithUserTheme})),t=o.useRef(null);ac(t,Nr.rP.SYNC_PROFILE_THEME_WITH_USER_THEME);return(0,r.jsx)(s.xJ,{ref:t,title:R.Z.Messages.ACCESSIBILITY_SETTINGS_PROFILE_COLORS_TITLE,className:O()(ye().marginTop20,pu().syncProfileThemeWithUserTheme),children:(0,r.jsx)(s.j7,{
note:R.Z.Messages.ACCESSIBILITY_SETTINGS_PROFILE_THEMES_NOTE.format({onThemeClick:function(){d.Z.open(G.oAB.APPEARANCE)}}),className:ye().marginTop20,value:e,onChange:Kl.Uv,children:R.Z.Messages.ACCESSIBILITY_SETTINGS_PROFILE_THEMES_DESCRIPTION})})}function xu(){var e=Ou((0,E.Wu)([je.Z],(function(){return[je.Z.syncForcedColors,je.Z.systemForcedColors]})),2),t=e[0],n=e[1],i=Ou(o.useState(t),2),a=i[0],c=i[1];o.useEffect((function(){c(t)}),[t]);var l=o.useRef(null);o.useEffect((function(){if(null!=l.current){clearTimeout(l.current);l.current=null}a!==t&&(l.current=setTimeout((function(){return(0,Kl.qz)(a)}),150))}),[a,t]);var u="active"===n?R.Z.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION_WITH_FEEDBACK.format({learnMoreLink:da.Z.getArticleURL(G.BhN.FORCED_COLORS),shareFeedbackLink:lu.Ee}):R.Z.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION.format({learnMoreLink:da.Z.getArticleURL(G.BhN.FORCED_COLORS)});return(0,r.jsx)(s.xJ,{
title:R.Z.Messages.ACCESSIBILITY_SETTINGS_CONTRAST,className:ye().marginTop20,children:(0,r.jsx)(s.j7,{value:a,note:u,onChange:c,children:R.Z.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_LABEL})})}function Mu(){var e=hi.QK.useSetting(),t=hi.Yk.useSetting(),n=(0,E.cj)([je.Z,cu.Z],(function(){return{systemPrefersReducedMotion:je.Z.systemPrefersReducedMotion,rawPrefersReducedMotion:je.Z.rawPrefersReducedMotion,useReducedMotion:je.Z.useReducedMotion,gifAutoPlayOverrideReason:cu.Z.getAppliedOverrideReasonKey("gifAutoPlay"),animateEmojiOverrideReason:cu.Z.getAppliedOverrideReasonKey("animateEmoji")}})),i=n.useReducedMotion,a=n.rawPrefersReducedMotion,c=n.systemPrefersReducedMotion,l=n.gifAutoPlayOverrideReason,u=n.animateEmojiOverrideReason,f="auto"===a,d=o.useRef(null);ac(d,Nr.rP.REDUCED_MOTION);var p=o.useCallback((function(e,t){(0,Kl.Zt)(t?"auto":c)}),[c]),h=o.useCallback((function(e){(0,Kl.Zt)(e?"reduce":"no-preference")}),[]);return(0,r.jsxs)(s.xJ,{ref:d,
title:R.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION,className:O()(ye().marginTop20,pu().reducedMotion),children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginBottom8,children:R.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_DESCRIPTION.format({helpdeskArticle:da.Z.getArticleURL(G.BhN.REDUCED_MOTION)})}),(0,r.jsx)(s.XZ,{className:ye().marginTop20,value:f,shape:s.XZ.Shapes.BOX,type:s.XZ.Types.INVERTED,onChange:p,children:(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:R.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_AUTO})}),(0,r.jsx)(s.j7,{className:ye().marginTop20,value:i,onChange:h,children:R.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_ENABLE}),(0,r.jsx)(s.j7,{className:ye().marginBottom40,value:e,note:null!=l?nu(l):void 0,onChange:hi.QK.updateSetting,children:R.Z.Messages.GIF_AUTO_PLAY_LABEL}),(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom20),value:t,note:null!=u?nu(u):void 0,onChange:hi.Yk.updateSetting,
children:R.Z.Messages.ANIMATE_EMOJI})]})}function wu(){var e=hi.Wp.useSetting(),t=(0,E.e7)([cu.Z],(function(){return cu.Z.getAppliedOverrideReasonKey("animateStickers")})),n=o.useCallback((function(e){hi.Wp.updateSetting(e.value)}),[]);return(0,r.jsxs)(s.xJ,{className:ye().marginBottom40,title:R.Z.Messages.STICKERS_AUTO_PLAY_HEADING,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginBottom8,children:null!=t?nu(t):R.Z.Messages.STICKERS_AUTO_PLAY_HELP}),(0,r.jsx)(s.Ee,{options:[{name:R.Z.Messages.STICKERS_ALWAYS_ANIMATE,value:uu.yr.ALWAYS_ANIMATE},{name:R.Z.Messages.STICKERS_ANIMATE_ON_INTERACTION,desc:R.Z.Messages.STICKERS_ANIMATE_ON_INTERACTION_DESCRIPTION,value:uu.yr.ANIMATE_ON_INTERACTION},{name:R.Z.Messages.STICKERS_NEVER_ANIMATE,value:uu.yr.NEVER_ANIMATE}],onChange:n,value:e})]})}function Zu(){var e=(0,E.e7)([je.Z],(function(){return je.Z.isSubmitButtonEnabled})),t=hi.dN.useSetting();return(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(s.vw,{
className:ye().marginBottom8,children:R.Z.Messages.FORM_LABEL_ACCESSIBILITY_CHAT_INPUT}),(0,r.jsx)(s.j7,{className:ye().marginTop20,value:e,onChange:Kl.eN,children:R.Z.Messages.DISPLAY_SUBMIT_BUTTON}),(0,r.jsx)(s.j7,{className:ye().marginTop8,value:t,note:R.Z.Messages.LEGACY_CHAT_INPUT_DESCRIPTION,onChange:function(e){Kr.default.track(G.rMx.LEGACY_CHAT_INPUT_TOGGLED,{enabled:e,location:{section:G.jXE.SETTINGS_ACCESSIBILITY}});hi.dN.updateSetting(e)},children:R.Z.Messages.LEGACY_CHAT_INPUT})]})}function Lu(){var e=hi.OW.useSetting(),t=(0,E.e7)([ou.Z],(function(){return ou.Z.speechRate})),n=Ou(o.useState(!1),2),i=n[0],a=n[1];if(!zl.Zh)return null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(s.vw,{className:ye().marginBottom8,children:R.Z.Messages.FORM_LABEL_TTS}),(0,r.jsx)(s.j7,{className:ye().marginTop20,value:e,onChange:hi.OW.updateSetting,children:R.Z.Messages.ALLOW_TTS_COMMAND})]}),(0,r.jsxs)(s.xJ,{className:ye().marginBottom20,children:[(0,
r.jsx)(s.vw,{id:Su,className:ye().marginBottom20,children:R.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL}),(0,r.jsx)("div",{className:pu().ttsPreviewWrapper,children:(0,r.jsx)(ue.Co,{color:ue.Tt.BRAND_NEW,onClick:function(){if(i){(0,ru.NB)();a(!1)}else{(0,ru.cP)(R.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_TEST,!0,void 0,(function(){return a(!0)}),(function(){return a(!1)}));a(!0)}},children:(0,r.jsxs)(fe.Z,{align:fe.Z.Align.CENTER,children:[i?(0,r.jsx)(iu.Z,{width:24,height:24}):(0,r.jsx)(au.Z,{width:24,height:24}),(0,r.jsx)("span",{children:R.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_PREVIEW}),(0,r.jsx)(va.Z,{children:R.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL})]})})}),(0,r.jsx)(s.iR,{markers:fu.q,initialValue:t,defaultValue:1,stickToMarkers:!0,onValueChange:Tu,onValueRender:function(e){return"x".concat(e.toFixed(2))},onMarkerRender:function(e){return 0===e?(0,r.jsx)("span",{className:pu().ttsSliderMarker,children:R.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_SLOWER
}):10===e?(0,r.jsx)("span",{className:pu().ttsSliderMarker,children:R.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_FASTER}):1===e?(0,r.jsx)("span",{children:"x1.0"}):e%1==0?"":void 0},"aria-labelledby":Su})]})]})}var Du=n(179211),Uu=n(444133),ku=(n(442068),n(375650));function Gu(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Bu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gu(i,r,o,a,s,"next",e)}function s(e){Gu(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Hu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){Hu(e,t,n[t])}))}return e}var Fu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}
i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Yu=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;(0,Ze.ZD)(Bu((function(){var t,o;return Fu(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(67833)]).then(n.bind(n,987554))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,Vu({claimRequired:e},t))}]}}))})),{onCloseRequest:e?ku.dG:null,onCloseCallback:t})};var Wu=n(585771),zu=n(80635),Ku=n(118499),qu=n(394330),Xu=n(48509),Qu=n(997846),$u=n(99918),Ju=n(970112),ef=n(281081),tf=n(769672),nf=n(954766),rf=n(862055),of=n(923412),af=n(675860);function sf(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function cf(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){sf(i,r,o,a,s,"next",e)}
function s(e){sf(i,r,o,a,s,"throw",e)}a(void 0)}))}}var lf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue
}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function uf(){return(uf=cf((function(){var e,t,n,r;return lf(this,(function(o){switch(o.label){case 0:return[4,af.Z.post({url:G.ANM.MFA_WEBAUTHN_CREDENTIALS,body:{}})];case 1:e=o.sent(),t=e.body,n=t.ticket,r=t.challenge;return[2,{ticket:n,challenge:r}]}}))}))).apply(this,arguments)}function ff(){return(ff=cf((function(e,t,n){var r;return lf(this,(function(o){switch(o.label){case 0:return[4,af.Z.post({url:G.ANM.MFA_WEBAUTHN_CREDENTIALS,body:{name:e,ticket:t,credential:n}})];case 1:r=o.sent();c.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIAL_CREATE",credential:r.body});return[2]}}))}))).apply(this,arguments)}const df=(0,ba.B)({id:"2022-08_webauthn",label:"WebAuthn",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Enabled",config:{enabled:!0}}]});function pf(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ef(e){Ef=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ef(e)}function yf(e,t){return!t||"object"!==gf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mf(e,t){mf=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return mf(e,t)}function bf(e){return function(e){if(Array.isArray(e))return pf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gf=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Of(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ef(e);if(t){var o=Ef(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yf(this,n)}}var vf=!1,_f=[];var Sf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&mf(e,t)}(n,e);var t=Of(n);function n(){hf(this,n);return t.apply(this,arguments)}var r=n.prototype;r.hasFetchedCredentials=function(){return vf};r.getCredentials=function(){return _f};r.__getLocalVars=function(){return{fetchedCredentials:vf,credentials:_f}};return n}(E.ZP.Store);Sf.displayName="WebAuthnStore";const If=new Sf(c.Z,{LOGOUT:function(){_f=[]},MFA_WEBAUTHN_CREDENTIALS_LOADING:function(){vf=!0;return!0},MFA_WEBAUTHN_CREDENTIALS_LOADED:function(e){_f=e.credentials;return!0},MFA_WEBAUTHN_CREDENTIAL_CREATE:function(e){var t=e.credential;_f=bf(_f).concat([t]);return!0},MFA_WEBAUTHN_CREDENTIAL_DELETE:function(e){var t=e.credentialId;_f=_f.filter((function(e){return e.id!==t}));return!0}});var Tf,Nf=n(428300),Cf=n.n(Nf);function Af(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pf(e,t,n[t])}))}return e}function Rf(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Af(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Af(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.INIT="INIT";e.REGISTER="REGISTER";e.NAME="NAME"}(Tf||(Tf={}));function Mf(e){var t=e.transitionState,i=e.onClose,a=e.ticket,c=e.challenge,l=(0,
fn.Dt)(),u=xf(o.useState(""),2),f=u[0],d=u[1],p=xf(o.useState(Tf.INIT),2),h=p[0],E=p[1],y=xf(o.useState(""),2),m=y[0],b=y[1],g=xf(o.useState(null),2),O=g[0],v=g[1];return(0,r.jsxs)(ur.Y0,{transitionState:t,"aria-labelledby":l,children:[(0,r.jsxs)(ur.xB,{className:Cf().header,separator:!1,children:[(0,r.jsxs)(s.X6,{id:l,variant:"heading-lg/semibold",children:[h===Tf.INIT&&R.Z.Messages.TWO_FA_WEBAUTHN_REGISTER,h===Tf.REGISTER&&R.Z.Messages.TWO_FA_WEBAUTHN_INTERACT,h===Tf.NAME&&R.Z.Messages.TWO_FA_WEBAUTHN_NAME]}),(0,r.jsx)(ur.ol,{onClick:i,className:Cf().modalCloseButton})]}),(0,r.jsxs)(nf.My,{activeSlide:h,width:440,children:[(0,r.jsxs)(nf.Mi,{id:Tf.INIT,children:[(0,r.jsxs)(ur.hz,{className:Cf().content,children:[(0,r.jsx)("div",{className:Cf().icon,children:(0,r.jsx)("img",{alt:"",src:n(692417)})}),(0,r.jsx)("div",{children:null!=O&&(0,r.jsx)(s.xv,{variant:"text-md/normal",color:"status-danger",children:O})}),(0,r.jsx)("div",{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",
children:R.Z.Messages.TWO_FA_WEBAUTHN_REGISTER_INSTRUCTIONS})})]}),(0,r.jsx)(ur.mz,{children:(0,r.jsx)(ue.Co,{onClick:function(){E(Tf.REGISTER);Ju.Ue(JSON.parse(c)).then((function(e){b(JSON.stringify(e));E(Tf.NAME)})).catch((function(e){v(e.message);E(Tf.INIT)}))},children:R.Z.Messages.TWO_FA_WEBAUTHN_REGISTER_CONFIRM})})]}),(0,r.jsxs)(nf.Mi,{id:Tf.REGISTER,children:[(0,r.jsxs)(ur.hz,{className:Cf().content,children:[(0,r.jsx)("div",{className:Cf().icon,children:(0,r.jsx)("img",{alt:"",src:n(692417)})}),(0,r.jsx)("div",{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.TWO_FA_WEBAUTHN_INTERACT_INSTRUCTIONS})})]}),(0,r.jsx)(ur.mz,{children:(0,r.jsx)(ue.Co,{submitting:!0})})]}),(0,r.jsx)(nf.Mi,{id:Tf.NAME,children:(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault();(function(e,t,n){return ff.apply(this,arguments)})(f,a,m).then((function(){return i()})).catch((function(e){v(e.message);E(Tf.REGISTER)}))},children:[(0,r.jsxs)(ur.hz,{className:Cf().content,
children:[(0,r.jsx)("div",{className:Cf().icon,children:(0,r.jsx)("img",{alt:"",src:n(88094)})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.TWO_FA_WEBAUTHN_NAME_INSTRUCTIONS}),(0,r.jsx)(s.oi,{className:Cf().input,value:f,onChange:d})]})]}),(0,r.jsx)(ur.mz,{children:(0,r.jsx)(ue.Co,{type:"submit",children:R.Z.Messages.TWO_FA_WEBAUTHN_REGISTER_FINISH})})]})})]})]})}function wf(e){var t=e.onSelect,n=e.credentialId;return(0,r.jsx)(tf.ZP,{navId:"webauthn-credential-actions",onClose:ef.Zy,"aria-label":R.Z.Messages.TWO_FA_WEBAUTHN_CREDENTIAL_OPTIONS,onSelect:t,children:(0,r.jsx)(tf.sN,{id:"webauthn-delete-credential",label:R.Z.Messages.TWO_FA_WEBAUTHN_DELETE_CREDENTIAL,action:function(){!function(e){af.Z.delete(G.ANM.MFA_WEBAUTHN_CREDENTIAL(e)).then((function(){c.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIAL_DELETE",credentialId:e})}))}(n)}})})}function Zf(){var e=(0,E.cj)([If],(function(){return{hasFetchedCredentials:If.hasFetchedCredentials(),
credentials:If.getCredentials()}})),t=e.credentials,n=e.hasFetchedCredentials,i=df.getCurrentConfig({}).enabled;o.useEffect((function(){i&&!n&&function(){c.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIALS_LOADING"});af.Z.get(G.ANM.MFA_WEBAUTHN_CREDENTIALS).then((function(e){c.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIALS_LOADED",credentials:e.body})}))}()}),[i,n]);var a=xf(o.useState(!1),2),l=a[0],u=a[1];return i?(0,r.jsxs)(s.hj,{title:R.Z.Messages.TWO_FA_WEBAUTHN_TITLE,className:Cf().settings,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:Cf().description,children:R.Z.Messages.TWO_FA_WEBAUTHN_DESCRIPTION}),t.length>0&&(0,r.jsx)("div",{className:Cf().credentialList,children:t.map((function(e){return(0,r.jsx)(of.Z,{avatar:null,name:e.name,className:Cf().credentialItem,onContextMenu:function(t){(0,ef.vq)(t,(function(t){return(0,r.jsx)(wf,Rf(jf({},t),{credentialId:e.id}))}))},children:(0,r.jsx)(ue.Co,{look:ue.Co.Looks.BLANK,color:ue.Co.Colors.TRANSPARENT,size:ue.Co.Sizes.ICON,
onClick:function(t){(0,ef.vq)(t,(function(t){return(0,r.jsx)(wf,Rf(jf({},t),{credentialId:e.id}))}))},"aria-label":R.Z.Messages.TWO_FA_WEBAUTHN_CREDENTIAL_OPTIONS,innerClassName:Cf().credentialOptions,children:(0,r.jsx)(rf.Z,{className:Cf().overflowIcon,foreground:Cf().overflowIconFg,"aria-hidden":!0})})},e.id)}))}),(0,r.jsx)("div",{children:(0,r.jsx)(ue.Co,{onClick:function(){u(!0);(function(){return uf.apply(this,arguments)})().then((function(e){var t=e.ticket,n=e.challenge;(0,Ze.h7)((function(e){return(0,r.jsx)(Mf,Rf(jf({},e),{ticket:t,challenge:n}))}))})).finally((function(){u(!1)}))},submitting:l,size:ue.Co.Sizes.SMALL,children:R.Z.Messages.TWO_FA_WEBAUTHN_REGISTER})})]}):null}var Lf=n(726283),Df=n(519964);var Uf=n(90522),kf=n(330665),Gf=n(177056),Bf=n.n(Gf);function Hf(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Vf(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){Hf(i,r,o,a,s,"next",e)}function s(e){Hf(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ff(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Wf(e){Wf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Wf(e)}function zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Yf(e,t,n[t])}))}return e}function Kf(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qf(e,t){return!t||"object"!==Qf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xf(e,t){Xf=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Xf(e,t)}var Qf=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Wf(e);if(t){var o=Wf(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qf(this,n)}}var Jf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ed(e){var t=e.code,n=t.code,i=t.consumed,a="".concat(n.substr(0,4),"-").concat(n.substr(4)),c=o.useRef(null),l=o.useCallback((function(e){if("c"===e.key&&e.metaKey&&Lf.wS){var t;e.preventDefault();e.stopPropagation();(0,Lf.JG)(a);null==c||null===(t=c.current)||void 0===t||t.focus()}}),[a]);return(0,r.jsx)("li",{className:ye().marginBottom20,children:(0,r.jsx)(s.P3,{innerRef:c,className:Bf().backupCode,onKeyDown:l,children:(0,r.jsx)(s.XZ,{displayOnly:!0,readOnly:!0,className:Bf().codeCheckbox,value:i,children:(0,r.jsx)("span",{className:Bf().code,children:a})})})})}var td=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Xf(e,t)}(o,e)
;var t=$f(o);function o(){Ff(this,o);var e;(e=t.apply(this,arguments)).state={revealed:!1,password:""};e.togglePhoneNumberVisibility=function(t){t.preventDefault();e.setState({revealed:!e.state.revealed})};e.handleDisableMFA=function(){Du.Z.disable()};e.generateBackupCodes=Vf((function(){var e;return Jf(this,(function(t){switch(t.label){case 0:e=Wu.Z.getVerificationKey();return[4,Du.Z.confirmViewBackupCodes(e,!0)];case 1:t.sent();return[2]}}))}));e.sendMFABackupCodesVerificationKeyEmail=function(){(0,Ze.h7)((function(t){return(0,r.jsx)(Uu.default,Kf(zf({},t),{handleSubmit:function(t){return Du.Z.sendMFABackupCodesVerificationKeyEmail(t).then((function(){e.viewBackupCodes(t)}))},title:R.Z.Messages.TWO_FA_VIEW_BACKUP_CODES_ENTER_PASSWORD,actionText:R.Z.Messages.TWO_FA_BACKUP_CODES_NEXT_ACTION}))}))};e.viewBackupCodes=function(e){(0,Ze.h7)((function(t){return(0,r.jsx)(Xu.Z,Kf(zf({},t),{handleSubmit:function(e){return Du.Z.confirmViewBackupCodes(e,!1).then((function(){return t.onClose()}))
},maxLength:8,title:R.Z.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_LABEL,label:R.Z.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_INPUT_LABEL,forceNoPlaceholder:!0,retryPrompt:R.Z.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_PROMPT,retrySuccessMessage:R.Z.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_SUCCESS,onRetry:function(){return Du.Z.sendMFABackupCodesVerificationKeyEmail(e)},actionText:R.Z.Messages.TWO_FA_VIEW_CODES_SUBMIT,helpMessage:R.Z.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_BODY}))}))};e.getDownloadFileContents=function(){var t=e.props.backupCodes.map((function(e){var t=e.consumed,n=e.code;return"* ".concat(n.substr(0,4),"-").concat(n.substr(4)," ").concat(t?"(used)":"")})).join("\r\n"),n=R.Z.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:e.props.currentUser.email});return"".concat(n,"\r\n\r\n").concat(t)};e.handleChangePhoneNumber=function(){e.openPhoneVerificationModal()};e.handleEnableSMS=function(){var t=function(){(0,Ze.h7)((function(e){return(0,r.jsx)(Uu.default,Kf(zf({},e),{
handleSubmit:Du.Z.enableSMS,title:R.Z.Messages.MFA_SMS_ENABLE}))}))};null==e.props.currentUser.phone?e.openPhoneVerificationModal({onAddedPhone:t}):t()};e.handleDisableSMS=function(){(0,Ze.h7)((function(e){return(0,r.jsx)(Uu.default,Kf(zf({},e),{handleSubmit:Du.Z.disableSMS,title:R.Z.Messages.MFA_SMS_REMOVE,children:R.Z.Messages._MFA_SMS_CONFIRM_REMOVE_BODY}))}))};return e}var i=o.prototype;i.maskPhoneNumber=function(e){return null==e?"":"".concat("*".repeat(e.length-4)).concat(e.slice(-4))};i.renderMFASMS=function(){var e,t,n=this.state.revealed,o=this.props,i=o.currentUser,a=o.togglingSMS,c=null!=i.phone,l=i.hasFlag(G.xW$.MFA_SMS);if(c||l){var u=n?i.phone:this.maskPhoneNumber(i.phone);t=(0,r.jsxs)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginBottom8,children:[R.Z.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:u}),(0,r.jsx)(_l.Z,{onClick:this.togglePhoneNumberVisibility,className:Bf().phoneRevealer,
children:n?R.Z.Messages.MFA_SMS_PHONE_NUMBER_HIDE:R.Z.Messages.MFA_SMS_PHONE_NUMBER_REVEAL})]})}if(l)e=(0,r.jsx)(fe.Z,{className:c?"":ye().marginTop8,children:(0,r.jsx)(ue.Co,{color:ue.Co.Colors.RED,look:ue.Co.Looks.OUTLINED,size:ue.Co.Sizes.SMALL,submitting:a,onClick:this.handleDisableSMS,children:R.Z.Messages.MFA_SMS_REMOVE})});else{var f=function(e){return e.hasFlag(G.xW$.STAFF)||e.hasFlag(G.xW$.PARTNER)?R.Z.Messages.MFA_SMS_DISABLED_PARTNER:null==e.email?R.Z.Messages.MFA_SMS_DISABLED_NO_EMAIL:null}(i);e=(0,r.jsxs)(fe.Z,{className:c?"":ye().marginTop8,children:[(0,r.jsx)(ue.Co,{onClick:this.handleEnableSMS,size:ue.Co.Sizes.SMALL,submitting:a,disabled:null!=f,children:null!=f?f:R.Z.Messages.MFA_SMS_ENABLE}),c?(0,r.jsx)(ue.Co,{onClick:this.handleChangePhoneNumber,color:ue.Co.Colors.PRIMARY,size:ue.Co.Sizes.SMALL,look:ue.Co.Looks.LINK,children:R.Z.Messages.CHANGE_PHONE_NUMBER}):null]})}return(0,r.jsxs)(s.hj,{className:ye().marginTop40,title:R.Z.Messages.MFA_SMS_AUTH,children:[(0,
r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,children:R.Z.Messages.MFA_SMS_AUTH_SALES_PITCH}),t,e]})};i.renderEnabled=function(){var e,t=this,o=this.props,i=o.isRoleSubscriptionGuildAdmin,a=o.backupCodes,c=(0,r.jsx)(ue.Co,{onClick:this.sendMFABackupCodesVerificationKeyEmail,size:ue.Co.Sizes.SMALL,children:R.Z.Messages.TWO_FA_VIEW_BACKUP_CODES});if(a.length>0){c=(0,r.jsx)(qu.Z,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt",children:(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.SMALL,children:R.Z.Messages.TWO_FA_DOWNLOAD_CODES})});var l=function(e){return e.map((function(e){return(0,r.jsx)(ed,{code:e},e.code)}))};e=(0,r.jsxs)(s.hj,{title:R.Z.Messages.TWO_FA_BACKUP_CODES_LABEL,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginBottom20,children:R.Z.Messages.TWO_FA_BACKUP_CODES_BODY.format()}),(0,r.jsxs)(fe.Z,{children:[(0,r.jsx)(fe.Z.Child,{children:(0,r.jsx)("ul",{className:Bf().checkboxGroup,
children:l(a.slice(0,a.length/2))})}),(0,r.jsx)(fe.Z.Child,{children:(0,r.jsx)("ul",{className:Bf().checkboxGroup,children:l(a.slice(a.length/2))})})]}),(0,r.jsx)("div",{children:(0,r.jsx)(ue.Co,{onClick:this.generateBackupCodes,look:ue.iL.LINK,size:ue.Ph.MIN,children:R.Z.Messages.TWO_FA_GENERATE_CODES})}),(0,r.jsx)(s.$i,{className:ye().marginTop20})]})}return(0,r.jsxs)(s.hj,{children:[(0,r.jsxs)(s.vw,{className:O()(Bf().isEnabled,ye().marginTop4,ye().marginBottom8),children:[(0,r.jsx)("img",{alt:"",className:O()(Bf().lockIcon),src:n(392544)}),R.Z.Messages.TWO_FA_ENABLED]}),(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginBottom20,children:R.Z.Messages.TWO_FA_DESCRIPTION}),(0,r.jsxs)(fe.Z,{justify:fe.Z.Justify.START,className:ye().marginBottom20,children:[(0,r.jsx)(fe.Z.Child,{wrap:!0,grow:0,children:c}),(0,r.jsx)(fe.Z.Child,{wrap:!0,children:(0,r.jsx)(un.ZP,{text:R.Z.Messages.TWO_FA_DISABLED_FOR_SERVER_SUBSCRIPTION_MOD,hide:!i,children:function(e){return(0,
r.jsx)(ue.Co,Kf(zf({},e),{onClick:t.handleDisableMFA,size:ue.Co.Sizes.SMALL,color:ue.Tt.RED,look:ue.iL.OUTLINED,disabled:i,children:R.Z.Messages.TWO_FA_REMOVE}))}})})]}),e,this.renderMFASMS(),Df.Ae&&(0,r.jsx)(Zf,{})]})};i.renderDisabled=function(){return(0,r.jsxs)(s.hj,{title:R.Z.Messages.TWO_FA,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginBottom20,children:R.Z.Messages.TWO_FA_SALES_PITCH}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)(ue.Co,{onClick:Uf.Z.enableMFA,size:ue.Ph.SMALL,children:R.Z.Messages.TWO_FA_ENABLE})})]})};i.render=function(){var e=this.props.currentUser;return Df.uZ?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():(0,r.jsx)(s.hj,{title:R.Z.Messages.TWO_FA,children:(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,children:R.Z.Messages.TWO_FA_NOT_VERIFIED})}):(0,r.jsx)(s.hj,{title:R.Z.Messages.TWO_FA,children:(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,children:R.Z.Messages.TWO_FA_USE_DESKTOP_APP})})}
;i.openPhoneVerificationModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Ze.h7)((function(t){return(0,r.jsx)(Qu.default,zf({reason:$u.L.USER_SETTINGS_UPDATE},t,e))}),{modalKey:kf.M})};return o}(o.PureComponent);const nd=E.ZP.connectStores([Xr.default,Wu.Z,yn.Z,ys.Z],(function(){var e=Xr.default.getCurrentUser(),t=yn.Z.getGuilds(),n=Object.values(t).some((function(e){return e.hasFeature(G.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&ys.Z.can(G.Plq.ADMINISTRATOR,e)}));L()(null!=e,"TwoFactorAuth: currentUser cannot be undefined");return{currentUser:e,isRoleSubscriptionGuildAdmin:n,togglingSMS:Wu.Z.togglingSMS}}))(td);var rd=n(983200),od=n.n(rd);function id(e){var t=e.className,n=e.currentUser,o=e.handleDisableAccount,i=e.handleDeleteAccount,a=n.isClaimed();return(0,r.jsxs)(s.hj,{className:t,title:R.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_SECTION,children:[(0,r.jsx)(s.R9,{className:od().description,type:s.R9.Types.DESCRIPTION,
children:a?R.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION:R.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION_UNCLAIMED}),(0,r.jsxs)("div",{className:od().buttonContainer,children:[a?(0,r.jsx)(ue.Co,{className:od().disableButton,look:ue.iL.FILLED,color:ue.Tt.RED,size:ue.Ph.SMALL,onClick:o,children:R.Z.Messages.DISABLE_ACCOUNT}):null,(0,r.jsx)(ue.Co,{look:ue.iL.OUTLINED,color:ue.Tt.RED,size:ue.Ph.SMALL,onClick:i,children:R.Z.Messages.DELETE_ACCOUNT})]})]})}var ad=n(895076),sd=n(879022),cd=n(41225),ld=n(562934),ud=n(24842),fd=n(557328),dd=n(588641);function pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ed(e){return"".concat("*".repeat(e.length-4)).concat(e.slice(-4))}function yd(e){var t=hd(e.split("@"),2),n=t[0],r=t[1];return"".concat("*".repeat(n.length),"@").concat(r)}var md=n(517401),bd=n.n(md);function gd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Od(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function vd(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Od(i,r,o,a,s,"next",e)}function s(e){Od(i,r,o,a,s,"throw",e)}a(void 0)}))}}function _d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_d(e,t,n[t])}))}return e}function Id(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Td(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var Nd=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Cd=dd.default.getEnableHardwareAcceleration()?su.Xo:su.ZP;function Ad(e){var t=e.className,i=e.user,a=o.useRef(null),c=null!=a.current&&a.current.scrollWidth>a.current.clientWidth;return(0,r.jsxs)("div",{className:O()(bd().field,t),children:[(0,r.jsx)("div",{className:bd().constrainedRow,children:(0,r.jsxs)("div",{className:bd().usernameRow,children:[(0,r.jsx)(s.vw,{className:bd().fieldTitle,children:R.Z.Messages.USER_SETTINGS_LABEL_USERNAME}),(0,r.jsxs)("div",{className:bd().usernameInnerRow,ref:a,children:[(0,r.jsx)(s.xv,{tag:"span",color:"header-primary",variant:"text-md/normal",children:i.username}),(0,r.jsxs)(s.xv,{tag:"span",color:"header-secondary",variant:"text-md/normal",children:["#",i.discriminator]})]})]})}),(0,r.jsx)(ue.Co,{className:bd().fieldButton,size:ue.Co.Sizes.SMALL,color:ue.Co.Colors.PRIMARY,"aria-label":R.Z.Messages.USER_SETTINGS_ACCOUNT_EDIT_USERNAME_A11Y_LABEL,onClick:function(){return(0,
Ze.ZD)(vd((function(){var e,t;return Nd(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(97118)]).then(n.bind(n,797118))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Sd({},e))}]}}))})))},children:c?R.Z.Messages.DISAPPROVAL:R.Z.Messages.EDIT})]})}function Pd(e){var t=e.text,n=e.censor,i=e.revealLabel,a=e.hideLabel,s=Td(o.useState(!1),2),c=s[0],l=s[1],u=c?t:n(t);return(0,r.jsxs)(r.Fragment,{children:[u,(0,r.jsx)(ue.Co,{look:ue.Co.Looks.LINK,size:ue.Co.Sizes.MIN,color:ue.Co.Colors.LINK,"aria-label":c?a:i,onClick:function(){return l(!c)},children:c?R.Z.Messages.HIDE:R.Z.Messages.REVEAL})]})}function jd(e){var t,o=e.className,i=e.user;if(i.isClaimed())if(null==i.email)t={buttonText:R.Z.Messages.ADD,buttonAriaLabel:R.Z.Messages.USER_SETTINGS_ACCOUNT_ADD_EMAIL_A11Y_LABEL,buttonColor:ue.Co.Colors.PRIMARY,valueMessage:R.Z.Messages.USER_SETTINGS_NO_EMAIL_PLACEHOLDER,handleClick:function(){return(0,Ze.ZD)(vd((function(){var e,t
;return Nd(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87850)]).then(n.bind(n,387850))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Sd({},e))}]}}))})))}};else{var a=i.email;t={buttonText:R.Z.Messages.EDIT,buttonAriaLabel:R.Z.Messages.USER_SETTINGS_ACCOUNT_EDIT_EMAIL_A11Y_LABEL,buttonColor:ue.Co.Colors.PRIMARY,valueMessage:(0,r.jsx)(Pd,{text:a,censor:yd,revealLabel:R.Z.Messages.USER_SETTINGS_ACCOUNT_REVEAL_EMAIL_A11Y_LABEL,hideLabel:R.Z.Messages.USER_SETTINGS_ACCOUNT_HIDE_EMAIL_A11Y_LABEL}),handleClick:function(){return(0,Ze.ZD)(vd((function(){var e,t;return Nd(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87850)]).then(n.bind(n,387850))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Sd({},e))}]}}))})))}}}else t={buttonText:R.Z.Messages.CLAIM_ACCOUNT_SHORT,buttonAriaLabel:R.Z.Messages.CLAIM_ACCOUNT_SHORT,buttonColor:ue.Co.Colors.BRAND,
valueMessage:R.Z.Messages.USER_SETTINGS_ADD_EMAIL_CLAIM,handleClick:function(){return Yu()}};return(0,r.jsxs)("div",{className:O()(bd().field,o),children:[(0,r.jsx)("div",{className:bd().constrainedRow,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(s.vw,{className:bd().fieldTitle,children:R.Z.Messages.USER_SETTINGS_LABEL_EMAIL}),(0,r.jsx)("div",{children:(0,r.jsx)(s.xv,{tag:"span",color:"header-primary",variant:"text-md/normal",children:t.valueMessage})})]})}),(0,r.jsx)(ue.Co,{className:bd().fieldButton,size:ue.Co.Sizes.SMALL,color:ue.Co.Colors.PRIMARY,"aria-label":t.buttonAriaLabel,onClick:t.handleClick,children:t.buttonText})]})}function Rd(e){var t=e.className,o=e.user;if(!o.isClaimed())return null;var i,a=o.phone,c=null!=a,l=null!=o.email;i=c?(0,r.jsx)(Pd,{text:a,censor:Ed,revealLabel:R.Z.Messages.USER_SETTINGS_ACCOUNT_REVEAL_PHONE_A11Y_LABEL,hideLabel:R.Z.Messages.USER_SETTINGS_ACCOUNT_HIDE_PHONE_A11Y_LABEL}):R.Z.Messages.USER_SETTINGS_NO_PHONE_PLACEHOLDER;return(0,r.jsxs)("div",{
className:O()(bd().field,t),children:[(0,r.jsx)("div",{className:bd().constrainedRow,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(s.vw,{className:bd().fieldTitle,children:R.Z.Messages.USER_SETTINGS_LABEL_PHONE_NUMBER}),(0,r.jsx)("div",{children:(0,r.jsx)(s.xv,{tag:"span",color:"header-primary",variant:"text-md/normal",children:i})})]})}),(0,r.jsxs)("div",{className:bd().fieldButtonList,children:[c&&l?(0,r.jsx)(ue.Co,{className:O()(bd().fieldButton,bd().removeButton),size:ue.Co.Sizes.SMALL,look:ue.Co.Looks.LINK,color:ue.Co.Colors.PRIMARY,"aria-label":R.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_A11Y_LABEL,onClick:function(){(0,Ze.h7)((function(e){return(0,r.jsx)(Uu.default,Id(Sd({},e),{title:R.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_NUMBER_TITLE,children:o.hasFlag(G.xW$.MFA_SMS)?R.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_SMS_BACKUP_WARNING:void 0,actionText:R.Z.Messages.REMOVE,handleSubmit:function(e){return $u.Z.removePhone(e,$u.L.USER_SETTINGS_UPDATE)}}))}))},
children:R.Z.Messages.REMOVE}):null,(0,r.jsx)(ue.Co,{className:bd().fieldButton,size:ue.Co.Sizes.SMALL,color:ue.Co.Colors.PRIMARY,"aria-label":c?R.Z.Messages.USER_SETTINGS_ACCOUNT_EDIT_PHONE_A11Y_LABEL:R.Z.Messages.USER_SETTINGS_ACCOUNT_ADD_PHONE_A11Y_LABEL,onClick:function(){(0,Ze.ZD)(vd((function(){var e,t;return Nd(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,997846))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Sd({reason:$u.L.USER_SETTINGS_UPDATE},e))}]}}))})),{modalKey:kf.M})},children:c?R.Z.Messages.EDIT:R.Z.Messages.ADD})]})]})}function xd(e){var t=e.user,n=(0,cd.Z)(t.id);return hi.Sb.useSetting()&&Lf.wS?(0,r.jsx)($a.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(tf.ZP,{onClose:t,onSelect:void 0,navId:"copy-id","aria-label":R.Z.Messages.USER_MORE_ACTIONS_MENU_LABEL,children:n})},children:function(e){return(0,r.jsx)(s.P3,Id(Sd({},e),{className:bd().overflowMenuButton,
"aria-label":R.Z.Messages.ACTIONS,children:(0,r.jsx)(fd.Z,{className:bd().overflowMenuIcon,height:24,width:24})}))}}):null}function Md(){d.Z.setSection(G.oAB.PROFILE_CUSTOMIZATION)}function wd(){Kr.default.track(G.rMx.PREMIUM_PROMOTION_OPENED,{location_page:G.ZY5.USER_SETTINGS,location_section:G.jXE.SETTINGS_ACCOUNT,location_object:G.qAy.TOOLTIP});d.Z.setSection(G.oAB.PREMIUM)}function Zd(){var e,t=(0,E.e7)([Xr.default],(function(){var e=Xr.default.getCurrentUser();L()(null!=e,"UserSettingsAccountProfileCard: currentUser cannot be undefined");return e})),n=(0,oi.Z)(t.id),o=(0,ei.U)().canUseAvatarDecorations,i=hi.co.useSetting(),a=(0,E.e7)([Ro.Z],(function(){return Ro.Z.getErrors()})),c=null==a||null===(e=a.avatar)||void 0===e?void 0:e[0],l=o?(0,Oi.NZ)({userId:t.id,avatarDecoration:t.avatarDecoration,size:(0,sd.y)(su.ZP.Sizes.SIZE_80),canAnimate:!0}):null;return(0,r.jsxs)("div",{className:bd().accountProfileCard,children:[(0,r.jsx)(ld.Z,{displayProfile:n,user:t,allowEdit:!1,
guildId:void 0,profileType:Li.y0.SETTINGS}),(0,r.jsxs)("div",{className:bd().userInfo,children:[(0,r.jsx)(Cd,{className:bd().avatar,src:t.getAvatarURL(void 0,80,!0),avatarDecoration:l,status:i,size:su.ZP.Sizes.SIZE_80,"aria-label":t.username}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:bd().profileCardUsernameRow,children:[(0,r.jsx)(ad.Z,{user:t,className:bd().userTag,discriminatorClass:bd().discriminator}),(0,r.jsx)(xd,{user:t})]}),(0,r.jsx)(ud.Z,{className:bd().badgeList,user:t,premiumSince:null==n?void 0:n.premiumSince,premiumGuildSince:null==n?void 0:n.premiumGuildSince,size:ud.V.SIZE_22,openPremiumSettings:wd})]}),(0,r.jsx)(ue.Co,{onClick:Md,size:ue.Co.Sizes.SMALL,children:R.Z.Messages.USER_SETTINGS_EDIT_PROFILE})]}),(0,r.jsxs)("div",{className:bd().background,children:[null!=c?(0,r.jsx)(s.xv,{className:bd().avatarError,variant:"text-xs/normal",color:"text-danger",children:c}):null,(0,r.jsxs)("div",{className:bd().fieldList,children:[(0,r.jsx)(Ad,{user:t}),(0,
r.jsx)(jd,{className:bd().fieldSpacer,user:t}),(0,r.jsx)(Rd,{className:bd().fieldSpacer,user:t})]})]})]})}var Ld=n(57731);function Dd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ud(e){Ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ud(e)}function kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Dd(e,t,n[t])}))}return e}function Gd(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Bd(e,t){return!t||"object"!==Vd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hd(e,t){Hd=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Hd(e,t)}var Vd=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Fd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ud(e);if(t){var o=Ud(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return Bd(this,n)}}var Yd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Hd(e,t)}(o,e);var t=Fd(o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n;(n=t.call(this,e)).state={disableAccountErrorMessage:null,shouldRenderOwnedGuildsModal:!1,shouldRenderDeleteAccountConfirmModal:!1,shouldRenderDisableAccountErrorModal:!1};return n}var i=o.prototype;i.componentDidMount=function(){var e=this.props.currentUser;(0,ec.Z)(e.id,e.getAvatarURL(void 0,80))};i.componentWillUnmount=function(){Du.Z.clearBackupCodes();(0,f.Zy)()};i.renderAccountWarning=function(){var e=this.props.currentUser;if(!e.isClaimed()){var t=(0,r.jsxs)("section",{children:[(0,r.jsx)("div",{className:Bf().accountWarningBodyText,children:R.Z.Messages.UNCLAIMED_ACCOUNT_BODY_2
}),(0,r.jsx)(ue.Co,{look:ue.iL.INVERTED,size:ue.Ph.SMALL,color:ue.Co.Colors.RED,onClick:function(){return Yu()},children:R.Z.Messages.CLAIM_ACCOUNT_LONG})]});return(0,r.jsx)(s.To,{type:s.To.Types.DANGER,className:ye().marginBottom20,imageData:{src:n(350672),width:60,height:60},title:R.Z.Messages.UNCLAIMED_ACCOUNT_TITLE,body:t})}if(null==e.email)return null;if(!e.verified){var o=(0,r.jsxs)("section",{children:[(0,r.jsx)("div",{className:Bf().accountWarningBodyText,children:R.Z.Messages.USER_SETTINGS_UNVERIFIED_EMAIL_BODY}),(0,r.jsx)(Ku.Z,{size:ue.Ph.SMALL,color:ue.Co.Colors.PRIMARY})]});return(0,r.jsx)(s.To,{type:s.To.Types.PRIMARY,className:ye().marginBottom20,imageData:{src:n(24264),width:60,height:60},title:R.Z.Messages.UNVERIFIED_EMAIL_TITLE,body:o})}};i.renderAccountSettings=function(){return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.USER_SETTINGS_MY_ACCOUNT,className:Bf().userSettingsAccount,children:[this.renderAccountWarning(),(0,r.jsx)(Zd,{})]})}
;i.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,o=e.currentUser,i=e.theme===G.BRd.DARK?n(273361):n(129428);return(0,r.jsxs)(s.hj,{className:O()(Bf().userSettingsSecurity,ye().marginTop40),title:R.Z.Messages.USER_SETTINGS_ACCOUNT_PASSWORD_AND_AUTHENTICATION,tag:"h1",children:[(0,r.jsx)("div",{children:(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.SMALL,className:Bf().changePasswordButton,onClick:function(){return(0,Ze.h7)((function(e){return(0,r.jsx)(Ld.default,Gd(kd({},e),{onSuccess:e.onClose}))}))},children:R.Z.Messages.CHANGE_PASSWORD})}),(0,r.jsxs)(fe.Z,{align:fe.Z.Align.STRETCH,children:[(0,r.jsx)(fe.Z.Child,{wrap:!0,children:(0,r.jsx)(nd,{backupCodes:t})}),o.mfaEnabled?null:(0,r.jsx)(fe.Z,{align:fe.Z.Align.CENTER,basis:"323px",grow:0,children:(0,r.jsx)("img",{src:i,className:Bf().userSettingsSecurityImage,alt:""})})]})]})};i.renderConfirmModals=function(){
var e=this,t=this.state,n=t.shouldRenderOwnedGuildsModal,o=t.shouldRenderDeleteAccountConfirmModal,i=t.shouldRenderDisableAccountErrorModal,a=t.disableAccountErrorMessage;if(n){var c=function(){return e.setState({shouldRenderOwnedGuildsModal:!1})};return(0,r.jsx)(nl.DeclarativeConfirmModal,{dismissable:!0,header:R.Z.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:R.Z.Messages.OKAY,confirmButtonColor:ue.Tt.BRAND,onCancel:c,onConfirm:c,children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY})})}if(o){var l=function(){return e.setState({shouldRenderDeleteAccountConfirmModal:!1})};return(0,r.jsx)(nl.DeclarativeConfirmModal,{dismissable:!0,header:R.Z.Messages.DELETE_ACCOUNT,confirmText:R.Z.Messages.DELETE_ACCOUNT,cancelText:R.Z.Messages.CANCEL,onCancel:l,onConfirm:function(){return(0,f.ss)("",!0).then(l)},children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.DELETE_ACCOUNT_BODY})})}if(i){var u=function(){
return e.setState({shouldRenderDisableAccountErrorModal:!1,disableAccountErrorMessage:null})};return(0,r.jsx)(nl.DeclarativeConfirmModal,{dismissable:!0,header:R.Z.Messages.DELETE_ACCOUNT_ERROR,confirmText:R.Z.Messages.OKAY,confirmButtonColor:ue.Tt.BRAND,onCancel:u,onConfirm:u,children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:a})})}};i.render=function(){var e=this;if(this.props.hide)return(0,r.jsx)(Ut.Z,{});var t=this.props.currentUser;return(0,r.jsxs)("div",{children:[this.renderConfirmModals(),this.renderAccountSettings(),t.isClaimed()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.$i,{className:ye().marginTop40}),this.renderSecuritySettings(),(0,r.jsx)(s.$i,{className:ye().marginTop40})]}):null,(0,r.jsx)(id,{className:ye().marginTop40,currentUser:t,handleDisableAccount:function(){return e.handleDisableAccount(!1)},handleDeleteAccount:function(){return e.handleDisableAccount(!0)}})]})};i.handleDisableAccountError=function(e){if(e.body.code===G.evJ.INVALID_PASSWORD)throw e
;this.setState({shouldRenderDisableAccountErrorModal:!0,disableAccountErrorMessage:e.body.message})};i.handleSubmitDisableAccount=function(e,t){return(0,f.ss)(e,t).then(G.dG4,this.handleDisableAccountError)};i.handleDisableAccount=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=this.props.currentUser,o=yn.Z.getGuilds(),i=Object.keys(o).filter((function(e){return o[e].ownerId===n.id}));i.length>0?this.setState({shouldRenderOwnedGuildsModal:!0}):n.isClaimed()?(0,Ze.h7)((function(n){return(0,r.jsx)(Uu.default,Gd(kd({},n),{handleSubmit:function(n){return t.handleSubmitDisableAccount(n,e)},title:e?R.Z.Messages.DELETE_ACCOUNT:R.Z.Messages.DISABLE_ACCOUNT,actionText:e?R.Z.Messages.DELETE_ACCOUNT:R.Z.Messages.DISABLE_ACCOUNT,children:e?R.Z.Messages.DELETE_ACCOUNT_BODY:R.Z.Messages.DISABLE_ACCOUNT_BODY}))})):this.setState({shouldRenderDeleteAccountConfirmModal:!0})};return o}(o.PureComponent);const Wd=function(){var e=(0,E.e7)([Xr.default],(function(){
var e=Xr.default.getCurrentUser();L()(null!=e,"ConnectedUserAccountSettings: currentUser cannot be undefined");return e})),t=(0,E.e7)([Wu.Z],(function(){return Wu.Z.getBackupCodes()})),n=(0,E.e7)([Vr.Z],(function(){return Vr.Z.hidePersonalInformation})),o=(0,E.e7)([zu.Z],(function(){return zu.Z.theme}));return(0,r.jsx)(Yd,{currentUser:e,backupCodes:t,hide:n,theme:o})};function zd(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Kd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zd(i,r,o,a,s,"next",e)}function s(e){zd(i,r,o,a,s,"throw",e)}a(void 0)}))}}function qd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xd(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Qd=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function $d(e){var t=function(){hi.SE.updateSetting(e?Object.keys(yn.Z.getGuilds()):[])};(0,Ze.ZD)(Kd((function(){var e,o;return Qd(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,30741))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Xd(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qd(e,t,n[t])}))
}return e}({header:R.Z.Messages.USER_DM_SETTINGS_TITLE,confirmText:R.Z.Messages.NO_TEXT,cancelText:R.Z.Messages.YES_TEXT,onCancel:t,confirmButtonColor:ue.Co.Colors.BRAND},e),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.ACTIVITY_RESTRICTION_MODAL_DESC})}))}]}}))})))}function Jd(){var e=hi.G6.useSetting(),t=hi.Wz.useSetting(),n=rl.FB?R.Z.Messages.SHOW_CURRENT_ACTIVITY_DESC_EMBEDDED:R.Z.Messages.SHOW_CURRENT_ACTIVITY_DESC;return(0,r.jsxs)(s.hj,{className:ye().marginBottom40,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.ACTIVITY_STATUS}),(0,r.jsx)(s.j7,{value:e,onChange:function(e){return hi.G6.updateSetting(e)},note:n,children:R.Z.Messages.SHOW_CURRENT_ACTIVITY}),(0,r.jsx)(s.j7,{value:!t,note:R.Z.Messages.ACTIVITY_RESTRICTION_DEFAULT_NOTE.format({helpdeskArticle:da.Z.getArticleURL(G.BhN.ACTIVITY_STATUS_SETTINGS)}),onChange:function(e){return function(e){hi.Wz.updateSetting(e);$d(e)}(!e)},
children:R.Z.Messages.ACTIVITY_RESTRICTION_DEFAULT})]})}function ep(){var e=hi.cP.useSetting(),t=hi.Ou.useSetting();return(0,r.jsxs)(s.hj,{className:ye().marginBottom40,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.ACTIVITY_PARTY_PRIVACY}),(0,r.jsx)(s.j7,{value:e,note:R.Z.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS_HELP,onChange:function(e){return hi.cP.updateSetting(e)},children:R.Z.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS}),(0,r.jsx)(s.j7,{value:t,note:R.Z.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL_HELP,onChange:function(e){return hi.Ou.updateSetting(e)},children:R.Z.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL})]})}function tp(){return(0,r.jsx)(s.hj,{className:ye().marginBottom40,children:(0,r.jsx)(s.To,{type:s.To.Types.PRIMARY,body:R.Z.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:G.EYA.TERMS,privacyLink:G.EYA.PRIVACY})})})}function np(){return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.ACTIVITY_PRIVACY,children:[(0,
r.jsx)(Jd,{}),(0,r.jsx)(ep,{}),(0,r.jsx)(tp,{})]})}var rp=n(953756),op=n(895620),ip=n(485359),ap=n(800539),sp=n(331792),cp=n(188363),lp=n(253769),up=n.n(lp);function fp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dp(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function pp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dp(i,r,o,a,s,"next",e)}function s(e){dp(i,r,o,a,s,"throw",e)}a(void 0)}))}}function hp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return fp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ep,yp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e.LOCALHOST="localhost";e.PROXY="proxy"}(Ep||(Ep={}));function mp(e,t,n){if(null==e)return null;switch(e){case Ep.LOCALHOST:return"https://localhost:".concat(t);case Ep.PROXY:return(0,cp.Z)(n)}}function bp(e){var t=e.onClose,n=e.transitionState,i=(0,E.cj)([sp.Z],(function(){return{authorizedApplicationId:sp.Z.testModeApplicationId,authorizationError:sp.Z.error,authorizing:sp.Z.isFetchingAuthorization}
})),a=i.authorizedApplicationId,l=i.authorizationError,u=i.authorizing,f=hp(o.useState(null!=a?a:""),2),d=f[0],p=f[1],h=hp(o.useState("8080"),2),y=h[0],m=h[1],b=hp(o.useState(Ep.LOCALHOST),2),g=b[0],O=b[1],v=(0,fn.Dt)(),_=G.jns.test(d);o.useEffect((function(){return function(){return c.Z.wait((function(){return rp.q$()}))}}),[]);function S(){return(S=pp((function(){var e;return yp(this,(function(n){switch(n.label){case 0:rp.q$();e=mp(g,y,d);return[4,rp.Wt(d,e)];case 1:null!=n.sent()&&t();return[2]}}))}))).apply(this,arguments)}var I=null!=a&&a===d,T=I?function(){rp.mc();p("");O(null)}:function(){return S.apply(this,arguments)};return(0,r.jsxs)(ur.Y0,{"aria-labelledby":v,transitionState:n,children:[(0,r.jsxs)(ur.xB,{justify:fe.Z.Justify.BETWEEN,separator:!1,children:[(0,r.jsx)(s.vw,{id:v,tag:"h1",className:ye().marginReset,children:R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER}),(0,r.jsx)(ur.ol,{onClick:t})]}),(0,r.jsxs)(ur.hz,{className:up().modalContent,children:[(0,
r.jsx)(s.R9,{className:ye().marginBottom20,type:s.R9.Types.DESCRIPTION,children:R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY}),null==l?null:(0,r.jsx)(s.kz,{className:ye().marginBottom20,children:l}),(0,r.jsx)("form",{onSubmit:function(e){e.preventDefault();T()},children:(0,r.jsxs)(fe.Z,{direction:fe.Z.Direction.VERTICAL,align:fe.Z.Align.START,children:[(0,r.jsx)(s.xJ,{className:up().inputWrapper,title:R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER,required:!0,children:(0,r.jsx)(s.oi,{value:d,maxLength:19,error:_?null:R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID,onChange:function(e){p(e)},disabled:u})}),(0,r.jsx)(s.xJ,{className:up().inputWrapper,title:R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_ORIGIN_LABEL,children:(0,r.jsx)(s.q4,{isDisabled:!_||""===d,value:g,options:[{value:Ep.LOCALHOST,label:R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_LOCALHOST_OPTION,key:"localhost"},{value:Ep.PROXY,label:R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_PROXY_OPTION,
key:"proxy"}],onChange:function(e){O(e)},placeholder:"URL Origin Type"})}),g!==Ep.LOCALHOST?null:(0,r.jsx)(s.xJ,{className:up().inputWrapper,title:R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_PORT_NUMBER_LABEL,required:!0,children:(0,r.jsx)(s.oi,{value:y,maxLength:5,onChange:function(e){return m(e)},disabled:u})}),(0,r.jsx)(ue.Co,{submitting:u,type:"submit",disabled:!_||0===d.length||g===Ep.LOCALHOST&&0===y.length,color:I?ue.Co.Colors.RED:ue.Co.Colors.GREEN,children:I?R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE})]})})]})]})}var gp=n(371800),Op=n.n(gp);function vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_p(e,t,n[t])}))}return e}function Ip(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Tp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Np(){var e=(0,E.e7)([ip.Z],(function(){return ip.Z.getIsEnabled()}),[]),t=Tp(o.useState((function(){return dd.default.getEnableHardwareAcceleration()})),1)[0],n=hi.bm.useSetting(),i=hi.Sb.useSetting(),a=hi.xU.useSetting(),c=(0,E.cj)([sp.Z,ap.Z],(function(){return{hasLibraryApplication:ap.Z.hasLibraryApplication(),testModeApplicationId:sp.Z.testModeApplicationId}
})),l=c.hasLibraryApplication,u=c.testModeApplicationId,f=o.useCallback((function(e){hi.bm.updateSetting(!e)}),[]),d=o.useCallback((function(e){e?(0,Ze.h7)((function(e){return(0,r.jsx)(bp,Sp({},e))})):rp.mc()}),[]),p=o.useCallback((function(e){(0,Ze.h7)((function(t){return(0,r.jsx)(nl.default,Ip(Sp({header:R.Z.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:R.Z.Messages.OKAY,cancelText:R.Z.Messages.CANCEL,onConfirm:function(){return dd.default.setEnableHardwareAcceleration(e)}},t),{children:(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:R.Z.Messages.SWITCH_HARDWARE_ACCELERATION_BODY})}))}))}),[]),h=o.useCallback((function(e){hi.xU.updateSetting(!e)}),[]);return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.SETTINGS_ADVANCED,children:[Lf.wS&&(0,r.jsx)(s.j7,{value:i,onChange:hi.Sb.updateSetting,note:R.Z.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:G.EYA.API_DOCS}),children:R.Z.Messages.DEVELOPER_MODE}),rl.FB&&(0,r.jsx)(s.j7,{value:t,onChange:p,
note:R.Z.Messages.HARDWARE_ACCELERATION_HELP_TEXT,children:R.Z.Messages.HARDWARE_ACCELERATION}),l&&(0,r.jsx)(s.j7,{value:!n,onChange:f,note:R.Z.Messages.USER_SETTINGS_SHOW_LIBRARY_NOTE,children:R.Z.Messages.USER_SETTINGS_SHOW_LIBRARY}),i&&(0,r.jsx)(s.j7,{value:null!=u,note:R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:d,children:R.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE}),i&&(0,r.jsx)(s.j7,{value:e,note:R.Z.Messages.DEVELOPER_ACTIVITY_SHELF_NOTE,onChange:op.d,children:R.Z.Messages.DEVELOPER_ACTIVITY_SHELF}),(0,r.jsx)(s.j7,{value:!a,note:R.Z.Messages.USER_SETTINGS_HOME_AUTO_NAV_HELP_TEXT.format({helpCenterLink:da.Z.getArticleURL(G.BhN.GUILD_HOME)}),onChange:h,children:(0,r.jsxs)("div",{className:Op().badgedItem,children:[R.Z.Messages.USER_SETTINGS_HOME_AUTO_NAV,(0,r.jsx)(pn.IG,{text:R.Z.Messages.BETA,color:(0,ae.Lq)(G.Ilk.BRAND_500),className:Op().betaTag})]})})]})}
var Cp=n(830395),Ap=n(78979),Pp=n(431612),jp=n(896455),Rp=n(808994),xp=n(536250),Mp=n(661623),wp=n(567847),Zp=n(661933),Lp=n(855492),Dp=n(178032),Up=n.n(Dp);function kp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gp(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hp=["#201414","#152018","#12171B","#1C1C29","#432C2C","#36493C","#314242","#2E3D4C","#2D2F49","#332B44","#3F2D43","#462839","#B6908F","#BFA088","#D3C77D","#86AC86","#88AAB3","#8693B5","#8A89BA","#AD94BB"],Vp=[[G.tPk.CHAT_BACKGROUND,G.tPk.TEXT_NORMAL],[G.tPk.BACKGROUND_PRIMARY,G.tPk.TEXT_NORMAL],[G.tPk.BACKGROUND_SECONDARY,G.tPk.TEXT_NORMAL]],Fp=(0,Ne.flatten)(Vp);const Yp=function(e){var t=e.disabled,n=(0,$o.ZP)(),i=hi.L1.useSetting().primaryColor,a=o.useRef(t),c=(0,Pp.Z)().hasSidebarEditor,l=Bp(o.useState(i),2),u=l[0],f=l[1],d=function(e){var t=e.theme,n=e.themeColor,r=(0,ae.Sl)(Lp.bC[G.BRd.DARK]).hex,o=(0,ae.Sl)(Lp.bC[G.BRd.LIGHT]).hex;return null!=n?n:(0,Qo._i)(t===G.BRd.DARK?r:o)}({theme:n,themeColor:u}),p=(0,
ae.Dz)(Fp,ae.Dz.Transforms.hex),h=o.useMemo((function(){var e=null!=Vp.find((function(e){var t=Bp(e,2),n=t[0],r=t[1],o=(0,Qo._i)(p[n]),i=(0,Qo._i)(p[r]);return(0,Qo.mj)(o,i)<5.5}));return e?R.Z.Messages.USER_SETTINGS_APPEARANCE_THEME_COLORS_WARNING_CONTRAST:null}),[p]);o.useEffect((function(){!t&&a.current&&null!=u?(0,wp.z)(u):t&&!a.current&&(0,wp.p)();a.current=t}),[t,u]);o.useEffect((function(){return function(){a.current&&hi.L1.updateSetting({})}}),[]);return(0,r.jsxs)("div",{className:Up().container,children:[(0,r.jsxs)("div",{className:Up().text,children:[(0,r.jsx)(s.xv,{tag:"label",variant:"text-md/medium",className:O()(Up().title,Up().defaultCursor,Gp({},Up().disabled,t)),children:c?R.Z.Messages.USER_SETTINGS_APPEARANCE_EDIT_THEME_TITLE:R.Z.Messages.USER_SETTINGS_APPEARANCE_THEME_COLORS_TITLE}),(0,r.jsx)(s.R9,{className:Up().defaultCursor,disabled:t,type:s.ge.DESCRIPTION,
children:c?R.Z.Messages.USER_SETTINGS_APPEARANCE_EDIT_THEME_DESCRIPTION:R.Z.Messages.USER_SETTINGS_APPEARANCE_THEME_COLORS_DESCRIPTION})]}),c?(0,r.jsx)(ue.Co,{onClick:function(){(0,Rp.b)();(0,Pe.xf)()},children:R.Z.Messages.USER_SETTINGS_APPEARANCE_CHANGE_THEME_TITLE}):(0,r.jsx)(cs,{color:d,onChange:function(e){f(e);(0,wp.z)(e)},onClose:function(){if(u!==i){hi.L1.updateSetting({primaryColor:u});Cp.Z.updateTheme(n)}},disabled:t,suggestedColors:Hp,label:null==u?(0,r.jsx)(s.xv,{className:O()((0,Mi.DP)(d)?Up().labelDark:Up().labelLight),variant:"text-xxs/normal","aria-hidden":!0,children:R.Z.Messages.DEFAULT}):null,colorPickerMiddle:null!=h&&(0,r.jsx)(Zp.Z,{children:function(e){return(0,r.jsx)("div",{className:e,children:(0,r.jsx)(s.kz,{backgroundColor:Up().warningBackground,icon:tl.Z,iconClassName:Up().warningIcon,children:h})})}}),colorPickerFooter:(0,r.jsx)("div",{className:Up().footer,children:(0,r.jsx)(ue.Co,{color:ue.Co.Colors.TRANSPARENT,look:ue.Co.Looks.LINK,size:ue.Co.Sizes.TINY,
onClick:function(){f(void 0);(0,wp.p)()},disabled:null==u,children:R.Z.Messages.RESET_TO_DEFAULT})})})]})};var Wp=n(895469),zp=n(6349),Kp=n(252775),qp=n(926105),Xp=n.n(qp);function Qp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jp(e){Jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Jp(e)}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$p(e,t,n[t])}))}return e}function th(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function nh(e,t){return!t||"object"!==oh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rh(e,t){rh=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return rh(e,t)}var oh=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ih(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=Jp(e);if(t){var o=Jp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nh(this,n)}}var ah="cozy",sh="compact",ch=(0,fn.hQ)(),lh=(0,fn.hQ)(),uh=(0,fn.hQ)(),fh=(0,fn.hQ)(),dh="1337",ph=function(e){var t=0;return[(0,Ql.e5)(th(eh({},(0,$l.ZP)({channelId:dh,content:R.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1})),{state:G.yb.SENT,id:"".concat(t++)})),(0,Ql.e5)(th(eh({},(0,$l.ZP)({channelId:dh,content:e===G.BRd.DARK?R.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:R.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT})),{state:G.yb.SENT,id:"".concat(t++)})),(0,Ql.e5)(th(eh({},(0,$l.ZP)({channelId:dh,content:R.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3})),{state:G.yb.SENT,id:"".concat(t++)})),(0,Ql.e5)(th(eh({},(0,$l.ZP)({channelId:dh,content:R.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4})),{state:G.yb.SENT,id:"".concat(t++)})),(0,Ql.e5)(th(eh({},(0,$l.ZP)({channelId:dh,
content:R.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5})),{state:G.yb.SENT,id:"".concat(4)}))]},hh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&rh(e,t)}(n,e);var t=ih(n);function n(){Qp(this,n);var e;(e=t.apply(this,arguments)).darkMessages=ph(G.BRd.DARK);e.lightMessages=ph(G.BRd.LIGHT);e.state={isUsingCustomTheme:Object.values(e.props.clientTheme).some((function(e){return null!=e}))};e.handleThemeChange=function(t){var n=t.value;"system"!==n&&"custom"!==n&&Cp.Z.updateTheme(n);e.setState({isUsingCustomTheme:"custom"===n});Cp.Z.updatedUnsyncedSettings({useSystemTheme:"system"===n?Wp.K.ON:Wp.K.OFF})};e.handleDisplayCompactAvatarsChanged=function(e){Cp.Z.updatedUnsyncedSettings({displayCompactAvatars:e})};e.handleMessageDisplayModeChange=function(e){var t=e.value;hi.jU.updateSetting(t===sh);(0,
Kl.ZZ)()};return e}var o=n.prototype;o.getPreviewMessage=function(e){return e===G.BRd.DARK?R.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:R.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT};o.renderZoomSlider=function(){return rl.FB?(0,r.jsxs)(s.xJ,{className:ye().marginTop20,children:[(0,r.jsx)(s.vw,{id:lh,tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL}),(0,r.jsx)(s.iR,{className:O()(ye().marginTop20,ye().marginBottom4),initialValue:this.props.zoom,defaultValue:G.yqN.ZOOM_DEFAULT,markers:G.yqN.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender,"aria-labelledby":lh}),(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,children:R.Z.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:Ap.Z.modKey})})]}):null};o.renderFontScaleSlider=function(){return(0,r.jsxs)(s.xJ,{className:ye().marginTop20,children:[(0,r.jsx)(s.vw,{id:uh,tag:s.RB.H5,className:ye().marginBottom8,
children:R.Z.Messages.ACCESSIBILITY_FONT_SCALING_LABEL}),(0,r.jsx)(fe.Z,{align:fe.Z.Align.CENTER,children:(0,r.jsx)(s.iR,{className:O()(ye().marginTop20,ye().marginBottom4),initialValue:this.props.fontSize,defaultValue:G.yqN.FONT_SIZE_DEFAULT,markers:G.yqN.FONT_SIZES,stickToMarkers:!0,onValueChange:this.handleFontSizeChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":uh})})]})};o.renderMessageGroupSpacingSlider=function(){var e=this.props,t=e.messageDisplayCompact,n=e.messageGroupSpacing;return(0,r.jsxs)(s.xJ,{className:ye().marginTop20,children:[(0,r.jsx)(s.vw,{id:fh,tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.ACCESSIBILITY_MESSAGE_GROUP_SPACING}),(0,r.jsx)(s.iR,{className:O()(ye().marginTop20,ye().marginBottom4),initialValue:n,defaultValue:t?zp.c8:zp.pq,markers:zp.fP,stickToMarkers:!0,onValueChange:this.handleMessageSpacingChange,
onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":fh})]})};o.renderPreview=function(){var e=this.props,t=e.messageDisplayCompact,n=e.theme,o=e.messageGroupSpacing,i=e.hideSimpleEmbedContent,a=n===G.BRd.DARK?this.darkMessages:this.lightMessages;return(0,r.jsx)(s.Rn,{children:(0,r.jsx)(Wr.Z,{className:O()(Xp().preview,ye().marginBottom40,t?Xp().compactPreview:void 0,"group-spacing-".concat(null!=o?o:t?zp.c8:zp.pq)),outline:!0,"aria-hidden":!0,children:a.map((function(e,n){return(0,r.jsx)(eu.Z,{author:(0,Jl.ZH)(e),message:e,compact:t,isGroupStart:n%2==0,className:0===n?Xp().firstMessage:void 0,hideSimpleEmbedContent:i},e.id)}))})})};o.getThemeOptions=function(){var e=[{name:R.Z.Messages.THEME_DARK,value:G.BRd.DARK},{name:R.Z.Messages.THEME_LIGHT,value:G.BRd.LIGHT},{name:R.Z.Messages.THEME_SYSTEM,value:"system"}];this.props.hasClientThemes&&e.push({name:R.Z.Messages.THEME_CUSTOM,value:"custom"})
;return e};o.getThemeValue=function(){var e=this.props,t=e.theme,n=e.useSystemTheme,r=e.useAMOLEDTheme,o=e.useForcedColors;return e.hasClientThemes&&this.state.isUsingCustomTheme?"custom":n===Wp.K.ON||o?"system":r===Kp.W.ON?G.BRd.DARK:t};o.closeSettingsAndOpenClientThemesEditor=function(){(0,Rp.b)();(0,Pe.xf)()};o.renderTheme=function(){var e=this.props,t=e.theme,n=e.useForcedColors,o=e.useAMOLEDTheme,i=e.darkSidebar,a=e.hasClientThemes,c=e.hasSidebarEditor,l=xp.Z.getCurrentConfig({}).enabledAMOLEDThemeOption,u=this.getThemeValue();return(0,r.jsxs)(s.xJ,{className:ye().marginTop8,title:(0,r.jsxs)("div",{className:Xp().themeTitle,children:[(0,r.jsx)("div",{children:R.Z.Messages.THEME}),c&&(0,r.jsx)(ue.Co,{onClick:this.closeSettingsAndOpenClientThemesEditor,children:R.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_THEMES_TITLE})]}),children:[n&&(0,r.jsx)(s.R9,{type:s.R9.Types.DEFAULT,className:Xp().forcedColorsWarning,children:(0,
Xl.b)()?R.Z.Messages.THEME_DISABLED_FOR_CONTRAST_SYNC.format({onClick:function(){d.Z.open(G.oAB.ACCESSIBILITY)}}):R.Z.Messages.THEME_DISABLED_FOR_FORCED_COLORS}),c?(0,r.jsx)("div",{children:(0,r.jsxs)(jp.UL,{children:[(0,r.jsx)(jp.xJ,{className:Xp().basicThemeSelectors}),(0,r.jsx)(jp.uw,{})]})}):(0,r.jsx)(s.Ee,{options:this.getThemeOptions(),onChange:this.handleThemeChange,value:u,disabled:o===Kp.W.ON,"aria-labelledby":ch}),a&&!c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Yp,{disabled:n||"custom"!==u}),(0,r.jsx)(s.$i,{className:ye().marginTop20})]}),l&&(0,r.jsx)(s.j7,{value:o===Kp.W.ON,onChange:this.handleAMOLEDThemeChange,className:ye().marginTop20,note:R.Z.Messages.EXPERIMENTAL_AMOLED_MODE_NOTE,children:"AMOLED Mode (Staff Only)"}),(0,r.jsx)(s.j7,{value:i&&t===G.BRd.LIGHT&&!n,disabled:t!==G.BRd.LIGHT||n,onChange:this.handleDarkSidebarChecked,className:ye().marginTop20,children:R.Z.Messages.ACCESSIBILITY_DARK_SIDEBAR})]})};o.renderDisplayMode=function(){return(0,r.jsxs)(s.xJ,{
title:R.Z.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:ye().marginTop8,children:[(0,r.jsx)(s.Ee,{options:[{name:R.Z.Messages.COZY_MODE,value:ah},{name:R.Z.Messages.COMPACT_MODE,value:sh}],onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?sh:ah}),(0,r.jsx)(s.j7,{value:this.props.messageDisplayCompact&&this.props.displayCompactAvatars,disabled:!this.props.messageDisplayCompact,onChange:this.handleDisplayCompactAvatarsChanged,className:ye().marginTop20,children:R.Z.Messages.DISPLAY_COMPACT_AVATARS})]})};o.handleDarkSidebarChecked=function(){(0,Kl.lq)()};o.handleAMOLEDThemeChange=function(e){c.Z.dispatch({type:"UNSYNCED_USER_SETTINGS_UPDATE",settings:{useAMOLEDTheme:e?Kp.W.ON:Kp.W.OFF}})};o.renderScalingAndSpacing=function(){return(0,r.jsxs)(r.Fragment,{children:[this.renderFontScaleSlider(),this.renderMessageGroupSpacingSlider(),this.renderZoomSlider(),(0,r.jsx)(s.$i,{className:ye().marginTop20})]})};o.render=function(){return(0,r.jsxs)(s.hj,{
tag:s.RB.H1,title:R.Z.Messages.APPEARANCE,children:[this.renderPreview(),this.renderTheme(),this.renderDisplayMode(),this.renderScalingAndSpacing(),(0,r.jsx)(s.xv,{variant:"text-md/normal",className:ye().marginTop20,children:R.Z.Messages.APPEARANCE_SETTINGS_ACCESSIBILITY_LINK.format({onAccessibilityClick:function(){d.Z.open(G.oAB.ACCESSIBILITY)}})})]})};o.handleSliderRender=function(e){return"".concat(e.toFixed(0),"%")};o.handleSliderRenderPX=function(e){return"".concat(e.toFixed(0),"px")};o.handleSliderValueText=function(e){return R.Z.Messages.PIXEL_VALUE_A11Y_TEXT.format({value:e})};o.handleFontSizeChange=function(e){(0,Kl.oL)(e)};o.handleMessageSpacingChange=function(e){switch(e){case 0:case 4:case 8:case 16:case 24:(0,Kl.ZZ)(e)}};o.handleZoomChange=function(e){(0,Kl.cq)(e)};return n}(o.Component);function Eh(){var e,t=hi.jU.useSetting(),n=hi.RS.useSetting(),o=hi.NA.useSetting(),i=(0,Pp.Z)(),a=i.hasClientThemes,s=i.hasSidebarEditor,c=hi.L1.useSetting(),l=(0,
E.cj)([zu.Z,Mp.ZP,je.Z,Xr.default],(function(){var t;return{theme:zu.Z.theme,useForcedColors:je.Z.useForcedColors,useSystemTheme:Mp.ZP.useSystemTheme,useAMOLEDTheme:Mp.ZP.useAMOLEDTheme,darkSidebar:zu.Z.darkSidebar,fontSize:je.Z.fontSize,zoom:je.Z.zoom,messageGroupSpacing:je.Z.messageGroupSpacing,displayCompactAvatars:Mp.ZP.displayCompactAvatars,isStaff:null!==(e=null===(t=Xr.default.getCurrentUser())||void 0===t?void 0:t.isStaff)&&void 0!==e&&e}}));return(0,r.jsx)(hh,eh({messageDisplayCompact:t,hideSimpleEmbedContent:n&&o,hasClientThemes:a,hasSidebarEditor:s,clientTheme:c},l))}const yh={fetch:function(){af.Z.get({url:G.ANM.OAUTH2_TOKENS,oldFormErrors:!0}).then((function(e){return c.Z.dispatch({type:"USER_AUTHORIZED_APPS_UPDATE",apps:e.body})}),(function(){return c.Z.dispatch({type:"USER_AUTHORIZED_APPS_UPDATE",apps:[]})}))},delete:function(e){var t=this;af.Z.delete({url:G.ANM.OAUTH2_TOKEN(e),oldFormErrors:!0}).then((function(){t.fetch()}))}}
;var mh=n(912224),bh=n(823343),gh=n(623899),Oh=n(930365),vh=n(437686),_h=n(246887),Sh=n(979915),Ih=n(222295),Th=n(556932);function Nh(e,t){return Ih.t.XBOX_APPLICATION_ID===e||t&&Ih.M.PLAYSTATION_APPLICATION_IDS.has(e)}var Ch=n(280370),Ah=n(102172),Ph=n.n(Ah);function jh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Rh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jh(e,t,n[t])}))}return e}var xh=E.ZP.connectStores([zu.Z],(function(){return{theme:zu.Z.theme}}))(_h.ZP);function Mh(e){var t=e.application;return(0,r.jsxs)("div",{className:Ph().twoWayWarning,children:[(0,r.jsx)(Sh.Z,{className:Ph().twoWayWarningIcon}),(0,r.jsx)(s.xv,{color:"text-normal",
variant:"text-sm/medium",children:R.Z.Messages.AUTHORIZED_APP_IS_CONNECTED_ACCOUNT.format({applicationName:t.name,onConnectionPress:function(){return d.Z.setSection(G.jXE.SETTINGS_CONNECTIONS)}})})]})}var wh=function(e){var t,n,o=e.scopes,i=e.application,a=e.onDelete,c=function(){var e=R.Z.Messages.DELETE_APP_CONFIRM_MSG;Nh(i.id,(0,Th.Kb)())&&(e=(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(Ch.Z,{className:Ph().infoBox,children:R.Z.Messages.AUTHORIZED_APP_IS_CONNECTED_ACCOUNT_DISCONNECT_WARNING.format({applicationName:i.name})})]}));return(0,Ze.h7)((function(t){return(0,r.jsx)(mh.Z,Rh({title:R.Z.Messages.DEAUTHORIZE_APP,body:e,confirmText:R.Z.Messages.DEAUTHORIZE,cancelText:R.Z.Messages.CANCEL,onConfirm:a},t))}))},l=Nh(i.id,(0,Th.jP)());return(0,r.jsx)(Wr.Z,{className:O()(Ph().authedApp,ye().marginBottom8),outline:!0,children:(0,r.jsxs)(s.y5,{component:(t=Oi.ZP.getApplicationIconURL({id:i.id,icon:i.icon}),n=null!=t?(0,r.jsx)(fe.Z.Child,{className:Ph().appAvatar,grow:0,children:(0,
r.jsx)("img",{src:t,alt:""})}):null,(0,r.jsxs)(fe.Z,{className:O()(Ph().header,ye().marginBottom20),children:[(0,r.jsxs)(fe.Z,{className:Ph().headerInfo,children:[n,(0,r.jsx)(fe.Z.Child,{children:(0,r.jsx)(s.X6,{variant:"text-sm/semibold",children:i.name})})]}),(0,r.jsx)(fe.Z.Child,{wrap:!0,grow:0,children:(0,r.jsx)(ue.Co,{className:Ph().deleteApp,color:ue.Tt.RED,look:ue.iL.OUTLINED,size:ue.Ph.SMALL,onClick:c,children:R.Z.Messages.DEAUTHORIZE})})]})),children:[function(){if(null!=i.description&&""!==i.description)return(0,r.jsx)(s.xJ,{faded:!0,title:R.Z.Messages.ABOUT_THIS_APP,children:(0,r.jsx)(s.R9,{children:i.description})})}(),function(){var e=o.map((function(e){return(0,r.jsxs)("li",{className:O()(Ph().permission,ye().marginTop8),children:[(0,r.jsx)("i",{className:Ph().permissionCheckmark}),(0,r.jsx)(s.R9,{children:(0,Oh.jW)(e,o)})]},e)}));if(e.length>0)return(0,r.jsx)(s.xJ,{faded:!0,title:R.Z.Messages.PERMISSIONS,className:ye().marginTop20,children:(0,r.jsx)("ul",{children:e})})
}(),l&&(0,r.jsx)(Mh,{application:i})]})})};const Zh=function(){var e=(0,E.e7)([Vr.Z],(function(){return Vr.Z.hidePersonalInformation})),t=(0,E.e7)([vh.Z],(function(){return vh.Z.getApps()})),i=(0,E.e7)([gh.ZP],(function(){return gh.ZP.getSelfEmbeddedActivities()}));o.useEffect((function(){yh.fetch()}),[]);return e?(0,r.jsx)(Ut.Z,{}):(0,r.jsx)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.AUTHORIZED_APPS,children:(0,r.jsx)(s.y5,{component:(0,r.jsx)(s.To,{className:ye().marginBottom40,type:Wr.Y.PRIMARY,title:R.Z.Messages.APPLICATIONS_AND_CONNECTIONS,body:R.Z.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),children:null==t?(0,r.jsx)(qt.Z,{className:ye().marginTop20,type:qt.Z.Type.SPINNING_CIRCLE}):0===t.length?(0,r.jsxs)(xh,{className:Ph().marginTop20,children:[(0,r.jsx)(_h.ox,{darkSrc:n(3874),lightSrc:n(302255),width:380,height:282}),(0,r.jsx)(_h.OZ,{note:R.Z.Messages.NO_AUTHORIZED_APPS_NOTE,children:R.Z.Messages.NO_AUTHORIZED_APPS})]}):t.map((function(e){return(0,r.jsx)(wh,Rh({onDelete:function(){
return function(e){var t=e.id,n=e.application;yh.delete(t);var r=i.get(n.id);null!=r&&(0,bh.mW)({channelId:r.channelId,applicationId:n.id})}(e)}},e),e.id)}))})})};var Lh=n(909359),Dh=n(277563),Uh=n(976882),kh=n(240243);function Gh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hh(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Vh(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=e.foreground,l=Hh(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",Bh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Gh(e,t,n[t])}))}return e}({},(0,kh.Z)(l)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:c,fill:s,id:"a",
d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H8.9V6zM16 16h-3v3h-2v-3H8v-2h3v-3h2v3h3v2z"})}))}var Fh=n(557473),Yh=n(552622),Wh=n(298080),zh=n(204371),Kh=/[^0-9/]/g;function qh(e){var t=e.replace(Kh,"").split("/"),n=t[0],r=t[1],o=[];parseInt(n,10)>12&&(n=n.substring(0,1));o.push(n);(parseInt(n,10)>1||2===n.length||null!=r&&""!==r)&&o.push("/");null!=r&&""!==r&&parseInt(r,10)>99&&(r=(r+"").substring(0,2));o.push(r);return o.join("")}function Xh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $h(e){$h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $h(e)}function Jh(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function eE(e,t){return!t||"object"!==nE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tE(e,t){tE=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return tE(e,t)}var nE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function rE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$h(e);if(t){var o=$h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eE(this,n)}}var oE=/[^0-9]/g,iE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&tE(e,t)}(n,e);var t=rE(n);function n(){Xh(this,n);var e;(e=t.apply(this,arguments)).selectionStart=0;e.setRef=function(t){var n=e.props.inputRef;e._inputRef=t;null!=n&&n(t)};e.handleChange=function(t,n){var r=e.props,o=r.value,i=r.onChange,a=e._inputRef;if(t!==o&&null!=a&&null!=o){var s=qh(t),c=a.selectionStart;s===o&&s.length<=3&&o.includes("/")&&!t.includes("/")?s=s.replace(oE,""):s===o&&t.includes("/")&&!o.includes("/")&&(s+="/");s.length>t.length&&(c+=s.length-t.length)
;e.selectionStart=c;null!=i&&i(s,n)}};return e}var o=n.prototype;o.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)};o.render=function(){return(0,r.jsx)(s.oi,Jh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qh(e,t,n[t])}))}return e}({},this.props),{inputMode:"numeric",onChange:this.handleChange,inputRef:this.setRef}))};return n}(o.PureComponent);const aE=iE;var sE,cE=n(183201),lE=n(720999),uE=n.n(lE);function fE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function pE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.EXPIRATION_DATE="expirationDate"}(sE||(sE={}));var hE=dE({},sE.EXPIRATION_DATE,{name:sE.EXPIRATION_DATE,id:(0,
fn.hQ)(),title:function(){return R.Z.Messages.CREDIT_CARD_EXPIRATION_DATE},autoComplete:"cc-exp",placeholder:function(){return R.Z.Messages.PAYMENT_SOURCE_EXPIRATION_DATE_PLACEHOLDER},pattern:"\\d*",getClassNameForLayout:function(){return uE().width50},renderInput:function(e){return(0,r.jsx)(aE,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){dE(e,t,n[t])}))}return e}({},e))}}),EE=[{fields:[hE[sE.EXPIRATION_DATE]]}];const yE=function(e){var t=e.onCardInfoChange,n=e.className,i=e.expirationDate,a=e.error,s=pE(o.useState(!1),2),c=s[0],l=s[1],u=pE(o.useState(null),2),f=u[0],d=u[1],p=pE(o.useState(i),2),h=p[0],E=p[1];o.useEffect((function(){t({expirationDate:h},null===f)}),[h,t,f]);return(0,r.jsx)(cE.Z,{className:n,form:EE,values:{
expirationDate:h},errors:null!=f?{expirationDate:f}:{},formError:a,onFieldChange:function(e){c||""===e||l(!0);c&&""===e||!(0,zh.eH)(e)?d(R.Z.Messages.CREDIT_CARD_ERROR_EXPIRATION):d(null);E(e)}})};var mE=n(72877),bE=n(215913),gE=n.n(bE);function OE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _E(e){_E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _E(e)}function SE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vE(e,t,n[t])}))}return e}function IE(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function TE(e,t){return!t||"object"!==AE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NE(e,t){NE=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return NE(e,t)}function CE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return OE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var AE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function PE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=_E(e);if(t){var o=_E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TE(this,n)}}var jE="isDefault",RE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&NE(e,t)}(n,e);var t=PE(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault();e.stopPropagation();if(0===Object.values(r.state.dirtyFields).filter(Ve.lm).length)r.props.onCancel();else{var t=r.state,n=t.billingAddress,o=t.isDefault,i=t.expiresMonth,a=t.expiresYear;r.props.onSubmit(r.props.paymentSource.id,{billingAddress:n,expiresMonth:i,expiresYear:a,isDefault:o})}};r.handleCancel=function(){r.props.onCancel()};r.handleDelete=function(){var e=r.props;(0,
e.onDelete)(e.paymentSource.id)};r.handleAddressUpdate=function(e,t,n){r.setState({billingAddress:e,billingAddressValid:t,dirtyFields:IE(SE({},r.state.dirtyFields),{billingAddress:n})})};r.handleExpirationDateUpdate=function(e,t){var n=e.expirationDate;r.setState({expirationValid:t});if(null!=n&&""!==n){var o=CE(n.split("/"),2),i=o[0],a=o[1];r.handleFieldChange(Number(i),"expiresMonth");r.handleFieldChange(Number("".concat((new Date).getFullYear().toString().slice(0,2)).concat(a)),"expiresYear")}};r.handleFieldChange=function(e,t){if(null!=t){var n;r.setState((vE(n={},t,e),vE(n,"dirtyFields",IE(SE({},r.state.dirtyFields),vE({},t,!0))),n))}};var o,i,a,s,c,l,u,f=e.paymentSource,d=e.isDefault,p=f.billingAddress;r.state={billingAddress:{name:null!==(o=p.name)&&void 0!==o?o:"",line1:null!==(i=p.line1)&&void 0!==i?i:"",line2:null!==(a=p.line2)&&void 0!==a?a:"",country:null!==(s=p.country)&&void 0!==s?s:"",state:null!==(c=p.state)&&void 0!==c?c:"",city:null!==(l=p.city)&&void 0!==l?l:"",
postalCode:null!==(u=p.postalCode)&&void 0!==u?u:""},expiresMonth:f instanceof Yh.dm?f.expiresMonth:void 0,expiresYear:f instanceof Yh.dm?f.expiresYear:void 0,billingAddressValid:!1,isDefault:d,expirationValid:!0,dirtyFields:{}};return r}var o=n.prototype;o.componentWillUnmount=function(){c.Z.wait((function(){(0,wt._H)();(0,wt.w7)()}))};o.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?(0,r.jsx)(s.kz,{className:gE().formError,children:n.message}):null:(0,r.jsx)(s.kz,{className:gE().formError,children:t.message})};o.renderBillingAddressSection=function(){var e=this.state.billingAddress,t=this.props,n=t.updateError,o=function(e){
return[G.HeQ.CARD,G.HeQ.VENMO].includes(e.type)&&"US"===e.country?zn.tq?Wh.Z.Layouts.SETTINGS_US_MOBILE:Wh.Z.Layouts.SETTINGS_US:e.type===G.HeQ.CARD&&"US"!==e.country?zn.tq?Wh.Z.Layouts.SETTINGS_INTL_MOBILE:Wh.Z.Layouts.SETTINGS_INTL:zn.tq?Wh.Z.Layouts.SETTINGS_INTL_NO_NAME_MOBILE:Wh.Z.Layouts.SETTINGS_INTL_NO_NAME}(t.paymentSource);return(0,r.jsxs)("div",{className:gE().addressSection,children:[(0,r.jsx)(s.xv,{className:gE().sectionHeader,variant:"text-sm/normal",children:R.Z.Messages.BILLING_ADDRESS}),(0,r.jsx)(Wh.Z,IE(SE({},e),{mode:Wh.Z.Modes.EDIT,layout:o,onBillingAddressChange:this.handleAddressUpdate,error:n}))]})};o.renderCardExpirationSection=function(){var e=this.state,t=e.expiresMonth,n=e.expiresYear;if(null==t||null==n)return null;var o="".concat(t.toString().padStart(2,"0"),"/").concat(n.toString().padStart(2,"0").slice(-2));return(0,r.jsxs)("div",{className:gE().addressSection,children:[(0,r.jsx)(s.xv,{className:gE().sectionHeader,variant:"text-sm/normal",
children:R.Z.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION}),(0,r.jsx)(yE,{expirationDate:o,onCardInfoChange:this.handleExpirationDateUpdate,error:this.props.updateError})]})};o.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,o=e.isForSubscription,i=this.state,a=i.billingAddressValid,s=i.expirationValid;return(0,r.jsxs)("div",{className:gE().formActions,children:[(0,r.jsx)("div",{className:gE().leftAlignedButtons,children:(0,r.jsxs)("div",{className:gE().disabledTooltipWrapper,children:[o?(0,r.jsx)(un.ZP,{text:R.Z.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP,children:function(e){return(0,r.jsx)("div",SE({"aria-hidden":!0,className:gE().disabledTooltipTarget},e))}}):null,(0,r.jsx)(ue.Co,{type:"button",disabled:o||t,submitting:n,onClick:this.handleDelete,look:ue.Co.Looks.OUTLINED,color:ue.Co.Colors.RED,size:zn.tq?ue.Ph.SMALL:ue.Ph.MEDIUM,children:zn.tq?R.Z.Messages.DELETE:R.Z.Messages.PAYMENT_SOURCE_DELETE})]})}),(0,r.jsxs)("div",{
className:gE().rightAlignedButtons,children:[(0,r.jsx)(ue.Co,{type:"button",disabled:t||n,onClick:this.handleCancel,look:ue.Co.Looks.LINK,color:ue.Co.Colors.PRIMARY,size:zn.tq?ue.Ph.SMALL:ue.Ph.MEDIUM,children:R.Z.Messages.CANCEL}),(0,r.jsx)(ue.Co,{submitting:t,disabled:!a||n||!s,type:"submit",color:ue.Co.Colors.GREEN,size:zn.tq?ue.Ph.SMALL:ue.Ph.MEDIUM,children:R.Z.Messages.SAVE})]})]})};o.render=function(){var e=this,t=this.props,n=t.paymentSource,o=t.isDefault,i=t.locale,a=t.className,c=t.isForSubscription,l=this.state.isDefault,u=n instanceof Yh.qo;return(0,r.jsx)(Wr.Z,{editable:!0,className:O()(gE().card,a),children:(0,r.jsxs)("form",{onSubmit:this.handleSubmit,noValidate:!0,children:[this.renderError(),(0,r.jsxs)("div",{className:gE().paymentSection,children:[(0,r.jsx)(mE.Z,{paymentSource:n,isDefault:o,isForSubscription:c,locale:i}),n.invalid?(0,r.jsx)("div",{className:gE().errorSubText,children:R.Z.Messages.PAYMENT_SOURCE_INVALID_HELP}):null,(0,r.jsx)("div",{
className:gE().subText,children:u?R.Z.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:G.yfF}):R.Z.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD})]}),this.renderCardExpirationSection(),this.renderBillingAddressSection(),(0,r.jsx)(s.XZ,{name:jE,value:l,onChange:function(t,n){return e.handleFieldChange(n,jE)},type:s.XZ.Types.INVERTED,className:gE().defaultSection,children:(0,r.jsx)(s.xv,{className:gE().defaultCheckboxLabel,variant:"text-sm/normal",children:R.Z.Messages.PAYMENT_SOURCE_MAKE_DEFAULT})}),(0,r.jsx)(s.$i,{}),this.renderActions()]})})};return n}(o.PureComponent);RE.defaultProps={onDelete:function(){},onSubmit:function(){},onCancel:function(){}};const xE=E.ZP.connectStores([Yr.Z],(function(){return{updateError:Yr.Z.editSourceError,removeError:Yr.Z.removeSourceError}}))(RE);var ME=n(450794),wE=n.n(ME);function ZE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LE(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value
}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function DE(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){LE(i,r,o,a,s,"next",e)}function s(e){LE(i,r,o,a,s,"throw",e)}a(void 0)}))}}function UE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function GE(e){GE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return GE(e)}function BE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&YE(e,t)}function HE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kE(e,t,n[t])}))}return e}function VE(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function FE(e,t){return!t||"object"!==WE(t)&&"function"!=typeof t?ZE(e):t}function YE(e,t){YE=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return YE(e,t)}var WE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function zE(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=GE(e);if(t){var o=GE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return FE(this,n)}}var KE=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},qE=function(e){BE(n,e);var t=zE(n);function n(){UE(this,n);var e;(e=t.apply(this,arguments)).handleEditClick=function(){e.props.onEditClick(e.props.paymentSource.id)};return e}n.prototype.render=function(){var e=this.props,t=e.paymentSource,n=e.isDefault,o=e.isEditing,i=e.index,a=e.hideDivider,c=e.isForSubscription,l=e.locale,u=e.removing,f=e.submitting,d=e.onSubmit,p=e.onCancel,h=e.onDelete;return o?(0,r.jsx)(xE,{paymentSource:t,isDefault:n,removing:u,submitting:f,locale:l,isForSubscription:c,onSubmit:d,onCancel:p,onDelete:h}):(0,
r.jsxs)("div",{className:wE().paymentSourceItem,children:[i>0&&!a?(0,r.jsx)(s.$i,{className:wE().sourceDivider}):null,(0,r.jsxs)(fe.Z,{align:fe.Z.Align.CENTER,justify:fe.Z.Justify.BETWEEN,className:wE().paymentSourceRow,children:[(0,r.jsx)(mE.Z,{paymentSource:t,isDefault:n,isForSubscription:c,locale:l,showSubtext:!0}),o?null:(0,r.jsx)(ue.Co,{color:ue.Co.Colors.PRIMARY,onClick:this.handleEditClick,size:ue.Co.Sizes.SMALL,children:R.Z.Messages.EDIT})]})]})};return n}(o.PureComponent);qE.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}};var XE=function(e){BE(o,e);var t=zE(o);function o(){UE(this,o);var e;(e=t.apply(this,arguments)).state={editingPayment:null};e.handleEditClick=function(t){e.setState({editingPayment:t})};e.handleCancel=function(){e.setState({editingPayment:null})};var i,a=ZE(e);e.handleDelete=(i=DE((function(e){return KE(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,wt.xt(e)];case 1:t.sent();a.setState({editingPayment:null})
;return[3,3];case 2:t.sent();return[3,3];case 3:return[2]}}))})),function(e){return i.apply(this,arguments)});var s=ZE(e);e.handleSubmit=function(){var e=DE((function(e,t){return KE(this,(function(n){switch(n.label){case 0:if(null==e)return[3,4];n.label=1;case 1:n.trys.push([1,3,,4]);return[4,wt.LI(e,t)];case 2:n.sent();s.setState({editingPayment:null});return[3,4];case 3:n.sent();return[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();e.handlePaymentSourceAdded=function(){var e=DE((function(e){return KE(this,(function(t){switch(t.label){case 0:return[4,(0,Fh.i1)(e.id)];case 1:t.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}();e.handleAddPaymentMethod=function(){var t=ZE(e);(0,Ze.ZD)(DE((function(){var e,o;return KE(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(81230),n.e(67543),n.e(64972)]).then(n.bind(n,564972))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,
r.jsx)(o,VE(HE({},e),{onAddPaymentSource:t.handlePaymentSourceAdded}))}]}}))})),{onCloseCallback:function(){(0,Uh.fw)()}})};return e}var i=o.prototype;i.renderFooter=function(){var e=this.props.paymentSources;return(0,r.jsxs)(fe.Z,{justify:fe.Z.Justify.END,className:wE().footer,children:[0===Object.keys(e).length?(0,r.jsxs)(fe.Z.Child,{children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:R.Z.Messages.BILLING_NO_PAYMENT_METHOD}),(0,r.jsx)("div",{className:wE().subText,children:R.Z.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION})]}):null,(0,r.jsx)(ue.Co,{onClick:this.handleAddPaymentMethod,children:R.Z.Messages.BILLING_ADD_PAYMENT_METHOD})]})};i.render=function(){var e=this,t=this.props,n=t.defaultPaymentSourceId,o=t.paymentSources,i=t.locale,a=t.removing,c=t.submitting,l=t.premiumSubscriptionPaymentSourceId,u=Ce().values(o).sort((function(e,t){return e.id===n?-1:t.id===n?1:Dh.default.compare(e.id,t.id)})),f=this.state.editingPayment,d=u.findIndex((function(e){return e.id===f
})),p=u.map((function(t,o){return(0,r.jsx)(qE,{locale:i,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isForSubscription:t.id===l,hideDivider:d===o-1,onSubmit:e.handleSubmit,index:o,submitting:c,removing:a,isEditing:f===t.id,onEditClick:e.handleEditClick},t.id)}));return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.vw,{tag:"h1",children:(0,r.jsxs)(fe.Z,{align:fe.Z.Align.CENTER,children:[(0,r.jsx)(un.ZP,{position:un.ZP.Positions.LEFT,text:R.Z.Messages.BILLING_SECURE_TOOLTIP,children:function(e){return(0,r.jsx)(Vh,HE({className:wE().lockIcon},e))}}),R.Z.Messages.BILLING_PAYMENT_SOURCES]})}),p,d!==u.length-1?(0,r.jsx)(s.$i,{className:wE().sourceDivider}):null,this.renderFooter()]})};return o}(o.PureComponent);const QE=XE;var $E=n(84840),JE=n(196806),ey=n.n(JE);function ty(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ny(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function ry(e){ry=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ry(e)}function oy(e,t){return!t||"object"!==ay(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iy(e,t){iy=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return iy(e,t)}var ay=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function sy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ry(e);if(t){var o=ry(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oy(this,n)}}var cy=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&iy(e,t)}(n,e);var t=sy(n);function n(){ty(this,n);return t.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){c.Z.wait((function(){wt.tZ();wt.jg()}))};o.handleRedemptionRedirect=function(){d.Z.setSection(G.oAB.INVENTORY)};o.render=function(){var e=this.props,t=e.syncing,n=e.hide,o=e.paymentSources,i=e.defaultPaymentSourceId,a=e.locale,c=e.premiumSubscription,l=e.isRemovingPaymentSource,u=e.isUpdatingPaymentSource;return n?(0,r.jsx)(Ut.Z,{}):(0,r.jsxs)("div",{className:ey().userSettingsBilling,children:[t&&0===Object.keys(o).length?(0,r.jsx)("div",{className:ey().syncing,children:(0,r.jsx)(qt.Z,{})}):(0,r.jsx)(QE,{paymentSources:o,defaultPaymentSourceId:i,premiumSubscriptionPaymentSourceId:null!=c&&c.status!==G.O0b.CANCELED?c.paymentSourceId:null,locale:a,
removing:l,submitting:u}),(0,r.jsx)("div",{className:ey().paymentHistory,children:(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.vw,{tag:"h1",children:R.Z.Messages.BILLING_PAYMENT_HISTORY}),children:[(0,r.jsx)($E.oQ,{}),(0,r.jsx)(Lh.Z,{locale:a})]})}),(0,r.jsx)(Wr.Z,{className:ey().codeRedemptionRedirect,type:Wr.Z.Types.CUSTOM,children:R.Z.Messages.BILLING_CODE_REDEMPTION_REDIRECT.format({onClick:this.handleRedemptionRedirect})})]})};return n}(o.PureComponent);function ly(){var e=(0,E.cj)([y.default,Yr.Z,rn.Z,Xr.default,Vr.Z,Gt.Z],(function(){var e=Gt.Z.getPremiumTypeSubscription(),t=Xr.default.getCurrentUser();L()(null!=t,"UserSettingsBilling: currentUser cannot be undefined");return{locale:y.default.locale,hide:Vr.Z.enabled,isClaimed:t.isClaimed(),isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:rn.Z.defaultPaymentSourceId,paymentSources:rn.Z.paymentSources,syncing:Yr.Z.isSyncing,isRemovingPaymentSource:Yr.Z.isRemovingPaymentSource,
isUpdatingPaymentSource:Yr.Z.isUpdatingPaymentSource}}));return(0,r.jsx)(cy,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ny(e,t,n[t])}))}return e}({},e))}var uy=n(647446),fy=n(690217),dy=n(113518),py=n(332233),hy=n(144857),Ey=n(456711),yy=n(783848),my=n(950008),by=n(402411),gy=n(16870),Oy=new Set([G.ABu.XBOX,G.ABu.PLAYSTATION,G.ABu.PLAYSTATION_STAGING,G.ABu.CRUNCHYROLL]);var vy=n(735696),_y=n(95048),Sy=n(507229),Iy=n.n(Sy),Ty=function(e){var t=e.markAsDismissed;o.useEffect((function(){return t}),[t]);return(0,r.jsx)(pn.IG,{className:Iy().newBadge,text:R.Z.Messages.NEW})},Ny=function(e){var t=e.title,n=e.body,o=e.img,i=e.newIndicatorDismissibleContent,a=e.onClick;return(0,r.jsxs)("div",{className:Iy().container,children:[o,(0,
r.jsxs)("div",{className:Iy().textContainer,children:[(0,r.jsxs)("div",{className:Iy().headerText,children:[(0,r.jsx)(_y.Z,{contentTypes:[i],children:function(e){var t=e.visibleContent,n=e.markAsDismissed;return t===i?(0,r.jsx)(Ty,{markAsDismissed:n}):null}}),(0,r.jsx)(s.xv,{variant:"text-md/semibold",children:t})]}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",children:n})]}),(0,r.jsx)(ue.Co,{size:ue.Ph.MEDIUM,onClick:a,className:Iy().reconnectButton,children:R.Z.Messages.RECONNECT})]})},Cy=n(761869),Ay=n.n(Cy),Py=function(){var e=da.Z.getArticleURL(G.BhN.PS_CONNECTION);return(0,r.jsx)(Ny,{title:R.Z.Messages.PS_TWO_WAY_UPSELL_TITLE,body:R.Z.Messages.PS_TWO_WAY_UPSELL_BODY.format({help_article:e}),img:(0,r.jsx)("img",{src:Ay(),width:"82",height:"auto",alt:""}),newIndicatorDismissibleContent:a.z$.PS_ONE_WAY_RECONNECT,onClick:function(){return(0,yy.Z)(G.ABu.PLAYSTATION,"PS two way upsell")}})},jy=n(884217),Ry=n.n(jy),xy=function(){var e=da.Z.getArticleURL(G.BhN.XBOX_CONNECTION);return(0,
r.jsx)(Ny,{title:R.Z.Messages.XBOX_TWO_WAY_UPSELL_TITLE,body:R.Z.Messages.XBOX_TWO_WAY_UPSELL_BODY.format({help_article:e}),img:(0,r.jsx)("img",{src:Ry(),width:"auto",height:"45",alt:""}),newIndicatorDismissibleContent:a.z$.XBOX_ONE_WAY_RECONNECT,onClick:function(){return(0,yy.Z)(G.ABu.XBOX,"Xbox two way upsell")}})},My=n(995740),wy=n(610804),Zy=n(125354),Ly=n.n(Zy);function Dy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uy(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ky(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Uy(e,t,n[t])}))}return e}function Gy(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function By(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hy=function(e){var t,n,o,i=e.integration,a=(0,E.e7)([my.Z],(function(){return my.Z.isJoining(i.id)}),[i.id]);null!=(0,E.e7)([yn.Z],(function(){return yn.Z.getGuild(i.guild.id)}),[i.guild.id])||(o=(0,r.jsx)(ue.Co,{size:ue.Ph.SMALL,onClick:function(){fy.Z.joinServer(i.id,(function(){}))},disabled:a,children:(0,r.jsx)("span",{children:a?R.Z.Messages.JOINING_GUILD:R.Z.Messages.JOIN_GUILD})}));return(0,r.jsxs)("div",{className:Ly().integration,children:[(0,r.jsx)(on.Z,{size:on.Z.Sizes.SMALL,guild:i.guild,className:Ly().guildIcon}),(0,r.jsxs)("div",{className:Ly().integrationInner,children:[(0,r.jsx)(s.xv,{variant:"text-md/semibold",color:"header-primary",
children:i.guild.toString()}),(0,r.jsx)(_l.Z,{href:null===(t=py.Z.get(i.type))||void 0===t||null===(n=t.getPlatformUserUrl)||void 0===n?void 0:n.call(t,i.account),children:(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"header-secondary",children:i.account.name})})]}),o]})};function Vy(e){var t=e.onDisconnect,n=e.account,i=e.theme,a=function(){(0,yy.Z)(n.type,"User Settings")},c=function(){var e=py.Z.get(n.type),o=R.Z.Messages.DISCONNECT_ACCOUNT_BODY;(function(e){return Oy.has(e.type)&&e.twoWayLink})(n)&&(o=(0,r.jsxs)(r.Fragment,{children:[o,(0,r.jsx)(Ch.Z,{className:Ly().infoBox,children:R.Z.Messages.CONNECTED_ACCOUNT_IS_AUTHORIZED_APP_DISCONNECT_WARNING.format({platformName:e.name})})]}));(0,Ze.h7)((function(n){return(0,r.jsx)(mh.Z,ky({title:R.Z.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:e.name}),body:o,confirmText:R.Z.Messages.DISCONNECT_ACCOUNT,cancelText:R.Z.Messages.CANCEL,onConfirm:t},n))}))},l=function(e){var t=n.verified,r=e?1:0;if(!e||t){b(r)
;fy.Z.setVisibility(n.type,n.id,r)}else{C(r);(0,yy.Z)(n.type,"User Settings")}},u=function(e){var t=n.verified,r=e?1:0;if(!e||t){v(r);fy.Z.setMetadataVisibility(n.type,n.id,r)}else{j(r);(0,yy.Z)(n.type,"User Settings")}},f=function(e){E(e);fy.Z.setFriendSync(n.type,n.id,e)},d=function(e){I(e);fy.Z.setShowActivity(n.type,n.id,e)},p=By(o.useState(n.friendSync),2),h=p[0],E=p[1],y=By(o.useState(n.visibility),2),m=y[0],b=y[1],g=By(o.useState(n.metadataVisibility),2),O=g[0],v=g[1],_=By(o.useState(n.showActivity),2),S=_[0],I=_[1],T=By(o.useState(null),2),N=T[0],C=T[1],A=By(o.useState(null),2),P=A[0],j=A[1],x=By(o.useState(!1),2),M=x[0],w=x[1],Z=By(o.useState([]),2),L=Z[0],D=Z[1],U=py.Z.get(n.type);o.useEffect((function(){E(n.friendSync);b(n.visibility);v(n.metadataVisibility);I(n.showActivity)}),[n]);o.useEffect((function(){if(!1!==n.verified){if(null!=N){b(N);fy.Z.setVisibility(n.type,n.id,N);C(null)}if(null!=P){v(P);fy.Z.setMetadataVisibility(n.type,n.id,P);j(null)}}}),[n])
;var k=Th.YL.useExperiment({}).allowChurroUpsells;return(0,r.jsxs)("div",{className:Ly().connection,children:[function(e){var t,n=py.Z.get(e.type),o="1"===(null!==(t=e.metadata)&&void 0!==t?t:{})[My.PC.TWITTER_VERIFIED],a=null;n.type===G.ABu.TWITTER&&o&&(a=(0,r.jsx)(un.ZP,{text:R.Z.Messages.CONNECTION_VERIFIED_ON_TWITTER,children:function(e){return(0,r.jsx)(by.Z,Gy(ky({},e),{className:Ly().connectionAccountLabelVerified,color:(0,ae.Lq)(G.Ilk.TWITTER),children:(0,r.jsx)(gy.Z,{color:(0,ae.Lq)(G.Ilk.WHITE_500)})}))}}));return(0,r.jsxs)("div",{className:Ly().connectionHeader,children:[(0,r.jsx)("img",{alt:n.name,className:Ly().connectionIcon,src:i===G.BRd.DARK?n.icon.darkSVG:n.icon.lightSVG}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.xv,{color:"header-primary",variant:"text-md/semibold",className:Ly().connectionAccountValue,children:(0,r.jsxs)("div",{className:Ly().connectionAccountLabelContainer,children:[e.name,a]})}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"header-secondary",
className:Ly().connectionAccountLabel,children:py.Z.get(e.type).name})]}),(0,r.jsx)(s.P3,{className:Ly().connectionDelete,onClick:c,"aria-label":R.Z.Messages.SERVICE_CONNECTIONS_DISCONNECT,focusProps:{offset:{top:-4,left:-4,right:-4}},children:(0,r.jsx)(dl.Z,{width:16,height:16})})]})}(n),function(e){return e.twoWayLink?null:e.type===G.ABu.XBOX?(0,r.jsx)("div",{className:Ly().upsellWrapper,children:(0,r.jsx)(xy,{})}):e.type===G.ABu.PLAYSTATION&&k?(0,r.jsx)("div",{className:Ly().upsellWrapper,children:(0,r.jsx)(Py,{})}):null}(n),function(e){var t,n=null!==(t=e.metadata)&&void 0!==t?t:{},o=null,i=(0,Ey.FI)(n[My.PC.CREATED_AT]);switch(e.type){case G.ABu.REDDIT:o=(0,Ey.oP)(n,Ly().metadataItem);break;case G.ABu.STEAM:o=(0,Ey.Dq)(n,Ly().metadataItem);break;case G.ABu.TWITTER:o=(0,Ey.rJ)(n,Ly().metadataItem);break;case G.ABu.EBAY:o=(0,Ey.ul)(n,Ly().metadataItem);break;case G.ABu.PAYPAL:o=(0,Ey.li)(n,Ly().metadataItem);break;case G.ABu.TIKTOK:o=(0,Ey.hf)(n,Ly().metadataItem)}if(null!==i){
null==o&&(o=[]);null==o||o.push((0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"interactive-active",className:Ly().connectedAccountVanityMetadataCreatedAt,children:R.Z.Messages.CONNECTIONS_PROFILE_MEMBER_SINCE.format({date:i})},"member-since"))}var a=L.includes(e.id),c=R.Z.Messages.REFRESH;if(null==o||0===o.length){if(!0!==py.Z.get(e.type).hasMetadata)return null;o=[(0,r.jsx)(pn.IG,{className:Ly().connectionMetadataUpsellTag,text:R.Z.Messages.NEW},"badge"),(0,r.jsx)(s.xv,{variant:"text-xs/normal",className:Ly().connectionMetadataUpsellDescription,children:R.Z.Messages.CONNECTED_ACCOUNT_ADD_DETAILS_DESCRIPTION.format({helpdeskUrl:da.Z.getArticleURL(G.BhN.CONNECTION_DETAILS)})},"label")];c=R.Z.Messages.CONNECTED_ACCOUNT_ADD_DETAILS}a&&(c=R.Z.Messages.DONE);o.push((0,r.jsx)(ue.Co,{className:Ly().metadataRefreshButton,color:a?ue.Co.Colors.GREEN:ue.Co.Colors.BRAND,size:ue.Co.Sizes.SMALL,submitting:M,disabled:a,onClick:a?void 0:function(){w(!0);fy.Z.refresh(e.type,e.id).finally((function(){
setTimeout((function(){L.push(e.id);D(L);w(!1)}),2e3)}))},children:c},"refresh-button"));return(0,r.jsx)("div",{className:Ly().metadataContainer,children:o})}(n),function(e){var t,o,i,a;G.BFP.has(n.type)&&(o=(0,r.jsx)(s.j7,{className:Ly().connectionOptionSwitch,hideBorder:!0,value:h,onChange:f,children:(0,r.jsx)(s.xv,{variant:"text-sm/semibold",children:R.Z.Messages.SYNC_FRIENDS})}));G.vbS.has(n.type)&&(i=(0,r.jsx)(s.j7,{className:Ly().connectionOptionSwitch,hideBorder:!0,value:S,onChange:d,children:(0,r.jsx)(s.xv,{variant:"text-sm/semibold",children:R.Z.Messages.DISPLAY_ACTIVITY.format({platform:e.name})})}));!0===(null===(t=py.Z.get(n.type))||void 0===t?void 0:t.hasMetadata)&&(a=(0,r.jsx)(s.j7,{className:Ly().connectionOptionSwitch,hideBorder:!0,value:1===O,onChange:u,disabled:1!==m||null==n.metadata,children:(0,r.jsx)(s.xv,{variant:"text-sm/semibold",children:R.Z.Messages.DISPLAY_DETAILS_ON_PROFILE})}));return(0,r.jsx)("div",{className:Ly().connectionOptionsWrapper,children:(0,
r.jsxs)("div",{className:Ly().connectionOptions,children:[(0,r.jsx)(s.j7,{className:Ly().connectionOptionSwitch,hideBorder:!0,value:1===m,onChange:l,children:(0,r.jsx)(s.xv,{variant:"text-sm/semibold",children:R.Z.Messages.DISPLAY_ON_PROFILE})}),a,i,o]})})}(U),function(){if(n.revoked||n.integrations.length>0)return(0,r.jsx)(s.$i,{className:Ly().connectedAccountSeparator})}(),n.revoked?(0,r.jsx)(s.xJ,{className:Ly().integrationsWrapper,children:(0,r.jsx)(s.R9,{className:Ly().integrationRevoked,children:R.Z.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:a})})}):n.integrations.length>0?(0,r.jsxs)(s.xJ,{className:Ly().integrationsWrapper,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,children:(0,r.jsx)(s.xv,{variant:"text-xs/semibold",children:R.Z.Messages.SUB_ENABLED_SERVERS})}),(0,r.jsx)("div",{children:n.integrations.map((function(e){return(0,r.jsx)(Hy,{integration:e},e.id)}))})]}):void 0]})}function Fy(e){
var t=e.alreadyConnectedPlatforms,n=e.excludedPlatformTypes,i=e.includedDisabledPlatformTypes;o.useEffect((function(){return function(){(0,tc.EW)(a.z$.NEW_CRUNCHYROLL_CONNECTION,{dismissAction:wy.L.AUTO})}}),[]);return(0,r.jsxs)("div",{className:Ly().connectContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-md/bold",color:"interactive-active",className:Ly().connectHeader,children:R.Z.Messages.CONNECTIONS_USER_SETTINGS_CONNECT_ACCOUNTS_HEADER}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"header-secondary",children:R.Z.Messages.CONNECTIONS_USER_SETTINGS_CONNECT_ACCOUNTS_DESCRIPTION.format({privacyPolicyUrl:G.EYA.PRIVACY})}),(0,r.jsx)(Yy,{alreadyConnectedPlatforms:t,excludedPlatformTypes:n,includedDisabledPlatformTypes:i})]})}function Yy(e){var t=e.alreadyConnectedPlatforms,n=e.excludedPlatformTypes,o=e.includedDisabledPlatformTypes,i=function(e){var t=py.Z.get(e);(0,yy.Z)(t.type);Kr.default.track(G.rMx.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",
current_step:"desktop oauth",platform_type:t.type})};return(0,r.jsxs)("div",{className:Ly().connectionsContainer,children:[(0,hy.AK)(o,n,t).slice(0,10).map((function(e){return(0,r.jsx)(dy.Z,{type:e.type,className:Ly().accountButton,innerClassName:Ly().accountButtonInner},e.type)})),(0,r.jsx)(un.ZP,{text:R.Z.Messages.CONNECTIONS_VIEW_MORE,children:function(e){var t=e.onMouseEnter,a=e.onMouseLeave;return(0,r.jsx)("div",{className:O()(Ly().accountAddWrapper,Ly().accountButton),children:(0,r.jsx)(uy.tE,{children:(0,r.jsx)("button",{onMouseEnter:t,onMouseLeave:a,className:O()(Ly().accountAddInner,Ly().accountButtonInner),type:"button",onClick:function(){return function(e){c.Z.dispatch({type:"CONNECTIONS_GRID_MODAL_SHOW",onComplete:i,excludedPlatformTypes:e,includedDisabledPlatformTypes:o})}(n)},"aria-label":R.Z.Messages.ADD_NEW_CONNECTION,children:(0,r.jsx)(Me.Z,{height:18,width:18,"aria-label":R.Z.Messages.CONNECTIONS_VIEW_MORE})})})})}})]})}function Wy(e){
var t,o=e.fetching,i=e.accounts,a=e.theme;t=o?(0,r.jsx)(qt.Z,{className:ye().marginTop20,type:qt.Z.Type.SPINNING_CIRCLE}):0===i.length?(0,r.jsxs)(_h.ZP,{className:ye().marginTop40,theme:a,children:[(0,r.jsx)(_h.ox,{darkSrc:n(117399),lightSrc:n(408056),width:230,height:220}),(0,r.jsx)(_h.OZ,{note:R.Z.Messages.CONNECTED_ACCOUNTS_NONE,children:R.Z.Messages.CONNECTED_ACCOUNTS_NONE_TITLE})]}):i.filter((function(e){return py.Z.isSupported(e.type)})).map((function(e,t){return(0,r.jsx)(Vy,{theme:a,account:e,onDisconnect:function(){return function(e){var t=e.type,n=e.id;fy.Z.disconnect(t,n)}(e)}},t)}));return(0,r.jsx)(s.xJ,{className:Ly().connectionList,children:t})}const zy=function(){var e=(0,E.e7)([Vr.Z],(function(){return Vr.Z.hidePersonalInformation})),t=(0,E.e7)([my.Z],(function(){return my.Z.isFetching()})),n=(0,E.e7)([my.Z],(function(){return my.Z.getAccounts()})),i=(0,E.e7)([Xr.default],(function(){return Xr.default.getCurrentUser()})),a=(0,
$o.ZP)(),c=Th.YL.useExperiment({}).allowChurroStaging,l=o.useMemo((function(){var e,t,n=new Set;c&&n.add(G.ABu.PLAYSTATION_STAGING);(null===(e=hy.bO[G.ABu.INSTAGRAM])||void 0===e?void 0:e.includes(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:""))&&n.add(G.ABu.INSTAGRAM);return n}),[c,null==i?void 0:i.id]),u=((0,E.e7)([Gs.Z],(function(){return Gs.Z.getFlattenedGuildIds()})),(0,vy.X)()),f=o.useMemo((function(){return new Set(py.Z.filter((function(e){return!u(e)})).map((function(e){return e.type})))}),[u]),d=o.useMemo((function(){var e=new Set;n.forEach((function(t){return e.add(t.type)}));return e}),[n]);o.useEffect((function(){fy.Z.fetch()}),[]);return e?(0,r.jsx)(Ut.Z,{}):(0,r.jsxs)(s.hj,{className:Ly().connections,tag:s.RB.H1,title:R.Z.Messages.CONNECTIONS,children:[(0,r.jsx)(Fy,{alreadyConnectedPlatforms:d,excludedPlatformTypes:f,includedDisabledPlatformTypes:l}),(0,r.jsx)(Wy,{fetching:t,accounts:n,theme:a})]})}
;var Ky=n(858801),qy=n(955092),Xy=n(478695),Qy=n(60392),$y=n(277624),Jy=n(404901),em=n(397945),tm=n(8240),nm=n(200056),rm=n(700738),om=n(760524),im=n(635395),am=n(528090),sm=n(172762),cm=n(149643),lm=n(811122),um=n(383654),fm=n.n(um),dm=n(122688),pm=n.n(dm),hm=n(840348),Em=n.n(hm);function ym(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bm(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function gm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bm(i,r,o,a,s,"next",e)}function s(e){bm(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Om(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vm(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function _m(e){_m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _m(e)}function Sm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Cm(e,t)}function Im(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vm(e,t,n[t])}))}return e}function Tm(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Nm(e,t){return!t||"object"!==jm(t)&&"function"!=typeof t?mm(e):t}function Cm(e,t){Cm=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Cm(e,t)}function Am(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Rm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pm(e){
return function(e){if(Array.isArray(e))return ym(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jm=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Rm(e,t){if(e){if("string"==typeof e)return ym(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ym(e,t):void 0}}function xm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0
}catch(e){return!1}}();return function(){var n,r=_m(e);if(t){var o=_m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nm(this,n)}}var Mm=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},wm=["discord_web","discord_marketing","discord_ios","discord_android"],Zm=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function Lm(e){return"discord_ios"in e||"discord_android"in e}function Dm(e){return new Promise((function(t){(0,Ze.h7)((function(n){var o=function(e){n.onClose();t(e)};return(0,r.jsxs)(ur.Y0,Tm(Im({},n),{"aria-label":"Choose A Project to Override",children:[(0,r.jsx)(ur.xB,{separator:!1,children:(0,r.jsx)(s.X6,{variant:"heading-lg/semibold",children:"Choose A Project to Override"})}),(0,r.jsx)(ur.hz,{children:(0,r.jsx)("div",{className:fm().buildOverrideList,children:e.map((function(e){return(0,r.jsx)(ue.Co,{value:e,color:ue.Co.Colors.GREEN,onClick:function(){return o(e)},children:e},e)
}))})}),(0,r.jsx)(ur.mz,{children:(0,r.jsx)(ue.Co,{color:ue.Co.Colors.PRIMARY,look:ue.Co.Looks.LINK,onClick:function(){return o(null)},children:"Nevermind"})})]}))}))}))}var Um=function(e){Sm(n,e);var t=xm(n);function n(){Om(this,n);var e;(e=t.apply(this,arguments)).handleRemoveBuildOverride=function(){e.props.onBuildOverrideRemoved(e.props.project)};e.handleOverrideIdChanged=function(t){e.props.onBuildOverrideUpdated(e.props.project,{id:t})};e.handleOverrideTypeChanged=function(t){e.props.onBuildOverrideUpdated(e.props.project,{type:t,id:""})};return e}n.prototype.render=function(){var e=this.props,t=e.project,n=e.overrideType,o=e.overrideId,i=e.disabled,a=e.error,c="branch"===n?"Branch Name":"Build ID";return(0,r.jsxs)(fe.Z,{direction:fe.Z.Direction.VERTICAL,className:O()(fm().buildOverrideGroup,ye().marginBottom20,pm().card,fm().row),children:[(0,r.jsx)(Qy.Z,{className:O()(fm().removeBuildOverride,vm({},fm().removeBuildOverrideDisabled,i)),
onClick:i?void 0:this.handleRemoveBuildOverride}),(0,r.jsxs)(fe.Z,{className:ye().marginBottom8,children:[(0,r.jsx)(fe.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:"Override Type",className:fm().item,children:(0,r.jsx)(s.q4,{options:Zm,onChange:this.handleOverrideTypeChanged,value:n,isDisabled:i})})}),(0,r.jsx)(fe.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:c,className:fm().item,children:(0,r.jsx)(s.oi,{value:o,onChange:this.handleOverrideIdChanged,disabled:i})})})]}),(0,r.jsxs)(fe.Z.Child,{children:[null!=a&&""!==a&&(0,r.jsx)(s.R9,{className:fm().item,style:{color:(0,ae.Lq)(G.Ilk.STATUS_RED_500)},type:s.R9.Types.DESCRIPTION,children:a}),(0,r.jsxs)(s.R9,{className:fm().item,type:s.R9.Types.DESCRIPTION,children:["This controls the build that will be served for the ",(0,r.jsx)("code",{children:t})," project."]})]})]})};return n}(o.Component),km=function(e){Sm(o,e);var t=xm(o);function o(){Om(this,o);var e;(e=t.apply(this,arguments)).state={loading:!0,buildOverrides:{},
loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1};var n=mm(e);e.handleAddBuildOverride=gm((function(){var e,t;return Mm(this,(function(r){switch(r.label){case 0:return[4,Dm(n.getAvailableProjects())];case 1:if(null==(e=r.sent()))return[2];t=Tm(Im({},n.state.buildOverrides),vm({},e,{type:"branch",id:""}));n.setState({buildOverrides:t});return[2]}}))}));e.handleBuildOverrideUpdated=function(t,n){var r=e.state.buildOverrides,o=Im({},null!=r?r[t]:{},n),i=Tm(Im({},e.state.buildOverrides),vm({},t,o));e.setState({buildOverrides:i})};e.handleBuildOverrideRemoved=function(t){var n=Im({},e.state.buildOverrides);delete n[t];e.setState({buildOverrides:n})};e.handleDiscardChanges=function(){e.setState({buildOverrides:Ce().cloneDeep(e.state.loadedBuildOverrides),errors:{},didSave:!1})};var i=mm(e);e.handleSaveChanges=gm((function(){var e,t,n,r;return Mm(this,(function(o){switch(o.label){case 0:if(null==(e=i.state.buildOverrides))return[2];i.setState({saving:!0});return[4,(0,Jy.aD)(e)];case 1:
if(200===(t=o.sent()).status){n=t.body;i.setState({buildOverrides:n,loadedBuildOverrides:Ce().cloneDeep(n),errors:{},didSave:!0,saving:!1})}else if(400===t.status){r=t.body;i.setState({errors:r,saving:!1,didSave:!1})}else i.setState({saving:!1,didSave:!1});return[2]}}))}));e.handleLinkGeneration=function(){var t=e.state.buildOverrides;(0,Ze.h7)((function(e){return(0,r.jsx)(Gm,Tm(Im({},e),{buildOverrides:t}))}))};return e}var i=o.prototype;i.refreshBuildOverrides=function(){var e=this;return gm((function(){var t;return Mm(this,(function(n){switch(n.label){case 0:e.setState({loading:!0});return[4,(0,em.Ce)()];case 1:t=n.sent();e.setState({loading:!1,buildOverrides:t,loadedBuildOverrides:Ce().cloneDeep(t),errors:{}});return[2]}}))}))()};i.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!Ce().isEqual(t,n)};i.componentDidMount=function(){this.refreshBuildOverrides()};i.getAvailableProjects=function(){var e,t=this.state.buildOverrides;if(null==t)return[]
;var n=Object.keys(t);return(e=Ce()).without.apply(e,[wm].concat(Pm(n)))};i.renderEmpty=function(){return(0,r.jsxs)(_h.ZP,{theme:zu.Z.theme,className:O()(ye().marginTop40,ye().marginBottom20),children:[(0,r.jsx)(_h.ox,{darkSrc:n(921912),lightSrc:n(964766),width:294,height:192}),(0,r.jsx)(_h.OZ,{children:"You have no build overrides configured."})]})};i.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,o=t.saving,i=t.errors;return null==n?null:Ce().map(n,(function(t,n){return(0,r.jsx)(Um,{project:n,overrideType:t.type,overrideId:t.id,disabled:o,error:i[n],onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)}))};i.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:(0,r.jsx)(fe.Z,{grow:0,direction:fe.Z.Direction.HORIZONTAL_REVERSE,children:(0,r.jsx)(fe.Z.Child,{grow:0,children:(0,r.jsx)(ue.Co,{onClick:function(){return location.reload()},color:ue.Co.Colors.PRIMARY,children:"Reload App"})})})}
;i.renderLinkButton=function(){var e=this.state.buildOverrides;return null==e||0===Object.keys(e).length?null:(0,r.jsx)(fe.Z,{grow:0,direction:fe.Z.Direction.HORIZONTAL_REVERSE,children:(0,r.jsx)(fe.Z.Child,{grow:0,children:(0,r.jsx)(ue.Co,{onClick:this.handleLinkGeneration,color:ue.Co.Colors.BRAND,children:"Generate Public Link"})})})};i.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state,t=e.saving,n=e.buildOverrides;return(0,r.jsxs)(fe.Z,{grow:0,direction:fe.Z.Direction.HORIZONTAL_REVERSE,children:[(0,r.jsx)(fe.Z.Child,{grow:0,children:(0,r.jsx)(ue.Co,{disabled:Lm(null!=n?n:{}),onClick:this.handleSaveChanges,submitting:t,color:ue.Co.Colors.GREEN,children:"Save Build Overrides"})}),(0,r.jsx)(fe.Z.Child,{grow:0,children:(0,r.jsx)(ue.Co,{onClick:this.handleDiscardChanges,disabled:t,color:ue.Co.Colors.RED,children:"Discard Changes"})})]})};i.render=function(){var e,t=this.state,n=t.loading,o=t.saving,i=t.buildOverrides;e=n?(0,r.jsx)(qt.Z,{
className:ye().marginTop20}):null!=i&&0===Object.keys(i).length?this.renderEmpty():this.renderItems();var a=!o&&!n&&this.getAvailableProjects().length>0,c=Lm(null!=i?i:{})&&"stable"!==window.GLOBAL_ENV.RELEASE_CHANNEL?(0,r.jsx)(s.xv,{color:"text-danger",variant:"text-md/normal",children:"Mobile build overrides must be generated using the desktop/web stable client for now!"}):null;return(0,r.jsxs)(s.hj,{className:ye().marginTop60,children:[(0,r.jsxs)(fe.Z,{className:ye().marginBottom20,children:[(0,r.jsx)(fe.Z.Child,{children:(0,r.jsx)(s.vw,{tag:s.RB.H1,children:"Build Overrides"})}),(0,r.jsx)(fe.Z.Child,{grow:0,children:(0,r.jsx)(ue.Co,{size:ue.Ph.SMALL,onClick:this.handleAddBuildOverride,disabled:!a,children:"Add Build Override"})})]}),(0,r.jsx)(s.$i,{}),(0,r.jsxs)(fe.Z,{direction:fe.Z.Direction.VERTICAL,children:[c,e,(0,r.jsxs)(fe.Z,{grow:0,direction:fe.Z.Direction.HORIZONTAL_REVERSE,children:[this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton()]})]})]})}
;return o}(o.Component),Gm=function(e){Sm(o,e);var t=xm(o);function o(){Om(this,o);var e;(e=t.apply(this,arguments)).state={ttlSeconds:3600,releaseChannel:"all",userIds:new Set,userIdEntry:"",userIdEntryError:null,allowedVersions:[],allowedVersionEntry:"",allowedVersionEntryError:null,publicLink:" ",statusText:null,statusTextColor:pe.Z.Colors.STATUS_RED,allowLoggedOut:!1};e.setUserEntryError=function(t){e.setState({userIdEntryError:t})};e.setStatusMessage=function(t,n){e.setState({statusText:t,statusTextColor:null!=n?n:pe.Z.Colors.STATUS_RED})};e.handleUserIDEntry=function(t){if(!/^[\d\s,]*$/.test(t))return e.setUserEntryError("User IDs are numbers!");var n=new Set(t.split(/[,\s]+/).filter(Boolean));e.setState({userIdEntry:t,userIds:n})};e.setAllowedVersionError=function(t){e.setState({allowedVersionEntryError:t})};e.handleAllowedVersionEntry=function(t){e.setState({allowedVersionEntry:t})};e.handleAllowedVersionEnter=function(t){t.charCode===G.yXg.ENTER&&e.handleAddAllowedVersion()}
;e.handleAddAllowedVersion=function(){var t=e.state,n=t.allowedVersions,r=t.allowedVersionEntry;if(0===(r=r.trim()).length)return e.setAllowedVersionError("Enter a valid version number!");if(n.indexOf(r)>=0)return e.setAllowedVersionError("You already added that version!");e.setState({allowedVersions:Pm(n).concat([r]),allowedVersionEntry:"",allowedVersionEntryError:""})};e.handleRemoveAllowedVersion=function(t){var n=e.state.allowedVersions;n=n.filter((function(e){return e!==t}));e.setState({allowedVersions:n})};e.handleAllowLoggedOut=function(t){e.setState({allowLoggedOut:t})};e.handleExpirationChange=function(t){e.setState({ttlSeconds:t})};e.handleReleaseChannelChange=function(t){e.setState({releaseChannel:t})};e.handleExperiments=function(t){if(0!==t.trim().length){try{var n=JSON.parse(t);for(var r in n){if(null==r.match(/^[0-9]{4}\-[0-9]{2}_[a-z0-9_]+$/)){e.setState({experimentsError:"".concat(r," is an invalid experiment name")});return}if("number"!=typeof n[r]){e.setState({
experimentsError:"".concat(r," has an invalid bucket override")});return}}}catch(t){e.setState({experimentsError:"Unable to parse experiments ".concat(t.message)});return}e.setState({experiments:t,experimentsError:void 0})}else e.setState({experimentsError:void 0})};e.generatePayload=function(){return{overrides:e.props.buildOverrides,meta:{release_channel:"all"===e.state.releaseChannel?null:e.state.releaseChannel,ttl_seconds:e.state.ttlSeconds,user_ids:Array.from(e.state.userIds),allowed_versions:e.isMobile()?e.state.allowedVersions:void 0,allow_logged_out:e.state.allowLoggedOut,experiments:null==e.state.experiments?null:JSON.parse(e.state.experiments)}}};var n=mm(e);e.handleGenerateLink=gm((function(){var e,t;return Mm(this,(function(r){switch(r.label){case 0:if(n.isMobile()&&0===n.state.allowedVersions.length){n.setAllowedVersionError("You must add at least one allowed version for iOS");return[2]}n.setStatusMessage(null);e=n.generatePayload();return[4,(0,Jy.M3)(e)];case 1:
if(!1!==(t=r.sent()).error)n.setStatusMessage(JSON.stringify(t.error),pe.Z.Colors.STATUS_RED);else{n.setState({publicLink:t.url.toString()});0===e.meta.user_ids.length&&n.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",pe.Z.Colors.STATUS_YELLOW)}return[2]}}))}));return e}var i=o.prototype;i.isMobile=function(){var e;return Lm(null!==(e=this.props.buildOverrides)&&void 0!==e?e:{})};i.renderSettingsForm=function(){var e=this,t=this.state,n=t.ttlSeconds,o=t.releaseChannel,i=t.userIdEntry,a=t.userIdEntryError,c=t.allowedVersions,l=t.allowedVersionEntry,u=t.allowedVersionEntryError,f=t.allowLoggedOut,d=t.experiments,p=t.experimentsError,h=lm.S6.find((function(e){return e.value===n})),E=c.map((function(e){return{label:e,value:e}}));return(0,r.jsxs)(fe.Z.Child,{basis:"70%",children:[(0,r.jsx)(s.xJ,{title:"Expire After",className:ye().marginBottom20,children:(0,r.jsx)(s.q4,{value:null!=h?h.value:null,options:lm.S6,
onChange:this.handleExpirationChange})}),this.isMobile()?null:(0,r.jsx)(s.xJ,{title:"Release Channel",className:ye().marginBottom20,children:(0,r.jsx)(s.q4,{value:o,options:lm.F$,onChange:this.handleReleaseChannelChange})}),this.isMobile()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xJ,{title:"Add allowed app version (required)",className:ye().marginBottom20,children:(0,r.jsxs)(fe.Z,{direction:fe.Z.Direction.HORIZONTAL,children:[(0,r.jsx)(fe.Z.Child,{wrap:!0,basis:"90%",children:(0,r.jsx)(s.oi,{autoFocus:!0,value:l,onKeyPress:this.handleAllowedVersionEnter,error:u,onChange:this.handleAllowedVersionEntry,placeholder:"Example: 34"})}),(0,r.jsx)(ue.Co,{onClick:this.handleAddAllowedVersion,children:"Add"})]})}),(0,r.jsx)(s.xJ,{title:"Remove allowed app version",className:ye().marginBottom20,children:(0,r.jsx)(s.q4,{value:null,options:E,onChange:this.handleRemoveAllowedVersion,isDisabled:0===c.length})})]}):null,this.isMobile()?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.xJ,{
title:"Limit to User IDs (optional)",className:ye().marginBottom20,children:[(0,r.jsx)(fe.Z,{direction:fe.Z.Direction.HORIZONTAL,children:(0,r.jsx)(fe.Z.Child,{wrap:!0,basis:"90%",children:(0,r.jsx)(s.Kx,{value:i,error:a,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})})}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",color:"text-muted",className:ye().marginTop8,children:"User IDs can be separated by whitespace or commas."})]})}),(0,r.jsxs)(s.xJ,{title:"Client Experiment Override",className:ye().marginBottom20,children:[(0,r.jsx)(fe.Z,{direction:fe.Z.Direction.HORIZONTAL,children:(0,r.jsx)(fe.Z.Child,{wrap:!0,basis:"90%",children:(0,r.jsx)(s.Kx,{value:d,error:p,onChange:this.handleExperiments,placeholder:'{"2022-01_threads":1}'})})}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",color:"text-muted",className:ye().marginTop8,
children:"Locally override the given experiments to the given bucket. This ONLY applies locally and WILL NOT affect the server. When the user clears build override, the experiment override is removed as well."})]}),(0,r.jsx)(s.j7,{onChange:this.handleAllowLoggedOut,value:f,children:"Allow logged out users"})]})};i.renderPayloadBlock=function(){var e=JSON.stringify(this.generatePayload(),null,2),t=function(){return e},o=(0,r.jsx)(nm.GI,{createPromise:function(){return Promise.resolve().then(n.bind(n,909844))},webpackId:909844,renderFallback:t,render:function(n){var o=n.highlight("json",e,!0);return null==o?t():(0,r.jsx)("code",{className:"hljs scroller ".concat(o.language," ").concat(Em().scrollbarGhost," ").concat(fm().codebox),dangerouslySetInnerHTML:{__html:o.value}})}});return(0,r.jsx)(fe.Z.Child,{children:(0,r.jsx)(Wr.Z,{children:(0,r.jsx)("pre",{children:o})})})};i.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,o=e.publicLink;return(0,r.jsxs)("div",{
children:[(0,r.jsx)(s.xJ,{title:"Signed Link",children:(0,r.jsxs)(fe.Z,{children:[(0,r.jsx)(fe.Z.Child,{wrap:!0,basis:"75%",children:(0,r.jsx)($y.Z,{value:o})}),(0,r.jsx)(ue.Co,{onClick:this.handleGenerateLink,children:"Generate Link"})]})}),(0,r.jsx)(pe.Z,{color:t,className:"".concat(ye().marginBottom8," ").concat(ye().marginTop8),children:n})]})};i.render=function(){var e=this.props,t=e.onClose,n=e.transitionState;return(0,r.jsxs)(ur.Y0,{size:ur.Cg.LARGE,transitionState:n,"aria-label":"Generate Public Build Override Link",children:[(0,r.jsxs)(ur.xB,{justify:fe.Z.Justify.BETWEEN,separator:!1,children:[(0,r.jsx)(s.X6,{variant:"heading-lg/semibold",children:"Generate Public Build Override Link"}),(0,r.jsx)(ur.ol,{onClick:t})]}),(0,r.jsxs)(ur.hz,{children:[(0,r.jsxs)(fe.Z,{children:[this.renderSettingsForm(),this.renderPayloadBlock()]}),this.renderLinkForm()]})]})};return o}(o.Component);function Bm(){throw new Error("Send help")}function Hm(){dd.default.crash()}function Vm(){
var e=Am(o.useState(!1),2),t=e[0],n=e[1],i=Am(o.useState(""),2),a=i[0],s=i[1];o.useEffect((function(){gm((function(){var e;return Mm(this,(function(t){switch(t.label){case 0:return[4,(0,Jc.Y)()];case 1:e=t.sent();s(e);return[2]}}))}))()}),[]);return t?{}:(0,r.jsxs)("div",{className:fm().buttonsContainer,children:[(0,r.jsx)(ue.Co,{onClick:function(){return n(!0)},children:"Trigger React Crash"}),(0,r.jsx)(ue.Co,{onClick:Hm,children:"Trigger libdiscord Crash"}),(0,r.jsx)(ue.Co,{onClick:Bm,children:"Trigger onClick Throw"}),(0,r.jsx)(ue.Co,{onClick:function(){return window.open(a,"_blank")},disabled:""===a,children:"Open Overlay"}),(0,r.jsx)(ue.Co,{onClick:function(){sm.Z.getSocket().close();sm.Z.getSocket().connect()},children:"Reset Socket"}),im.q&&(0,r.jsx)(ue.Co,{onClick:function(){c.Z.dispatch({type:"CLEAR_CACHES"})},children:"Clear Caches"})]})}var Fm=E.ZP.connectStores([am.default,om.Z],(function(){return{isTracingRequests:am.default.isTracingRequests,
isForcedCanary:am.default.isForcedCanary,isLoggingGatewayEvents:am.default.isLoggingGatewayEvents,isLoggingOverlayEvents:am.default.isLoggingOverlayEvents,isLoggingAnalyticsEvents:am.default.isLoggingAnalyticsEvents,isAxeEnabled:am.default.isAxeEnabled,isSourceMapsEnabled:am.default.sourceMapsEnabled,isAnalyticsDebuggerEnabled:am.default.isAnalyticsDebuggerEnabled,isIdleStatusIndicatorEnabled:am.default.isIdleStatusIndicatorEnabled,appDirectoryIncludesInactiveCollections:am.default.appDirectoryIncludesInactiveCollections,isDevToolsEnabled:om.Z.devToolsEnabled}}))((function(e){var t=e.isTracingRequests,n=e.isForcedCanary,o=e.isLoggingGatewayEvents,i=e.isLoggingOverlayEvents,a=e.isLoggingAnalyticsEvents,c=(e.isAxeEnabled,e.isSourceMapsEnabled),l=e.isAnalyticsDebuggerEnabled,u=e.isIdleStatusIndicatorEnabled,f=e.appDirectoryIncludesInactiveCollections,d=e.isDevToolsEnabled,p=(0,E.e7)([Xr.default],(function(){return Xr.default.getCurrentUser()}));return(0,r.jsxs)(s.hj,{
title:"Developer Flags",tag:s.RB.H1,children:[Qc.Z.isDeveloper&&(0,r.jsx)(s.j7,{value:d,note:(0,r.jsxs)(r.Fragment,{children:["Enable client DevTools (open via Help menu in top right or with"," ",(0,r.jsx)("kbd",{className:fm().key,children:Ap.Z.modKey})," + ",(0,r.jsx)("kbd",{className:fm().key,children:Ap.Z.altKey})," ","+ ",(0,r.jsx)("kbd",{className:fm().key,children:"O"}),")."]}),onChange:function(e){return(0,rm.Qh)({devToolsEnabled:e})},children:"Enable DevTools"}),(0,r.jsx)(s.j7,{value:t,note:"Force trace all client requests with APM",onChange:function(e){return(0,Ky.y)({trace:e})},children:"Enable Tracing Requests"}),(0,r.jsx)(s.j7,{value:n,note:"Force all API requests to canary instances",onChange:function(e){return(0,Ky.y)({canary:e})},children:"Enable Forced Canary"}),(0,r.jsx)(s.j7,{value:o,note:"Logs all incoming and outgoing gateway events to the developer console, enable verbose logging in the developer console to see!",onChange:function(e){return(0,Ky.y)({
logGatewayEvents:e})},children:"Enable Logging of Gateway Events to Console"}),(0,r.jsx)(s.j7,{value:i,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){return(0,Ky.y)({logOverlayEvents:e})},children:"Enable Logging of Overlay RPC Events & Commands"}),(0,r.jsx)(s.j7,{value:a,note:"Logs all analytics events to the developer console",onChange:function(e){return(0,Ky.y)({logAnalyticsEvents:e})},children:"Enable Logging of Analytics Events"}),(0,r.jsx)(s.j7,{value:c,note:"Only enable on devices you trust.",onChange:function(e){return(0,Ky.y)({sourceMapsEnabled:e})},children:"Enable source maps to be loaded on this client"}),(0,r.jsx)(s.j7,{value:l,note:"Displays a floating debugger with viewed impressions",onChange:function(e){return(0,Ky.y)({analyticsDebuggerEnabled:e})},children:"Enable standard analytics debugger view"}),(null==p?void 0:p.isStaff())?(0,r.jsx)(s.j7,{value:u,note:"Displays a floating idle status indicator",
onChange:function(e){return(0,Ky.y)({idleStatusIndicatorEnabled:e})},children:"Enable idle status indicator"}):null,null,(null==p?void 0:p.isStaff())?(0,r.jsx)(s.j7,{value:null==p?void 0:p.hasDisabledPremium(),note:"Force non premium user experience locally",onChange:function(e){return Xy.mB(G.xW$.DISABLE_PREMIUM,e)},children:"Enable force non nitro experience locally"}):null,(null==p?void 0:p.isStaff())?(0,r.jsx)(s.j7,{value:f,note:"In App Directory, include inactive collections on the homepage. Use this to preview changes to collections before publishing them.",onChange:function(e){return(0,Ky.y)({appDirectoryIncludesInactiveCollections:e})},children:"Preview Unpublished Collections on App Directory Homepage"}):null]})}));function Ym(){var e=(0,E.e7)([cm.Z],(function(){return cm.Z.getSurveyOverride()})),t=Am(o.useState(null!=e?e:""),2),n=t[0],i=t[1];return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:"Survey Override",className:ye().marginTop60,children:[(0,r.jsx)(s.vw,{
children:"Copy the ID of the Survey you want to test:"}),(0,r.jsxs)("form",{className:fm().surveyOverride,onSubmit:function(e){e.preventDefault();n.length>0?qy.Xq(n):qy.Xq(null)},children:[(0,r.jsx)(s.oi,{className:fm().surveyOverrideInput,value:n,onChange:i}),(0,r.jsx)(ue.Co,{type:"submit",children:"Save Override"})]})]})}function Wm(){var e,t=(0,E.e7)([tm.Z],(function(){return tm.Z.overrideId})),n=Am(o.useState(null!==(e=tm.Z.overrideId)&&void 0!==e?e:""),2),i=n[0],a=n[1];return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:"Changelog Override",className:ye().marginTop60,children:[(0,r.jsx)(s.vw,{children:"Enter the ID of the changelog you want to test"}),(0,r.jsxs)("div",{className:fm().surveyOverride,children:[(0,r.jsx)(s.oi,{className:fm().surveyOverrideInput,value:i,onChange:a}),(0,r.jsx)(ue.Co,{onClick:function(){""===i?u.Z.setChangelogOverride(null):u.Z.setChangelogOverride(i)},disabled:t===i,children:"Update Changelog"})]})]})}var zm=function(e){Sm(n,e);var t=xm(n);function n(){Om(this,n)
;return t.apply(this,arguments)}n.prototype.render=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Fm,{}),(0,r.jsx)(Vm,{}),(0,r.jsx)(Ym,{}),(0,r.jsx)(Wm,{}),(0,r.jsx)(km,{})]})};return n}(o.PureComponent);const Km=zm;var qm=n(418674),Xm=n(310333);function Qm(){var e=hi.xq.useSetting(),t=o.useMemo((function(){return(0,Xm.bL)(e)}),[e]);return(0,r.jsx)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.FRIEND_REQUESTS,children:(0,r.jsxs)(s.hj,{title:R.Z.Messages.FRIEND_PERMITTED_SOURCE,className:ye().marginBottom40,children:[(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom20),value:t.all,onChange:function(e){return hi.xq.updateSetting(e?G.HGf:G.HGf&~G.SOq.NO_RELATION)},children:R.Z.Messages.FRIEND_PERMITTED_SOURCE_ALL}),(0,r.jsx)(s.j7,{value:t.all||t.mutualFriends,onChange:function(t){return hi.xq.updateSetting(t?qm.pj(e,G.SOq.MUTUAL_FRIENDS):qm.M1(e,G.SOq.MUTUAL_FRIENDS,G.SOq.NO_RELATION))},children:R.Z.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS}),(0,r.jsx)(s.j7,{
value:t.all||t.mutualGuilds,onChange:function(t){return hi.xq.updateSetting(t?qm.pj(e,G.SOq.MUTUAL_GUILDS):qm.M1(e,G.SOq.MUTUAL_GUILDS,G.SOq.NO_RELATION))},children:R.Z.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS})]})})}var $m=n(881548),Jm=n(73462),eb=n(928926),tb=n(71284),nb=n(413620),rb=n(604860),ob=n(835244),ib=n.n(ob),ab=n(480798),sb=n.n(ab);function cb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ub(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fb(e){fb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return fb(e)}function db(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ub(e,t,n[t])}))}return e}function pb(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function hb(e,t){return!t||"object"!==bb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Eb(e,t){Eb=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Eb(e,t)}function yb(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||gb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mb(e){return function(e){if(Array.isArray(e))return cb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bb=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function gb(e,t){if(e){if("string"==typeof e)return cb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cb(e,t):void 0}}function Ob(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=fb(e);if(t){var o=fb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hb(this,n)}}var vb=E.ZP.connectStores([zu.Z],(function(){return{theme:zu.Z.theme}}))(_h.ZP),_b=(0,rl.ED)();function Sb(e){var t=e.onClose,n=(0,E.e7)([Jm.ZP],(function(){return Jm.ZP.getCandidateGames()
})),i=yb(o.useState(null),2),a=i[0],c=i[1],l=n.map((function(e){return{value:e.pid,label:null!=e.name?e.name:""}}));return(0,r.jsxs)(s.Vq,{className:O()(ib().addGamePopout,sb().elevationBorderHigh),"aria-label":R.Z.Messages.SETTINGS_GAMES_ADD_NEW_GAME,children:[(0,r.jsx)(s.Vc,{placeholder:R.Z.Messages.SELECT,value:a,options:l,onChange:function(e){c(e)}}),(0,r.jsx)(s.$i,{className:O()(ye().marginTop8,ye().marginBottom8)}),(0,r.jsxs)("div",{className:O()(ib().actions,Al().horizontal),children:[(0,r.jsx)(ue.Co,{className:ib().cancelButton,look:ue.iL.LINK,color:ue.Tt.PRIMARY,onClick:t,children:R.Z.Messages.CANCEL}),(0,r.jsx)(ue.Co,{disabled:null==a,onClick:function(){if(null!=a){$m.Z.addGame(a);t()}},children:R.Z.Messages.SETTINGS_GAMES_ADD_NEW_GAME})]})]})}function Ib(e){var t,n,i=e.rawGame,a=e.nowPlaying,c=void 0!==a&&a,l=e.isOverride,u=function(){null!=h&&$m.Z.deleteEntry(h)},f=function(){null!=h&&h.name!==y&&$m.Z.editName(h,y)},d=function(e){if(13===e.keyCode){e.currentTarget.blur()
;e.preventDefault()}},p=function(){null!=h&&$m.Z.toggleOverlay(h)},h=null!=i?(0,Jm.FZ)(i):null,E=yb(o.useState(c&&null!==(t=null==h?void 0:h.name)&&void 0!==t?t:""),2),y=E[0],m=E[1],b=O()(Al().flexCenter,(ub(n={},ib().game,!c),ub(n,ib().activeGame,c),ub(n,pm().card,!c),ub(n,ib().nowPlaying,null!=h&&c),ub(n,ib().notDetected,null==h&&c),n));return(0,r.jsxs)("div",{className:b,children:[(0,r.jsxs)("div",{className:O()(ib().gameNameLastPlayed,Al().vertical),children:[null==h?(0,r.jsx)("div",{className:ib().gameName,children:R.Z.Messages.SETTINGS_GAMES_NO_GAME_DETECTED}):h.verified&&!l?(0,r.jsxs)("div",{className:ib().detectedApplication,children:[(0,r.jsx)("div",{className:ib().gameName,children:h.name}),(0,r.jsx)(un.ZP,{text:R.Z.Messages.SETTINGS_GAMES_VERIFIED_ICON,children:function(e){return(0,r.jsx)(by.Z,pb(db({className:ib().gameVerifiedIcon,size:18,color:(0,ae.Lq)(G.Ilk.BRAND_500)},e),{children:(0,r.jsx)(gy.Z,{width:18,height:18,color:(0,ae.Lq)(G.Ilk.WHITE_500)})}))}})]}):(0,
r.jsx)("input",{className:O()(ib().gameName,ib().gameNameInput),type:"text",maxLength:128,value:y,onBlur:f,onKeyDown:d,onChange:function(e){return m(e.target.value)}}),function(){if(null==h)return(0,r.jsx)("div",{className:ib().lastPlayed,children:R.Z.Messages.SETTINGS_GAMES_NOT_PLAYING});var e,t=h.played,n=h.exePath;c?e=R.Z.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:null!=t&&""!==t&&(e=R.Z.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:t}));return(0,r.jsx)("div",{className:ib().lastPlayed,children:(0,r.jsx)(eb.Z,{hoverText:null!=n&&""!==n?n.toUpperCase():"",children:e})})}()]}),function(){if(!_b||null==h)return null;var e=h.overlay,t=h.overlayWarn,n=e?R.Z.Messages.SETTINGS_GAMES_OVERLAY_ON:R.Z.Messages.SETTINGS_GAMES_OVERLAY_OFF,o=e?(0,r.jsx)(tb.Z,{className:ib().overlayToggleIconOn,foreground:ib().fill}):(0,r.jsx)(nb.Z,{className:ib().overlayToggleIconOff,foreground:ib().fill}),i=t?(0,r.jsx)(un.ZP,{text:R.Z.Messages.SETTINGS_GAMES_OVERLAY_WARNING,children:function(e){return(0,
r.jsx)("i",db({className:ib().overlayWarningIcon},e))}}):null;return(0,r.jsxs)("div",{className:O()(Al().flexCenter,Al().noWrap,Al().justifyBetween),children:[i,(0,r.jsx)("div",{className:ib().overlayStatusText,children:n}),(0,r.jsx)(un.ZP,{text:R.Z.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(s.P3,{"aria-label":R.Z.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY,className:ib().overlayToggleIcon,onClick:p,onMouseEnter:t,onMouseLeave:n,children:o})}})]})}(),null==h||c&&!l?null:(0,r.jsx)(Qy.Z,{className:ib().removeGame,onClick:u})]})}function Tb(e){var t=e.children;return(0,r.jsxs)(vb,{className:ye().marginTop40,children:[(0,r.jsx)(_h.ox,{darkSrc:n(498913),lightSrc:n(598150),width:430,height:250}),t]})}var Nb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&Eb(e,t)}(n,e);var t=Ob(n);function n(){lb(this,n);return t.apply(this,arguments)}var i=n.prototype;i.componentDidMount=function(){Jm.ZP.watchCandidateGames(!0)};i.componentWillUnmount=function(){Jm.ZP.watchCandidateGames(!1)};i.renderPopout=function(e){var t=e.closePopout;return(0,r.jsx)(Sb,{onClose:t})};i.renderGameList=function(){var e=this.props,t=e.gameHistory,n=e.overrideExePaths;return 0===t.length?(0,r.jsx)(Tb,{children:(0,r.jsx)(_h.OZ,{children:R.Z.Messages.SETTINGS_GAMES_NO_GAMES_HEADER})}):(0,r.jsxs)(s.hj,{className:ye().marginTop40,children:[(0,r.jsx)(s.vw,{className:ye().marginBottom4,children:R.Z.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL}),t.map((function(e){return(0,r.jsx)(Ib,{rawGame:e,isOverride:n.has(e.exePath)},e.exePath)}))]})};i.renderGameDetails=function(){if(!rl.FB)return(0,r.jsx)(Tb,{});var e=this.props,t=e.runningGame,n=e.overrideExePaths;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ib,{rawGame:t,isOverride:null!=t&&n.has(t.exePath),
nowPlaying:!0}),(0,r.jsxs)("div",{className:O()(ib().nowPlayingAdd,ye().marginReset,ye().marginTop8,ye().marginBottom20),children:[(0,r.jsx)("span",{children:R.Z.Messages.SETTINGS_GAMES_NOT_SEEING_GAME}),(0,r.jsx)($a.ZP,{renderPopout:this.renderPopout,align:$a.ZP.Align.CENTER,position:$a.ZP.Positions.BOTTOM,children:function(e){return(0,r.jsx)(ue.Co,pb(db({},e),{look:ue.iL.LINK,size:ue.Ph.MIN,color:ue.Tt.LINK,children:R.Z.Messages.SETTINGS_GAMES_ADD_GAME}))}})]}),this.renderGameList()]})};i.render=function(){return(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(s.hj,{tag:"h1",title:R.Z.Messages.REGISTERED_GAMES,children:this.renderGameDetails()})})};return n}(o.PureComponent),Cb=(0,rb.oH)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Set(t.map((function(e){return e.exePath})))}));function Ab(){var e=(0,E.Wu)([Jm.ZP],(function(){return Jm.ZP.getGamesSeen(!0)})),t=(0,E.cj)([Jm.ZP],(function(){return{runningGame:Jm.ZP.getVisibleGame(),
overrideExePaths:Cb.apply(void 0,mb(Jm.ZP.getOverrides()))}}));return(0,r.jsx)(Nb,db({gameHistory:e},t))}var Pb=n(756108),jb=n.n(Pb);function Rb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xb(e){var t=e.features;return(0,r.jsx)(r.Fragment,{children:t.map((function(e,t){return(0,r.jsxs)(fe.Z,{align:fe.Z.Align.CENTER,className:O()(ye().marginTop20,jb().feature,Rb({},jb().featureBorder,0!==t)),children:[null!=e.icon?(0,r.jsx)("div",{className:O()(jb().icon,e.icon)}):null,(0,r.jsxs)("div",{children:[null!=e.title?(0,r.jsx)("div",{className:O()(ye().marginBottom8,jb().title),children:e.title}):null,(0,r.jsx)("div",{className:jb().description,children:e.description})]})]},t)}))})}var Mb=n(104640),wb=n(211906),Zb=n.n(wb);function Lb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Db(e){Db=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return Db(e)}function Ub(e,t){return!t||"object"!==Gb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kb(e,t){kb=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return kb(e,t)}var Gb=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Bb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Db(e);if(t){var o=Db(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ub(this,n)}}var Hb=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&kb(e,t)}(n,e);var t=Bb(n);function n(){Lb(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID,o=e.videoClassName;return(0,r.jsx)(Mb.Z,{aspectRatio:16/9,className:O()(t,Zb().videoWrapper),children:(0,r.jsx)("iframe",{className:O()(o,Zb().video),src:"https://www.youtube.com/embed/".concat(n,"?rel=0&showinfo=0&controls=1&origin=https://").concat(G.$R1),allowFullScreen:!0,sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})})};return n}(o.Component),Vb=n(439324),Fb=n.n(Vb);function Yb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wb(e){Wb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return Wb(e)}function zb(e,t){return!t||"object"!==qb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kb(e,t){Kb=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Kb(e,t)}var qb=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Xb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Wb(e);if(t){var o=Wb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zb(this,n)}}const Qb=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Kb(e,t)}(n,e);var t=Xb(n);function n(){Yb(this,n);return t.apply(this,arguments)}n.prototype.render=function(){return(0,r.jsxs)("div",{className:Fb().features,children:[(0,r.jsx)(Hb,{className:Fb().video,videoID:"SWzB1mx2o5k"}),(0,r.jsx)(s.X6,{className:Fb().perksHeading,variant:"heading-sm/semibold",children:R.Z.Messages.HYPESQUAD_PERKS_HEADING}),(0,r.jsx)(xb,{features:[{icon:Fb().perkNewsletter,title:R.Z.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:R.Z.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:Fb().perkBadge,title:R.Z.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:R.Z.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:Fb().perkChallenges,title:R.Z.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,
description:R.Z.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]})]})};return n}(o.Component);var $b=n(822583),Jb=n(403080),eg=n.n(Jb);function tg(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function ng(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tg(i,r,o,a,s,"next",e)}function s(e){tg(i,r,o,a,s,"throw",e)}a(void 0)}))}}function rg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function og(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ig(e){ig=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ig(e)}function ag(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){og(e,t,n[t])}))}return e}function sg(e,t){return!t||"object"!==lg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cg(e,t){cg=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return cg(e,t)}var lg=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ug(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ig(e);if(t){var o=ig(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return sg(this,n)}}var fg,dg,pg,hg=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop()
;continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Eg=(og(fg={},G.gkr.HOUSE_1,eg().membershipDialogHouse1),og(fg,G.gkr.HOUSE_2,eg().membershipDialogHouse2),og(fg,G.gkr.HOUSE_3,eg().membershipDialogHouse3),fg),yg=(og(dg={},G.gkr.HOUSE_1,eg().houseLogoHouse1),og(dg,G.gkr.HOUSE_2,eg().houseLogoHouse2),og(dg,G.gkr.HOUSE_3,eg().houseLogoHouse3),dg),mg=(og(pg={},G.gkr.HOUSE_1,n(903049)),og(pg,G.gkr.HOUSE_2,n(188374)),og(pg,G.gkr.HOUSE_3,n(789621)),pg),bg=function(e){var t;return(og(t={},G.gkr.HOUSE_1,R.Z.Messages.HYPESQUAD_DESCRIPTION_HOUSE_1),og(t,G.gkr.HOUSE_2,R.Z.Messages.HYPESQUAD_DESCRIPTION_HOUSE_2),og(t,G.gkr.HOUSE_3,R.Z.Messages.HYPESQUAD_DESCRIPTION_HOUSE_3),t)[e]},gg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&cg(e,t)
}(o,e);var t=ug(o);function o(){rg(this,o);var e;(e=t.apply(this,arguments)).handleJoinHypeSquadClick=function(){(0,Ze.ZD)(ng((function(){var e,t;return hg(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(53500)]).then(n.bind(n,653500))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ag({},e))}]}}))})))};return e}o.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,o=e.isVerified;if(!n||!o)return null;if(null!=t){var i=R.Z.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:(0,$b.X8)(t)});return(0,r.jsx)("div",{className:O()(eg().membershipDialog,Eg[t]),children:(0,r.jsxs)("div",{className:eg().membershipDialogContent,children:[(0,r.jsxs)(fe.Z,{children:[(0,r.jsxs)(fe.Z.Child,{grow:1,shrink:1,children:[(0,r.jsx)(s.xv,{className:eg().membershipDialogHeading,variant:"text-xs/bold",children:R.Z.Messages.HYPESQUAD_YOUR_HOUSE}),(0,r.jsx)(s.X6,{className:eg().membershipDialogHouseName,
variant:"heading-sm/semibold",children:i}),(0,r.jsx)(s.xv,{className:eg().membershipDialogHouseDescription,variant:"text-md/normal",children:bg(t)})]}),(0,r.jsx)(fe.Z.Child,{className:eg().houseLogoWrapper,grow:0,shrink:0,wrap:!0,children:(0,r.jsx)("img",{className:O()(eg().houseLogo,yg[t]),src:mg[t],alt:i})})]}),(0,r.jsxs)(s.xv,{className:eg().membershipDialogSwitchHouses,variant:"text-md/normal",children:[R.Z.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,(0,r.jsx)(s.P3,{className:eg().membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span",children:R.Z.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION})]})]})})}return(0,r.jsxs)("div",{className:eg().joinCTAWrapper,children:[(0,r.jsxs)(fe.Z,{className:eg().joinCTA,align:fe.Z.Align.CENTER,justify:fe.Z.Justify.CENTER,direction:fe.Z.Direction.HORIZONTAL,children:[(0,r.jsx)(fe.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:R.Z.Messages.HYPESQUAD_READY_TO_REP})}),(0,r.jsx)(fe.Z.Child,{
grow:0,shrink:0,children:(0,r.jsx)(ue.Co,{onClick:this.handleJoinHypeSquadClick,children:R.Z.Messages.HYPESQUAD_JOIN})})]}),(0,r.jsx)(s.xv,{className:eg().newsletterWarning,variant:"text-sm/normal",children:R.Z.Messages.HYPESQUAD_NEWSLETTER_WARNING})]})};return o}(o.Component),Og=n(295527),vg=n(498863),_g=n.n(vg);function Sg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ig(e){Ig=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ig(e)}function Tg(e,t){return!t||"object"!==Cg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ng(e,t){Ng=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ng(e,t)}var Cg=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ag(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ig(e);if(t){var o=Ig(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tg(this,n)}}var Pg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ng(e,t)}(n,e);var t=Ag(n);function n(){Sg(this,n);var e;(e=t.apply(this,arguments)).state={isRequestPending:!1,hasError:!1};e.handleLeaveHypeSquadError=function(){e.setState({hasError:!0})};e.handleLeaveHypeSquadClick=function(){e.setState({isRequestPending:!0},(function(){Og.Z.leaveHypeSquadOnline().then((function(){e.setState({isRequestPending:!1})
})).catch((function(){e.setState({hasError:!0,isRequestPending:!1})}))}))};return e}var o=n.prototype;o.renderErrorMessage=function(){return this.state.hasError?(0,r.jsx)("div",{className:_g().error,children:R.Z.Messages.HYPESQUAD_LEAVE_ERROR}):null};o.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?(0,r.jsxs)("div",{className:_g().leaveActionWrapper,children:[this.renderErrorMessage(),(0,r.jsxs)(s.xv,{variant:"text-sm/normal",children:[R.Z.Messages.HYPESQUAD_LEAVE_PROMPT,(0,r.jsx)(ue.Co,{className:_g().leaveButton,color:ue.Co.Colors.LINK,look:ue.Co.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:ue.Co.Sizes.NONE,submitting:e,children:R.Z.Messages.HYPESQUAD_LEAVE_ACTION})]})]}):null};return n}(o.PureComponent),jg=n(262941),Rg=n(672103),xg=n.n(Rg);function Mg(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function wg(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Mg(i,r,o,a,s,"next",e)}function s(e){Mg(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Zg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Dg(e){Dg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Dg(e)}function Ug(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Lg(e,t,n[t])}))}return e}function kg(e,t){return!t||"object"!==Bg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return e}(e):t}function Gg(e,t){Gg=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Gg(e,t)}var Bg=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Hg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Dg(e);if(t){var o=Dg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kg(this,n)}}var Vg=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Fg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Gg(e,t)}(o,e);var t=Hg(o);function o(){Zg(this,o)
;return t.apply(this,arguments)}var i=o.prototype;i.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,r=e.unverifiedNotice;return t?null!=r?r:R.Z.Messages.NOTICE_UNVERIFIED_ACCOUNT:null!=n?n:R.Z.Messages.NOTICE_UNCLAIMED_ACCOUNT};i.renderPrimaryAction=function(){return this.props.isClaimed?this.props.hasEmail?(0,r.jsx)(fe.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(Ku.Z,{})}):(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.MEDIUM,color:ue.Co.Colors.BRAND,onClick:this.openChangeEmailModal,children:R.Z.Messages.ADD_EMAIL_SHORT}):(0,r.jsx)(fe.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.MEDIUM,color:ue.Co.Colors.BRAND,onClick:this.openClaimAccountModal,children:R.Z.Messages.CLAIM_ACCOUNT})})};i.renderSecondaryAction=function(){return this.props.isClaimed&&this.props.hasEmail?(0,r.jsx)(fe.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(ue.Co,{color:ue.Co.Colors.PRIMARY,look:ue.Co.Looks.LINK,onClick:this.openChangeEmailModal,
children:R.Z.Messages.CHANGE_EMAIL_SHORT})}):null};i.openClaimAccountModal=function(){(0,Ze.ZD)(wg((function(){var e,t;return Vg(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(67833)]).then(n.bind(n,987554))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ug({},e))}]}}))})))};i.openChangeEmailModal=function(){(0,Ze.ZD)(wg((function(){var e,t;return Vg(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87850)]).then(n.bind(n,387850))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ug({},e))}]}}))})))};i.render=function(){var e=this.props,t=e.className,n=e.isClaimed,o=e.isVerified;return n&&o?null:(0,r.jsx)(Wr.Z,{className:O()(xg().wrapper,t),children:(0,r.jsxs)(fe.Z,{align:fe.Z.Align.CENTER,children:[(0,r.jsx)(fe.Z.Child,{className:xg().image,grow:0,shrink:0}),(0,r.jsxs)(fe.Z.Child,{children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:this.renderNotice()}),(0,r.jsxs)(fe.Z,{
justify:fe.Z.Justify.CENTER,className:xg().content,children:[this.renderPrimaryAction(),this.renderSecondaryAction()]})]})]})})};return o}(o.Component);const Yg=E.ZP.connectStores([Xr.default],(function(){var e=Xr.default.getCurrentUser();L()(null!=e,"EmailNotice: currentUser cannot be undefined");return{isClaimed:e.isClaimed(),isVerified:e.verified,hasEmail:null!=e.email}}))(Fg);var Wg=n(676366),zg=n.n(Wg);function Kg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qg(e){qg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return qg(e)}function Xg(e,t){return!t||"object"!==$g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qg(e,t){Qg=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Qg(e,t)}var $g=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Jg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=qg(e);if(t){var o=qg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xg(this,n)}}var eO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Qg(e,t)}(n,e);var t=Jg(n);function n(){Kg(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderIntroHeader=function(){return null==this.props.houseMembership?R.Z.Messages.HYPESQUAD_HEADING:R.Z.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER}
;o.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,o=e.isVerified;return(0,r.jsxs)(s.y5,{component:(0,r.jsxs)("div",{className:zg().intro,children:[(0,r.jsx)(s.X6,{variant:"heading-xxl/semibold",className:zg().introHeader,children:this.renderIntroHeader()}),(0,r.jsx)(s.xv,{variant:"text-lg/normal",children:R.Z.Messages.HYPESQUAD_SUBHEADING})]}),children:[(0,r.jsx)(Yg,{className:zg().verificationNotice,unclaimedNotice:R.Z.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:R.Z.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),(0,r.jsx)(gg,{houseMembership:t,isClaimed:n,isVerified:o}),(0,r.jsx)(Qb,{}),(0,r.jsx)(Pg,{isHypeSquadOnlineMember:null!=t}),(0,r.jsx)(Wr.Z,{className:zg().attendeeCTA,children:R.Z.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:G.EYA.HYPESQUAD})})]})};return n}(o.PureComponent);const tO=E.ZP.connectStores([Xr.default,jg.Z],(function(){var e=Xr.default.getCurrentUser();L()(null!=e,"UserSettingsHypeSquad: currentUser cannot be undefined");return{
houseMembership:jg.Z.getHouseMembership(),isClaimed:e.isClaimed(),isVerified:e.verified}}))(eO);var nO=n(239396),rO=n(155208),oO=n(981171),iO=n(202036),aO=n(219686),sO=n.n(aO);function cO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lO(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function uO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lO(i,r,o,a,s,"next",e)}function s(e){lO(i,r,o,a,s,"throw",e)}a(void 0)}))}}function fO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function pO(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function hO(e){hO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hO(e)}function EO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pO(e,t,n[t])}))}return e}function yO(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function mO(e,t){return!t||"object"!==gO(t)&&"function"!=typeof t?cO(e):t}
function bO(e,t){bO=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return bO(e,t)}var gO=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function OO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hO(e);if(t){var o=hO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mO(this,n)}}var vO=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&bO(e,t)}(o,e);var t=OO(o);function o(){fO(this,o);var e
;(e=t.apply(this,arguments)).state={codeInput:"",submitting:!1,hasError:!1,isPromoCode:!1};e.handleChange=function(t){e.setState({codeInput:t,hasError:!1})};var i,a=cO(e);e.handleSubmit=(i=uO((function(e){var t,o,i;return vO(this,(function(s){switch(s.label){case 0:e.preventDefault();if(""===(t=a.state.codeInput))return[2];if(null==(o=(0,iO.JT)(t))){a.setState({hasError:!0});return[2]}a.setState({submitting:!0});s.label=1;case 1:s.trys.push([1,3,4,5]);return[4,oO.Z.resolveGiftCode(o)];case 2:if(null!=(i=s.sent())&&null!=i.giftCode.promotion){a.setState({isPromoCode:!0});throw new Error("Cannnot redeem promotion code as gift")}Kr.default.track(G.rMx.OPEN_MODAL,{type:"gift_accept",location:yO(EO({},a.analyticsLocation),{object:G.qAy.BUTTON_CTA})});(0,Ze.ZD)(uO((function(){var e,t;return vO(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(51356)]).then(n.bind(n,51356))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,EO({code:o},e))}]}}))
})));a.setState({codeInput:""});return[3,5];case 3:s.sent();a.setState({hasError:!0});return[3,5];case 4:a.setState({submitting:!1});return[7];case 5:return[2]}}))})),function(e){return i.apply(this,arguments)});return e}o.prototype.render=function(){var e=this.props.obscureInput,t=this.state,n=t.codeInput,o=t.submitting,i=t.hasError,a=t.isPromoCode;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.GIFT_INVENTORY_REDEEM_CODES,children:[(0,r.jsx)(s.vw,{children:R.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT}),(0,r.jsx)("form",{onSubmit:this.handleSubmit,children:(0,r.jsxs)(fe.Z,{children:[(0,r.jsx)(s.oi,{type:e?"password":"text",value:n,onChange:this.handleChange,placeholder:G.RJY,error:!a&&i?R.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:sO().codeRedemptionInput}),(0,r.jsx)(ue.Co,{type:"submit",submitting:o,children:R.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM})]})}),a?(0,r.jsx)(s.xv,{className:sO().errorMessage,
variant:"text-sm/normal",children:R.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMOTION.format({promoLink:"https://discord.com/billing/promotions/".concat(n)})}):null]})};!function(e,t,n){t&&dO(e.prototype,t);n&&dO(e,n)}(o,[{key:"analyticsLocation",get:function(){return yO(EO({},this.props.analyticsContext.location),{object:G.qAy.BUTTON_CTA})}}]);return o}(o.Component);function SO(){var e=o.useContext(Kr.AnalyticsContext),t=(0,E.e7)([Vr.Z],(function(){return Vr.Z.enabled}));return(0,r.jsx)(_O,{analyticsContext:e,obscureInput:t})}var IO=n(444793),TO=n(120320),NO=n(945534),CO=n(99274),AO=n(698534),PO=n(74907),jO=n(178299),RO=n(485947),xO=n(543282),MO=n.n(xO);function wO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const LO=function(e){var t=e.onClose,n=e.onClaim,i=e.code,a=e.outboundPromotion,c=e.transitionState,l=ZO(o.useState(null),2),u=l[0],f=l[1],d=(0,fn.Dt)();o.useEffect((function(){null==i&&(0,jO.A2)(a.id).then((function(e){return n(e)})).catch((function(e){var t;return f(null==e||null===(t=e.body)||void 0===t?void 0:t.code)}))
}),[i,a.id,n]);return(0,r.jsx)(ur.Y0,{transitionState:c,"aria-labelledby":d,children:null!=u?(0,r.jsx)(AO.L1,{onClose:t,errorCode:u}):null==i?(0,r.jsx)(ur.hz,{children:(0,r.jsx)(qt.Z,{className:MO().loading})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ur.xB,{separator:!1,className:MO().headerContainer,children:[(0,r.jsx)("div",{className:MO().art}),(0,r.jsx)(s.X6,{variant:"heading-xl/semibold",children:R.Z.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE})]}),(0,r.jsxs)(ur.hz,{children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",className:MO().bodyText,children:a.outboundRedemptionModalBody}),(0,r.jsx)(s.$i,{className:MO().formDivider}),(0,r.jsxs)(s.hj,{title:R.Z.Messages.REDEMPTION_CODE,className:MO().formSection,children:[(0,r.jsx)($y.Z,{value:i,buttonColor:ue.Co.Colors.BRAND,buttonLook:ue.Co.Looks.FILLED,delay:1e3,inputClassName:MO().textInput}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"header-secondary",className:MO().confirmationText,
children:R.Z.Messages.OUTBOUND_PROMOTION_CODE_CONFIRMATION_EMAIL})]})]}),(0,r.jsxs)(ur.mz,{children:[(0,r.jsx)(ue.Co,{color:ue.Co.Colors.BRAND,onClick:function(){var e=(0,jO.BU)(i,a);window.open(e,"_blank")},children:R.Z.Messages.REDEEM}),(0,r.jsx)(ue.Co,{onClick:t,look:ue.Co.Looks.LINK,color:MO().maybeLaterButton,children:R.Z.Messages.MAYBE_LATER})]})]})})};var DO=n(367124),UO=n(182102),kO=n(631134),GO=n(447887),BO=n(512238),HO=n(124047),VO=n.n(HO);function FO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YO(e){YO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return YO(e)}function WO(e,t){return!t||"object"!==KO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zO(e,t){zO=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return zO(e,t)}var KO=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function qO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=YO(e);if(t){var o=YO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WO(this,n)}}var XO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&zO(e,t)}(n,e);var t=qO(n);function n(){FO(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=e.onMouseEnter,i=e.onMouseLeave;return(0,r.jsx)("div",{className:O()(VO().card,n),onMouseEnter:o,
onMouseLeave:i,children:t})};return n}(o.PureComponent);XO.Header=function(e){var t=e.children,n=e.className,o=e.splashArtURL;return(0,r.jsxs)(fe.Z,{className:O()(VO().header,n),align:fe.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:VO().splashArt,style:null!=o?{backgroundImage:"url(".concat(o,")")}:void 0}),t]})};XO.Body=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:O()(VO().body,n),children:t})};const QO=XO;var $O=n(513857),JO=n(414597),ev=n(862325),tv=n(801048),nv=n.n(tv);function rv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ov(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function iv(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ov(i,r,o,a,s,"next",e)}function s(e){ov(i,r,o,a,s,"throw",e)}a(void 0)}))}}function av(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function cv(e){cv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return cv(e)}function lv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fv(e,t)}function uv(e,t){return!t||"object"!==dv(t)&&"function"!=typeof t?rv(e):t}function fv(e,t){fv=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fv(e,t)}var dv=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=cv(e);if(t){var o=cv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uv(this,n)}}var hv=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue
;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Ev(e){var t=e.giftStyle,n=e.shouldAnimate;return(0,r.jsx)(UO.Z,{giftStyle:t,className:nv().seasonalGiftBox,shouldAnimate:n})}var yv=function(e){lv(n,e);var t=pv(n);function n(){av(this,n);var e;(e=t.apply(this,arguments))._copyModeTimeout=new Ae.V7;e.state={copyMode:$O.u.DEFAULT};e.handleCopy=function(t){var n=e.props,r=n.giftCode,o=n.sku;(0,iO.dM)(r,o);try{(0,Lf.JG)(t);e.setState({copyMode:$O.u.SUCCESS})}catch(t){e.setState({copyMode:$O.u.ERROR})}e._copyModeTimeout.start(1e3,(function(){e.setState({copyMode:$O.u.DEFAULT})}))};return e}var i=n.prototype
;i.componentWillUnmount=function(){this._copyModeTimeout.stop()};i.handleRevoke=function(e){oO.Z.revokeGiftCode(e)};i.render=function(){var e=this,t=this.props,n=t.hideCode,i=t.giftCode,a=this.state.copyMode;return(0,r.jsxs)(fe.Z,{direction:fe.Z.Direction.VERTICAL,className:nv().giftCodeRow,children:[(0,r.jsx)($O.Z,{className:nv().codeText,value:(0,iO.Nz)(i.code),text:this.copyButtonText,mode:a,supportsCopy:Lf.wS,hideMessage:n?R.Z.Messages.GIFT_INVENTORY_HIDDEN:null,onCopy:this.handleCopy,buttonColor:$O.Z.ButtonColors.BRAND,buttonLook:$O.Z.ButtonLooks.FILLED}),(0,r.jsxs)("div",{className:nv().subTextRow,children:[null!=i.expiresAt?(0,r.jsxs)(o.Fragment,{children:[R.Z.Messages.GIFT_INVENTORY_EXPIRES_IN.format({hours:i.expiresAt.diff(We()(),"h")})," ","— "]}):null,(0,r.jsx)(s.P3,{tag:"a",onClick:function(){return e.handleRevoke(i.code)},children:R.Z.Messages.REVOKE})]})]})};!function(e,t,n){t&&sv(e.prototype,t);n&&sv(e,n)}(n,[{key:"copyButtonText",get:function(){
switch(this.state.copyMode){case $O.u.SUCCESS:return R.Z.Messages.BILLING_GIFT_COPIED;case $O.u.ERROR:return R.Z.Messages.FAILED;default:return R.Z.Messages.COPY}}}]);return n}(o.PureComponent),mv=function(e){lv(n,e);var t=pv(n);function n(){av(this,n);var e;(e=t.apply(this,arguments))._loadedAt=null;e.state={isOpen:!1,isCreating:!1,isHovered:!1};var r,o=rv(e);e.handleGenerateGiftCode=(r=iv((function(e){var t,n,r,i;return hv(this,(function(a){switch(a.label){case 0:e.stopPropagation();t=o.props,n=t.skuId,r=t.subscriptionPlanId,i=t.giftStyle;o.setState({isCreating:!0});return[4,oO.Z.createGiftCode(n,r,i)];case 1:a.sent();o.setState({isCreating:!1,isOpen:!0});return[2]}}))})),function(e){return r.apply(this,arguments)});e.handleToggleOpen=function(){var t=e.props,n=t.skuId,r=t.subscriptionPlanId,o=t.loadedAt,i=!e.state.isOpen;(null==o||null==e._loadedAt||o<e._loadedAt)&&i&&oO.Z.fetchUserGiftCodesForSKU(n,r);e.setState({isOpen:!e.state.isOpen})};return e}var i=n.prototype
;i.componentDidMount=function(){this._loadedAt=Date.now()};i.renderTitle=function(){var e,t=this.props,n=t.sku,o=t.subscriptionPlan,i=t.giftCodeBatchId;e=i===to.m8?R.Z.Messages.BLACK_FRIDAY_PROMOTION_GIFT_INVENTORY_TITLE:i===to.rX&&null!=o?(o.interval===to.rV.MONTH?R.Z.Messages.STICKERS_GIFT_INVENTORY_TITLE_MONTH:R.Z.Messages.STICKERS_GIFT_INVENTORY_TITLE_YEAR).format({skuName:n.name,intervalCount:o.intervalCount}):null==o?n.name:(o.interval===to.rV.MONTH?R.Z.Messages.GIFT_INVENTORY_SUBSCRIPTION_MONTHS:R.Z.Messages.GIFT_INVENTORY_SUBSCRIPTION_YEARS).format({skuName:n.name,intervalCount:o.intervalCount});return(0,r.jsx)("div",{className:nv().gameName,children:e})};i.renderGenerateGiftCodeRow=function(){return(0,r.jsxs)(fe.Z,{justify:fe.Z.Justify.BETWEEN,align:fe.Z.Align.CENTER,className:nv().generateCodeRow,children:[(0,r.jsx)("div",{className:nv().codeText,children:R.Z.Messages.GIFT_INVENTORY_GENERATE_HELP}),(0,r.jsx)(ue.Co,{submitting:this.state.isCreating,size:ue.Co.Sizes.SMALL,
color:ue.Co.Colors.BRAND,onClick:this.handleGenerateGiftCode,children:R.Z.Messages.GIFT_INVENTORY_GENERATE_LINK})]})};i.setIsHovered=function(e){this.setState({isHovered:e})};i.render=function(){var e=this,t=this.props,n=t.entitlements,i=t.application,a=t.giftCodes,c=t.className,l=t.sku,u=t.isFetching,f=t.hideCodes,d=t.giftStyle,p=this.state.isOpen;return(0,r.jsxs)(QO,{className:c,children:[(0,r.jsx)(s.P3,{onClick:this.handleToggleOpen,className:nv().card,onMouseEnter:function(){return e.setIsHovered(!0)},onMouseLeave:function(){return e.setIsHovered(!1)},children:(0,r.jsx)(QO.Header,{splashArtURL:i.getSplashURL(512),children:(0,r.jsxs)("div",{className:nv().cardHeader,children:[(0,r.jsxs)(fe.Z,{align:fe.Z.Align.CENTER,children:[null!=d?(0,r.jsx)(Ev,{giftStyle:d,shouldAnimate:this.state.isHovered}):(0,r.jsx)(zr.Z,{game:i,size:zr.Z.Sizes.MEDIUM,skuId:l.id}),(0,r.jsxs)("div",{className:nv().headerText,children:[this.renderTitle(),(0,r.jsx)("div",{className:nv().subTextHeader,
children:R.Z.Messages.GIFT_INVENTORY_COPIES.format({copies:n.length})})]})]}),(0,r.jsx)(JO.Z,{direction:p?JO.Z.Directions.UP:JO.Z.Directions.DOWN,className:nv().expandIcon})]})})}),p?(0,r.jsx)(QO.Body,{children:u?(0,r.jsx)(qt.Z,{className:nv().spinner}):(0,r.jsxs)(o.Fragment,{children:[a.length<n.length?this.renderGenerateGiftCodeRow():null,a.map((function(e){return(0,r.jsx)(yv,{giftCode:e,sku:l,hideCode:f},e.code)}))]})}):null]})};return n}(o.PureComponent);const bv=E.ZP.connectStores([BO.Z,Vr.Z,GO.Z,DO.Z,Qr.Z,kO.default],(function(e){var t=e.skuId,n=e.subscriptionPlanId,r=e.giftStyle,o=BO.Z.get(t);if(null==o)throw new Error("SKU was unavailable while rendering gift.");var i=GO.Z.getForGifterSKUAndPlan(kO.default.getId(),t,n).filter((function(e){return!e.isClaimed})).filter((function(e){return e.giftStyle===r}));return{sku:o,hideCodes:Vr.Z.enabled,isFetching:GO.Z.getUserGiftCodesFetchingForSKUAndPlan(t,n),loadedAt:GO.Z.getUserGiftCodesLoadedAtForSKUAndPlan(t,n),
application:DO.Z.getGame(o.applicationId),subscriptionPlan:null!=n?(0,ev.oE)(n):null,giftCodes:i}}))(mv);var gv=n(668131),Ov=n(266958),vv=n.n(Ov);function _v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sv(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Iv(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Sv(i,r,o,a,s,"next",e)}function s(e){Sv(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Tv(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Nv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Tv(e,t,n[t])}))}return e}function Cv(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Av(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pv=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},jv="YYYY-MM-DD HH:mm";function Rv(e){var t=e.drop,n=e.streamLengthRequirement,o=e.enrolled,i=e.completed,a=t.title,l=t.endDate,u=t.dropsQuestId,f=t.assets,d=(0,CO.EW)(u),p=function(){(0,IO.RJ)(u).then((function(){c.Z.wait(Iv((function(){return Pv(this,(function(e){switch(e.label){case 0:return[4,(0,IO.R5)()];case 1:e.sent();return[2]}}))})))}))};return(0,r.jsxs)("div",{className:vv().dropContainer,children:[(0,r.jsx)("div",{className:vv().dropCard,children:(0,r.jsxs)("div",{className:vv().mainPromotionCardContainer,children:[(0,r.jsxs)("div",{
className:vv().promotionCardLeftContainer,children:[(0,r.jsx)("div",{className:vv().promotionIcon,children:(0,r.jsx)("img",{alt:"",src:f.iconSrc,className:vv().promotionIconImage})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:a}),(0,r.jsx)(s.xv,{variant:"text-xs/medium",color:"text-normal",className:vv().availableUntil,children:R.Z.Messages.DROPS_CARD_REDEEM_UNTIL.format({endDate:We()(l,"YYYY-MM-DD HH:mm").format("MMMM Do, YYYY")})})]})]}),(0,r.jsx)(un.ZP,{text:o&&!i?R.Z.Messages.DROPS_GIFT_INVENTORY_REDEMPTION_TOOLTIP:null,tooltipContentClassName:vv().redeemTooltipContent,children:function(e){return(0,r.jsx)(ue.Co,Cv(Nv({className:vv().promotionCardButton,color:ue.Co.Colors.BRAND,size:ue.Co.Sizes.SMALL,onClick:p,disabled:o&&!i},e),{children:o?R.Z.Messages.REDEEM:R.Z.Messages.DROPS_GIFT_INVENTORY_ENROLL}))}})]})}),(0,r.jsxs)("div",{className:vv().dropCriteria,children:[(0,r.jsx)("img",{alt:"",src:f.rewardSrc,className:vv().dropRewardImage}),(0,
r.jsx)(s.xv,{color:"text-muted",variant:"text-sm/normal",className:vv().dropCriteriaText,children:d.messages.giftInfo(n)})]})]})}function xv(e){var t,n=e.outboundPromotion,i=e.code,a=e.addClaimedOutboundPromotionCode,c=Av(o.useState(!1),2),l=c[0],u=c[1],f=Av(o.useState(!1),2),d=f[0],p=f[1],h=function(){return u((function(e){return!e}))},E=(0,$o.ZP)(),y=(0,jO.Pz)(n.id,E),m=null!=i,b=m?(0,ze.vc)(We()(n.endDate).add(to.aT),"LL"):(0,ze.vc)(We()(n.endDate),"LL");m&&l?t=R.Z.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_EXPANDED_BODY.format({endDate:b,onClickDetails:h}):m&&!l?t=R.Z.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_UNEXPANDED_BODY.format({endDate:b,onClickDetails:h}):!m&&l?t=R.Z.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_EXPANDED_BODY.format({endDate:b,onClickDetails:h}):m||l||(t=R.Z.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_UNEXPANDED_BODY.format({endDate:b,onClickDetails:h}))
;var g=m?R.Z.Messages.OUTBOUND_PROMOTION_SEE_CODE:R.Z.Messages.PROMOTION_CARD_ACTION_CLAIM,v=o.useCallback((function(){return p(!1)}),[]),_=n.outboundTitle,S=n.outboundTermsAndConditions;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:O()(vv().skuCard,vv().promotionCard),children:[(0,r.jsxs)("div",{className:vv().mainPromotionCardContainer,children:[(0,r.jsxs)("div",{className:vv().promotionCardLeftContainer,children:[(0,r.jsx)("div",{className:vv().promotionIcon,children:(0,r.jsx)("img",{alt:"",src:y,className:vv().promotionIconImage})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:_}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",color:"text-normal",className:vv().promotionText,children:t})]})]}),(0,r.jsx)(ue.Co,{className:vv().promotionCardButton,color:ue.Co.Colors.BRAND,size:ue.Co.Sizes.SMALL,onClick:function(){return p(!0)},children:g})]}),l&&(0,r.jsx)(s.xv,{className:vv().promotionLegalese,variant:"text-xs/normal",
color:"header-secondary",children:PO.Z.parse(S,!1,{allowLinks:!0})})]}),d&&(0,r.jsx)(ur.ZP,{renderModal:function(e){return(0,r.jsx)(LO,Cv(Nv({},e),{onClose:v,onClaim:a,code:i,outboundPromotion:n}))},onCloseRequest:v})]})}function Mv(e){var t=e.drop,n=e.code,i=e.platform,a=Av(o.useState(!1),2),c=a[0],l=a[1],u=void 0!==n,f=(0,ze.vc)(We()(t.endDate),"LL"),d=R.Z.Messages.DROPS_CARD_REDEEM_UNTIL.format({endDate:f}),p=u?R.Z.Messages.OUTBOUND_PROMOTION_SEE_CODE:R.Z.Messages.PROMOTION_CARD_ACTION_CLAIM,h=o.useCallback((function(){return l(!1)}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:O()(vv().skuCard,vv().promotionCard),children:(0,r.jsxs)("div",{className:vv().mainPromotionCardContainer,children:[(0,r.jsxs)("div",{className:vv().promotionCardLeftContainer,children:[(0,r.jsx)("div",{className:vv().promotionIcon,children:(0,r.jsx)("img",{alt:"",src:t.assets.iconSrc,className:vv().promotionIconImage})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.X6,{
variant:"heading-md/semibold",children:t.title}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",color:"text-normal",className:vv().promotionText,children:d})]})]}),(0,r.jsx)(ue.Co,{color:ue.Co.Colors.BRAND,size:ue.Co.Sizes.SMALL,onClick:function(){return l(!0)},children:p})]})}),c&&(0,r.jsx)(ur.ZP,{renderModal:function(e){return(0,r.jsx)(AO.ZP,Cv(Nv({},e),{onClose:h,code:n,drop:t,platform:i}))},onCloseRequest:h})]})}const wv=function(){var e=function(){d.Z.open(G.oAB.PREMIUM)},t=(0,E.e7)([DO.Z],(function(){return Boolean(DO.Z.lastFetched)})),n=(0,E.e7)([Xr.default],(function(){return Xr.default.getCurrentUser()})),i=(0,E.Wu)([mn.Z],(function(){return mn.Z.getGiftable()})),a=Av(Ce().partition(i,(function(e){return null==e.giftCodeBatchId})),2),l=a[0],u=a[1],f=Ce().groupBy(l,(function(e){return(0,iO.Bg)(e.skuId,e.subscriptionPlanId,e.giftStyle)})),p=Av(o.useState(!1),2),h=p[0],y=p[1],m=TO.PD.getCurrentConfig({}),b=m.dropsEnabled,g=m.showUnenroll,O=(0,E.e7)([NO.Z],(function(){
return NO.Z.userStatus}));o.useEffect((function(){TO.PD.trackExposure({},{location:"ENTITLEMENT_GIFTS"});c.Z.wait((function(){(0,Lt.Qv)().then((function(){return y(!0)}))}))}),[]);o.useEffect((function(){if(b){var e=(0,CO.Mi)();Object.keys(e).length>0&&c.Z.wait(Iv((function(){return Pv(this,(function(e){switch(e.label){case 0:return[4,(0,IO.R5)()];case 1:e.sent();return[2]}}))})))}}),[b]);var v=(0,RO.l)(),_=v.promotionsLoaded,S=v.activeOutboundPromotions,I=v.claimedEndedOutboundPromotions,T=v.claimedOutboundPromotionCodeMap,N=v.addClaimedOutboundPromotionCode;return t&&h&&_?(0,r.jsxs)(r.Fragment,{children:[b&&function(){var e,t=[],o=[],i=(null===(e=Xr.default.getCurrentUser())||void 0===e?void 0:e.isStaff())&&g,a=!1,c=!0,l=!1,u=void 0;try{for(var f,d=Object.keys(O)[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value,h=(0,CO.EW)(p);if(null==h)return;var E=O[p],y=(0,CO.x8)(p),m=(0,CO.Xt)(y),b=E.eligible&&m;if(b){TO.AX[p].trackExposure({},{location:"ENTITLEMENT_GIFTS"})}
var v=(0,CO.pq)(y);if(v){a=!0;var _=We()(h.endDate,jv),S=We()();if(b&&v&&null==E.completed_at||v&&null!=E.enrolled_at&&null==E.completed_at&&E.eligible)S<_&&t.push({dropsQuestId:p,dropsStatus:E});else if(v&&(null!=E.code||null!=E.completed_at)){S<We()(h.finalClaimDate,jv)&&o.push({dropsQuestId:p,dropsStatus:E})}}}}catch(e){l=!0;u=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}var I,T=(0,r.jsxs)("div",{className:vv().dropsHeaderContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:R.Z.Messages.DROPS_GIFT_INVENTORY_TITLE}),(0,r.jsx)(_e.Z,{className:vv().betaTagIcon})]});return a&&0===t.length&&0===o.length?(0,r.jsxs)(s.hj,{children:[T,(0,r.jsx)(s.$i,{className:vv().divider}),(0,r.jsx)("div",{className:vv().dropsHelpText,children:R.Z.Messages.DROPS_READ_BLOG_TO_ENABLE.format({blogURL:gv.n4})})]}):0===t.length&&0===o.length?null:(0,r.jsxs)(s.hj,{children:[T,(0,r.jsx)(s.$i,{className:vv().divider}),t.map((function(e){var t=(0,
CO.EW)(e.dropsQuestId),n=null!=e.dropsStatus.enrolled_at,o=null!=e.dropsStatus.completed_at,a=TO.AX[e.dropsQuestId].getCurrentConfig({});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Rv,{drop:Nv({},t),streamLengthRequirement:a.streamLengthRequirement,enrolled:n,completed:o},t.dropsQuestId),i&&(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.SMALL,onClick:function(){return(0,IO.VT)(e.dropsQuestId)},children:"UNENROLL"})]})})),o.map((function(e){var t,n,o=(0,CO.EW)(e.dropsQuestId);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Mv,{drop:o,code:null!==(t=e.dropsStatus.code)&&void 0!==t?t:void 0,platform:null!==(n=e.dropsStatus.platform)&&void 0!==n?n:void 0},e.dropsQuestId),i&&(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.SMALL,onClick:function(){return(0,IO.VT)(e.dropsQuestId)},children:"UNENROLL"})]})})),"string"==typeof(null==n?void 0:n.id)&&o.length>0?(0,r.jsx)("div",{className:vv().feedback,children:R.Z.Messages.DROPS_REQUEST_FEEDBACK_SUCCESS.format({
feedbackURL:"https://survey.alchemer.com/s3/7043098/Discord-Drops-CSAT?user_id=".concat(null!==(I=null==n?void 0:n.id)&&void 0!==I?I:"")})}):null]})}(),function(){var e,t=u.find((function(e){return e.giftCodeBatchId===to.m8&&!e.consumed})),n=null!==(e=u.filter((function(e){return e.giftCodeBatchId===to.rX&&!e.consumed})))&&void 0!==e?e:[],o=Av(Ce().partition(n,(function(e){return e.subscriptionPlanId===to.Xh.PREMIUM_YEAR_TIER_2})),2),i=o[0],a=o[1],c=S.length+I.length>0;return(0,r.jsx)(s.hj,{children:(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:c?R.Z.Messages.GIFT_INVENTORY_YOUR_GIFTS:void 0}),children:[c?(0,r.jsx)(s.$i,{className:vv().divider}):null,I.map((function(e){var t=e.code,n=e.promotion;return(0,r.jsx)(xv,{outboundPromotion:n,code:t,addClaimedOutboundPromotionCode:N},n.id)})),S.map((function(e){return(0,r.jsx)(xv,{outboundPromotion:e,code:T[e.id],addClaimedOutboundPromotionCode:N},e.id)})),null!=t?(0,r.jsx)(bv,{className:vv().skuCard,
skuId:t.skuId,subscriptionPlanId:t.subscriptionPlanId,entitlements:[t],giftCodeBatchId:to.m8},(0,iO.Bg)(t.skuId,t.subscriptionPlanId)):null,i.length>0?(0,r.jsx)(bv,{className:vv().skuCard,skuId:i[0].skuId,subscriptionPlanId:i[0].subscriptionPlanId,entitlements:i,giftCodeBatchId:to.rX},(0,iO.Bg)(i[0].skuId,i[0].subscriptionPlanId)):null,a.length>0?(0,r.jsx)(bv,{className:vv().skuCard,skuId:a[0].skuId,subscriptionPlanId:a[0].subscriptionPlanId,entitlements:a,giftCodeBatchId:to.rX},(0,iO.Bg)(a[0].skuId,a[0].subscriptionPlanId)):null]})})}(),(0,r.jsx)(s.hj,{children:(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:R.Z.Messages.GIFT_INVENTORY_GIFTS_YOU_PURCHASED}),children:[(0,r.jsx)(s.$i,{className:vv().divider}),0===Object.keys(f).length?(0,r.jsxs)("div",{className:vv().emptyState,children:[(0,r.jsx)("div",{className:vv().emptyStateImage}),(0,r.jsx)(s.H,{className:vv().emptyStateHeader,children:R.Z.Messages.GIFT_INVENTORY_NO_GIFTS}),(0,r.jsx)("p",{
className:vv().emptyStateSubtext,children:R.Z.Messages.GIFT_INVENTORY_NO_GIFTS_SUBTEXT.format({onClick:e})})]}):Ce().keys(f).map((function(e){var t=(0,iO.Z0)(e),n=t.skuId,o=t.subscriptionPlanId,i=t.giftStyle;return(0,r.jsx)(bv,{className:vv().skuCard,skuId:n,subscriptionPlanId:o,entitlements:f[e],giftStyle:i},e)}))]})})]}):(0,r.jsx)(qt.Z,{className:vv().loading})};var Zv=n(827079),Lv=n.n(Zv);function Dv(){return(0,rO.Q)()?(0,r.jsx)($E.c8,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(nO.Z,{section:G.jXE.LIBRARY_INVENTORY_CODE_REDEMPTION,children:(0,r.jsx)(SO,{})}),(0,r.jsx)(s.$i,{className:Lv().divider}),(0,r.jsx)(nO.Z,{section:G.jXE.LIBRARY_INVENTORY_GIFTS_LIST,children:(0,r.jsx)(wv,{})})]})}var Uv=n(171826),kv=n(676384),Gv=n(537546),Bv=n(229629),Hv=n(742572),Vv=n(848828),Fv=n(123016),Yv=n(395130),Wv=n(212033),zv=n(554062),Kv=n(185347),qv=n(627456),Xv=n(437338),Qv=n.n(Xv);function $v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jv(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function e_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function t_(e){t_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return t_(e)}function n_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&a_(e,t)}function r_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){e_(e,t,n[t])}))}return e}function o_(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function i_(e,t){return!t||"object"!==s_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a_(e,t){a_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return a_(e,t)}var s_=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function c_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=t_(e);if(t){var o=t_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i_(this,n)}}function l_(e){return(0,e.children)([kv.Q2.MESSAGE,kv.Q2.NAVIGATION,kv.Q2.DND,kv.Q2.CHAT,kv.Q2.VOICE_AND_VIDEO,kv.Q2.MISCELLANEOUS])}var u_=Ce()((0,kv.Rv)()).filter((function(e){return e.description!==R.Z.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG})).groupBy((function(e){return e.group})).value(),f_=E.ZP.connectStores([zu.Z],(function(){return{theme:zu.Z.theme}}))(_h.ZP),d_=function(e){n_(n,e);var t=c_(n);function n(){$v(this,n);var e;(e=t.apply(this,arguments)).handleActionChanged=function(t){D.Z.setKeybind(o_(r_({},e.props.keybind),{action:t}))};e.handleShortcutChange=function(t){D.Z.setKeybind(o_(r_({},e.props.keybind),{shortcut:t}))};e.handleDeleteKeybind=function(){D.Z.deleteKeybind(e.props.keybind.id)};return e}
var o=n.prototype;o.renderMessage=function(){var e=this.props.keybind,t=Kv.BB(e.shortcut);return Ap.Z.hasBind(t)?(0,r.jsx)(s.R9,{className:Qv().keybindMessage,type:s.ge.DESCRIPTION,style:{color:(0,ae.Lq)(G.Ilk.STATUS_RED_500)},children:R.Z.Messages.KEYBIND_CONFLICT}):qv.Sp.has(t)?(0,r.jsx)(s.R9,{className:Qv().keybindMessage,type:s.ge.DESCRIPTION,style:{color:(0,ae.Lq)(G.Ilk.STATUS_RED_500)},children:R.Z.Messages.KEYBIND_NAVIGATION_CONFLICT.format({keyboardNavArticle:da.Z.getArticleURL(G.BhN.KEYBOARD_NAVIGATION)})}):(0,r.jsx)(s.R9,{className:Qv().keybindMessage,type:s.ge.DESCRIPTION,children:this.props.keybindDescriptions[e.action]})};o.render=function(){var e=this.props.keybind.managed;return(0,r.jsxs)(fe.Z,{direction:fe.Z.Direction.VERTICAL,className:O()(Qv().keybindGroup,pm().card),children:[!e&&(0,r.jsx)(Qy.Z,{"aria-label":R.Z.Messages.REMOVE_KEYBIND,className:Qv().removeKeybind,onClick:this.handleDeleteKeybind,look:Qy.Z.Looks.FILLED}),(0,r.jsxs)(fe.Z,{className:ye().marginBottom8,
children:[(0,r.jsx)(fe.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:R.Z.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:Qv().item,children:(0,r.jsx)(s.q4,{value:this.props.keybind.action,options:this.props.keybindActionTypes,onChange:this.handleActionChanged,isDisabled:e})})}),(0,r.jsx)(fe.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:R.Z.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:Qv().item,children:(0,r.jsx)(U.Z,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange})})})]}),(0,r.jsx)(fe.Z.Child,{children:this.renderMessage()})]})};return n}(o.PureComponent),p_=function(e){n_(i,e);var t=c_(i);function i(){$v(this,i);var e;(e=t.apply(this,arguments)).handleAddKeybind=function(){D.Z.addKeybind()};return e}var a=i.prototype;a.componentDidMount=function(){D.Z.enableAll(!1)};a.componentWillUnmount=function(){D.Z.enableAll(!0);var e=[G.S9g.USER_SETTINGS,G.S9g.CHANNEL_SETTINGS,G.S9g.GUILD_SETTINGS];Wv.Z.getLayers().some((function(t){
return e.includes(t)}))&&Ap.Z.enableTemp(Gv.u)};a.renderKeybinds=function(e){var t=this;return e.map((function(e){return(0,r.jsx)("div",{className:Qv().row,children:(0,r.jsx)(d_,{keybind:e,keybindDescriptions:t.keybindDescriptions,keybindActionTypes:t.keybindActionTypes},e.id)},e.id)}))};a.renderEmpty=function(e){if(0===e.length)return(0,r.jsx)(f_,{className:ye().marginTop60,children:(0,r.jsx)(_h.ox,{darkSrc:n(656470),lightSrc:n(789885),width:320,height:170})})};a.render=function(){var e=Ce()(this.props.keybinds).reject((function(e){return e.managed&&e.action!==G.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET})).sortBy((function(e){return e.id})).sortBy((function(e){return!0===e.managed?-1:0})).value();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.KEYBINDS,children:rl.FB?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(fe.Z,{justify:fe.Z.Justify.BETWEEN,className:ye().marginBottom20,children:[(0,r.jsx)(fe.Z.Child,{grow:0,children:(0,r.jsx)(zv.Z,{
messageType:zv.Q.WARNING,children:R.Z.Messages.ADD_KEYBIND_WARNING})}),(0,r.jsx)(fe.Z.Child,{wrap:!0,grow:0,children:(0,r.jsx)(ue.Co,{size:ue.Ph.LARGE,onClick:this.handleAddKeybind,children:R.Z.Messages.ADD_KEYBIND})})]}),(0,r.jsx)(s.$i,{}),(0,r.jsxs)(s.hj,{children:[this.renderKeybinds(e),this.renderEmpty(e)]})]}):(0,r.jsx)(zv.Z,{messageType:zv.Q.INFO,textVariant:"text-lg/medium",className:Qv().browserNotice,children:R.Z.Messages.KEYBIND_IN_BROSWER_NOTICE.format({downloadLink:G.EYA.DOWNLOAD})})}),(0,r.jsx)(s.$i,{}),(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.USER_SETTINGS_KEYBINDS_DEFAULT_KEYBINDS_TITLE,className:ye().marginTop60,children:[(0,r.jsxs)("div",{className:Qv().defaultKeybind,children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.USER_SETTINGS_KEYBINDS_SHOW_LIST_TITLE}),(0,r.jsx)("div",{className:Qv().defaultKeybindShortcutGroup,children:(0,r.jsx)(Vv.Z,{shortcut:Uv._.binds[0],className:Qv().defaultKeybindShortcut})})]}),(0,r.jsx)(s.$i,{}),(0,
r.jsx)(l_,{children:function(e){return(0,r.jsx)(r.Fragment,{children:e.map((function(e,t){var n=(0,kv.UD)(e),i=(0,kv.U6)(e),a=u_[e];return(0,r.jsxs)("div",{className:Qv().defaultKeybindGroup,children:[(0,r.jsx)(s.X6,{variant:"heading-deprecated-12/semibold",className:O()(Qv().defaultKeybindGroupHeader,e_({},Qv().defaultKeybindGroupWithDescription,null!=i)),children:n}),null!=i&&(0,r.jsx)(s.xv,{color:"header-secondary",className:Qv().defaultKeybindGroupDescription,variant:"text-sm/normal",children:i}),(0,r.jsx)(s.$i,{}),a.map((function(e){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)("div",{className:Qv().defaultKeybind,children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",children:e.description}),(0,r.jsx)("div",{className:Qv().defaultKeybindShortcutGroup,children:e.binds.map((function(e){return(0,r.jsx)(Vv.Z,{shortcut:e},e)}))})]}),(0,r.jsx)(s.$i,{})]},e.description)}))]},t)}))})}})]})]})};!function(e,t,n){t&&Jv(e.prototype,t);n&&Jv(e,n)}(i,[{key:"keybindActionTypes",get:function(){
var e=this.props,t=e.overlaySupported,n=e.canGoLive,r=e.allowSoundboard,o=e.enableClips,i=[{value:G.kg4.UNASSIGNED,label:R.Z.Messages.KEYBIND_UNASSIGNED},{value:G.kg4.PUSH_TO_TALK,label:R.Z.Messages.KEYBIND_PUSH_TO_TALK},{value:G.kg4.PUSH_TO_TALK_PRIORITY,label:R.Z.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:G.kg4.PUSH_TO_MUTE,label:R.Z.Messages.KEYBIND_PUSH_TO_MUTE},{value:G.kg4.TOGGLE_MUTE,label:R.Z.Messages.KEYBIND_TOGGLE_MUTE},{value:G.kg4.TOGGLE_DEAFEN,label:R.Z.Messages.KEYBIND_TOGGLE_DEAFEN},{value:G.kg4.TOGGLE_VOICE_MODE,label:R.Z.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:G.kg4.TOGGLE_STREAMER_MODE,label:R.Z.Messages.KEYBIND_TOGGLE_STREAM_MODE}];if(t){i.push({value:G.kg4.TOGGLE_OVERLAY,label:R.Z.Messages.KEYBIND_TOGGLE_OVERLAY});i.push({value:G.kg4.TOGGLE_OVERLAY_INPUT_LOCK,label:R.Z.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK});i.push({value:G.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:R.Z.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})}n&&(0,rl.ED)()&&i.push({
value:G.kg4.TOGGLE_GO_LIVE_STREAMING,label:R.Z.Messages.KEYBIND_TOGGLE_GO_LIVE_STREAMING});if((0,rl.nI)()){i.push({value:G.kg4.NAVIGATE_BACK,label:R.Z.Messages.KEYBIND_NAVIGATE_BACK},{value:G.kg4.NAVIGATE_FORWARD,label:R.Z.Messages.KEYBIND_NAVIGATE_FORWARD});r&&(0,Yv.O)()&&i.push({value:G.kg4.SOUNDBOARD,label:R.Z.Messages.KEYBIND_SOUNDBOARD},{value:G.kg4.SOUNDBOARD_HOLD,label:R.Z.Messages.KEYBIND_SOUNDBOARD_HOLD});o&&i.push({value:G.kg4.SAVE_CLIP,label:R.Z.Messages.CLIPS_SAVE})}return i}},{key:"keybindDescriptions",get:function(){var e,t=this.props,n=t.overlaySupported,r=t.canGoLive,o=t.enableClips,i=(e_(e={},G.kg4.UNASSIGNED,R.Z.Messages.KEYBIND_DESCRIPTION_UNASSIGNED),e_(e,G.kg4.PUSH_TO_MUTE,R.Z.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE),e_(e,G.kg4.PUSH_TO_TALK,R.Z.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK),e_(e,G.kg4.PUSH_TO_TALK_PRIORITY,R.Z.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY),e_(e,G.kg4.TOGGLE_MUTE,R.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE),
e_(e,G.kg4.TOGGLE_DEAFEN,R.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN),e_(e,G.kg4.TOGGLE_VOICE_MODE,R.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE),e_(e,G.kg4.TOGGLE_STREAMER_MODE,R.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE),e);if(n){i[G.kg4.TOGGLE_OVERLAY]=R.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY;i[G.kg4.TOGGLE_OVERLAY_INPUT_LOCK]=R.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK}r&&(0,rl.ED)()&&(i[G.kg4.TOGGLE_GO_LIVE_STREAMING]=R.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_GO_LIVE_STREAMING);if((0,rl.nI)()){i[G.kg4.NAVIGATE_BACK]=R.Z.Messages.KEYBIND_DESCRIPTION_NAVIGATE_BACK;i[G.kg4.NAVIGATE_FORWARD]=R.Z.Messages.KEYBIND_DESCRIPTION_NAVIGATE_FORWARD;i[G.kg4.SOUNDBOARD]=(0,rl.ED)()?R.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_GLOBAL:R.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD;i[G.kg4.SOUNDBOARD_HOLD]=(0,rl.ED)()?R.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD_GLOBAL:R.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD
;o&&(i[G.kg4.SAVE_CLIP]=R.Z.Messages.CLIPS_KEYBIND_DESCRIPTION)}return i}}]);return i}(o.PureComponent);function h_(){var e=(0,E.e7)([k.Z],(function(){return k.Z.getState()})),t=(0,E.e7)([$c.Z],(function(){return(0,Hv.Z)($c.Z)})),n=(0,E.e7)([Jc.Z],(function(){return Jc.Z.isSupported()})),o=(0,Fv.YD)().allowSoundboard,i=(0,Bv.G)();return(0,r.jsx)(p_,{keybinds:e,canGoLive:t,overlaySupported:n,allowSoundboard:o,enableClips:i})}var E_=n(391431),y_=n.n(E_),m_=n(734155);function b_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O_(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const __=E.ZP.connectStores([y.default],(function(){return{currentLocale:y.default.locale}}))((function(e){var t=v_(o.useState(e.currentLocale),2),i=t[0],a=t[1],c=v_(o.useState((function(){return R.Z.getAvailableLocales().map((function(e){var t;try{t=n(357605)("./".concat(e.value,".png"))}catch(e){t=n(223693)}return O_(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g_(e,t,n[t])}))}return e}({},e),{name:(0,r.jsxs)("div",{className:y_().option,children:[(0,r.jsx)("span",{className:y_().localeName,children:e.name}),(0,r.jsx)("span",{className:y_().localizedName,
children:e.localizedName}),(0,r.jsx)("div",{className:y_().flag,"aria-hidden":!0,children:(0,r.jsx)("img",{alt:"",src:t,className:y_().flagImage})})]})})}))})),1),l=c[0],u=o.useCallback((function(e){var t=e.value;a(t);m_.nextTick((function(){return Cp.Z.updateLocale(t)}))}),[]);return(0,r.jsx)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.LANGUAGE,children:(0,r.jsx)(s.hj,{children:(0,r.jsx)(s.xJ,{title:R.Z.Messages.LANGUAGE_SELECT,children:(0,r.jsx)(s.Ee,{onChange:u,options:l,value:i})})})})}));var S_=n(351621),I_=n(390545),T_=n(919870);var N_=n(745456);function C_(e){var t=e.className,n=(0,E.e7)([T_.Z],(function(){return T_.Z.getSoundpack()})),o=I_.Z.useExperiment({}).allowSoundpacks;if(!o)return null;var i=o?(0,N_.hB)():[];return(0,r.jsx)(s.q4,{className:t,onChange:function(e){return function(e){Kr.default.track(G.rMx.SOUNDPACK_UPDATED,{soundpack:e,previous_soundpack:T_.Z.getSoundpack()});c.Z.dispatch({type:"SET_SOUNDPACK",soundpack:e})}(e)},value:n,options:i})}
var A_=n(765515),P_=n(915306),j_=n(339511),R_=n(856864),x_=n(666492),M_=n(333999);function w_(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function Z_(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w_(i,r,o,a,s,"next",e)}function s(e){w_(i,r,o,a,s,"throw",e)}a(void 0)}))}}function L_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function D_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){L_(e,t,n[t])}))}return e}function U_(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var k_=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function G_(){return(G_=Z_((function(){var e;return k_(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,x_.Z.get({url:G.ANM.EMAIL_SETTINGS,trackedActionData:{event:i.a9.EMAIL_SETTINGS_FETCH,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.initialized;return(0,R_.iG)({initialized:n})}}})];case 1:e=t.sent();c.Z.dispatch({type:"EMAIL_SETTINGS_FETCH_SUCCESS",settings:e.body});return[3,3];case 2:t.sent();c.Z.dispatch({type:"EMAIL_SETTINGS_FETCH_FAILURE"});return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function B_(){return(B_=Z_((function(e,t){
var n;return k_(this,(function(r){switch(r.label){case 0:c.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE",updates:L_({},e,t)});r.label=1;case 1:r.trys.push([1,3,,4]);return[4,x_.Z.patch({url:G.ANM.EMAIL_SETTINGS,body:{settings:{categories:L_({},e,t)}},trackedActionData:{event:i.a9.EMAIL_SETTINGS_UPDATE,properties:{category:e,value:t}}})];case 2:n=r.sent();c.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_SUCCESS",settings:n.body});return[3,4];case 3:r.sent();c.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_FAILURE"});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function H_(){return V_.apply(this,arguments)}function V_(){return(V_=Z_((function(){var e,t;return k_(this,(function(n){switch(n.label){case 0:e=M_.M0.reduce((function(e,t){return U_(D_({},e),L_({},t,!1))}),{});c.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE",updates:e});n.label=1;case 1:n.trys.push([1,3,,4]);return[4,x_.Z.patch({url:G.ANM.EMAIL_SETTINGS,body:{settings:{categories:e}},trackedActionData:{event:i.a9.EMAIL_SETTINGS_UPDATE,
properties:{category:"marketing",value:!1}}})];case 2:t=n.sent();c.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_SUCCESS",settings:t.body});return[3,4];case 3:n.sent();c.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_FAILURE"});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}var F_=n(852787),Y_=n(55386),W_=n.n(Y_);function z_(e){var t=e.label,n=e.onChange,o=e.enabled,i=e.subLabel;return(0,r.jsx)(s.j7,{value:!!o,onChange:n,note:i,children:t})}function K_(){var e=function(e,t){!function(e,t){B_.apply(this,arguments)}(e,t)},t=(0,E.e7)([Fr.Z],(function(){return Fr.Z.getSubsection()})),n=o.createRef(),i=(0,E.cj)([F_.Z],(function(){return F_.Z.getEmailSettings()})),a=i.categories,c=i.initialized;o.useEffect((function(){if(null==c)!function(){G_.apply(this,arguments)}();else if(t===M_.vG.toUpperCase()){var e;null==n||null===(e=n.current)||void 0===e||e.scrollIntoView(!0)}}),[c,n,t]);var l=M_.M0.reduce((function(e,t){return e||!!a[t]}),!1);return c?(0,r.jsxs)(r.Fragment,{children:[(0,
r.jsx)("div",{ref:n}),(0,r.jsxs)(s.hj,{className:O()(ye().marginTop40),tag:s.RB.H1,title:R.Z.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS,children:[M_.Od.map((function(t){var n=t.category,o=t.label,i=t.subLabel;return(0,r.jsx)(z_,{label:o(),subLabel:i(),enabled:a[n],onChange:function(t){return e(n,t)}},o())})),(0,r.jsx)(ue.Co,{className:W_().marketingUnsubscribeButton,disabled:!l,look:ue.iL.LINK,color:ue.Tt.LINK,onClick:H_,children:R.Z.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING}),(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,children:R.Z.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING_DESCRIPTION}),(0,r.jsx)(s.$i,{className:O()(ye().marginTop40,ye().marginBottom40)})]})]}):null}var q_=n(66662),X_=n.n(q_);function Q_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function J_(e){
J_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return J_(e)}function eS(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function tS(e,t){return!t||"object"!==rS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nS(e,t){nS=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return nS(e,t)}var rS=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function oS(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=J_(e);if(t){var o=J_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tS(this,n)}}function iS(e){var t=e.label,n=e.enabled,o=e.disabled,i=e.onPreview,a=e.onChange;return(0,r.jsx)(s.j7,{className:X_().soundRow,value:n,onChange:a,disabled:o,children:(0,r.jsxs)("div",{className:X_().notificationSound,children:[(0,r.jsx)("div",{className:X_().soundName,children:t}),(0,r.jsx)(s.P3,{className:X_().soundIcon,onClick:i,"aria-label":R.Z.Messages.USER_SETTINGS_NOTIFICATIONS_PREVIEW_SOUND,children:(0,r.jsx)(P_.Z,{width:16,height:16,className:X_().icon,"aria-hidden":!0})})]})})}function aS(e){
var t=e.disabledSounds,n=e.disableAllSounds,i=e.notifyMessagesInSelectedChannel,a=I_.Z.useExperiment({}).allowSoundpacks;o.useEffect((function(){I_.Z.trackExposure({})}),[]);var c=o.useRef(),l=o.useCallback((function(e,t){t.stopPropagation();t.preventDefault();null!=c.current&&c.current.stop();c.current=De.GN(e)}),[]),u=o.useCallback((function(e,n){var r=t.filter((function(t){return t!==e}));n||r.push(e);S_.default.setDisabledSounds(r)}),[t]);o.useEffect((function(){return function(){var e;null===(e=c.current)||void 0===e||e.stop()}}));var f=[{label:R.Z.Messages.SOUND_MESSAGE,sound:"message1"},{label:R.Z.Messages.SOUND_DEAFEN,sound:"deafen"},{label:R.Z.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:R.Z.Messages.MUTE,sound:"mute"},{label:R.Z.Messages.UNMUTE,sound:"unmute"},{label:R.Z.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:R.Z.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:R.Z.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{
label:R.Z.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:R.Z.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:R.Z.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:R.Z.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:R.Z.Messages.SOUND_INCOMING_RING,sound:"call_ringing"},{label:R.Z.Messages.SOUND_STREAM_STARTED,sound:"stream_started"},{label:R.Z.Messages.SOUND_STREAM_STOPPED,sound:"stream_ended"},{label:R.Z.Messages.SOUND_VIEWER_JOIN,sound:"stream_user_joined"},{label:R.Z.Messages.SOUND_VIEWER_LEAVE,sound:"stream_user_left"},{label:R.Z.Messages.SOUND_INVITED_TO_SPEAK,sound:"reconnect"}];return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.SOUNDS,children:[a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.vw,{className:ye().marginBottom20,children:R.Z.Messages.SOUNDPACK_LABEL}),(0,r.jsx)(C_,{className:ye().marginBottom40})]}):null,(0,r.jsx)(s.j7,{note:R.Z.Messages.USER_SETTINGS_NOTIFICATIONS_NOTIFY_MESSAGES_IN_SELECTED_CHANNEL_NOTE,value:i,
onChange:S_.default.setNotifyMessagesInSelectedChannel,children:R.Z.Messages.USER_SETTINGS_NOTIFICATIONS_NOTIFY_MESSAGES_IN_SELECTED_CHANNEL_LABEL}),(0,r.jsx)(s.j7,{note:R.Z.Messages.SOUND_DISABLE_ALL_NOTE,value:n,onChange:S_.default.toggleDisableAllSounds,children:R.Z.Messages.SOUND_DISABLE_ALL}),f.map((function(e){var o=e.label,i=e.sound;return(0,r.jsx)(iS,{label:o,disabled:n,onChange:function(e){return u(i,e)},onPreview:function(e){return l(i,e)},enabled:!n&&!t.includes(i)},i)}))]})}var sS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&nS(e,t)}(n,e);var t=oS(n);function n(){Q_(this,n);var e;(e=t.apply(this,arguments)).handleToggleShowUnreadBadge=function(){S_.default.setDisableUnreadBadge(!e.props.disableUnreadBadge)};e.handleToggleShowFlash=function(){S_.default.setTaskbarFlash(!e.props.taskbarFlash)
};e.renderTTS=function(){if(!zl.Zh)return null;var t=[{name:R.Z.Messages.TTS_ALLS,value:G.PrB.ALL_CHANNELS},{name:R.Z.Messages.TTS_CURRENT,value:G.PrB.SELECTED_CHANNEL},{name:R.Z.Messages.TTS_NEVER,value:G.PrB.NEVER}];return(0,r.jsxs)(s.xJ,{title:R.Z.Messages.FORM_LABEL_TTS_NOTIFICATIONS,children:[(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:ye().marginBottom8,children:R.Z.Messages.FORM_DESCRIPTION_TTS}),(0,r.jsx)(s.Ee,{options:t,onChange:e.handleTTSChange,value:e.props.ttsType})]})};return e}var o=n.prototype;o.handleDesktopChange=function(e){var t,n=e?G.qrD.ALL:G.qrD.NEVER;n!==G.qrD.NEVER?(t="UserSettingsModal",j_.Z.requestPermission((function(e){var n=e?G.$Ab.ENABLED:G.$Ab.BLOCKED;S_.default.setPermissionsState(n,t)}))):S_.default.setDesktopType(n)};o.handleTTSChange=function(e){var t=e.value;S_.default.setTTSType(t)};o.render=function(){
var e=this.props,t=e.desktopType,n=e.afkTimeout,o=e.disableUnreadBadge,i=e.taskbarFlash,a=e.disabledSounds,c=e.disableAllSounds,l=e.notifyMessagesInSelectedChannel,u=rl.FB&&(0,rl.ED)(),f=Ce().range(1,11).map((function(e){return{value:60*e,label:R.Z.Messages.DURATION_MINUTES.format({minutes:e})}}));return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.NOTIFICATIONS,children:[(0,r.jsx)(s.j7,{className:ye().marginBottom20,value:t!==G.qrD.NEVER,onChange:this.handleDesktopChange,note:R.Z.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY,children:R.Z.Messages.DESKTOP_NOTIFICATIONS_ENABLE}),(0,r.jsx)(s.j7,{className:u?ye().marginBottom20:ye().marginBottom40,value:!o,note:R.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge,children:R.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL}),u?(0,r.jsx)(s.j7,{className:ye().marginBottom40,value:i,note:R.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash,
children:R.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL}):null,(0,r.jsxs)(s.xJ,{title:R.Z.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT,children:[(0,r.jsx)(s.q4,{value:n,onChange:hi.CM.updateSetting,options:f}),(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:ye().marginTop8,children:R.Z.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT}),(0,r.jsx)(s.$i,{className:O()(ye().marginTop40,ye().marginBottom40)})]}),this.renderTTS(),(0,r.jsx)(s.$i,{className:O()(ye().marginTop40,ye().marginBottom40)}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)(aS,{disabledSounds:a,disableAllSounds:c,notifyMessagesInSelectedChannel:l})}),(0,r.jsx)(K_,{})]})};return n}(o.PureComponent);function cS(){var e=(0,E.cj)([A_.Z],(function(){return{disableUnreadBadge:A_.Z.getDisableUnreadBadge(),taskbarFlash:A_.Z.taskbarFlash,disabledSounds:A_.Z.getDisabledSounds(),disableAllSounds:A_.Z.getDisableAllSounds(),desktopType:A_.Z.getDesktopType(),ttsType:A_.Z.getTTSType(),
notifyMessagesInSelectedChannel:A_.Z.getNotifyMessagesInSelectedChannel()}}));return(0,r.jsx)(sS,eS(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$_(e,t,n[t])}))}return e}({},e),{afkTimeout:hi.CM.useSetting()}))}var lS=n(472631),uS=n(980430),fS=n(300327),dS=n(115375),pS=n(780663),hS=n.n(pS);function ES(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mS(e){mS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return mS(e)}function bS(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yS(e,t,n[t])}))}return e}function gS(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function OS(e,t){return!t||"object"!==_S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vS(e,t){vS=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return vS(e,t)}var _S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function SS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=mS(e);if(t){var o=mS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return OS(this,n)}}function IS(){var e=fS.Z.getNotificationPositionMode(),t=e!==G._vf.DISABLED,n=k.Z.getOverlayKeybind(),r=k.Z.getOverlayChatKeybind();Kr.default.track(G.rMx.OVERLAY_SETTINGS_UPDATED,{enabled:Jc.Z.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:fS.Z.getTextChatNotificationMode(),hotkey:null!=n?(0,Kv.BB)(n.shortcut):null,text_activation_hotkey:null!=r?(0,Kv.BB)(r.shortcut):null,
text_opacity_slider:fS.Z.getTextWidgetOpacity()})}var TS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&vS(e,t)}(n,e);var t=SS(n);function n(){ES(this,n);var e;(e=t.apply(this,arguments)).handleChangeEnabled=function(e){lS.Z.setEnabled(e);IS();Kr.default.track(G.rMx.OVERLAY_TOGGLED,{enabled:e,setting_type:"overlay toggled - global"})};e.handleChangeDisplayNameMode=function(e){var t=e.value;lS.Z.setDisplayNameMode(t)};e.handleChangeAvatarSizeMode=function(e){var t=e.value;lS.Z.setAvatarSizeMode(t)};e.handleChangeDisplayUserMode=function(e){var t=e.value;lS.Z.setDisplayUserMode(t)};e.handleChangeTextNotificationMode=function(){var t=G.Ypu.ENABLED,n=G.Ypu.DISABLED,r=e.props.textChatNotificationMode===t?n:t;lS.Z.setTextChatNotificationMode(r);IS()};e.handleChangeNotificationPositionMode=function(e,t){
lS.Z.setNotificationPositionMode(t);IS()};e.handleInputLockShortcutChange=function(t){D.Z.setKeybind(gS(bS({},e.props.inputLockKeybind),{shortcut:t}));IS()};return e}var i=n.prototype;i.renderExplanation=function(){return null};i.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind,o=(0,uS.$1)();return(0,r.jsxs)(fe.Z,{className:ye().marginBottom20,children:[(0,r.jsx)(fe.Z.Child,{basis:"50%",children:(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,children:R.Z.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL}),(0,r.jsx)(s.j7,{className:ye().marginBottom20,style:{marginTop:16},value:t,disabled:o,note:o?R.Z.Messages.OVERLAY_DISABLED_OLD_CLIENT:null,hideBorder:!0,onChange:this.handleChangeEnabled,children:R.Z.Messages.ENABLE_INGAME_OVERLAY})]})}),(0,r.jsx)(fe.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:R.Z.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK,children:(0,r.jsx)(U.Z,{disabled:!t,defaultValue:null!=n?n.shortcut:[],
onChange:this.handleInputLockShortcutChange})})})]})};i.renderAvatarSize=function(){return(0,r.jsx)(fe.Z,{className:ye().marginBottom20,children:(0,r.jsx)(fe.Z.Child,{children:(0,r.jsx)(s.xJ,{title:R.Z.Messages.FORM_LABEL_AVATAR_SIZE,children:(0,r.jsx)(s.Ee,{options:[{name:R.Z.Messages.AVATAR_SIZE_OPTION_LARGE,value:G.ipw.LARGE},{name:R.Z.Messages.AVATAR_SIZE_OPTION_SMALL,value:G.ipw.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode})})})})};i.renderDisplayNames=function(){return(0,r.jsx)(fe.Z,{className:ye().marginBottom20,children:(0,r.jsx)(fe.Z.Child,{children:(0,r.jsx)(s.xJ,{title:R.Z.Messages.FORM_LABEL_DISPLAY_NAMES,children:(0,r.jsx)(s.Ee,{options:[{name:R.Z.Messages.DISPLAY_OPTION_ALWAYS,value:G.wC$.ALWAYS},{name:R.Z.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:G.wC$.ONLY_WHILE_SPEAKING},{name:R.Z.Messages.DISPLAY_OPTION_NEVER,value:G.wC$.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode})})})})}
;i.renderDisplayUsers=function(){return(0,r.jsx)(fe.Z,{className:ye().marginBottom20,children:(0,r.jsx)(fe.Z.Child,{children:(0,r.jsx)(s.xJ,{title:R.Z.Messages.FORM_LABEL_DISPLAY_USERS,children:(0,r.jsx)(s.Ee,{options:[{name:R.Z.Messages.DISPLAY_OPTION_ALWAYS,value:G.OYC.ALWAYS},{name:R.Z.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:G.OYC.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode})})})})};i.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==G._vf.DISABLED,t=e&&this.props.textChatNotificationMode===G.Ypu.ENABLED;return(0,r.jsx)(fe.Z,{className:ye().marginBottom20,children:(0,r.jsx)(fe.Z.Child,{children:(0,r.jsx)(s.xJ,{children:(0,r.jsx)(s.j7,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0,children:R.Z.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS})})})})};i.renderNotificationPosition=function(){return(0,r.jsx)(fe.Z,{className:ye().marginBottom20,children:(0,
r.jsx)(fe.Z.Child,{children:(0,r.jsx)(s.xJ,{title:R.Z.Messages.FORM_LABEL_NOTIFICATION_POSITION,children:(0,r.jsx)("div",{className:hS().notificationSettings,children:(0,r.jsx)(dS.Z,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})})})})})};i.render=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.OVERLAY,children:[this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()]}),(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:ye().marginTop40,children:[this.renderNotificationPosition(),this.renderTextNotificationMode()]})]})};return n}(o.PureComponent);const NS=E.ZP.connectStores([Jc.Z,fS.Z,k.Z],(function(){return{enabled:Jc.Z.enabled,avatarSizeMode:fS.Z.getAvatarSizeMode(),displayNameMode:fS.Z.getDisplayNameMode(),displayUserMode:fS.Z.getDisplayUserMode(),
notificationPositionMode:fS.Z.getNotificationPositionMode(),textChatNotificationMode:fS.Z.getTextChatNotificationMode(),inputLockKeybind:k.Z.getOverlayKeybind()}}))(TS);var CS=n(330243),AS=n(514130),PS=n(35220),jS=n(510174),RS=n(814071),xS=n(75141),MS=n(329915),wS=n(462023),ZS=n(387070),LS=n.n(ZS);function DS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function US(e){US=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return US(e)}function kS(e,t){return!t||"object"!==BS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function GS(e,t){GS=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return GS(e,t)}var BS=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function HS(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=US(e);if(t){var o=US(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kS(this,n)}}const VS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&GS(e,t)}(n,e);var t=HS(n);function n(){DS(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderIcon=function(e){return e===G.Eu4.NONE?(0,r.jsx)(wS.Z,{tier:G.Eu4.TIER_1,className:LS().gemWithoutLabel}):(0,r.jsx)(wS.Z,{tier:e,className:LS().gemWithLabel})};o.render=function(){var e=this.props,t=e.className,n=e.guildId,o=e.subscriberCount,i=(0,
xS.rF)(o,n),a=(0,xS.Fd)(o,n),s=null!=a?(0,xS.vn)(n)[a]:null,c=null!=s&&s>0?o/s*100:100;return(0,r.jsx)(MS.Z,{background:LS().progressBackground,percent:c,strokeSize:MS.Z.StrokeSizes.SMALL,className:O()(LS().gemIndicatorProgressCircle,t),children:(0,r.jsxs)("div",{className:LS().gemIndicatorContainer,children:[this.renderIcon(i),(0,r.jsx)("div",{className:LS().tierLabel,children:(0,xS.nW)(i)})]})})};return n}(o.Component);var FS=n(106027),YS=n(346529);function WS(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function zS(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){WS(i,r,o,a,s,"next",e)}function s(e){WS(i,r,o,a,s,"throw",e)}a(void 0)}))}}function KS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function qS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){KS(e,t,n[t])}))}return e}function XS(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var QS=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function $S(e){var t=e.guildBoostSlot,o=e.onClose,i=e.hasCancelableGuildBoostSlot,a=e.premiumSubscription,s=e.onSelect,c=a.status===G.O0b.PAST_DUE;return(0,r.jsxs)(tf.ZP,{onSelect:s,navId:"subscription-context",
variant:"fixed","aria-label":R.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:o,children:[(0,r.jsx)(tf.sN,{id:"apply",label:null!=t.premiumGuildSubscription?R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SELECT_SERVER_BUTTON,subtext:t.isOnCooldown()?R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON_DISABLED_TOOLTIP:null,action:function(){(0,Ze.ZD)(zS((function(){var e,o;return QS(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(84469),n.e(12508),n.e(45262),n.e(31879)]).then(n.bind(n,831879))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,XS(qS({},e),{guildBoostSlots:[t],locationSection:G.jXE.SETTINGS_PREMIUM}))}]}}))})))},disabled:t.isOnCooldown()}),t.canceled?(0,r.jsx)(tf.sN,{id:"uncancel",label:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_UNCANCEL_BUTTON,subtext:c?R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null,action:function(){(0,
Ze.ZD)(zS((function(){var e,o;return QS(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(69572)]).then(n.bind(n,669572))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,XS(qS({},e),{guildBoostSlotId:t.id}))}]}}))})))},disabled:c}):(0,r.jsx)(tf.sN,{id:"cancel",label:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_CANCEL_BUTTON,subtext:i?c?R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_TOOLTIP,action:function(){(0,Ze.ZD)(zS((function(){var e,o;return QS(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(84469),n.e(12508),n.e(41661)]).then(n.bind(n,841661))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,XS(qS({},e),{guildBoostSlot:t}))}]}}))})))},disabled:!i||c,color:"danger"})]})}var JS=n(559933),eI=n(193655),tI=n.n(eI);function nI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){nI(e,t,n[t])}))}return e}function oI(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var iI="0";function aI(e){var t=e.deadline,n=(0,PS.Z)(t,1e3),o=n.days,i=n.hours,a=n.minutes;return(0,r.jsx)(r.Fragment,{
children:R.Z.Messages.PREMIUM_GUILD_COOLDOWN_AVAILABLE_COUNTDOWN.format({days:o,hours:i,minutes:a})})}function sI(e){var t=e.guild,n=e.guildBoostSlots,i=e.availableGuildBoostSlots,a=o.useContext(Kr.AnalyticsContext),c=(0,h.Z)().analyticsLocations,l=t.premiumSubscriberCount,u=n.sort((function(e,t){return Number(null!=e.premiumGuildSubscription?e.premiumGuildSubscription.id:0)-Number(null!=t.premiumGuildSubscription?t.premiumGuildSubscription.id:0)}))[0];if(null==u)return null;var f=null!=u.premiumGuildSubscription?YS.Z.extractTimestamp(u.premiumGuildSubscription.id):0,d=(0,xS.xf)(f),p=null!=t.banner?Oi.ZP.getGuildBannerURL(t):null;return(0,r.jsxs)("div",{className:tI().guildHeader,children:[(0,r.jsx)("div",{className:tI().guildHeaderBackground,style:{backgroundImage:null!=p?"url(".concat(p,")"):void 0}}),(0,r.jsx)(on.Z,{guild:t,className:tI().guildIcon}),(0,r.jsxs)("div",{className:tI().guildHeaderContent,children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",className:tI().guildName,
children:t.name}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",className:tI().guildSubscriptionDuration,children:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_DURATION.format({months:d,date:new Date(f)})}),(0,r.jsxs)(s.xv,{variant:"text-xs/normal",className:tI().guildSubscriberCount,children:[(0,r.jsx)(FS.Z,{className:tI().guildSubscriberCountIcon}),(0,r.jsx)("div",{children:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:n.length})}),0!==i.length?(0,r.jsx)(_l.Z,{onClick:function(){if(0!==i.length){var e=oI(rI({},a.location),{section:G.jXE.SETTINGS_PREMIUM});(0,JS.u)({analyticsLocations:c,analyticsLocation:e,guild:t})}},className:tI().guildSubscribeButton,children:R.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER}):null]})]}),(0,r.jsx)("div",{className:tI().guildGemIndicatorContainer,children:(0,r.jsx)(s.P3,{onClick:function(){(0,jS.X)(t.id);(0,Pe.xf)()},children:(0,r.jsx)(VS,{className:tI().gemIndicator,subscriberCount:l,guildId:t.id})
})})]})}function cI(e){var t=e.guildBoostSlot,n=e.premiumSubscription,o=e.hasCancelableGuildBoostSlot,i=null!=t.cooldownEndsAt?new Date(t.cooldownEndsAt):null,a=null!=i&&i>new Date,c=null!=t.premiumGuildSubscription?new Date(YS.Z.extractTimestamp(t.premiumGuildSubscription.id)):null,l=t.canceled,u=l?tl.Z:FS.Z;return(0,r.jsxs)("div",{className:tI().guildSubscriptionSlot,children:[(0,r.jsx)(u,{className:O()(tI().guildSubscriptionSlotIcon,nI({},tI().guildSubscriptionSlotIconCanceled,l))}),(0,r.jsxs)("div",{className:tI().guildSubscriptionSlotContent,children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:tI().guildSubscriptionCreationDate,children:null!=c?R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CREATION_DATE.format({date:c}):R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UNUSED_SLOT_DESCRIPTION}),(0,r.jsxs)(s.xv,{variant:"text-xs/normal",color:"text-muted",children:[a&&null!=i?(0,r.jsx)(aI,{deadline:i.getTime()
}):null,a&&l?" • ":null,l?R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_PENDING_CANCELATION.format({date:n.currentPeriodEnd}):null]})]}),(0,r.jsx)($a.ZP,{renderPopout:function(e){var i=e.closePopout;return(0,r.jsx)($S,{onClose:i,guildBoostSlot:t,premiumSubscription:n,hasCancelableGuildBoostSlot:o})},position:$a.ZP.Positions.RIGHT,align:$a.ZP.Align.CENTER,children:function(e){return(0,r.jsx)(s.P3,oI(rI({},e),{"aria-label":R.Z.Messages.MORE_OPTIONS,className:tI().guildSubscriptionSlotMenuIcon,children:(0,r.jsx)(rf.Z,{})}))}})]})}function lI(e){var t=e.guildId,n=e.guildBoostSlots,o=e.premiumSubscription,i=e.availableGuildBoostSlots,a=e.hasCancelableGuildBoostSlot,s=(0,E.e7)([yn.Z],(function(){return t!==iI?yn.Z.getGuild(t):null}));return null==s&&t!==iI?null:(0,r.jsxs)("div",{className:tI().guild,children:[null!=s?(0,r.jsx)(sI,{guild:s,guildBoostSlots:n,availableGuildBoostSlots:i}):null,(0,r.jsx)("div",{className:tI().guildSubscriptionSlots,children:n.map((function(e){return(0,r.jsx)(cI,{
guildBoostSlot:e,premiumSubscription:o,hasCancelableGuildBoostSlot:a},e.id)}))})]})}function uI(){var e=(0,E.e7)([Gt.Z],(function(){return Gt.Z.getPremiumTypeSubscription()})),t=(0,E.e7)([RS.Z],(function(){return RS.Z.boostSlots})),n=Ce()(t).filter((function(e){return e.isAvailable()})).value(),o=Ce()(t).groupBy((function(e){var t=e.premiumGuildSubscription;return null!=t?t.guildId:iI})).value(),i=o[0],a=Object.keys(o).filter((function(e){return e!==iI}));if(0===a.length&&null==i||null==e)return null;var c=Ce()(t).filter((function(e){return!e.canceled})).value().length>qr.ZP.getNumIncludedPremiumGuildSubscriptionSlots(e.planId);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:tI().blurb,children:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBTITLE.format({helpdeskArticle:da.Z.getArticleURL(G.BhN.GUILD_SUBSCRIPTIONS)})}),null!=i?(0,r.jsx)(lI,{guildId:iI,guildBoostSlots:i,premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:c
}):null,a.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.X6,{variant:"heading-deprecated-12/semibold",className:tI().subSectionHeader,children:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_ACTIVE_TITLE}),a.map((function(t){return(0,r.jsx)(lI,{guildId:t,guildBoostSlots:o[t],premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:c},t)}))]}):null]})}var fI=n(784864),dI=n.n(fI);function pI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hI(e){hI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hI(e)}function EI(e,t){return!t||"object"!==mI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yI(e,t){yI=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yI(e,t)}var mI=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function bI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hI(e);if(t){var o=hI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EI(this,n)}}const gI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yI(e,t)}(n,e);var t=bI(n);function n(){pI(this,n);var e;(e=t.apply(this,arguments)).renderFeature=function(t,n){return(0,r.jsxs)("div",{className:dI().feature,children:[e.renderIcon(t),(0,r.jsxs)("div",{children:[null!=t.title?(0,r.jsx)("div",{
className:dI().title,children:t.title}):null,(0,r.jsx)("div",{className:null==t.title?dI().descriptionStandalone:dI().description,children:t.description})]})]},n)};return e}var o=n.prototype;o.renderIcon=function(e){if(null!=e.overrideIcon)return e.overrideIcon(dI().icon);if(null!=e.icon&&null!=e.iconClass){var t=e.icon;return(0,r.jsx)(t,{className:O()(dI().icon,e.iconClass)})}throw new Error("Missing overrideIcon or iconName and iconClass")};o.render=function(){return(0,r.jsx)("div",{className:dI().features,style:{gridTemplateColumns:Array(this.props.columns).fill("1fr").join(" ")},children:this.props.features.map(this.renderFeature)})};return n}(o.Component);var OI=n(897108),vI=n(424210),_I=n(485814),SI=n(449223),II=n(943327),TI=n(415397);function NI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function CI(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function AI(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function PI(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,c=AI(e,["width","height","color"]);return(0,r.jsxs)("svg",CI(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){NI(e,t,n[t])}))}return e}({width:n,height:i},(0,kh.Z)(c)),{viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M13.8003 3.59643V7.86267C13.8003 9.15683 14.8448 10.2011 16.1393 10.2011H20.4067C20.9334 10.2011 21.2012 9.56739 20.8263 9.19253L14.8091 3.17694C14.4341 2.80208 13.8003 3.06092 13.8003 3.59643Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M11.9727 7.88073C11.9727 10.1692 13.8304 12.0269 16.1189 12.0269H20.9471V19.2064C20.9471 20.1936 20.1394 21.0013 19.1523 21.0013H4.79318C3.80599 21.0013 2.99829 20.1936 2.99829 19.2064V4.84737C2.99829 3.86019 3.80599 3.05249 4.79318 3.05249H11.9727V7.88073ZM13.8 14C13.8 14.9941 12.9941 15.8 12 15.8C11.0059 15.8 10.2 14.9941 10.2 14H9C9 15.6569 10.3431 17 12 17C13.6569 17 15 15.6569 15 14H13.8ZM7 15C7 15.5523 6.55228 16 6 16C5.44772 16 5 15.5523 5 15C5 14.4477 5.44772 14 6 14C6.55228 14 7 14.4477 7 15ZM18 16C18.5523 16 19 15.5523 19 15C19 14.4477 18.5523 14 18 14C17.4477 14 17 14.4477 17 15C17 15.5523 17.4477 16 18 16Z",fill:s})]}))}var jI=n(151843),RI=n(735614),xI=n(156661),MI=n.n(xI);function wI(e){var t=e.guild;return(0,r.jsx)(s.P3,{onClick:function(){(0,jS.X)(t.id,{state:{shouldShowSubscribeTooltip:!0}});(0,Pe.xf)()},className:MI().cardWrapper,children:(0,r.jsxs)(OI.Z,{className:MI().card,children:[(0,r.jsx)(on.Z,{guild:t,size:on.Z.Sizes.LARGE,"aria-hidden":!0}),(0,
r.jsxs)("div",{className:MI().guildInfo,children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",className:MI().guildName,children:t.name}),(0,r.jsxs)("div",{className:MI().subscriptionInfo,children:[(0,r.jsx)(FS.Z,{className:MI().guildBoostingIcon}),(0,r.jsx)(s.xv,{className:MI().subscriberCount,variant:"text-sm/normal",children:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:t.premiumSubscriberCount})})]})]}),(0,r.jsx)(VS,{guildId:t.id,subscriberCount:t.premiumSubscriberCount})]})})}function ZI(){var e=(0,E.e7)([Gs.Z],(function(){return Gs.Z.getFlattenedGuilds()})).slice(0,G.MsY),t=(0,Bn.V)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:MI().divider}),(0,r.jsxs)("div",{className:MI().marketingLogo,children:[(0,r.jsx)(_I.Z,{className:MI().marketingLogoIcon}),(0,r.jsx)("div",{className:MI().marketingLogoImage})]}),(0,r.jsx)(s.xv,{tag:"p",className:MI().marketingHeader,variant:"heading-lg/semibold",
children:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_HEADER}),(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_BLURB}),(0,r.jsx)(s.X6,{className:MI().featureHeaderTop,variant:"heading-lg/semibold",color:"header-secondary",children:R.Z.Messages.PREMIUM_GUILD_USER_FEATURES_HEADER}),(0,r.jsx)(gI,{features:[{description:R.Z.Messages.PREMIUM_GUILD_USER_FEATURE_MEMBER_BADGE,icon:FS.Z,iconClass:MI().memberBadgeIcon},{description:R.Z.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE,overrideIcon:function(e){return(0,r.jsx)("div",{className:O()(e,MI().profileBadgeIcon)})}},{description:R.Z.Messages.PREMIUM_GUILD_USER_FEATURE_ROLE,icon:II.Z,iconClass:MI().roleIcon}],columns:3}),(0,r.jsx)(s.X6,{className:MI().featureHeader,variant:"heading-lg/semibold",color:"header-secondary",children:R.Z.Messages.PREMIUM_GUILD_GUILD_FEATURES_HEADER}),(0,r.jsx)(gI,{features:[{description:R.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_EMOJI,icon:vI.Z,
iconClass:MI().emojiIcon},{description:R.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_STICKERS,icon:PI,iconClass:MI().stickerIcon},{description:R.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_AUDIO_QUALITY,icon:SI.Z,iconClass:MI().audioQualityIcon},{description:R.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_UPLOAD_SIZE,icon:RI.Z,iconClass:MI().uploadSizeIcon},{description:R.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_CUSTOMIZATION,icon:TI.Z,iconClass:MI().customizationIcon},{description:R.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_THREADS,icon:jI.Z,iconClass:MI().threadIcon}].filter(Ve.lm),columns:3}),(0,r.jsx)(s.xv,{className:MI().guildFullFeatures,variant:"text-md/normal",children:R.Z.Messages.PREMIUM_GUILD_FULL_FEATURE_LIST.format({helpdeskArticle:da.Z.getArticleURL(G.BhN.GUILD_SUBSCRIPTIONS)})}),(0,r.jsxs)("section",{className:MI().guildsSection,children:[t?(0,r.jsx)(AS.Z,{className:MI().guildSubscriptionHeading}):null,null==e||0===e.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{
className:MI().emptyGuilds}),(0,r.jsx)(s.xv,{variant:"text-lg/bold",className:MI().emptyGuildsTitle,children:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TITLE}),(0,r.jsx)(s.xv,{variant:"text-md/normal",className:MI().emptyGuildsText,children:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TEXT})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",className:MI().guildsBlurb,children:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_BLURB}),(0,r.jsx)("div",{className:MI().guilds,children:e.map((function(e){return(0,r.jsx)(wI,{guild:e},e.id)}))})]})]}),(0,r.jsx)(CS.Z,{onOpenPremiumClick:function(){Kr.default.track(G.rMx.PREMIUM_PROMOTION_OPENED,{location:{page:G.ZY5.USER_SETTINGS,section:G.jXE.NITRO_CROSS_PROMO_FROM_BOOSTING,object:G.qAy.BUTTON_CTA}})}})]})}function LI(){o.useEffect((function(){c.Z.wait((function(){wt.jg();wt.tZ();(0,Zt.X8)();(0,Dt.Y2)(null,null,G.JjL.DISCOVERY)}))}),[]);var e=(0,
E.e7)([Gt.Z],(function(){return Gt.Z.hasFetchedSubscriptions()})),t=(0,Bn.V)(),n=(0,E.e7)([rn.Z],(function(){return rn.Z.hasFetchedPaymentSources})),i=(0,E.e7)([RS.Z],(function(){return RS.Z.boostSlots}));return e&&t&&n?(0,r.jsxs)("div",{className:MI().container,children:[(0,r.jsx)("div",{className:MI().background}),(0,r.jsx)("div",{className:MI().content,children:(0,r.jsx)(s.y5,{component:Object.keys(i).length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.vw,{tag:"h1",children:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE}),(0,r.jsx)($E.oQ,{}),(0,r.jsx)(uI,{})]}):null,children:(0,r.jsx)(ZI,{})})})]}):(0,r.jsx)("div",{className:O()(MI().container,MI().loading),children:(0,r.jsx)(qt.Z,{})})}var DI=n(992497),UI=n(437454),kI=n(405728),GI=n(681888),BI=n(692410),HI=n(710063),VI=n(584397),FI=n.n(VI);function YI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function WI(e){
WI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return WI(e)}function zI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){YI(e,t,n[t])}))}return e}function KI(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qI(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function XI(e,t){return!t||"object"!==$I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QI(e,t){QI=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return QI(e,t)}var $I=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function JI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=WI(e);if(t){
var o=WI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return XI(this,n)}}function eT(e){var t=e.body,n=qI(e,["body"]);(0,Ze.h7)((function(e){return(0,r.jsx)(nl.default,KI(zI({},e,n),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:t})}))}))}function tT(e){var t=e.message;eT({header:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:R.Z.Messages.OKAY,body:t})}var nT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&QI(e,t)}(n,e);var t=JI(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleChangeDefaultGuildsRestricted=function(e){r.setState({defaultGuildsRestricted:!e},(function(){return r.showGuildRestrictionModal(!e)}))}
;r.handleChangeDropsOptedOut=function(){r.props.personalization&&hi.bh.updateSetting(!r.props.dropsOptedOut)};r.handleChangeDefaultMessageRequestRestricted=function(e){r.setState({defaultMessageRequestRestricted:!e},(function(){return r.showMessageRequestRestrictionModal(!e)}))};r.handleUsageStatisticsChange=function(){!r.props.usageStatistics?(0,UI.g)([G.pjP.USAGE_STATISTICS],[]).catch(tT):eT({header:R.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:R.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,confirmText:R.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:R.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,UI.g)([],[G.pjP.USAGE_STATISTICS]).catch(tT)}})};r.handlePersonalizationChange=function(){!r.props.personalization?(0,UI.g)([G.pjP.PERSONALIZATION],[]).catch(tT):eT({header:R.Z.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:R.Z.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,
cancelText:R.Z.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){(0,UI.g)([],[G.pjP.PERSONALIZATION]).catch(tT);hi.bh.updateSetting(!0)},body:R.Z.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})};r.handleAccessibilityDetectionChange=function(){hi.dQ.updateSetting(!r.props.allowAccessibilityDetection)};r.handleDataDownloadRequest=function(){eT({header:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,body:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){r.setState({requestingHarvest:!0},(function(){(0,f.V3)().then((function(e){if(null!=e&&null!=e.body){r.setState({currentHarvestRequest:e.body});DI.Z.show({body:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})}else DI.Z.show({title:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,
body:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}),(function(){return DI.Z.show({title:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})})).finally((function(){return r.setState({requestingHarvest:!1})}))}))}})};var o=e.defaultGuildsRestricted,i=e.defaultMessageRequestRestricted;r.state={defaultGuildsRestricted:o,defaultMessageRequestRestricted:i,currentHarvestRequest:null,requestingHarvest:!0};return r}var i=n.prototype;i.componentDidMount=function(){var e=this;(0,UI.I)();(0,f.ol)().then((function(t){var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)}),(function(){e.setState({requestingHarvest:!1})}))};i.componentDidUpdate=function(e){e.defaultGuildsRestricted!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:this.props.defaultGuildsRestricted})};i.showGuildRestrictionModal=function(e){var t=this;eT({
header:R.Z.Messages.USER_DM_SETTINGS_TITLE,body:R.Z.Messages.USER_DM_SETTINGS_DESCRIPTION,confirmText:R.Z.Messages.NO_TEXT,cancelText:R.Z.Messages.YES_TEXT,confirmButtonColor:ue.Co.Colors.BRAND,onConfirm:function(){hi.iG.updateSetting(e);t.trackDefaultDmsUpdated(e,!1)},onCancel:function(){hi.iG.updateSetting(e);hi.h2.updateSetting(e?Object.keys(yn.Z.getGuilds()):[]);t.trackDefaultDmsUpdated(e,!0)}})};i.trackDefaultDmsUpdated=function(e,t){Kr.default.track(G.rMx.GUILD_DEFAULT_DMS_UPDATED,{default_guilds_restricted:e,applied_to_existing_guilds:t})};i.showMessageRequestRestrictionModal=function(e){var t=this;eT({header:R.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_MODAL_HEADER,body:R.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_MODAL_DESCRIPTION,confirmText:R.Z.Messages.NO_TEXT,cancelText:R.Z.Messages.YES_TEXT,confirmButtonColor:ue.Co.Colors.BRAND,onConfirm:function(){hi.mX.updateSetting(e);t.trackDefaultMessageRequestUpdated(e,!1)},onCancel:function(){hi.mX.updateSetting(e)
;hi.zA.updateSetting(e?Object.keys(yn.Z.getGuilds()):[]);t.trackDefaultMessageRequestUpdated(e,!0)}})};i.trackDefaultMessageRequestUpdated=function(e,t){Kr.default.track(G.rMx.GUILD_DEFAULT_MESSAGE_REQUEST_UPDATED,{default_guilds_restricted:e,applied_to_existing_guilds:t})};i.renderDMSafety=function(){var e=this.props.isComsUpdateEnabled;return(0,r.jsx)(s.hj,{className:ye().marginBottom40,children:(0,r.jsxs)(s.xJ,{tag:s.RB.H5,className:ye().marginBottom4,title:R.Z.Messages.USER_EXPLICIT_CONTENT_FILTER,children:[(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:ye().marginBottom8,children:this.props.isComsUpdateEnabled?R.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP_V2:R.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP}),(0,r.jsx)(s.Ee,{value:this.props.explicitContentFilter,options:(0,HI.w9)(e),onChange:function(e){var t=e.value;return hi.UP.updateSetting(t)}})]})})};i.renderServerPrivacy=function(){
var e=this.props,t=e.viewNsfwGuilds,n=e.currentUser,o=e.isStricterMessageRequests,i=e.viewNsfwCommands,a=this.state,c=a.defaultGuildsRestricted,l=a.defaultMessageRequestRestricted,u=!0===n.nsfwAllowed;return(0,r.jsxs)(s.hj,{className:ye().marginBottom40,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.USER_DM_SETTINGS}),(0,r.jsx)(s.j7,{value:!c,note:R.Z.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted,children:R.Z.Messages.NEW_GUILDS_DM_ALLOWED}),(0,r.jsx)(s.j7,{value:!!u&&t,note:R.Z.Messages.NSFW_GUILDS_TOGGLE_CAPTION,disabled:!u,onChange:hi.DC.updateSetting,children:R.Z.Messages.NSFW_GUILDS_TOGGLE_HEADER}),!o&&(0,r.jsx)(s.j7,{value:!l,note:R.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_CAPTION.format({helpdeskArticle:da.Z.getArticleURL(G.BhN.MESSAGE_REQUESTS)}),disabled:c,onChange:this.handleChangeDefaultMessageRequestRestricted,children:R.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_HEADER}),(0,r.jsx)(s.j7,{
value:!!u&&i,note:R.Z.Messages.NSFW_DM_COMMANDS_CAPTION,disabled:!u,onChange:hi.xM.updateSetting,children:R.Z.Messages.NSFW_DM_COMMANDS_HEADER})]})};i.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization,o=e.allowAccessibilityDetection,i=e.dropsOptedOut;return(0,r.jsxs)(s.hj,{className:ye().marginBottom40,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.DATA_PRIVACY_CONTROLS}),(0,r.jsx)(s.j7,{value:t,note:R.Z.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE.format({helpdeskArticle:da.Z.getArticleURL(G.BhN.DATA_PRIVACY_CONTROLS)}),onChange:this.handleUsageStatisticsChange,children:R.Z.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE}),(0,r.jsx)(s.j7,{value:n,note:R.Z.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:da.Z.getArticleURL(G.BhN.DATA_PRIVACY_CONTROLS)}),hideBorder:!0,onChange:this.handlePersonalizationChange,
children:R.Z.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE}),(0,r.jsx)(s.j7,{value:!i&&n,note:(0,r.jsxs)("div",{className:FI().dependentSetting,children:[R.Z.Messages.USER_DROPS_SETTINGS_DROPS_OPTED_OUT_NOTE,i?(0,r.jsx)("div",{className:O()(ye().marginTop8,FI().feedback),children:R.Z.Messages.DROPS_REQUEST_FEEDBACK_OPT_OUT.format({feedbackURL:"https://survey.alchemer.com/s3/7043738/Discord-Drops-Opt-Out-Survey?user_id=".concat(this.props.currentUser.id)})}):null]}),disabled:!n,onChange:this.handleChangeDropsOptedOut,children:(0,r.jsxs)("div",{className:O()(FI().betaTagContainer,FI().dependentSetting),children:[R.Z.Messages.USER_DROPS_SETTINGS_DROPS_OPTED_OUT,(0,r.jsx)(_e.Z,{className:FI().betaTagIcon})]})}),(0,r.jsx)(s.j7,{value:o,note:R.Z.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_NOTE.format({helpdeskArticle:da.Z.getArticleURL(G.BhN.ACCESSIBILITY_TRACKING)}),onChange:this.handleAccessibilityDetectionChange,
children:R.Z.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_TITLE}),(0,r.jsx)(s.vw,{tag:s.RB.H3,className:O()(ye().marginTop20,ye().marginBottom8),children:R.Z.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE}),(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:ye().marginBottom20,children:R.Z.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){d.Z.setSection(G.oAB.ACCOUNT)}})}),this.renderHarvestRequest()]})};i.renderHarvestRequest=function(){var e,t=this,n=this.props.currentUser,i=this.state,a=i.requestingHarvest,c=i.currentHarvestRequest,l=(0,Xm.$6)(c,n),u=(0,r.jsx)(un.ZP,{text:n.verified?null:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP,children:function(e){var n=e.onMouseEnter,o=e.onMouseLeave;return(0,r.jsx)(ue.Co,{disabled:l,onClick:t.handleDataDownloadRequest,onMouseEnter:n,onMouseLeave:o,look:ue.Co.Looks.OUTLINED,color:ue.Co.Colors.BRAND,submitting:a,children:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD})}})
;if(l&&null!=c){e=(0,r.jsx)(Wr.Z,{className:FI().card,children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:We()(c.created_at).add(G.eBq,"days").format("MMMM Do YYYY")})})});u=null}null!=u&&(u=(0,r.jsx)(fe.Z,{children:u}));return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(s.$i,{className:ye().marginBottom20}),(0,r.jsx)(s.vw,{tag:s.RB.H3,children:R.Z.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE}),(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:ye().marginBottom20,children:R.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:da.Z.getArticleURL(G.BhN.GDPR_REQUEST_DATA)})}),e,u]})};i.renderPrivacyAndTermsNote=function(){return(0,r.jsx)(s.hj,{className:ye().marginBottom40,children:(0,r.jsx)(s.To,{type:s.To.Types.PRIMARY,body:R.Z.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:G.EYA.TERMS,privacyLink:G.EYA.PRIVACY})})})};i.renderStaffOnlySettings=function(){
var e=this.props,t=e.currentUser,n=e.nonSpamRetrainingOptIn;return t.isStaff()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.$i,{className:ye().marginBottom20}),(0,r.jsxs)(s.hj,{className:ye().marginBottom40,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.PRIVACY_SETTINGS_STAFF_ONLY_HEADER}),(0,r.jsxs)(s.xJ,{tag:s.RB.H5,className:ye().marginBottom4,children:[(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:ye().marginBottom8,children:R.Z.Messages.PRIVACY_SETTINGS_STAFF_ONLY_DESC}),(0,r.jsx)(s.Ee,{options:(0,Xm.xH)(),value:null==n?Xm.g0.UNDECIDED:n?Xm.g0.OPTIN:Xm.g0.OPTOUT,onChange:function(e){var t=e.value;return hi.kJ.updateSetting(Xm.ac[t])}})]})]})]}):null};i.render=function(){var e=this.props.fetchedConsents;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.PRIVACY_AND_SAFETY,children:[this.renderDMSafety(),this.renderServerPrivacy(),e?this.renderDataPrivacy():null,this.renderPrivacyAndTermsNote(),this.renderStaffOnlySettings()]})}
;return n}(o.PureComponent);function rT(){var e=(0,kI.n)(),t=(0,E.e7)([Xr.default],(function(){var e=Xr.default.getCurrentUser();L()(null!=e,"ConnectedUserSettingsPrivacySafety: currentUser cannot be undefined");return e})),n=(0,E.cj)([BI.Z],(function(){return{fetchedConsents:BI.Z.fetchedConsents,usageStatistics:BI.Z.hasConsented(G.pjP.USAGE_STATISTICS),personalization:BI.Z.hasConsented(G.pjP.PERSONALIZATION)}}));return(0,r.jsx)(nT,zI({currentUser:t,defaultGuildsRestricted:hi.iG.useSetting(),defaultMessageRequestRestricted:hi.mX.useSetting(),nonSpamRetrainingOptIn:hi.kJ.useSetting(),isStricterMessageRequests:(0,GI.Z)(),isComsUpdateEnabled:e,viewNsfwGuilds:hi.DC.useSetting(),viewNsfwCommands:hi.xM.useSetting(),allowAccessibilityDetection:hi.dQ.useSetting(),explicitContentFilter:hi.UP.useSetting(),showCurrentGame:hi.G6.useSetting(),dropsOptedOut:hi.bh.useSetting()},n))}var oT=n(301513);function iT(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}
s.done?t(c):Promise.resolve(c).then(r,o)}function aT(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){iT(i,r,o,a,s,"next",e)}function s(e){iT(i,r,o,a,s,"throw",e)}a(void 0)}))}}function sT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cT(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function lT(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o
}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var uT=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1]
;break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function fT(e,t){var o=e.title,i=e.actionText;return new Promise((function(e){(0,Ze.ZD)(aT((function(){var a,s;return uT(this,(function(c){switch(c.label){case 0:return[4,Promise.resolve().then(n.bind(n,444133))];case 1:a=c.sent(),s=a.default;return[2,function(n){var a=n.onClose,c=lT(n,["onClose"]);return(0,r.jsx)(s,cT(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sT(e,t,n[t])}))}return e}({},c),{title:o,actionText:i,handleSubmit:function(e){return t(e)},
onClose:function(t){a();e(t)}}))}]}}))})))}))}function dT(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function pT(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dT(i,r,o,a,s,"next",e)}function s(e){dT(i,r,o,a,s,"throw",e)}a(void 0)}))}}var hT=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop()
;a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ET(){return(ET=pT((function(){var e,t;return hT(this,(function(n){switch(n.label){case 0:return[4,af.Z.get({url:G.ANM.AUTH_SESSIONS})];case 1:(null==(t=n.sent())?void 0:t.ok)&&null!=(null===(e=t.body)||void 0===e?void 0:e.user_sessions)&&c.Z.dispatch({type:"FETCH_AUTH_SESSIONS_SUCCESS",sessions:t.body.user_sessions});return[2,t]}}))}))).apply(this,arguments)}function yT(e){return mT.apply(this,arguments)}function mT(){return(mT=pT((function(e){var t,n,r;return hT(this,(function(o){switch(o.label){case 0:if(Array.isArray(e)){if(0===e.length)return[2]
;t=R.Z.Messages.AUTH_SESSIONS_LOGOUT_MANY_PASSWORD_MODAL_TITLE.format({sessionCount:e.length});n=R.Z.Messages.AUTH_SESSIONS_LOGOUT_MANY_MFA_MODAL_TITLE.format({sessionCount:e.length})}else{t=R.Z.Messages.AUTH_SESSIONS_LOGOUT_PASSWORD_MODAL_TITLE;n=R.Z.Messages.AUTH_SESSIONS_LOGOUT_MFA_MODAL_TITLE;e=[e]}return[4,bT({passwordTitle:t,mfaTitle:n,request:function(t,n){return af.Z.post({url:G.ANM.AUTH_SESSIONS_LOGOUT,body:{session_id_hashes:e,password:t,code:n}})}})];case 1:(null==(r=o.sent())?void 0:r.ok)&&c.Z.dispatch({type:"LOGOUT_AUTH_SESSIONS_SUCCESS",sessionIdHashes:e});return[2,r]}}))}))).apply(this,arguments)}function bT(e){var t=e.passwordTitle,n=e.mfaTitle,r=e.request;return fT({title:t,actionText:R.Z.Messages.NEXT},(function(e){return(0,oT.Z)((function(t){var n=t.code;return r(e,n)}),{modalProps:{title:n,actionText:R.Z.Messages.NEXT,disallowBackupCodes:!0}})}))}function gT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function OT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _T(e){_T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _T(e)}function ST(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function IT(e,t){return!t||"object"!==CT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function TT(e,t){TT=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return TT(e,t)}function NT(e){return function(e){if(Array.isArray(e))return gT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var CT=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function AT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_T(e);if(t){var o=_T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IT(this,n)}}var PT=[];function jT(){PT=[]}var RT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&TT(e,t)}(n,e);var t=AT(n);function n(){OT(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getSessions=function(){return PT};r.__getLocalVars=function(){return{sessions:PT}};return n}(E.ZP.Store);RT.displayName="AuthSessionsStore";const xT=new RT(c.Z,{LOGOUT:jT,LOGIN_SUCCESS:jT,FETCH_AUTH_SESSIONS_SUCCESS:function(e){var t=e.sessions;PT=t.map((function(e){return ST(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vT(e,t,n[t])}))}return e}({},e),{approx_last_used_time:new Date(e.approx_last_used_time)})}))},LOGOUT_AUTH_SESSIONS_SUCCESS:function(e){var t=e.sessionIdHashes,n=NT(PT),r=!1,o=!0,i=!1,a=void 0;try{for(var s,c=function(){var e=s.value,t=n.findIndex((function(t){return t.id_hash===e}));if(t>=0){n.splice(t,1);r=!0}},l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0)c()}catch(e){i=!0;a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}if(!r)return!1;PT=n}});function MT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wT(e){return function(e){if(Array.isArray(e))return MT(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return MT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ZT=n(3776),LT=n(526066),DT=n(811179),UT=n.n(DT);function kT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BT(){var e,t=(e=(0,E.cj)([xT],(function(){return xT.getSessions()})),o.useMemo((function(){var t=wT(e),n=null,r=kO.default.getAuthSessionIdHash();if(null!=r){var o=t.findIndex((function(e){return e.id_hash===r}));o>=0&&(n=t.splice(o,1)[0])}t.sort((function(e,t){return t.approx_last_used_time.valueOf()-e.approx_last_used_time.valueOf()}));return{currentSession:n,
otherSessions:t}}),[e])),n=t.currentSession,i=t.otherSessions,l=(0,E.e7)([Vr.Z],(function(){return Vr.Z.hidePersonalInformation})),u=(0,E.e7)([Xr.default],(function(){return Xr.default.getCurrentUser()})),f=GT(o.useState(!1),2),d=f[0],p=f[1];o.useEffect((function(){(0,tc.EW)(a.z$.AUTH_SESSIONS_NEW,{dismissAction:wy.L.AUTO});!function(){ET.apply(this,arguments)}();var e=setTimeout((function(){return p(!0)}),500);return function(){clearTimeout(e);c.Z.dispatch({type:"FETCH_AUTH_SESSIONS_SUCCESS",sessions:[]})}}),[]);var h,y=function(){af.Z.post({url:G.ANM.AUTH_SESSION_NOTIFICATIONS_DEBUG})};if(l)return(0,r.jsx)(Ut.Z,{});h=null==n&&0===i.length?d?(0,r.jsx)("div",{className:UT().loading,children:(0,r.jsx)(qt.Z,{})}):null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:UT().sessions,children:[(0,r.jsx)(s.hj,{tag:s.RB.H5,title:R.Z.Messages.AUTH_SESSIONS_CURRENT,titleClassName:UT().groupTitle,children:null!=n?(0,r.jsx)(HT,{session:n,current:!0}):null
}),i.length>0||!(null==u?void 0:u.mfaEnabled)?(0,r.jsxs)(s.hj,{tag:s.RB.H5,title:R.Z.Messages.AUTH_SESSIONS_OTHERS,titleClassName:UT().groupTitle,className:UT().otherSessions,children:[i.map((function(e){return(0,r.jsx)(HT,{session:e},e.id_hash)})),(null==u?void 0:u.mfaEnabled)?null:(0,r.jsx)(VT,{})]}):null]}),i.length>0?(0,r.jsxs)(s.hj,{tag:s.RB.H5,title:R.Z.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_TITLE,children:[(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,children:R.Z.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_DESCRIPTION}),(0,r.jsx)(ue.Co,{look:ue.Co.Looks.OUTLINED,color:ue.Co.Colors.RED,size:ue.Co.Sizes.SMALL,className:UT().logOutAllButton,onClick:function(){return yT(i.map((function(e){return e.id_hash})))},children:R.Z.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_ACTION})]}):null]});return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.AUTH_SESSIONS,children:[(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:UT().description,children:R.Z.Messages.AUTH_SESSIONS_DESCRIPTION
}),(null==u?void 0:u.isStaff())?(0,r.jsxs)("div",{className:UT().tools,children:[(0,r.jsx)(s.xv,{className:UT().toolsTitle,variant:"text-md/bold",children:"DEV TOOLS"}),(0,r.jsx)(s.xv,{className:UT().toolsTitle,variant:"text-sm/normal",color:"text-danger",children:"These tools are only shown to staff users."}),(0,r.jsx)(un.ZP,{text:"Triggers mobile and email suspicious session notifications for the current user",children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.SMALL,color:ue.Co.Colors.PRIMARY,onClick:y,onMouseEnter:t,onMouseLeave:n,children:"Trigger Suspicious Sessions Notification"})}})]}):null,h]})}function HT(e){var t,n,o,i,a,c,l=e.session,u=e.current,f=null!==(a=null===(t=l.client_info)||void 0===t?void 0:t.location)&&void 0!==a?a:null===(n=l.client_info)||void 0===n?void 0:n.ip,d=null===(o=l.client_info)||void 0===o?void 0:o.platform,p=function(e){switch(null==e?void 0:e.toLowerCase().trim()){case null:case void 0:case"":return{
text:R.Z.Messages.AUTH_SESSIONS_OS_UNKNOWN,icon:tb.Z};case"ios":case"android":return{text:e,icon:LT.Z};default:return{text:e,icon:tb.Z}}}(null===(i=l.client_info)||void 0===i?void 0:i.os),h=p.text,E=p.icon,y=u?null:(c=l.approx_last_used_time,(Date.now()-c.valueOf())/1e3/60/60<1?R.Z.Messages.AUTH_SESSIONS_ACTIVE_RECENTLY:We()(c).fromNow()),m=[h,d].filter(Ve.lm),b=[f,y].filter(Ve.lm);return(0,r.jsxs)("div",{className:O()(UT().session,u?UT().currentSession:null),children:[(0,r.jsx)("div",{className:UT().sessionIcon,children:(0,r.jsx)(E,{width:"32",height:"32"})}),(0,r.jsxs)("div",{className:UT().sessionInfo,children:[(0,r.jsxs)(s.xv,{variant:"eyebrow",className:UT().sessionInfoRow,children:[(0,r.jsx)("span",{children:m[0]}),m.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"·"}),(0,r.jsx)("span",{children:m[1]})]})]}),(0,r.jsxs)(s.xv,{variant:"text-sm/medium",className:UT().sessionInfoRow,children:[(0,r.jsx)("span",{children:b[0]}),b.length>1&&(0,r.jsxs)(r.Fragment,{
children:[(0,r.jsx)("span",{children:"·"}),(0,r.jsx)("span",{children:b[1]})]})]})]}),u?null:(0,r.jsx)(s.P3,{className:UT().sessionMoreButton,onClick:function(){return yT(l.id_hash)},"aria-label":R.Z.Messages.AUTH_SESSIONS_SESSION_LOG_OUT,children:(0,r.jsx)(dl.Z,{})})]},l.id_hash)}function VT(){return(0,r.jsxs)("div",{className:O()(UT().session,UT().legacySession),children:[(0,r.jsx)("div",{className:UT().sessionIcon,children:(0,r.jsx)(ZT.Z,{width:"32",height:"32"})}),(0,r.jsxs)("div",{className:UT().sessionInfo,children:[(0,r.jsx)(s.xv,{variant:"eyebrow",className:UT().sessionInfoRow,color:"text-muted",children:(0,r.jsx)("span",{children:R.Z.Messages.AUTH_SESSIONS_UNKNOWN_LEGACY})}),(0,r.jsx)(s.xv,{variant:"text-sm/medium",className:UT().sessionInfoRow,color:"text-muted",children:(0,r.jsx)("span",{children:R.Z.Messages.AUTH_SESSIONS_UNKNOWN_LEGACY_LOG_OUT.format({onClick:function(){return d.Z.setSection(G.oAB.ACCOUNT)}})})})]})]})}var FT=n(241490),YT=n(328451),WT=n.n(YT)
;function zT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function KT(){var e=(0,E.cj)([Vr.Z],(function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zT(e,t,n[t])}))}return e}({},Vr.Z.getSettings())})),t=e.enabled,o=e.autoToggle,i=e.hideInstantInvites,a=e.hidePersonalInformation,c=e.disableSounds,l=e.disableNotifications,u=function(e,t){FT.Z.update(zT({},e,t))};return(0,r.jsxs)(s.hj,{className:WT().container,tag:s.RB.H1,title:R.Z.Messages.STREAMER_MODE,children:[(0,r.jsx)(s.To,{className:ye().marginBottom40,iconClassName:WT().noticeIcon,type:s.Dd.PRIMARY,imageData:{src:n(566300),width:184,height:110,position:s.Sw.RIGHT},
title:R.Z.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:R.Z.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:G.EYA.STREAMKIT})}),(0,r.jsx)(s.j7,{value:t,onChange:function(e){return u("enabled",e)},note:R.Z.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:function(){d.Z.setSection(G.oAB.KEYBINDS)}}),children:R.Z.Messages.ENABLE_STREAMER_MODE_LABEL}),function(){if(rl.FB)return(0,r.jsx)(s.j7,{value:o,onChange:function(e){return u("autoToggle",e)},note:R.Z.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION,children:R.Z.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL})}(),(0,r.jsx)(s.vw,{className:O()(ye().marginTop40,ye().marginBottom8),children:R.Z.Messages.OPTIONS}),(0,r.jsx)(s.j7,{value:a,onChange:function(e){return u("hidePersonalInformation",e)},note:R.Z.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION,children:R.Z.Messages.HIDE_PERSONAL_INFORMATION_LABEL}),(0,r.jsx)(s.j7,{value:i,onChange:function(e){return u("hideInstantInvites",e)},
note:R.Z.Messages.HIDE_INSTANT_INVITES_DESCRIPTION,children:R.Z.Messages.HIDE_INSTANT_INVITES_LABEL}),(0,r.jsx)(s.j7,{value:c,onChange:function(e){return u("disableSounds",e)},note:R.Z.Messages.DISABLE_SOUNDS_DESCRIPTION,children:R.Z.Messages.DISABLE_SOUNDS_LABEL}),(0,r.jsx)(s.j7,{value:l,onChange:function(e){return u("disableNotifications",e)},note:R.Z.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION,children:R.Z.Messages.DISABLE_NOTIFICATIONS_LABEL})]})}function qT(){var e=hi.up.useSetting(),t=hi.R$.useSetting(),n=hi.cC.useSetting(),o=hi.vF.useSetting(),i=hi.H1.useSetting(),a=hi.ev.useSetting(),c=hi.x4.useSetting(),l=hi.RS.useSetting(),u=hi.NA.useSetting(),f=hi.nc.useSetting(),d=(0,h.Z)(lr.Z.TEXT_AND_IMAGES).analyticsLocations;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:R.Z.Messages.TEXT_AND_IMAGES,children:[(0,r.jsx)(s.vw,{className:ye().marginBottom8,children:R.Z.Messages.INLINE_MEDIA_LABEL}),(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom20),value:l,
onChange:hi.RS.updateSetting,children:R.Z.Messages.INLINE_EMBED_MEDIA}),(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom20),value:c,note:R.Z.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:hi.x4.updateSetting,children:R.Z.Messages.INLINE_ATTACHMENT_MEDIA}),(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom20),value:i,note:R.Z.Messages.IMAGE_DESCRIPTION_HELP,onChange:hi.H1.updateSetting,children:R.Z.Messages.USER_SETTINGS_IMAGE_DESCRIPTIONS}),(0,r.jsx)(s.vw,{className:ye().marginBottom8,children:R.Z.Messages.RENDER_EMBEDS_LABEL}),(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom40),value:u,onChange:hi.NA.updateSetting,children:R.Z.Messages.RENDER_EMBEDS}),(0,r.jsx)(s.vw,{className:ye().marginBottom8,children:R.Z.Messages.EMOJI}),(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom20),value:f,onChange:hi.nc.updateSetting,children:R.Z.Messages.RENDER_REACTIONS}),(0,r.jsx)(s.j7,{className:ye().marginBottom40,value:a,
note:PO.Z.parse(R.Z.Messages.CONVERT_EMOTICONS_HELP),onChange:hi.ev.updateSetting,children:R.Z.Messages.CONVERT_EMOTICONS}),(0,r.jsx)(s.xJ,{className:ye().marginBottom20,title:R.Z.Messages.STICKERS_AUTO_PLAY_HEADING,children:(0,r.jsx)(s.j7,{className:O()(ye().marginTop20,ye().marginBottom20),value:e,note:R.Z.Messages.AUTO_SUGGEST_STICKERS_DESCRIPTION,onChange:function(t){Kr.default.track(G.rMx.STICKER_SUGGESTIONS_ENABLED_TOGGLED,{enabled:!e,location:{section:G.jXE.SETTINGS_TEXT_AND_IMAGES},location_stack:d});hi.up.updateSetting(!e)},children:R.Z.Messages.AUTO_SUGGEST_STICKERS})}),(0,r.jsxs)(s.hj,{className:ye().marginBottom8,children:[(0,r.jsx)(s.vw,{className:ye().marginBottom8,children:R.Z.Messages.FORM_LABEL_USE_RICH_CHAT_BOX}),(0,r.jsx)(s.j7,{className:ye().marginTop8,value:t,onChange:function(e){Kr.default.track(G.rMx.PREVIEW_MARKDOWN_TOGGLED,{enabled:e,location:{section:G.jXE.SETTINGS_TEXT_AND_IMAGES}});hi.R$.updateSetting(e)},children:R.Z.Messages.PREVIEW_MARKDOWN_DESCRIPTION})]
}),(0,r.jsxs)(s.hj,{className:ye().marginBottom40,children:[(0,r.jsx)(s.vw,{className:ye().marginBottom8,children:R.Z.Messages.THREADS}),(0,r.jsx)(s.j7,{className:ye().marginTop8,value:o,onChange:hi.vF.updateSetting,children:R.Z.Messages.USE_THREADS_SIDEBAR_DESCRIPTION})]}),(0,r.jsxs)(s.xJ,{title:R.Z.Messages.SHOW_SPOILER_CONTENT,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginBottom8,children:R.Z.Messages.SHOW_SPOILER_CONTENT_HELP}),(0,r.jsx)(s.Ee,{options:[{name:R.Z.Messages.SHOW_SPOILER_ON_CLICK,value:G.A2N.ON_CLICK},{name:R.Z.Messages.SHOW_SPOILER_ON_SERVERS_I_MOD,value:G.A2N.IF_MODERATOR},{name:R.Z.Messages.SHOW_SPOILER_ALWAYS,value:G.A2N.ALWAYS}],onChange:function(e){return hi.cC.updateSetting(e.value)},value:n})]})]})}var XT=n(104203),QT=n(337921),$T=n(107182),JT=n.n($T);function eN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function nN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rN=[{label:"Latin alphabet",value:"aBcDeFgHiJkLmNoPqRsTuVwXyZ"},{
label:"Latin pangram",value:"The quick brown fox jumps over the lazy dog"},{label:"Greek alphabet",value:"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩΆΈΉΊΌΎΏ"},{label:"Greek pangram",value:"ΤΑΧΊΣΤΗ ΑΛΏΠΗΞ ΒΑΦΉΣ ΨΗΜΈΝΗ ΓΗ, ΔΡΑΣΚΕΛΊΖΕΙ ΥΠΈΡ ΝΩΘΡΟΎ ΚΥΝΌΣ"},{label:"Cyrillic alphabet",value:"АБВГЃҐДЕЀЁЖЗИЙЍКЌЛМНОПРСТУЎФХЧЦШЩЏЬЪЫЉЊЅЄЭІЇЈЋЮЯЂѢѲѴ"},{label:"Cyrillic pangram",value:"В ЧАЩАХ ЮГА ЖИЛ БЫ ЦИТРУС? ДА, НО ФАЛЬШИВЫЙ ЭКЗЕМПЛЯР!"},{label:"Custom",value:"custom"}];function oN(e,t){var n=nN(o.useState((function(){var n=se.Z.get(e);return null!=n?n:t})),2),r=n[0],i=n[1];o.useEffect((function(){se.Z.set(e,r)}),[e,r]);return[r,i]}function iN(){var e=nN(o.useState(Math.round(window.outerWidth/window.innerWidth*100)),2),t=e[0],n=e[1],i=(0,E.cj)([zu.Z,je.Z],(function(){return{theme:zu.Z.theme,platformZoom:je.Z.zoom}})),a=i.platformZoom,c=i.theme,l=["normal","medium","semibold","bold","extrabold"],u=new Map([["normal",400],["medium",500],["semibold",600],["bold",700],["extrabold",800]]);o.useEffect((function(){
rl.FB||window.addEventListener("resize",(function(){n(Math.round(window.outerWidth/window.innerWidth*100))}))}),[]);var f=rl.FB?a:t,d=(0,E.e7)([QT.C],(function(){var e,t;return(0,em.fD)()?null===(e=QT.C.getCurrentBuildOverride())||void 0===e||null===(t=e.overrides)||void 0===t?void 0:t.discord_web:null})),p=nN(oN("playground-overrideText",null),2),h=p[0],y=p[1],m=nN(oN("playground-defaultText",rN[0].value),2),b=m[0],g=m[1],v=o.useCallback((function(e){var t=rN.find((function(t){return t.value===e}));if(""===e||null==e){g(rN[0].value);y(null)}else if(null!=t)g(t.value);else{g("custom");y(e)}}),[y,g]);return(0,r.jsx)("div",{className:JT().fullscreen,children:(0,r.jsxs)(s.hj,{tag:s.RB.H1,children:[(0,r.jsxs)("div",{className:JT().toolbar,children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(s.xv,{tag:"div",variant:"heading-lg/bold",style:{display:"inline-block"},children:["Zoom: ",f,"%"]}),null!=d?(0,r.jsxs)(s.xv,{tag:"div",variant:"heading-lg/bold",style:{display:"inline-block",
marginLeft:"1em"},color:"header-secondary",children:["(",d.id,")"]}):null]}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)(s.q4,{className:JT().select,options:rN,onChange:function(e){return v(e)},value:b})}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)("div",{className:JT().input,children:(0,r.jsx)(s.oi,{placeholder:"Enter custom input...",value:null!=h?h:"",onChange:v})})}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)(s.Ee,{withTransparentBackground:!0,className:JT().theme,orientation:"horizontal",options:[{name:R.Z.Messages.THEME_DARK,value:G.BRd.DARK},{name:R.Z.Messages.THEME_LIGHT,value:G.BRd.LIGHT}],onChange:function(e){Cp.Z.updatedUnsyncedSettings({useSystemTheme:Wp.K.OFF});Cp.Z.updateTheme(e.value)},value:c})}),(0,r.jsx)(XT.Z,{closeAction:Pe.xf,keybind:"ESC"})]}),(0,r.jsxs)("div",{className:JT().textGrid,children:[(0,r.jsx)("div",{}),l.map((function(e){return(0,r.jsx)("div",{className:JT().columnHeading,children:(0,r.jsx)(s.X6,{variant:"eyebrow",children:e})},e)})),[10,12,14,15,16,18,20,24].map((function(e){
return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)("div",{className:JT().fontSize,children:[(0,r.jsxs)(s.X6,{variant:"eyebrow",children:[e,"px"]}),100!==f?(0,r.jsxs)(s.X6,{variant:"eyebrow",color:"text-muted",children:["(",e*f/100,")"]}):null]},e),l.map((function(t){var n,o=null!==(n="custom"===b?h:b)&&void 0!==n?n:"";return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{title:"".concat(e,"px at ").concat(t),className:O()(JT().text,tN({},JT().breakAnywhere,!o.includes(" "))),style:{fontSize:e,fontWeight:u.get(t)},children:[(0,r.jsx)("p",{children:o}),(0,r.jsx)("p",{style:{textTransform:"lowercase"},children:o}),(0,r.jsx)("p",{style:{textTransform:"uppercase"},children:o})]})},"".concat(e,"-").concat(t))}))]},e)}))]})]})})}var aN=n(149556),sN=n(600341),cN=n(706690),lN=n(433411),uN=n(811139),fN=n(884994),dN=n(653528),pN=n(626242),hN=n(337053),EN=n(248604),yN=n(453587),mN=n(405959),bN=n(842592),gN=n(620369),ON=n(404534),vN=n(930149),_N=n(165926),SN=n(471749),IN=n.n(SN);function TN(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function CN(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function AN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return TN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var PN=387,jN=218;function RN(e){var t=e.previewEnabled,n=e.onEnablePreview,i=$c.Z.getCameraComponent(),a=AN(o.useState((0,gN.P)(Xr.default.getCurrentUser())),2),s=a[0],l=a[1],u=o.useRef(!1),f=o.useRef(s),d=(0,bN.O)(),p=(0,E.e7)([$c.Z],(function(){return Object.values($c.Z.getVideoDevices()).length>0}));o.useEffect((function(){return function(){u.current&&c.Z.wait((function(){return(0,ON.Up)(f.current)}))}}),[]);return(0,r.jsx)(_N.Z,{
selectedBackgroundOption:s,onSelectBackgroundOption:function(e){u.current=!0;f.current=e;l(e);(0,vN.wG)(e,{location:d.location}).catch(G.dG4)},renderCamera:function(e){return t?(0,r.jsx)("div",{className:IN().cameraWrapper,children:(0,r.jsxs)("div",{className:IN().camera,children:[(0,r.jsx)(i,{deviceId:e,width:PN,height:jN,disabled:!t}),(0,r.jsx)(_N.S,{})]})}):(0,r.jsxs)("div",{className:IN().cameraWrapper,children:[(0,r.jsx)("div",{className:IN().previewImage}),(0,r.jsx)(un.ZP,{text:p?null:R.Z.Messages.CAMERA_UNAVAILABLE,children:function(e){return(0,r.jsx)(ue.Co,CN(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){NN(e,t,n[t])}))}return e}({},e),{onClick:n,disabled:!p,children:R.Z.Messages.TEST_VIDEO}))}})]})}})}
var xN=n(866452),MN=n(819887),wN=n.n(MN);function ZN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LN(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function DN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){LN(i,r,o,a,s,"next",e)}function s(e){LN(i,r,o,a,s,"throw",e)}a(void 0)}))}}function UN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function GN(e){GN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return GN(e)}function BN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&YN(e,t)}function HN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kN(e,t,n[t])}))}return e}function VN(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function FN(e,t){return!t||"object"!==WN(t)&&"function"!=typeof t?ZN(e):t}function YN(e,t){YN=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return YN(e,t)}var WN=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function zN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=GN(e);if(t){var o=GN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return FN(this,n)}}var KN,qN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},XN=(0,fn.hQ)(),QN=(0,fn.hQ)(),$N=(0,fn.hQ)(),JN=(0,fn.hQ)(),eC=(0,fn.hQ)(),tC=(0,fn.hQ)();!function(e){e[e.NONE=0]="NONE";e[e.STANDARD=1]="STANDARD";e[e.KRISP=2]="KRISP"}(KN||(KN={}));var nC=function(e){BN(n,e);var t=zN(n);function n(){UN(this,n);var e;(e=t.apply(this,arguments))._timeout=new Ae.V7;e.state={volume:-100,speaking:!1}
;e.setupVoiceActivity=function(){$c.Z.getMediaEngine().on(aN.aB.VoiceActivity,e.handleVoiceActivity);e._timeout.stop()};e.handleVoiceActivity=function(t,n){e.setState({volume:t,speaking:(n&xN.Dg.VOICE)===xN.Dg.VOICE})};e.handleAutoThresholdChange=function(t){var n=e.props,r=n.onThresholdChange,o=n.threshold;null==r||r(o,t)};e.handleSensitivityChange=function(t){var n=e.props,r=n.onThresholdChange,o=n.auto;null==r||r(-1*(100-t),o)};return e}var o=n.prototype;o.componentDidMount=function(){this._timeout.start(1e3,this.setupVoiceActivity)};o.componentWillUnmount=function(){$c.Z.getMediaEngine().removeListener(aN.aB.VoiceActivity,this.handleVoiceActivity);this._timeout.stop()};o.handleValueRender=function(e){return"".concat((-1*(100-e)).toFixed(0),"dB")};o.renderAutomaticVADToggle=function(){var e=this,t=this.props.auto;if($c.Z.supports(xN.AN.AUTOMATIC_VAD))return(0,r.jsx)(fn.FG,{children:function(n){return(0,r.jsxs)("div",{className:O()(Al().horizontal,ye().marginBottom4),children:[(0,
r.jsx)(s.vw,{tag:s.RB.H3,className:ye().marginReset,children:(0,r.jsx)("label",{htmlFor:n,children:R.Z.Messages.FORM_LABEL_AUTOMATIC_VAD})}),(0,r.jsx)(s.rs,{id:n,checked:t,onChange:e.handleAutoThresholdChange})]})}})};o.renderSlider=function(){var e=this.props,t=e.auto,n=e.threshold,o=this.state.speaking;return t?(0,r.jsxs)("section",{className:wN().inputSensitivityToggle,children:[(0,r.jsx)("div",{className:wN().inputSensitivitySlider,children:(0,r.jsx)("div",{className:O()(wN().InputSensitivityBar,wN().sliderBar,kN({},wN().speaking,o||this.state.speaking))})}),(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginBottom8,children:R.Z.Messages.FORM_HELP_AUTOMATIC_VAD})]}):(0,r.jsx)("section",{className:O()(wN().inputSensitivityToggle,wN().manual),children:(0,r.jsx)(s.iR,{initialValue:n+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,barStyles:{background:(0,ae.Lq)(G.Ilk.STATUS_GREEN_600)},fillStyles:{background:(0,
ae.Lq)(G.Ilk.STATUS_YELLOW_500)},"aria-labelledby":XN,children:(0,r.jsxs)("div",{className:O()(wN().sliderBar,wN().microphone,wN().inputSensitivityBar),children:[(0,r.jsx)("div",{className:O()(wN().fill,wN().inputSensitivityBarFill),style:{width:this.state.volume+100+"%"}}),(0,r.jsx)("div",{className:"grow"})]})})})};o.renderInputDisabledWarning=function(){if(!$c.Z.isEnabled())return(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:O()(wN().inputDisabledWarning,ye().marginBottom8),children:R.Z.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:sN.Z.enable})})};o.render=function(){return(0,r.jsxs)(s.xJ,{className:wN().sensitivity,children:[(0,r.jsx)(s.vw,{id:XN,tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.FORM_LABEL_INPUT_SENSITIVTY}),(0,r.jsxs)("div",{children:[this.renderAutomaticVADToggle(),this.renderSlider()]}),this.renderInputDisabledWarning()]})};return n}(o.PureComponent),rC=E.ZP.connectStores([EN.Z],(function(){return{
speaking:EN.Z.isCurrentUserSpeaking()}}))(nC),oC=function(e){BN(o,e);var t=zN(o);function o(){UN(this,o);var e;(e=t.apply(this,arguments)).state={showCamera:!1,disableDebugUpload:!1};e.handleInputModeChange=function(t){var n=t.value;n===G.pM4.PUSH_TO_TALK&&e.props.usePTTLimited&&(0,Ze.h7)((function(t){return(0,r.jsx)(mh.Z,HN({title:R.Z.Messages.PTT_LIMITED_TITLE,confirmText:R.Z.Messages.DOWNLOAD,cancelText:R.Z.Messages.OKAY,onConfirm:e.handleDownload.bind(ZN(e),"PTT Limited Modal"),body:R.Z.Messages.PTT_LIMITED_BODY},t))}));sN.Z.setMode(n)};e.handleDelayChange=function(t){sN.Z.setMode(e.props.inputMode,{delay:t})};e.handleThresholdChange=function(t,n){sN.Z.setMode(e.props.inputMode,{threshold:t,autoThreshold:n})};e.handleAdvancedVoiceActivityChange=function(t){sN.Z.setMode(e.props.inputMode,{vadUseKrisp:t})};e.handleHardwareH264Change=function(e){sN.Z.setHardwareH264(e)};e.handleDebugLoggingChange=function(e){(0,Ze.h7)((function(t){return(0,r.jsx)(nl.default,VN(HN({
header:R.Z.Messages.SET_DEBUG_LOGGING,confirmText:R.Z.Messages.OKAY,cancelText:R.Z.Messages.CANCEL,onCancel:t.onClose,onConfirm:function(){return sN.Z.setDebugLogging(e)}},t),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.SET_DEBUG_LOGGING_BODY})}))}))};e.handleAecDumpChange=function(e){sN.Z.setAecDump(e)};e.handleAttenuationChange=function(t){sN.Z.setAttenuation(t,e.props.attenuateWhileSpeakingSelf,e.props.attenuateWhileSpeakingOthers)};e.handleAttenuateSelfChanged=function(t){sN.Z.setAttenuation(e.props.attenuation,t,e.props.attenuateWhileSpeakingOthers)};e.handleAttenuateOthersChanged=function(t){var n=e.props,r=n.attenuation,o=n.attenuateWhileSpeakingSelf;sN.Z.setAttenuation(r,o,t)};e.handleShortcutChange=function(t){sN.Z.setMode(e.props.inputMode,{shortcut:t})};e.handleShowCamera=function(){e.setState({showCamera:!0})};e.handleShowVoiceModuleFolder=DN((function(){var e,t;return qN(this,(function(n){switch(n.label){case 0:
return[4,K.Z.fileManager.getModulePath()];case 1:e=n.sent();t=K.Z.fileManager.join(e,"discord_voice");K.Z.fileManager.showItemInFolder(t);return[2]}}))}));e.handleUploadDebugFiles=function(){e.setState({disableDebugUpload:!0});$c.Z.getMediaEngine().writeAudioDebugState().finally((function(){return yN.Z.submitLiveCrashReport({message:{message:"User Live Dump"}})})).finally((function(){return(0,uN.E_)(G.GU0.RTC).then((function(){return(0,Ze.h7)((function(e){return(0,r.jsx)(nl.default,VN(HN({header:R.Z.Messages.UPLOAD_DEBUG_LOG_SUCCESS_HEADER,confirmButtonColor:ue.Co.Colors.BRAND,confirmText:R.Z.Messages.OKAY},e),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.UPLOAD_DEBUG_LOG_SUCCESS})}))}))})).catch((function(e){return(0,Ze.h7)((function(t){return(0,r.jsx)(nl.default,VN(HN({header:R.Z.Messages.UPLOAD_DEBUG_LOG_FAILURE_HEADER,confirmButtonColor:ue.Co.Colors.BRAND,confirmText:R.Z.Messages.OKAY},t),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",
children:e.displayMessage})}))}))})).finally((function(){e.setState({disableDebugUpload:!1})}))}))};e.handleConnectionLogChange=function(e){cN.TC(e)};e.handleOpenConnectionReplay=function(){cN.z4()};e.handleOpenH264Change=function(e){sN.Z.setOpenH264(e);sN.Z.setHardwareH264(e)};e.handleAv1EnabledChange=function(e){sN.Z.setAV1Enabled(e);Kr.default.track(G.rMx.VOICE_SETTINGS_CHANGED,{av1_disabled:!e,av1_enabled:e})};e.handleEnableSoundshare=function(){sN.Z.enableSoundshare()};e.renderDeviceValue=function(t){return e.renderDevice(t[0])};e.renderDevice=function(t){var o,i=t.label,a=t.value;if(pN.Z.isCertified(a)){var s=e.props.theme===G.BRd.LIGHT?n(956863):n(874638);o=(0,r.jsx)("img",{src:s,alt:"Certified",className:wN().deviceOptionCertified})}return(0,r.jsxs)("span",{className:wN().deviceOption,children:[(0,r.jsx)("span",{className:wN().deviceOptionLabel,children:pN.Z.getCertifiedDeviceName(a,i)}),o]},a)};e.handleKrispLinkClick=function(e){var t=e.currentTarget
;Kr.default.track(G.rMx.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO}})};return e}var i=o.prototype;i.handleInputDeviceChange=function(e){sN.Z.setInputDevice(e,"Settings")};i.handleOutputDeviceChange=function(e){sN.Z.setOutputDevice(e,"Settings")};i.handleDownload=function(e){(0,Ze.h7)((function(t){return(0,r.jsx)(fN.default,HN({source:e},t))}))};i.handleInputVolumeChange=function(e){sN.Z.setInputVolume((0,mN.A)(e))};i.handleOutputVolumeChange=function(e){sN.Z.setOutputVolume((0,mN.A)(e))};i.handleDelayValueRender=function(e){return e>=1e3?"".concat((e/=1e3).toFixed(2),"s"):"".concat(e.toFixed(0)," ms")};i.handleVideoDeviceChange=function(e){sN.Z.setVideoDevice(e,G.jXE.SETTINGS_VOICE_AND_VIDEO)};i.handleEchoCancellationChange=function(e){sN.Z.setEchoCancellation(e,{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO})};i.handleNoiseSuppressionChange=function(e){if(e===KN.KRISP){
sN.Z.setNoiseCancellation(!0,{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO});sN.Z.setNoiseSuppression(!1,{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO})}else if(e===KN.STANDARD){sN.Z.setNoiseCancellation(!1,{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO});sN.Z.setNoiseSuppression(!0,{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO})}else{sN.Z.setNoiseCancellation(!1,{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO});sN.Z.setNoiseSuppression(!1,{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO})}};i.handleAutomaticGainControlChange=function(e){sN.Z.setAutomaticGainControl(e,{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO})};i.handleExperimentalEncodersChange=function(e){sN.Z.setExperimentalEncoders(e)};i.handleSilenceWarningChange=function(e){sN.Z.setSilenceWarning(e)};i.handleVideoHookChange=function(e){sN.Z.setVideoHook(e)}
;i.handleExperimentalSoundshareChange=function(e){sN.Z.setExperimentalSoundshare(e)};i.handleQoSChanged=function(e){sN.Z.setQoS(e)};i.handleVoiceReset=function(){(0,Ze.h7)((function(e){return(0,r.jsx)(nl.default,VN(HN({header:R.Z.Messages.RESET_VOICE_SETTINGS,confirmText:R.Z.Messages.OKAY,cancelText:R.Z.Messages.CANCEL,onConfirm:sN.Z.reset},e),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.RESET_VOICE_SETTINGS_BODY})}))}))};i.handleAudioSubsystemChanged=function(e){(0,Ze.h7)((function(t){return(0,r.jsx)(nl.default,VN(HN({header:R.Z.Messages.SWITCH_SUBSYSTEM,confirmText:R.Z.Messages.OKAY,cancelText:R.Z.Messages.CANCEL,onConfirm:function(){return sN.Z.setAudioSubsystem(e)}},t),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.SWITCH_SUBSYSTEM_BODY})}))}))};i.renderDevices=function(){var e,t,n=this.props,o=n.inputDevices,i=n.inputDeviceId,a=n.outputDeviceId,c=n.outputDevices,l=n.canSetInputDevice,u=n.canSetOutputDevice;l||(e=(0,
r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginTop8,children:R.Z.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Input Devices")})}));u||(t=(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginTop8,children:R.Z.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Output Devices")})}));var f=Ce()(o).values().first(),d=null!=f?f.disabled:null!=e,p=Ce()(c).values().first(),h=null!=p?p.disabled:null!=t;return(0,r.jsxs)(fe.Z,{className:ye().marginBottom20,children:[(0,r.jsxs)(fe.Z.Child,{basis:"50%",children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.FORM_LABEL_INPUT_DEVICE}),(0,r.jsx)(s.q4,{value:i,onChange:this.handleInputDeviceChange,options:Ce().map(o,(function(e){return{value:e.id,label:e.name}})),isDisabled:d,renderOptionValue:this.renderDeviceValue,renderOptionLabel:this.renderDevice}),e]}),(0,r.jsxs)(fe.Z.Child,{
basis:"50%",children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.FORM_LABEL_OUTPUT_DEVICE}),(0,r.jsx)(s.q4,{value:a,onChange:this.handleOutputDeviceChange,options:Ce().map(c,(function(e){return{value:e.id,label:e.name}})),isDisabled:h,renderOptionValue:this.renderDeviceValue,renderOptionLabel:this.renderDevice}),t]})]})};i.renderVolumeControls=function(){var e=this.props,t=e.inputVolume,n=e.outputVolume;return(0,r.jsxs)(fe.Z,{className:"volume",children:[(0,r.jsxs)(fe.Z.Child,{basis:"50%",children:[(0,r.jsx)(s.vw,{id:QN,tag:s.RB.H5,className:ye().marginBottom4,children:R.Z.Messages.FORM_LABEL_INPUT_VOLUME}),(0,r.jsx)(s.iR,{initialValue:(0,mN.P)(t),asValueChanges:this.handleInputVolumeChange,"aria-labelledby":QN})]}),(0,r.jsxs)(fe.Z.Child,{basis:"50%",children:[(0,r.jsx)(s.vw,{id:$N,tag:s.RB.H5,className:ye().marginBottom4,children:R.Z.Messages.FORM_LABEL_OUTPUT_VOLUME}),(0,r.jsx)(s.iR,{initialValue:(0,mN.P)(n),maxValue:200,onValueRender:function(e){
return"".concat(e.toFixed(0),"%")},asValueChanges:this.handleOutputVolumeChange,"aria-labelledby":$N})]})]})};i.renderMicTest=function(){return $c.Z.supports(xN.AN.LOOPBACK)?(0,r.jsx)("div",{className:wN().micTest,children:(0,r.jsx)(lN.Z,{title:R.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_TITLE,description:R.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_DESCRIPTION,notchBackground:lN._.GRAY,captionVoice:R.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CAPTION,captionNoVoice:(0,r.jsxs)(r.Fragment,{children:[R.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_NO_INPUT_NOTICE,(0,r.jsx)(_l.Z,{className:wN().micTestHelpLink,href:da.Z.getArticleURL(G.BhN.NO_INPUT_DETECTED),children:R.Z.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT})]}),buttonTest:R.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_INACTIVE,buttonStop:R.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_ACTIVE,buttonClassName:wN().micTestButton,buttonColor:ue.Co.Colors.BRAND,location:{page:G.ZY5.USER_SETTINGS,
section:G.jXE.SETTINGS_VOICE_AND_VIDEO}})}):null};i.renderInputMode=function(){var e=this.props,t=e.usePTTLimited,n=e.inputMode,o=[{value:G.pM4.VOICE_ACTIVITY,name:R.Z.Messages.INPUT_MODE_VAD},{value:G.pM4.PUSH_TO_TALK,name:t?R.Z.Messages.INPUT_MODE_PTT_LIMITED:R.Z.Messages.INPUT_MODE_PTT}];return(0,r.jsx)(s.xJ,{title:R.Z.Messages.FORM_LABEL_INPUT_MODE,className:ye().marginBottom20,children:(0,r.jsx)(s.Ee,{onChange:this.handleInputModeChange,options:o,value:n})})};i.renderPTTTools=function(){var e,t=this.props,n=t.inputMode,o=t.delay,i=t.shortcut;if(n!==G.pM4.PUSH_TO_TALK)return null;e=rl.FB||n!==G.pM4.PUSH_TO_TALK?(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:O()(wN().pttToolsMessage,ye().marginBottom8),children:R.Z.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return d.Z.setSection(G.oAB.KEYBINDS)}})}):(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:O()(wN().pttToolsMessage,wN().pttToolsWarning,ye().marginBottom8),
children:R.Z.Messages.PTT_LIMITED_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text PTT")})});return(0,r.jsxs)("div",{className:wN().pttTools,children:[(0,r.jsxs)(fe.Z,{children:[(0,r.jsx)(fe.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:R.Z.Messages.FORM_LABEL_SHORTCUT,children:(0,r.jsx)(U.Z,{defaultValue:i,onChange:this.handleShortcutChange})})}),(0,r.jsx)(fe.Z.Child,{basis:"50%",children:(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(s.vw,{id:JN,tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.INPUT_MODE_PTT_RELEASE_DELAY}),(0,r.jsx)(s.iR,{initialValue:o,onValueChange:this.handleDelayChange,onValueRender:this.handleDelayValueRender,maxValue:G.qhL,"aria-labelledby":JN})]})})]}),e]})};i.renderVoiceSensitivityTools=function(){var e=this.props,t=e.inputMode,n=e.vadThreshold,o=e.vadAutoThreshold;return t!==G.pM4.VOICE_ACTIVITY?null:(0,r.jsx)(rC,{inputMode:t,threshold:n,auto:o,onThresholdChange:this.handleThresholdChange})}
;i.renderVideoWarnings=function(){return(0,r.jsx)(s.To,{type:Wr.Y.PRIMARY,title:R.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:R.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.SMALL,className:ye().marginTop20,onClick:this.handleDownload.bind(this,"Video unsupported browser"),children:R.Z.Messages.DOWNLOAD_APP})})};i.renderNoiseSuppression=function(){var e=this,t=this.props,o=t.theme,i=t.inputDeviceId,a=t.noiseSuppression,c=t.noiseCancellation,l=t.noiseCancellationSupported,u=pN.Z.hasNoiseSuppression(i);if(l&&!u){var f;f=o===G.BRd.LIGHT?n(235920):n(200824);var d=(0,r.jsx)(s.To,{className:ye().marginBottom8,type:s.Dd.PRIMARY,imageData:{src:f,width:70,height:40},align:fe.Z.Align.CENTER,body:(0,r.jsx)(_l.Z,{href:da.Z.getArticleURL(G.BhN.NOISE_SUPPRESSION),onClick:this.handleKrispLinkClick,children:R.Z.Messages.LEARN_MORE})});return(0,r.jsxs)(s.hj,{className:ye().marginBottom20,children:[(0,r.jsx)(s.vw,{id:tC,tag:s.RB.H3,className:ye().marginBottom8,
children:R.Z.Messages.NOISE_SUPPRESSION}),(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:ye().marginBottom8,children:R.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_DESCRIPTION}),(0,r.jsx)(s.Ee,{options:[{name:R.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_KRISP,value:KN.KRISP},{name:R.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_STANDARD,value:KN.STANDARD},{name:R.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_DISABLED,value:KN.NONE}],onChange:function(t){return e.handleNoiseSuppressionChange(t.value)},value:c?KN.KRISP:a?KN.STANDARD:KN.NONE}),d,(0,r.jsx)(s.$i,{})]})}return(0,r.jsx)(s.hj,{children:(0,r.jsx)(s.j7,{value:a,onChange:function(t){return e.handleNoiseSuppressionChange(t?KN.STANDARD:KN.NONE)},note:R.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_DESCRIPTION,disabled:u,children:R.Z.Messages.NOISE_SUPPRESSION})})};i.renderCodec=function(){var e;e=this.props.theme===G.BRd.LIGHT?n(396448):n(680664);return(0,r.jsx)(s.hj,{className:ye().marginBottom20,
title:R.Z.Messages.USER_SETTINGS_VOICE_CODEC_TITLE,children:(0,r.jsx)(s.To,{className:ye().marginBottom20,type:s.Dd.PRIMARY,imageData:{src:e,width:70,height:40},align:fe.Z.Align.CENTER,body:R.Z.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION})})};i.renderVideoCodec=function(){if(!$c.Z.supports(xN.AN.OPEN_H264))return null;var e,t=this.props,n=t.openH264,o=t.experimentalEncoders,i=t.hardwareH264,a=t.av1Enabled;dN.Z.getCurrentConfig({}).signalAV1Support&&(e=(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom20),value:a,onChange:this.handleAv1EnabledChange,disabled:!1,children:R.Z.Messages.USER_SETTINGS_VOICE_AV1}));"stable"!==dd.default.releaseChannel&&$c.Z.isExperimentalEncodersSupported()&&(e=(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom20),value:o,onChange:this.handleExperimentalEncodersChange,disabled:!1,children:R.Z.Messages.EXPERIMENTAL_ENCODERS}));return(0,r.jsxs)(s.hj,{className:ye().marginBottom20,
title:R.Z.Messages.USER_SETTINGS_VOICE_VIDEO_CODEC_TITLE,children:[(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom20),value:n,onChange:this.handleOpenH264Change,disabled:!1,note:R.Z.Messages.FORM_HELP_OPEN_H264,children:R.Z.Messages.USER_SETTINGS_VOICE_OPEN_H264}),(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom20),value:i,onChange:this.handleHardwareH264Change,disabled:!n,note:R.Z.Messages.FORM_HELP_HARDWARE_H264,children:R.Z.Messages.USER_SETTINGS_VOICE_HARDWARE_H264}),e]})};i.renderVoiceProcessing=function(){if(!$c.Z.supports(xN.AN.VOICE_PROCESSING))return null;var e,t,n=this.props,o=n.echoCancellation,i=n.automaticGainControl,a=n.inputDeviceId,c=n.vadUseKrisp,l=n.inputMode,u=n.vadAutoThreshold,f=n.advancedVoiceActivitySupported,d=pN.Z.hasEchoCancellation(a),p=pN.Z.hasNoiseSuppression(a),h=pN.Z.hasAutomaticGainControl(a);(d||p||h)&&(e=(0,r.jsx)(s.R9,{className:ye().marginBottom20,type:s.R9.Types.DESCRIPTION,
children:R.Z.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING}));if(f){var E=l===G.pM4.VOICE_ACTIVITY&&u;t=(0,r.jsx)(s.j7,{value:c,onChange:this.handleAdvancedVoiceActivityChange,note:R.Z.Messages.USER_SETTINGS_DISABLE_ADVANCED_VOICE_ACTIVITY,disabled:!E,children:R.Z.Messages.ADVANCED_VOICE_ACTIVITY})}return(0,r.jsxs)(s.hj,{className:ye().marginBottom20,title:R.Z.Messages.FORM_LABEL_VOICE_PROCESSING,children:[e,(0,r.jsx)(s.j7,{className:O()(ye().marginTop8,ye().marginBottom20),value:o,onChange:this.handleEchoCancellationChange,disabled:d,children:R.Z.Messages.ECHO_CANCELLATION}),this.renderNoiseSuppression(),t,(0,r.jsx)(s.j7,{className:"",value:i,onChange:this.handleAutomaticGainControlChange,disabled:h,children:R.Z.Messages.AUTOMATIC_GAIN_CONTROL})]})};i.renderQoS=function(){if(!$c.Z.supports(xN.AN.QOS))return null;var e=this.props.qosEnabled;return(0,r.jsx)(s.hj,{className:ye().marginBottom20,title:R.Z.Messages.FORM_LABEL_QOS,children:(0,r.jsx)(s.j7,{className:"",value:e,
onChange:this.handleQoSChanged,note:R.Z.Messages.FORM_HELP_QOS,children:R.Z.Messages.FORM_CHECKBOX_QOS})})};i.renderAttenutation=function(){if(!$c.Z.supports(xN.AN.ATTENUATION))return null;var e=this.props,t=e.attenuation,n=e.attenuateWhileSpeakingSelf,o=e.attenuateWhileSpeakingOthers;return(0,r.jsxs)(s.hj,{className:ye().marginBottom20,children:[(0,r.jsx)(s.vw,{id:eC,tag:s.RB.H5,className:ye().marginBottom8,children:R.Z.Messages.FORM_LABEL_ATTENUATION}),(0,r.jsx)(s.iR,{initialValue:t,onValueChange:this.handleAttenuationChange,"aria-labelledby":eC}),(0,r.jsx)(s.R9,{className:ye().marginBottom20,type:s.R9.Types.DESCRIPTION,children:R.Z.Messages.FORM_HELP_ATTENUATION}),(0,r.jsx)(s.$i,{className:ye().marginBottom20}),(0,r.jsx)(s.j7,{value:n,onChange:this.handleAttenuateSelfChanged,children:R.Z.Messages.ATTENUATE_WHILE_SPEAKING_SELF}),(0,r.jsx)(s.j7,{className:"",value:o,onChange:this.handleAttenuateOthersChanged,children:R.Z.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS})]})}
;i.renderAudioSubsystem=function(){if(!$c.Z.supports(xN.AN.LEGACY_AUDIO_SUBSYSTEM)&&!$c.Z.supports(xN.AN.EXPERIMENTAL_AUDIO_SUBSYSTEM))return null;var e=[{value:xN.iA.STANDARD,label:"Standard"}];$c.Z.supports(xN.AN.LEGACY_AUDIO_SUBSYSTEM)&&e.push({value:xN.iA.LEGACY,label:"Legacy"});$c.Z.supports(xN.AN.EXPERIMENTAL_AUDIO_SUBSYSTEM)&&e.push({value:xN.iA.EXPERIMENTAL,label:"Experimental"});var t=this.props.audioSubsystem;return(0,r.jsxs)(s.hj,{className:ye().marginBottom20,title:R.Z.Messages.FORM_LABEL_SUBSYSTEM,children:[(0,r.jsx)(s.q4,{className:ye().marginBottom20,value:t,options:e,onChange:this.handleAudioSubsystemChanged}),(0,r.jsx)(s.$i,{className:ye().marginBottom20})]})};i.renderScreenshare=function(){if(!rl.FB)return null;var e,t,n,o=this.props,i=o.videoHook,a=o.experimentalSoundshare,c=o.soundshareEnabled;$c.Z.supports(xN.AN.VIDEO_HOOK)&&(e=(0,r.jsx)(s.j7,{value:i,onChange:this.handleVideoHookChange,note:R.Z.Messages.FORM_HELP_VIDEO_HOOK,
children:R.Z.Messages.USER_SETTINGS_VOICE_VIDEO_HOOK_LABEL}));$c.Z.supportsExperimentalSoundshare()&&(t=(0,r.jsx)(s.j7,{value:a,onChange:this.handleExperimentalSoundshareChange,children:R.Z.Messages.USER_SETTINGS_VOICE_EXPERIMENTAL_SOUNDSHARE_LABEL}));if($c.Z.supportsEnableSoundshare()){var l=R.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_NOT_ENABLED_LABEL;c===G.rtk.ENABLING?l=R.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLING_LABEL:c===G.rtk.ENABLED?l=R.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLED_LABEL:c===G.rtk.FAILED_TO_ENABLE&&(l=R.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_FAILED_TO_ENABLE_LABEL);n=(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(s.R9,{className:ye().marginBottom20,children:l.format({helpdeskArticle:da.Z.getArticleURL(G.BhN.OSX_SOUNDSHARE)})}),(0,r.jsx)(fe.Z,{children:(0,r.jsx)(fe.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(ue.Co,{className:ye().marginBottom20,size:ue.Co.Sizes.SMALL,onClick:this.handleEnableSoundshare,disabled:c!==G.rtk.NOT_ENABLED,
children:R.Z.Messages.USER_SETTINGS_VOICE_INSTALL_LABEL})})}),(0,r.jsx)(s.$i,{className:ye().marginBottom20})]})}return null==e&&null==t&&null==n?null:(0,r.jsxs)(s.hj,{className:ye().marginBottom20,title:R.Z.Messages.FORM_LABEL_SCREENSHARE,children:[e,t,n]})};i.renderDiagnostics=function(){if(!rl.FB)return null;var e=this.props.silenceWarning;return(0,r.jsx)(s.hj,{className:ye().marginBottom20,title:R.Z.Messages.FORM_LABEL_VOICE_DIAGNOSTICS,children:(0,r.jsx)(s.j7,{className:"",value:e,onChange:this.handleSilenceWarningChange,children:R.Z.Messages.DISPLAY_SILENCE_WARNING})})};i.renderDebugLogs=function(){if(rl.FB&&$c.Z.supports(xN.AN.DEBUG_LOGGING)&&null!=K.Z.fileManager.readLogFiles){var e=this.props,t=e.debugLogging,n=e.aecDumpSupported,o=e.aecDumpEnabled,i=e.shouldRecordNextConnection,a=e.isStaff,c=this.state.disableDebugUpload,l=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.j7,{hideBorder:!0,value:t,onChange:this.handleDebugLoggingChange,note:R.Z.Messages.FORM_HELP_DEBUG_LOGGING,
children:R.Z.Messages.FORM_CHECKBOX_DEBUG_LOGGING})}),u=n?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.j7,{value:o,onChange:this.handleAecDumpChange,note:R.Z.Messages.FORM_HELP_AEC_DUMP,children:R.Z.Messages.FORM_CHECKBOX_AEC_DUMP})}):null,f=("canary"===dd.default.releaseChannel||"development"===dd.default.releaseChannel)&&a&&$c.Z.supports(xN.AN.CONNECTION_REPLAY)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.j7,{hideBorder:!0,value:i,onChange:this.handleConnectionLogChange,note:R.Z.Messages.FORM_HELP_CONNECTION_LOG,children:R.Z.Messages.FORM_CHECKBOX_CONNECTION_LOG}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)(fe.Z,{className:ye().marginBottom20,children:(0,r.jsx)(fe.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.SMALL,onClick:this.handleOpenConnectionReplay,children:R.Z.Messages.OPEN_CONNECTION_REPLAY})})})})]}):null;return(0,r.jsxs)(s.hj,{className:ye().marginBottom40,title:R.Z.Messages.FORM_LABEL_DEBUG,children:[u,f,l,(0,r.jsx)(s.xJ,{children:(0,r.jsxs)(fe.Z,{children:[(0,
r.jsx)(fe.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(ue.Co,{disabled:c,size:ue.Co.Sizes.SMALL,onClick:this.handleUploadDebugFiles,children:R.Z.Messages.UPLOAD})}),(0,r.jsx)(fe.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(ue.Co,{size:ue.Co.Sizes.SMALL,onClick:this.handleShowVoiceModuleFolder,children:R.Z.Messages.SHOW_FOLDER})})]})})]})}};i.renderResetVoiceSettings=function(){return(0,r.jsx)(s.xJ,{children:(0,r.jsx)(ue.Co,{look:ue.Co.Looks.OUTLINED,color:ue.Co.Colors.RED,onClick:this.handleVoiceReset,size:ue.Co.Sizes.SMALL,children:R.Z.Messages.RESET_VOICE_SETTINGS})})};i.renderVideoSettings=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.y5,{component:(0,r.jsx)(s.vw,{tag:s.RB.H1,className:ye().marginBottom20,children:R.Z.Messages.VIDEO_SETTINGS}),children:$c.Z.supports(xN.AN.VIDEO)?(0,r.jsx)(RN,{previewEnabled:this.state.showCamera,onEnablePreview:this.handleShowCamera}):this.renderVideoWarnings()}),(0,r.jsx)(s.$i,{className:O()(ye().marginBottom40,ye().marginTop40)})]})}
;i.render=function(){var e="".concat(da.Z.getArticleURL(G.BhN.VOICE_VIDEO_TROUBLESHOOTING),"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-voice-video&utm_content=--t%3Apm");return(0,r.jsxs)(s.hj,{className:wN().userSettingsVoice,tag:s.RB.H1,title:R.Z.Messages.VOICE_SETTINGS,children:[this.renderDevices(),this.renderVolumeControls(),this.renderMicTest(),(0,r.jsx)(s.R9,{className:ye().marginBottom20,type:s.R9.Types.DESCRIPTION,children:R.Z.Messages.FORM_HELP_VOICE_VIDEO_TROUBLESHOOTING_GUIDE.format({guideURL:e})}),(0,r.jsx)(s.$i,{className:O()(ye().marginBottom40)}),this.renderInputMode(),this.renderPTTTools(),this.renderVoiceSensitivityTools(),(0,r.jsx)(s.$i,{className:ye().marginBottom40}),this.renderVideoSettings(),(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.vw,{tag:s.RB.H1,className:ye().marginBottom20,children:R.Z.Messages.SETTINGS_ADVANCED}),
children:[this.renderCodec(),this.renderVideoCodec(),this.renderVoiceProcessing(),this.renderQoS(),this.renderAttenutation(),this.renderAudioSubsystem(),this.renderScreenshare(),this.renderDiagnostics(),this.renderDebugLogs(),this.renderResetVoiceSettings()]})]})};return o}(o.PureComponent);function iC(){var e=(0,E.e7)([zu.Z],(function(){return zu.Z.theme})),t=(0,E.e7)([$c.Z],(function(){return $c.Z.supports(xN.AN.AUDIO_INPUT_DEVICE)})),n=(0,E.e7)([$c.Z],(function(){return $c.Z.supports(xN.AN.AUDIO_OUTPUT_DEVICE)})),o=(0,E.e7)([$c.Z],(function(){return $c.Z.getInputVolume()})),i=(0,E.e7)([$c.Z],(function(){return $c.Z.getOutputVolume()})),a=(0,E.e7)([$c.Z],(function(){return $c.Z.getInputDeviceId()})),s=(0,E.e7)([$c.Z],(function(){return $c.Z.getInputDevices()})),c=(0,E.e7)([$c.Z],(function(){return $c.Z.getOutputDevices()})),l=(0,E.e7)([$c.Z],(function(){return $c.Z.getOutputDeviceId()})),u=(0,E.e7)([$c.Z],(function(){return $c.Z.getVideoDevices()})),f=(0,E.e7)([$c.Z],(function(){
return $c.Z.getVideoDeviceId()})),d=(0,E.e7)([$c.Z],(function(){return $c.Z.getEchoCancellation()})),p=(0,E.e7)([$c.Z],(function(){return $c.Z.getLoopback()})),h=(0,E.e7)([$c.Z],(function(){return $c.Z.getNoiseSuppression()})),y=(0,E.e7)([$c.Z],(function(){return $c.Z.getAutomaticGainControl()})),m=(0,E.e7)([$c.Z],(function(){return $c.Z.getNoiseCancellation()})),b=(0,E.e7)([$c.Z],(function(){return $c.Z.isNoiseCancellationSupported()})),g=(0,E.e7)([$c.Z],(function(){return $c.Z.isAdvancedVoiceActivitySupported()})),O=(0,E.e7)([$c.Z],(function(){return $c.Z.getMode()})),v=(0,E.e7)([$c.Z],(function(){return $c.Z.getModeOptions().shortcut})),_=(0,E.e7)([$c.Z],(function(){return $c.Z.getModeOptions().threshold})),S=(0,E.e7)([$c.Z],(function(){return $c.Z.getModeOptions().autoThreshold})),I=(0,E.e7)([$c.Z],(function(){return $c.Z.getModeOptions().vadUseKrisp})),T=(0,E.e7)([$c.Z],(function(){return $c.Z.getModeOptions().delay})),N=(0,E.e7)([$c.Z],(function(){return $c.Z.getAttenuation()
})),C=(0,E.e7)([$c.Z],(function(){return $c.Z.getAttenuateWhileSpeakingSelf()})),A=(0,E.e7)([$c.Z],(function(){return $c.Z.getAttenuateWhileSpeakingOthers()})),P=(0,E.e7)([$c.Z],(function(){return $c.Z.getEnableSilenceWarning()})),j=(0,E.e7)([$c.Z],(function(){return $c.Z.getDebugLogging()})),R=(0,E.e7)([$c.Z],(function(){return $c.Z.getQoS()})),x=(0,E.e7)([$c.Z],(function(){return $c.Z.getAudioSubsystem()})),M=(0,E.e7)([pN.Z],(function(){return pN.Z.getRevision()})),w=(0,E.e7)([$c.Z],(function(){return $c.Z.getVideoHook()})),Z=(0,E.e7)([$c.Z],(function(){return $c.Z.getExperimentalSoundshare()})),L=(0,E.e7)([$c.Z],(function(){return $c.Z.getOpenH264()})),D=(0,E.e7)([$c.Z],(function(){return $c.Z.getExperimentalEncoders()})),U=(0,E.e7)([$c.Z],(function(){return $c.Z.getHardwareH264()})),k=(0,E.e7)([$c.Z],(function(){return $c.Z.getAv1Enabled()})),G=(0,E.e7)([$c.Z],(function(){return $c.Z.isAecDumpSupported()})),B=(0,E.e7)([$c.Z],(function(){return $c.Z.getAecDump()})),H=(0,
E.e7)([hN.ZP],(function(){return hN.ZP.shouldRecordNextConnection()})),V=(0,E.e7)([Xr.default],(function(){var e;return!!(null===(e=Xr.default.getCurrentUser())||void 0===e?void 0:e.isStaff())})),F=(0,E.e7)([$c.Z],(function(){return $c.Z.getSoundshareEnabled()})),Y=hi.qF.useSetting();return(0,r.jsx)(oC,{theme:e,canSetInputDevice:t,canSetOutputDevice:n,inputVolume:o,outputVolume:i,inputDeviceId:a,inputDevices:s,outputDevices:c,outputDeviceId:l,videoDevices:u,videoDeviceId:f,echoCancellation:d,loopback:p,noiseSuppression:h,automaticGainControl:y,noiseCancellation:m,noiseCancellationSupported:b,advancedVoiceActivitySupported:g,inputMode:O,shortcut:v,vadThreshold:_,vadAutoThreshold:S,vadUseKrisp:I,delay:T,usePTTLimited:!rl.FB,attenuation:N,attenuateWhileSpeakingSelf:C,attenuateWhileSpeakingOthers:A,silenceWarning:P,debugLogging:j,qosEnabled:R,audioSubsystem:x,certifiedDeviceRevision:M,videoHook:w,experimentalSoundshare:Z,openH264:L,experimentalEncoders:D,hardwareH264:U,av1Enabled:k,
aecDumpSupported:G,aecDumpEnabled:B,shouldRecordNextConnection:H,isStaff:V,soundshareEnabled:F,alwaysPreviewVideo:Y})}function aC(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function sC(e){sC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return sC(e)}function cC(e,t){return!t||"object"!==uC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lC(e,t){lC=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return lC(e,t)}var uC=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))
;return!0}catch(e){return!1}}();return function(){var n,r=sC(e);if(t){var o=sC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cC(this,n)}}var dC=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},pC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&lC(e,t)}(n,e);var t=fC(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleToggleOpenOnStartup=function(){var e=!r.state.openOnStartup;r.setState({openOnStartup:e});dd.default.send("TOGGLE_OPEN_ON_STARTUP",e)};r.handleToggleStartMinimized=function(){var e=!r.state.startMinimized;r.setState({startMinimized:e});dd.default.send("TOGGLE_START_MINIMIZED",e)};r.handleToggleMinimizeToTray=function(){
var e=!r.state.minimizeToTray;r.setState({minimizeToTray:e});dd.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};r.state={openOnStartup:!0,startMinimized:!1,minimizeToTray:!0};return r}var o=n.prototype;o.componentDidMount=function(){var e,t=this;return(e=function(){var e,n;return dC(this,(function(r){switch(r.label){case 0:e=t.setState;n={};return[4,dd.default.getSetting("OPEN_ON_STARTUP",!0)];case 1:n.openOnStartup=r.sent();return[4,dd.default.getSetting("START_MINIMIZED",!1)];case 2:n.startMinimized=r.sent();return[4,dd.default.getSetting("MINIMIZE_TO_TRAY",!0)];case 3:e.apply(t,[(n.minimizeToTray=r.sent(),n)]);return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){aC(i,r,o,a,s,"next",e)}function s(e){aC(i,r,o,a,s,"throw",e)}a(void 0)}))})()};o.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,o=e.minimizeToTray,i=(0,
rl.IJ)()?R.Z.Messages.USER_SETTINGS_LINUX_SETTINGS:R.Z.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:i,children:[(0,r.jsx)(s.vw,{children:R.Z.Messages.USER_SETTINGS_STARTUP_BEHAVIOR}),(0,r.jsx)(s.j7,{className:ye().marginBottom20,value:t,note:R.Z.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup,children:R.Z.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL}),(0,rl.ED)()?(0,r.jsx)(s.j7,{disabled:!t,className:O()(ye().marginTop8,ye().marginBottom20),value:!!t&&n,note:R.Z.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized,children:R.Z.Messages.USER_SETTINGS_START_MINIMIZED_LABEL}):null,(0,r.jsx)(s.vw,{className:O()(ye().marginTop20,ye().marginBottom8),children:R.Z.Messages.USER_SETTINGS_CLOSE_BUTTON}),(0,r.jsx)(s.j7,{className:ye().marginBottom20,value:o,note:R.Z.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray,
children:R.Z.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL})]})};return n}(o.PureComponent);const hC=pC;var EC=n(477353),yC=n(202552),mC=n(187936),bC=n(385564),gC=n.n(bC);function OC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return OC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OC(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _C=/^(\d{4}-\d{1,2})/;function SC(e){var t=_C.exec(e);return null!=t?t[1]:null}function IC(e,t){if(Array.isArray(e)){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(IC(i.value,t))return!0}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}else if("object"==typeof e&&null!==e){var s=!0,c=!1,l=void 0;try{for(var u,f=Object.values(e)[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){if(IC(u.value,t))return!0}}catch(e){c=!0;l=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw l}}}else if("string"==typeof e&&e.toLowerCase().includes(t.toLowerCase()))return!0;return!1}var TC=n(957372),NC=n.n(TC);function CC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AC(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return CC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PC(e){var t,n,i=AC(o.useState(null!=e.descriptor),2),a=i[0],c=i[1],l=o.useCallback((function(){c((function(e){return!e}))
}),[]),u=(t=e.experiment.description,Array.isArray(t)?t:[t]),f=SC(e.experimentId);return(0,r.jsxs)("div",{className:NC().group,children:[(0,r.jsxs)(s.hj,{children:[(0,r.jsx)(s.P3,{onClick:l,children:(0,r.jsxs)(s.vw,{tag:s.RB.H3,className:NC().title,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:e.experiment.title}),(0,r.jsx)(s.xv,{color:"text-muted",variant:"text-sm/normal",children:e.experimentId})]}),(0,r.jsx)("span",{className:NC().experimentDate,children:f})]})}),a?(0,r.jsxs)("div",{children:[(0,r.jsx)(s.xJ,{title:"Bucket Override",children:(0,r.jsx)(s.q4,{value:null!=e.descriptor?e.descriptor.bucket:null,clearable:null!=e.descriptor,options:(n=e.experiment.buckets,n.map((function(e){return{label:mC.Z.getExperimentBucketName(e),value:e}}))),onChange:function(t){(0,EC.rX)(e.experimentId,t)}})}),(0,r.jsx)("div",{className:NC().description,children:u.map((function(e,t){return(0,r.jsxs)(s.R9,{type:s.ge.DESCRIPTION,children:[e," "]},t)}))})]}):null]}),(0,r.jsx)(s.$i,{
className:NC().divider})]})}function jC(){var e=(0,E.cj)([yC.Z],(function(){return yC.Z.getExperimentOverrides()})),t=(0,E.cj)([yC.Z],(function(){return yC.Z.getRegisteredExperiments()})),n=AC(o.useState(""),2),i=n[0],a=n[1],c=function(e,t){var n=t.split(/\s+/g).filter((function(e){return""!==e}));if(0===n.length)return e;var r=[],o=!0,i=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value,u=0,f=!0,d=!1,p=void 0;try{for(var h,E=n[Symbol.iterator]();!(f=(h=E.next()).done);f=!0)IC(l,h.value)&&(u+=1)}catch(e){d=!0;p=e}finally{try{f||null==E.return||E.return()}finally{if(d)throw p}}if(0!==u){null==r[u]&&(r[u]=[]);r[u].push(l)}}}catch(e){i=!0;a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return gC()(r.filter((function(e){return void 0!==e})).reverse())}(function(e){return e.slice().sort((function(e,t){var n=SC(e.id),r=SC(t.id);if(null!=n&&null!=r){var o=r.localeCompare(n);if(0!==o)return o}
return e.experiment.title.localeCompare(t.experiment.title)}))}(function(e){return Array.from(Object.entries(e)).map((function(e){var t=vC(e,2);return{id:t[0],experiment:t[1]}}))}(t)),i);return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:"Experiments",children:[(0,r.jsx)(de.Z,{size:de.Z.Sizes.LARGE,query:i,onChange:a,onClear:function(){return a("")}}),c.length>0?c.map((function(t){return(0,r.jsx)(PC,{experiment:t.experiment,experimentId:t.id,descriptor:e[t.id]},t.id)})):(0,r.jsx)("div",{className:NC().emptyState,children:(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:"No Experiments Found"})})]})}var RC=n(648670),xC=n.n(RC);function MC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wC(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var ZC=hC;function LC(e){var t=e.unseenGiftCount,o=e.showPrepaidPaymentPastDueWarning,h=e.canUseAvatarDecorations,E=e.impressionSource,y=e.clipsEnabled,m=void 0!==y&&y,b=[{section:p.ID.HEADER,label:R.Z.Messages.USER_SETTINGS},{section:G.oAB.ACCOUNT,label:R.Z.Messages.USER_SETTINGS_MY_ACCOUNT,ariaLabel:R.Z.Messages.USER_SETTINGS_MY_ACCOUNT,element:Wd},{section:G.oAB.PROFILE_CUSTOMIZATION,type:p.bT.WIDE,label:R.Z.Messages.USER_SETTINGS_PROFILES,ariaLabel:R.Z.Messages.USER_SETTINGS_PROFILES,element:Xc,notice:{stores:[Ro.Z,Ie.Z],element:ko},onSettingsClose:function(){c.Z.wait((function(){(0,Se.It)();(0,f.P6)();d.Z.clearSubsection(G.oAB.PROFILE_CUSTOMIZATION)}))},newIndicatorDismissibleContentTypes:h?[a.z$.AVATAR_DECORATION_NEW_BADGE]:null},{
section:G.oAB.PRIVACY_AND_SAFETY,label:R.Z.Messages.PRIVACY_AND_SAFETY,element:rT},{section:G.oAB.AUTHORIZED_APPS,label:R.Z.Messages.AUTHORIZED_APPS,element:Zh},{section:G.oAB.SESSIONS,label:R.Z.Messages.AUTH_SESSIONS,ariaLabel:R.Z.Messages.AUTH_SESSIONS,element:BT,newIndicatorDismissibleContentTypes:[a.z$.AUTH_SESSIONS_NEW],icon:(0,r.jsx)(_e.Z,{}),predicate:function(){return ol.getCurrentConfig({}).showSettings}},{section:G.oAB.CONNECTIONS,label:R.Z.Messages.CONNECTIONS,ariaLabel:R.Z.Messages.CONNECTIONS,element:zy,impressionName:i.zs.USER_SETTINGS_CONNECTIONS,impressionProperties:{source:E},newIndicatorDismissibleContentTypes:[a.z$.NEW_CRUNCHYROLL_CONNECTION]},{section:G.oAB.CLIPS,label:R.Z.Messages.CLIPS,ariaLabel:R.Z.Messages.CLIPS,icon:(0,r.jsx)(_e.Z,{}),element:ie,predicate:function(){return m}},{section:G.oAB.FRIEND_REQUESTS,label:R.Z.Messages.FRIEND_REQUESTS,element:Qm},{section:p.ID.DIVIDER},{section:p.ID.HEADER,label:R.Z.Messages.BILLING_SETTINGS},{section:G.oAB.PREMIUM,
ariaLabel:R.Z.Messages.PREMIUM,label:R.Z.Messages.PREMIUM,element:Mt.Z,className:xC().premiumTab},{section:G.oAB.GUILD_BOOSTING,label:R.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,element:LI},{section:G.oAB.SUBSCRIPTIONS,ariaLabel:R.Z.Messages.SUBSCRIPTIONS_TITLE,label:R.Z.Messages.SUBSCRIPTIONS_TITLE,element:vo,icon:o?(0,r.jsx)(tl.Z,{width:16,height:16,color:(0,ae.Lq)(G.Ilk.STATUS_YELLOW_500)}):null},{section:G.oAB.INVENTORY,label:R.Z.Messages.GIFT_INVENTORY,element:Dv,ariaLabel:R.Z.Messages.GIFT_INVENTORY,badgeCount:t,icon:(0,r.jsx)(_e.Z,{})},{section:G.oAB.BILLING,label:R.Z.Messages.BILLING,element:ly},{section:p.ID.DIVIDER},{section:p.ID.HEADER,label:R.Z.Messages.APP_SETTINGS},{section:G.oAB.APPEARANCE,label:R.Z.Messages.APPEARANCE,element:Eh},{section:G.oAB.ACCESSIBILITY,label:R.Z.Messages.ACCESSIBILITY,element:Nu},{section:G.oAB.VOICE,label:R.Z.Messages.VOICE_AND_VIDEO,element:iC,predicate:function(){return $c.Z.isSupported()}},{section:G.oAB.POGGERMODE,
label:R.Z.Messages.POGGERMODE,ariaLabel:R.Z.Messages.POGGERMODE,element:xt,predicate:function(){return Te.Z.settingsVisible},icon:(0,r.jsx)("img",{alt:"",src:n(20278),className:xC().poggermodeIcon})},{section:G.oAB.TEXT,label:R.Z.Messages.TEXT_AND_IMAGES,element:qT},{section:G.oAB.NOTIFICATIONS,label:R.Z.Messages.NOTIFICATIONS,element:cS},{section:G.oAB.KEYBINDS,label:R.Z.Messages.KEYBINDS,element:h_},{section:G.oAB.LOCALE,label:R.Z.Messages.LANGUAGE,element:__},{section:G.oAB.WINDOWS,label:R.Z.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:hC,predicate:function(){return rl.FB&&(0,rl.ED)()}},{section:G.oAB.LINUX,label:R.Z.Messages.USER_SETTINGS_LINUX_SETTINGS,element:ZC,predicate:function(){return rl.FB&&(0,rl.IJ)()}},{section:G.oAB.STREAMER_MODE,label:R.Z.Messages.STREAMER_MODE,element:KT},{section:G.oAB.ADVANCED,label:R.Z.Messages.SETTINGS_ADVANCED,element:Np},{section:p.ID.DIVIDER},{section:p.ID.HEADER,label:R.Z.Messages.ACTIVITY_SETTINGS},{section:G.oAB.ACTIVITY_PRIVACY,
label:R.Z.Messages.ACTIVITY_PRIVACY,element:np},{section:G.oAB.REGISTERED_GAMES,label:R.Z.Messages.REGISTERED_GAMES,element:Ab},{section:G.oAB.OVERLAY,label:R.Z.Messages.OVERLAY,element:NS,predicate:function(){return Jc.Z.isSupported()||!1}},{section:p.ID.DIVIDER},{section:"changelog",onClick:function(){return u.Z.showChangeLog()},label:R.Z.Messages.WHATS_NEW},{section:G.oAB.HYPESQUAD_ONLINE,label:R.Z.Messages.USER_SETTINGS_HYPESQUAD,element:tO},{section:G.oAB.EXPERIMENTS,label:"Experiments",element:jC,predicate:function(){return Qc.Z.isDeveloper}},{section:G.oAB.DEVELOPER_OPTIONS,label:"Developer Options",element:Km,predicate:function(){return Qc.Z.isDeveloper}},{section:G.oAB.HOTSPOT_OPTIONS,label:"Hotspot Options",element:bl,predicate:function(){return Qc.Z.isDeveloper}},{section:G.oAB.DISMISSIBLE_CONTENT_OPTIONS,label:"Dismissible Contents",element:ve,predicate:function(){return Qc.Z.isDeveloper}},{section:G.oAB.PAYMENT_FLOW_MODAL_TEST_PAGE,label:"Payment Flow Modals",element:wl,
predicate:function(){return Qc.Z.isDeveloper}},{section:G.oAB.TEXT_PLAYGROUND,label:"Text Playground",element:iN,predicate:function(){return Qc.Z.isDeveloper}},{section:G.oAB.TEXT_COMPONENT,label:"Text Components",element:Wl,predicate:function(){return Qc.Z.isDeveloper}},{section:p.ID.DIVIDER},{section:"logout",onClick:function(){(0,Ze.h7)((function(e){return(0,r.jsx)(nl.default,wC(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){MC(e,t,n[t])}))}return e}({header:R.Z.Messages.LOGOUT,confirmText:R.Z.Messages.LOGOUT,cancelText:R.Z.Messages.CANCEL,onCancel:e.onClose,onConfirm:function(){return l.Z.logout()}},e),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:R.Z.Messages.USER_SETTINGS_CONFIRM_LOGOUT})}))}))},
label:R.Z.Messages.LOGOUT,ariaLabel:R.Z.Messages.LOGOUT,icon:(0,r.jsx)(el.Z,{width:16,height:16})},{section:p.ID.DIVIDER},{section:p.ID.CUSTOM,element:Hl},{section:p.ID.CUSTOM,element:ll}];return b}},429244:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(112712),o=n(911324),i=n(959797);function a(){(0,o.CF)((0,r.Yz)(i.Z.Messages.USER_SETTINGS_UPDATE_FAILURE,r.pC.FAILURE))}},635395:(e,t,n)=>{"use strict";n.d(t,{q:()=>te});var r=n(496486),o=n.n(r),i=n(5387),a=n.n(i),s=(n(459369),n(368365)),c=n(277563),l=n(791462),u=n(444450),f=n(173436);var d=n(441143),p=n.n(d),h=n(356004),E=n(653772),y=n(940712);var m=n(998268),b=n(832691),g=n(222419),O=n(35197),v=n(47195),_=n(876679),S=n(410127),I=n(743221),T=n(742269),N=n(937026),C=n(107248),A=n(392115),P=n(172762),j=n(212218),R=n(9906),x=n(978627),M=n(171447),w=n(283369),Z=n(379822),L=n(971738),D=n(784238),U=n(859023),k=n(703863),G=n(461061);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function H(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Y(e){Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Y(e)}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){F(e,t,n[t])}))}return e}function z(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function K(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e,t){q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return q(e,t)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}var J=function(e,t){var n,r,o,i,a={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,s])}}},ee=new b.Z("CacheStore"),te=T.FB&&("canary"===window.GLOBAL_ENV.RELEASE_CHANNEL||"ptb"===window.GLOBAL_ENV.RELEASE_CHANNEL),ne="stable-26",re=!1,oe="initializing",ie=9e5,ae=0,se=!1,ce=!1,le=!1,ue=new(a())({max:1});function fe(){ee.log("Clearing cache store");ae=Date.now();C.Z.clear();u.Z.remove(G.FsG);u.Z.remove(G.ihW);u.Z.remove(G.O42);oe="no-cache"}function de(){(0,I.$8)()?re?ee.log("Not writing cache because caches cleared"):le?function(){ee.log("Writing cache now");ae=Date.now();var e=me(),t=(l=E.Z.getGuild(L.Z.getGuildId()),null!=l?[l]:[]),n=o().values(E.Z.getGuilds()),r=X(function(){var e={},t=new Set,n=function(n){var r=M.Z.getRawMessages(n);if(null!=r){var i={};Object.keys(r).sort(c.default.compare).reverse().slice(0,G.AQB).forEach((function(e){var n=r[e];if(null!=n){if(n.state!==G.yb.SENDING&&n.state!==G.yb.SEND_FAILED)if(null!=n.author){i[e]=n;t.add(n.author.id);o().forEach(n.mentions,(function(e){t.add(e.id)}))}else ee.warn("Raw message was missing an author!",n)
}else ee.warn("Raw message was null for a specific messageId!")}));e[n]=i}};ue.keys().forEach((function(e){n(e)}));return[e,t]}(),2),i=r[0],a=r[1],s={version:ne,channels:me(),guilds:t,users:ve(e,a),messages:i,guildMembers:ye(t,n,a),readStates:ge(),experiments:_e()};var l;se=!0;u.Z.set(G.FsG,s);!function(e,t){var n=X(function(){var e=E.Z.getGuilds(),t=[],n={};for(var r in e)if(h.Z.hasRestoredGuild(r)){var o=h.Z.getMutableGuildChannelsForGuild(r);for(var i in o){var a=o[i];t.push({id:a.id,type:a.type,guild_id:a.guild_id,parent_id:a.parent_id,computedPermissions:y.Z.computePermissions(a)})}n[r]=JSON.stringify(Object.values(o))}else{var s=h.Z.getMutableBasicGuildChannelsForGuild(r);t=t.concat(Object.values(s));var c=h.Z.getCachedChannelJsonForGuild(r);p()(null!=c,"Non-restored guild cannot have missing JSON");n[r]=c}return[t,n]}(),2),r=n[0],o=n[1],i=Date.now().toString(),a=W({version:ne,nonce:i,spamChannelIds:he(),messageRequestChannelIds:pe(),privateChannelIds:Ee(),guilds:e,users:Oe(),
basicGuildChannels:r,privateChannels:be(),emojis:Se(),sortedGuildStore:D.Z.getCachedState(),guildReadStateStore:R.Z.getCachedState()},function(e){var t=new Set;for(var n in e)for(var r in e[n]){var o;null===(o=e[n][r].stickers)||void 0===o||o.forEach((function(e){t.add(e.id)}))}var i={},a={};_.Z.getAllGuildStickers().forEach((function(e,n){var r=e.filter((function(e){return t.has(e.id)}));r.length>0&&(i[n]=r);a[n]=e}));return{referencedStickers:i,allStickers:a}}(t)),s={version:ne,nonce:i,guildChannels:o};ee.log("Writing lazy cache");u.Z.set(G.ihW,a);u.Z.setRaw(G.O42,function(e){var t=e.version+"\n";t+=e.nonce+"\n";for(var n in e.guildChannels){t+=n+"\n";t+=e.guildChannels[n]+"\n"}return t}(s));C.Z.persist(i)}(n,i)}():ee.log("Not writing cache because never connected"):ee.log("Not writing cache because not authenticated")}function pe(){return Array.from(O.Z.getMessageRequestChannelIds())}function he(){var e;return Array.from(null!==(e=v.Z.getSpamChannelIds())&&void 0!==e?e:[])}
function Ee(){return k.Z.getPrivateChannelIds()}function ye(e,t,n){var r=function(e,t){var n=j.ZP.getMember(e,t);if(null!=n){var r;i[e]=null!==(r=i[e])&&void 0!==r?r:{};i[e][t]=n}},i={},a=U.default.getCurrentUser();null!=a&&o().forEach(t,(function(e){r(e.id,a.id)}));o().forEach(e,(function(e){n.forEach((function(t){r(e.id,t)}))}));return i}function me(){var e=h.Z.getChannel(Z.Z.getChannelId());return null!=e?[e]:[]}function be(){var e=[];k.Z.getPrivateChannelIds().forEach((function(t){var n=h.Z.getChannel(t);null!=n&&e.push(n)}));return e}function ge(){return w.ZP.getAllReadStates(!1)}function Oe(){var e=new Set;k.Z.getPrivateChannelIds().forEach((function(t){var n=h.Z.getChannel(t);(null==n?void 0:n.isPrivate())&&n.recipients.forEach((function(t){var n=U.default.getUser(t);null!=n&&e.add(n)}))}));return Array.from(e)}function ve(e,t){var n=new Set;e.forEach((function(e){e.isPrivate()&&e.recipients.forEach((function(e){var t=U.default.getUser(e);null!=t&&n.add(t)}))}))
;t.forEach((function(e){var t=U.default.getUser(e);null!=t&&n.add(t)}));var r=U.default.getCurrentUser();null!=r&&n.add(r);return Array.from(n)}function _e(){return{loadedUserExperiments:g.Z.getAllUserExperimentDescriptors(),loadedGuildExperiments:g.Z.getGuildExperiments()}}function Se(){var e=A.Z.getGuilds();return o().mapValues(e,(function(e){return e.emojis}))}function Ie(e){if(null!=e.guilds){var t=!0,n=!1,r=void 0;try{for(var o,i=e.guilds[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value.roles;if(null!=a)for(var c in a){var l=a[c];l.permissions=s.Z.deserialize(l.permissions)}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}"channels"in e&&null!=e.channels&&(0,m.Z)(e.channels);"privateChannels"in e&&null!=e.privateChannels&&(0,m.Z)(e.privateChannels);if("basicGuildChannels"in e&&null!=e.basicGuildChannels){var u=!0,f=!1,d=void 0;try{for(var p,h=e.basicGuildChannels[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var E=p.value
;E.computedPermissions=s.Z.deserialize(E.computedPermissions)}}catch(e){f=!0;d=e}finally{try{u||null==h.return||h.return()}finally{if(f)throw d}}}}function Te(e,t){var n=P.Z.getSocket();!function(e){var t=P.Z.getSocket(),n=!1;l.ZP.Emitter.batched((function(){try{e();if(t.hasQueuedDispatches()){n=!0;S.Z.loadLazyCache.recordEnd();t.processFirstQueuedDispatch();setTimeout((function(){t.processDispatchQueue()}),100)}else t.processDispatchQueue()}catch(e){N.Z.captureException(e);ee.warn("Lazy cache has encountered error",e);fe();t.processDispatchQueue()}}));n||S.Z.loadLazyCache.recordEnd()}((function(){var r=performance.now();if(ce){ee.log("Skipping lazy cache; already connected.");f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}else if(null!=e){n.addAnalytics({hadCacheAtStartup:!0});var o=S.Z.parseLazyCache.measure((function(){return JSON.parse(e)}));if(o.version===ne){var i=C.Z.getSavedNonce();if(""===i||o.nonce===i){var a=S.Z.parseLazyChannelsCache.measure((function(){
return null!=t?function(e,t){var n=e.split("\n"),r=null,o={version:"",nonce:"",guildChannels:{}},i=!0,a=!1,s=void 0;try{for(var c,l=n[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;if(""!==o.version)if(""!==o.nonce)if(null!=r){o.guildChannels[r]=u;r=null}else r=u;else o.nonce=u;else{if(u!==t)return null;o.version=u}}}catch(e){a=!0;s=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}return o}(t,ne):null}));if(null!=a)if(o.nonce===a.nonce){S.Z.deserializeCache.measure((function(){return Ie(o)}));S.Z.dispatchLazyCache.measure((function(){f.Z.dispatch(z(W({type:"CACHE_LOADED_LAZY"},o),{guildChannelsJson:a.guildChannels}))}));ee.log("Lazy cache has loaded, took ".concat(performance.now()-r," ms"));n.addAnalytics({usedCacheAtStartup:!0})}else{ee.log("Caches have mismatched nonces.");f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}else{ee.log("Saved cached channels has mismatched version or missing.");f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}}else{
ee.log("ClientStateStore has mismatched nonces with cache.");f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}}else{ee.log("Saved cached has mismatched version. Expected ".concat(ne,", got ").concat(o.version));f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}}else{ee.log("Lazy cache was missing");f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}}))}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&q(e,t)}(n,e);var t=$(n);function n(){V(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){if(te){this.syncWith([x.Z],(function(){if(x.Z.isIdle())if(Date.now()-ae>ie){ee.log("Writing cache because idle");de()}else ee.log("Not writing cache even though idle");return!1}));try{S.Z.loadMiniCache.measure((function(){return function(e){var t=performance.now();if(null==e){
ee.log("Cache was missing");return!1}if(e.version!==ne){ee.log("Saved cached has mismatched version. Expected ".concat(ne,", got ").concat(e.version));return!1}Ie(e);try{f.Z.dispatch(W({type:"CACHE_LOADED"},e));ee.log("Cache has loaded, took ".concat(performance.now()-t," ms"))}catch(e){N.Z.captureException(e);ee.warn("Cache has encountered error",e);fe()}}(u.Z.get(G.FsG))}));(e=function(){var e,t,n;return J(this,(function(r){switch(r.label){case 0:S.Z.fetchLazyCache.recordStart();return[4,Promise.all([u.Z.asyncGetRaw(G.ihW),u.Z.asyncGetRaw(G.O42)])];case 1:e=X.apply(void 0,[r.sent(),2]),t=e[0],n=e[1];S.Z.fetchLazyCache.recordEnd();return[4,new Promise((function(e){return setTimeout(e,0)}))];case 2:r.sent();S.Z.loadLazyCache.recordStart();Te(t,n);return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){H(i,r,o,a,s,"next",e)}function s(e){H(i,r,o,a,s,"throw",e)}a(void 0)}))})()}catch(e){ee.error("Error loading from cache.",e)}
}else{P.Z.getSocket().processDispatchQueue()}var e};r.hasCache=function(){return!te||se};r.getLazyCacheStatus=function(){return te?oe:"no-cache"};r.__getLocalVars=function(){return{logger:ee,CACHE_VERSION:ne,cacheCleared:re,lazyCacheStatus:oe,MIN_CACHE_WRITE_DELAY:ie,lastWriteTime:ae,hasCache:se,connected:ce,hasEverConnected:le,MAX_VISITED_CHANNELS_CACHE:1,channelsCache:ue,instance:Ce}};return n}(l.ZP.Store);Ne.displayName="CacheStore";var Ce=new Ne(f.Z,te?{CONNECTION_OPEN:function(){ce=!0;le=!0;0;return!1},LOGOUT:function(){fe()},CHANNEL_SELECT:function(e){var t=e.channelId;null!=t&&ue.set(t,!0);return!1},CONNECTION_CLOSED:function(){ce=!1;le=!0;ee.log("Writing cache on connection closed");de();return!1},APP_STATE_UPDATE:function(e){var t=e.state;((0,T.Dt)()?G.$7l.BACKGROUND:G.$7l.INACTIVE)===t&&ce&&de();return!1},CACHE_LOADED:function(){se=!0},CACHE_LOADED_LAZY:function(){se=!0;oe="cache-loaded"},CACHE_LOADED_LAZY_NO_CACHE:function(){oe="no-cache"},CLEAR_CACHES:function(){fe();re=!0
},WINDOW_FOCUS:function(e){if(!e.focused)if(Date.now()-ae>ie){ee.log("Writing cache from window unfocus");de()}else ee.log("Not writing cache from window unfocus");return!1}}:{})},695489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(496486),o=n.n(r),i=n(791462),a=n(173436),s=n(696534),c=n(763696),l=n(653772),u=n(940712),f=n(642793),d=n(461061);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return m(e)}function b(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function g(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function v(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var I,T,N,C=[],A=null,P=!1,j=d.QZA.CLOSED,R={},x=!1,M=null;function w(){T=c.Z.getChannel();I=null!=T?l.Z.getGuild(T.guild_id):null
;C=null!=T&&null!=I&&u.Z.can(d.Plq.MANAGE_WEBHOOKS,T)?f.Z.getWebhooksForChannel(I.id,T.id):[];if(null!=A){var e=L(A.id);null!=e&&(A=e)}j=d.QZA.OPEN;R={};x=!1}var Z=o().debounce((function(){if(x){(null==A||o().isEqual(A,L(A.id)))&&(x=!1);x||U.emitChange()}}),500);function L(e){return C.find((function(t){return t.id===e}))}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=S(n);function n(){h(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(c.Z,l.Z,f.Z,u.Z)};r.hasChanges=function(){return x};r.getWebhook=function(e){return L(e)};r.showNotice=function(){return this.hasChanges()};r.getProps=function(){return{submitting:j===d.QZA.SUBMITTING,webhooks:C,editedWebhook:A,section:N,sectionId:M,hasChanges:this.hasChanges(),isFetching:P,errors:R}}
;r.__getLocalVars=function(){return{webhooks:C,editedWebhook:A,isFetchingWebhooks:P,guild:I,channel:T,formState:j,errors:R,hasChanges:x,section:N,sectionId:M,validateUpdate:Z,storeInstance:U}};!function(e,t,n){t&&E(e.prototype,t);n&&E(e,n)}(n,[{key:"webhooks",get:function(){return C}},{key:"editedWebhook",get:function(){return A}},{key:"formState",get:function(){return j}}]);return n}(i.ZP.Store);D.displayName="ChannelSettingsIntegrationsStore";var U=new D(a.Z,__OVERLAY__?{}:{INTEGRATION_SETTINGS_INIT:w,INTEGRATION_SETTINGS_SAVE_SUCCESS:w,CHANNEL_SETTINGS_SET_SECTION:function(e){if(e.section!==d.CoT.INTEGRATIONS)return!1;N=d.b4C.OVERVIEW;if(null==I){var t=c.Z.getChannel(),n=null==t?void 0:t.getGuildId();if(null!=t&&null!=n){s.Z.fetchForChannel(n,t.id);P=!0}w()}},INTEGRATION_SETTINGS_SET_SECTION:function(e){var t=e.section,n=e.sectionId;N=t;M=n},INTEGRATION_SETTINGS_START_EDITING_WEBHOOK:function(e){var t=L(e.webhookId);if(null==t)return!1;A=t;R={};x=!1},
INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK:function(){A=null;R={};x=!1},INTEGRATION_SETTINGS_UPDATE_WEBHOOK:function(e){var t=e.settings;if(null==A)return!1;A=b({},A);if(null!=t.name&&A.name!==t.name){A.name=t.name;x=!0}if(void 0!==t.avatar&&A.avatar!==t.avatar){A.avatar=t.avatar;x=!0}if(null!=t.channelId&&A.channel_id!==t.channelId){A.channel_id=t.channelId;x=!0}x&&Z()},CHANNEL_SETTINGS_CLOSE:function(){T=null;I=null;C=[];A=null;j=d.QZA.CLOSED},WEBHOOKS_UPDATE:function(e){var t=function(e){var t=C[e];if(null!=r&&(null==t?void 0:t.channel_id)!==r)return"continue";var n=o.find((function(e){if(e.id===t.id)return!0}));if(null!=n){var i=b({},t,n);C[e]=i;x||(null==A?void 0:A.id)!==i.id||(A=i)}else{(null==A?void 0:A.id)===t.id&&(A=null);C.splice(e,1)}},n=e.guildId,r=e.channelId,o=e.webhooks;if(null==I||n!==I.id||null==T||r!==T.id||null==o||j===d.QZA.SUBMITTING)return!1;P=!1;for(var i=C.length-1;i>=0;i--)t(i);var a=!0,s=!1,c=void 0;try{for(var l,u=function(){
var e=l.value,t=C.find((function(t){if(t.id===e.id)return!0}));null==t&&C.push(e)},f=o[Symbol.iterator]();!(a=(l=f.next()).done);a=!0)u()}catch(e){s=!0;c=e}finally{try{a||null==f.return||f.return()}finally{if(s)throw c}}C=v(C);Z()},INTEGRATION_SETTINGS_SUBMITTING:function(){j=d.QZA.SUBMITTING;R={}},INTEGRATION_SETTINGS_SAVE_FAILURE:function(e){if(j!==d.QZA.SUBMITTING)return!1;j=d.QZA.OPEN;var t;R=null!==(t=e.errors)&&void 0!==t?t:{}}});const k=U},201055:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(496486),o=n.n(r),i=n(791462),a=n(444450),s=n(173436),c=n(108580),l=n(763696),u=n(356004),f=n(461061),d=n(862045);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var S,I,T=new Set,N=f.QZA.CLOSED,C=!1,A=null,P=null,j=null,R=null,x=null,M=null,w=a.Z.get(d.kf)||!1;function Z(e){var t=e.getGuildId(),n=m({},e.permissionOverwrites);null!=t&&null==n[t]&&(n[t]=c.ZP.makeEveryoneOverwrite(t));return n}function L(){j=l.Z.getChannel()
;R=l.Z.getCategory();if(null==j)return!1;var e=j.getGuildId();P=A=Z(j);null==A[x]&&(x=e);I=null!=R;S=c.ZP.areChannelsLocked(j,R);M=null;C=!1;N=f.QZA.CLOSED;T.clear()}function D(e){if(null==j||j.id!==e)return!1;if(null==(j=u.Z.getChannel(e)))return!1;R=l.Z.getCategory();var t=j.getGuildId();if(null==t)return!1;P=Z(j);var n={};T.forEach((function(e){null!=A&&(n[e]=A[e])}));null==n[t]&&null==j.permissionOverwrites[t]&&(n[t]=c.ZP.makeEveryoneOverwrite(t));if(null==(A=m({},j.permissionOverwrites,n))[x])x=t;else if(null!=M&&null!=A[M]){x=M;M=null}S=c.ZP.areChannelsLocked(j,R);return!0}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=_(n);function n(){p(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(l.Z,u.Z)};r.hasChanges=function(){return C}
;r.showNotice=function(){return this.hasChanges()};r.getPermissionOverwrite=function(e){return null==A?void 0:A[e]};r.__getLocalVars=function(){return{editedPermissions:T,formState:N,hasChanges:C,locked:S,isLockable:I,permissionOverwrites:A,originalPermissionOverwrites:P,channel:j,category:R,selectedOverwriteId:x,queuedSelectedOverwriteId:M,advancedMode:w}};!function(e,t,n){t&&h(e.prototype,t);n&&h(e,n)}(n,[{key:"editedPermissionIds",get:function(){return Array.from(T)}},{key:"permissionOverwrites",get:function(){return A}},{key:"selectedOverwriteId",get:function(){return x}},{key:"formState",get:function(){return N}},{key:"isLockable",get:function(){return I}},{key:"locked",get:function(){return S}},{key:"channel",get:function(){return j}},{key:"category",get:function(){return R}},{key:"advancedMode",get:function(){return w}}]);return n}(i.ZP.Store);U.displayName="ChannelSettingsPermissionsStore";const k=new U(s.Z,{CHANNEL_SETTINGS_SET_SECTION:function(e){var t=e.section
;if(null!=j||t!==f.CoT.PERMISSIONS)return!1;L()},CHANNEL_SETTINGS_PERMISSIONS_INIT:L,CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){var t=e.id,n=e.allow,r=e.deny,i=null==A?void 0:A[t];if(null==i||null==j)return!1;i=b(m({},i),{allow:n,deny:r});A=b(m({},A),E({},t,i));T.add(t);N=f.QZA.OPEN;C=!o().isEqual(A,P);S=c.ZP.areChannelsLocked(j,R)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){var t=e.id;if(null!=A&&null!=A[t])x=t;else{if(null==j)return!1;M=t}},CHANNEL_SETTINGS_CLOSE:function(){N=f.QZA.CLOSED;A=null;P=null;j=null;R=null;C=!1;T.clear();x=null;M=null},CHANNEL_UPDATES:function(e){var t=e.updates;if(null==j)return!1;var n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){!1!==D(a.value.channel.id)&&(n=!0)}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(){N=f.QZA.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){
if(e.silent)N=f.QZA.OPEN;else{N=f.QZA.CLOSED;L()}},CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE:function(e){var t=e.advancedMode;w=t;a.Z.set(d.kf,t)}})},763696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>W});var r=n(496486),o=n.n(r),i=n(730381),a=n.n(i),s=n(791462),c=n(675860),l=n(173436),u=n(53551),f=n(989232),d=n(548349),p=n(775041),h=n(356004),E=n(461061);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){m(e,t,n[t])}))}return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}var T,N,C,A,P,j,R=E.QZA.CLOSED,x={},M={},w=!1,Z=!1,L=null,D=["name","type","topic_","bitrate_","userLimit_","nsfw_","flags_","rateLimitPerUser_","defaultThreadRateLimitPerUser","defaultAutoArchiveDuration","template","defaultReactionEmoji","rtcRegion","videoQualityMode","threadMetadata","banner","availableTags","defaultSortOrder","defaultForumLayout"];function U(e){if(null==C||C.id!==e)return!1;if(C===A){var t=h.Z.getChannel(e);if(null==t)return!1;A=C=t;P=h.Z.getChannel(A.parent_id)}else{var n=h.Z.getChannel(e);if(null==n)return!1;C=n;if(null!=A){A=A.set("permissionOverwrites",C.permissionOverwrites);P=h.Z.getChannel(A.parent_id)}}return!0}function k(e){
var t=h.Z.getChannel(e.channelId);if(null==t)return B();R=E.QZA.OPEN;A=C=t;L="location"in e&&null!=e.location?e.location:null;N="subsection"in e?e.subsection:null;null!=A&&(A=A.set("nsfw",A.isNSFW()));P=h.Z.getChannel(A.parent_id);j=A.getGuildId();x={};G({type:"CHANNEL_SETTINGS_SET_SECTION",section:null!=T?T:E.CoT.OVERVIEW,subsection:N})}function G(e){T=e.section;N=e.subsection;if(null!=A&&T===E.CoT.INSTANT_INVITES){w=!0;c.Z.get({url:E.ANM.INSTANT_INVITES(A.id),oldFormErrors:!0}).then((function(e){w=!1;l.Z.dispatch({type:"CHANNEL_SETTINGS_LOADED_INVITES",invites:e.body})}),(function(){return w=!1}))}}function B(){Z=!1;R=E.QZA.CLOSED;T=null;A=C=null;P=null;M={}}var H=o().debounce((function(){if(null==A||null==C)return!1;var e=A.toJS(),t=C.toJS();if(D.every((function(n){return e[n]===t[n]}))&&A!==C){A=C;Y.emitChange()}}),500);function V(e){return new d.Z({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new p.Z(e.inviter):null,channel:(0,u.jD)(e.channel),
guild:null!=e.guild?new f.Z(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:a()(e.created_at),type:e.type})}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(n,e);var t=I(n);function n(){y(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(h.Z)};r.hasChanges=function(){return A!==C};r.isOpen=function(){return Z};r.getSection=function(){return T};r.getInvites=function(){return{invites:M,loading:w}};r.showNotice=function(){return this.hasChanges()};r.getChannel=function(){return A};r.getFormState=function(){return R};r.getCategory=function(){return P};r.getProps=function(){return{submitting:R===E.QZA.SUBMITTING,errors:x,channel:A,section:T,subsection:N,invites:M,selectedOverwriteId:j,hasChanges:this.hasChanges(),
analyticsLocation:L}};r.__getLocalVars=function(){return{formState:R,section:T,subsection:N,originalChannel:C,channel:A,category:P,errors:x,invites:M,selectedOverwriteId:j,loadingInvites:w,open:Z,analyticsLocation:L,CHANNEL_PROPERTIES:D,validateUpdate:H,storeInstance:Y}};return n}(s.ZP.Store);F.displayName="ChannelSettingsStore";var Y=new F(l.Z,{CHANNEL_SETTINGS_INIT:k,CHANNEL_SETTINGS_OPEN:function(e){Z=!0;k(e)},CHANNEL_SETTINGS_SUBMIT:function(){R=E.QZA.SUBMITTING;x={}},CHANNEL_SETTINGS_SUBMIT_SUCCESS:function(){C=A;R=E.QZA.OPEN},CHANNEL_SETTINGS_SUBMIT_FAILURE:function(e){R=E.QZA.OPEN;var t;x=null!==(t=e.errors)&&void 0!==t?t:{}},CHANNEL_SETTINGS_CLOSE:B,CHANNEL_SETTINGS_OVERWRITE_SELECT:function(e){var t=e.overwriteId;j=t},CHANNEL_SETTINGS_UPDATE:function(e){
var t=e.name,n=e.channelType,r=e.topic,o=e.bitrate,i=e.userLimit,a=e.nsfw,s=e.flags,c=e.rateLimitPerUser,l=e.defaultThreadRateLimitPerUser,u=e.autoArchiveDuration,f=e.locked,d=e.invitable,p=e.defaultAutoArchiveDuration,h=e.template,E=e.defaultReactionEmoji,y=e.rtcRegion,m=e.videoQualityMode,b=e.availableTags,v=e.defaultSortOrder,_=e.defaultForumLayout;if(null==A)return!1;null!=t&&(A=A.set("name",t));null!=r&&(A=A.set("topic",r));null!=o&&(A=A.set("bitrate",o));null!=i&&(A=A.set("userLimit",i));null!=a&&(A=A.set("nsfw",a));null!=s&&(A=A.set("flags",s));null!=c&&(A=A.set("rateLimitPerUser",c));null!=l&&(A=A.set("defaultThreadRateLimitPerUser",l));null!=u&&(A=A.set("threadMetadata",O(g({},A.threadMetadata),{autoArchiveDuration:u})));null!=f&&(A=A.set("threadMetadata",O(g({},A.threadMetadata),{locked:f})));null!=d&&(A=A.set("threadMetadata",O(g({},A.threadMetadata),{invitable:d})));null!=p&&(A=A.set("defaultAutoArchiveDuration",p));null!=h&&(A=A.set("template",h))
;null!=n&&(A=A.set("type",n));void 0!==y&&(A=A.set("rtcRegion",y));null!=m&&(A=A.set("videoQualityMode",m));void 0!==E&&(A=A.set("defaultReactionEmoji",E));null!=b&&(A=A.set("availableTags",b));null!=v&&(A=A.set("defaultSortOrder",v));null!=_&&(A=A.set("defaultForumLayout",_));H()},CHANNEL_SETTINGS_SET_SECTION:G,CHANNEL_SETTINGS_LOADED_INVITES:function(e){M={};e.invites.forEach((function(e){M[e.code]=V(e)}))},CHANNEL_UPDATES:function(e){var t=e.updates;if(null==A)return!1;var n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){if(U(a.value.channel.id)&&null!=A){null!=j&&null==A.permissionOverwrites[j]&&(j=A.getGuildId());n=!0}}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},CHANNEL_DELETE:function(e){var t=e.channel.id;if(null==A)return!1;if(A.id!==t)return!1;R=E.QZA.CLOSED},INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(M=g({},M))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){
M=O(g({},M),m({},e.invite.code,V(e.invite)))}});const W=Y},262941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(791462),o=n(173436),i=n(859023),a=n(461061);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function l(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var p=null;var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=d(n);function n(){s(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getHouseMembership=function(){return p};r.__getLocalVars=function(){return{houseID:p}};return n}(r.ZP.Store);h.displayName="HypeSquadStore";const E=new h(o.Z,{CONNECTION_OPEN:function(){var e=i.default.getCurrentUser()
;null!=e&&(e.hasFlag(a.xW$.HYPESQUAD_ONLINE_HOUSE_1)?p=a.gkr.HOUSE_1:e.hasFlag(a.xW$.HYPESQUAD_ONLINE_HOUSE_2)?p=a.gkr.HOUSE_2:e.hasFlag(a.xW$.HYPESQUAD_ONLINE_HOUSE_3)&&(p=a.gkr.HOUSE_3))},HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS:function(){p=null},HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS:function(e){p=e.houseID}})},535583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(496486),o=n.n(r),i=n(791462),a=n(173436),s=n(992553),c=n(631134),l=n(403872),u=n(849166),f=n(461061);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function y(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var b,g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){
var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var v={};function _(e,t){if(null==b)throw new Error("Creating RTCConnection without session.");var n=l.Z.getLobby(e);if(null==n)throw new Error("Creating RTCConnection without lobby.");var r=n.application_id,o=new s.Z({userId:c.default.getId(),sessionId:b,guildId:e,channelId:t,context:r});o.on("state",(function(t,n,r){a.Z.dispatch(E(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}({type:"RTC_CONNECTION_STATE",state:t},n,r),{lobbyId:e}))}));o.on("ping",(function(t,n){a.Z.dispatch({type:"RTC_CONNECTION_PING",pings:t,quality:n,lobbyId:e})}));o.on("outboundlossrate",(function(t){a.Z.dispatch({
type:"RTC_CONNECTION_LOSS_RATE",lossRate:t,lobbyId:e})}));return o}function S(){o().forEach(v,(function(e,t){e.destroy();delete v[t]}))}function I(e,t,n){var r=v[e];return null!=r?t(r):n}function T(e){var t=e.lobbyId,n=v[t];if(null==n)return!1;n.destroy();delete v[t]}function N(){return!0}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}(n,e);var t=O(n);function n(){d(this,n);return t.apply(this,arguments)}var r=n.prototype;r.forEach=function(e){o().each(v,e)};r.getState=function(e){return I(e,(function(e){return e.state}),f.hes.DISCONNECTED)};r.isConnected=function(e){return this.getState(e)===f.hes.RTC_CONNECTED};r.isDisconnected=function(e){return this.getState(e)===f.hes.DISCONNECTED};r.getHostname=function(e){return I(e,(function(e){return e.hostname}),null)};r.getQuality=function(e){
return I(e,(function(e){return e.quality}),f.IE4.UNKNOWN)};r.getPings=function(e){return I(e,(function(e){return e.getPings()}),[])};r.getAveragePing=function(e){return I(e,(function(e){return e.getAveragePing()}),0)};r.getLastPing=function(e){return I(e,(function(e){return e.getLastPing()}),0)};r.getOutboundLossRate=function(e){return I(e,(function(e){return e.getOutboundLossRate()}),0)};r.getMediaSessionId=function(e){return I(e,(function(e){return e.getMediaSessionId()}),null)};r.getRTCConnectionId=function(e){return I(e,(function(e){return e.getRTCConnectionId()}),null)};r.getDuration=function(e){return I(e,(function(e){return e.getDuration()}),0)};r.__getLocalVars=function(){return{sessionId:b,rtcConnections:v}};return n}(i.ZP.Store);C.displayName="RTCConnectionStore";const A=new C(a.Z,u.Z.isSupported()?{CONNECTION_OPEN:function(e){b=e.sessionId;S()},CONNECTION_CLOSED:function(){b=null;S()},RTC_CONNECTION_STATE:N,RTC_CONNECTION_PING:N,RTC_CONNECTION_LOSS_RATE:N,
RTC_CONNECTION_UPDATE_ID:function(e){return o().some(v,(function(t){return t===e.connection}))},LOBBY_VOICE_STATE_UPDATE:function(e){if(c.default.getId()!==e.userId)return!1;if(e.sessionId!==b)return!1;var t=v[e.lobbyId];if(null!=t&&null==e.channelId){t.destroy();delete v[e.lobbyId]}else if(null!=t)t.channelId=e.channelId;else if(null!=e.channelId){t=_(e.lobbyId,e.channelId);v[e.lobbyId]=t}},LOBBY_VOICE_SERVER_UPDATE:function(e){var t=v[e.lobbyId];if(null==t)return!1;t.connect(e.endpoint,e.token)},LOBBY_DELETE:T,LOBBY_DISCONNECT:T}:{})},151557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(791462),o=n(444450),i=n(173436),a=n(461061);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){
return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var m,b="PictureInPictureLocation",g=new Map,O=a.VD2.BOTTOM_RIGHT,v={};var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=y(n);function n(){s(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){O=o.Z.get(b,a.VD2.BOTTOM_RIGHT)};r.isEmbeddedActivityHidden=function(){var e;return null==m||(null===(e=g.get(m))||void 0===e?void 0:e.component)!==a.NYg.EMBED_IFRAME};r.getDockedRect=function(e){return v[e]};r.isOpen=function(e){return null!=e&&g.has(e)};r.__getLocalVars=function(){return{STORAGE_KEY:b,selectedWindow:m,openWindows:g,openPosition:O,dockedRects:v}};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n)}(n,[{key:"pipWindow",get:function(){return null==m?null:g.get(m)}},{key:"pipWindows",get:function(){return g}}]);return n}(r.ZP.Store);_.displayName="PictureInPictureStore";const S=new _(i.Z,{PICTURE_IN_PICTURE_OPEN:function(e){var t=e.id,n=e.component,r=e.props;if(null==g.get(t)){var o,i,a={id:t,component:n,position:null!==(o=r.position)&&void 0!==o?o:O,props:r,
docked:null!==(i=r.docked)&&void 0!==i&&i};g.set(t,a);null==m&&(m=t)}},PICTURE_IN_PICTURE_CLOSE:function(e){var t=e.id;if(!g.has(t))return!1;g.delete(t);if(m===t){var n=Array.from(g.keys());m=0===n.length?null:n[0]}},PICTURE_IN_PICTURE_MOVE:function(e){var t=e.id,n=e.position;if(null==m||m!==t)return!1;var r=new Map;g.forEach((function(e,t){r.set(t,d(f({},e),{position:n}))}));g=r;O=n;o.Z.set(b,n)},PICTURE_IN_PICTURE_HIDE:function(e){var t=e.id;if(m!==t)return!1;var n=g.get(t);if(null==n)return!1;g.set(t,d(f({},n),{hidden:!0}))},PICTURE_IN_PICTURE_SHOW:function(e){var t=e.id;if(m!==t)return!1;var n=g.get(t);if(null==n)return!1;g.set(t,d(f({},n),{hidden:!1}))},PICTURE_IN_PICTURE_UPDATE_RECT:function(e){var t=e.id,n=e.rect;v[t]=n},PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW:function(e){var t=e.id;m=t},LOGOUT:function(){m=null;g=new Map}})},928926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(776680),c=n.n(s);function l(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}
var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=m(n);function n(){l(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e,t=this.props,n=t.tag,o=t.children,i=t.hoverText,s=t.className,l=t.forceHover,f=p(t,["tag","children","hoverText","className","forceHover"]);return(0,r.jsxs)("div",d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},f),{className:a()(s,c().hoverRoll,(e={},u(e,c().disabled,null==i),u(e,c().forceHover,l),e)),children:[(0,r.jsx)(n,{className:c().hovered,children:i}),(0,
r.jsx)(n,{className:c().default,children:o})]}))};return n}(o.PureComponent);b.defaultProps={tag:"div",forceHover:!1};const g=b},897108:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(600075),s=n(202133),c=n.n(s);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function p(e){var t,n=e.padded,o=void 0===n||n,s=e.inset,p=void 0!==s&&s,h=e.active,E=void 0!==h&&h,y=e.className,m=e.children,b=e.onClick,g=d(e,["padded","inset","active","className","children","onClick"]);if(null!=b){var O;return(0,r.jsx)(a.P3,f(u({onClick:b,tabIndex:null!=b?0:-1,className:i()(y,(O={},l(O,c().outer,!p),l(O,c().inset,p),l(O,c().padded,o),l(O,c().active,E),l(O,c().interactive,null!=b),O))},g),{children:m}))}
return(0,r.jsx)("div",f(u({className:i()(y,(t={},l(t,c().outer,!p),l(t,c().inset,p),l(t,c().padded,o),l(t,c().active,E),t))},g),{children:m}))}},379579:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.color,n=e.height,c=void 0===n?24:n,l=e.width,u=void 0===l?24:l,f=s(e,["color","height","width"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(f)),{width:u,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M19.2929 9.8299L19.9409 9.18278C21.353 7.77064 21.353 5.47197 19.9409 4.05892C18.5287 2.64678 16.2292 2.64678 14.817 4.05892L14.1699 4.70694L19.2929 9.8299ZM12.8962 5.97688L5.18469 13.6906L10.3085 18.813L18.0201 11.0992L12.8962 5.97688ZM4.11851 20.9704L8.75906 19.8112L4.18692 15.239L3.02678 19.8796C2.95028 20.1856 3.04028 20.5105 3.26349 20.7337C3.48669 20.9569 3.8116 21.046 4.11851 20.9704Z",fill:t})}))}},28184:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?16:t,c=e.height,l=void 0===c?16:c,u=e.color,f=void 0===u?"currentColor":u,d=e.className,p=e.foreground,h=s(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}
return e}({className:d,width:n,height:l,viewBox:"0 0 16 16"},(0,o.Z)(h)),{children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:p,fill:f,d:"M0,1.99406028 C0,0.892771196 0.894513756,0 1.99406028,0 L14.0059397,0 C15.1072288,0 16,0.894513756 16,1.99406028 L16,14.0059397 C16,15.1072288 15.1054862,16 14.0059397,16 L1.99406028,16 C0.892771196,16 0,15.1054862 0,14.0059397 L0,1.99406028 Z M8.23182341,16 L10.3991764,16 L10.3991764,9.93141161 L12.5663127,9.93141161 L13,7.76405862 L10.3991764,7.76405862 L10.3246195,6.3468265 C10.3246195,5.66107601 10.5049432,5.17342158 11.4698488,5.17342158 L12.974642,5.17385505 L12.974642,3.12202197 C12.7618079,3.09319618 12.3142495,3 11.4644304,3 C9.69001851,3 8.18500859,4.20353112 8.18500859,6.23043964 L8.23182341,7.76405862 L6.06425368,7.76405862 L6.06425368,9.93141161 L8.23182341,9.93141161 L8.23182341,16 Z"}),(0,r.jsx)("rect",{width:"16",height:"16"})]})}))}},471730:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c})
;var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}
function c(e){var t=e.width,n=void 0===t?16:t,c=e.height,l=void 0===c?16:c,u=e.color,f=void 0===u?"currentColor":u,d=e.className,p=e.foreground,h=s(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({className:d,xmlns:"http://www.w3.org/2000/svg",width:n,height:l,viewBox:"0 0 16 16"},(0,o.Z)(h)),{children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:p,fill:f,
d:"M4.70012698,0.0531746 C3.84888888,0.092 3.2675238,0.22720635 2.7588254,0.42492063 C2.23292063,0.62926983 1.78692063,0.90273016 1.3422857,1.34733333 C0.89768254,1.79196825 0.62422222,2.23796825 0.41987302,2.76387303 C0.22215872,3.27257143 0.08695238,3.85393651 0.04812698,4.7051746 C0.00920635,5.55819048 0,5.83053968 0,8.00253968 C0,10.1745079 0.00920635,10.4468571 0.04812698,11.299873 C0.08695238,12.1511111 0.22215873,12.7324762 0.41987302,13.2411746 C0.62422222,13.7670794 0.89768254,14.2130794 1.34228572,14.6577143 C1.78692062,15.1023175 2.23292062,15.3757778 2.7588254,15.5801587 C3.2675238,15.7778413 3.8488889,15.9130476 4.70012698,15.951873 C5.55314286,15.9907937 5.82549206,16 7.99749206,16 C10.1694603,16 10.4418095,15.9907937 11.2948254,15.951873 C12.1460635,15.9130476 12.7274286,15.7778413 13.236127,15.5801587 C13.7620317,15.3757778 14.2080317,15.1023175 14.6526667,14.6577143 C15.0972698,14.2130794 15.3707302,13.7670794 15.5751111,13.2411746 C15.7727937,12.7324762 15.908,12.1511111 15.9468254,11.299873 C15.985746,10.4468571 15.9949524,10.1745079 15.9949524,8.00253968 C15.9949524,5.83053968 15.985746,5.55819048 15.9468254,4.7051746 C15.908,3.8539365 15.7727937,3.27257143 15.5751111,2.76387302 C15.3707302,2.23796825 15.0972698,1.79196825 14.6526667,1.34733332 C14.2080317,0.90273016 13.7620317,0.62926984 13.236127,0.42492064 C12.7274286,0.22720634 12.1460635,0.092 11.2948254,0.0531746 C10.4418095,0.01425397 10.1694603,0.00504762 7.99749206,0.00504762 C5.82549206,0.00504762 5.55314286,0.01425397 4.70012698,0.0531746 L4.70012698,0.0531746 Z M8.00001453,2.00504762 C9.95416635,2.00504762 10.185649,2.01251386 10.9573741,2.04772432 C11.6709381,2.08026206 12.0584565,2.19948958 12.3163471,2.29971739 C12.6579641,2.43248289 12.9017646,2.59107525 13.157854,2.84719363 C13.4139723,3.10328295 13.5725647,3.34708347 13.7053302,3.68870053 C13.805558,3.94659105 13.9247856,4.33410953 13.9573233,5.04767346 C13.9925338,5.8193986 14,6.05088127 14,8.00506213 C14,9.95921396 13.9925338,10.1906966 13.9573233,10.9624217 C13.9247856,11.6759857 13.805558,12.0635042 13.7053302,12.3213947 C13.5725647,12.6630117 13.4139723,12.9068123 13.157854,13.1629016 C12.9017646,13.41902 12.6579641,13.5776123 12.3163471,13.7103779 C12.0584565,13.8106057 11.6709381,13.9298332 10.9573741,13.9623709 C10.1857652,13.9975814 9.9543116,14.0050476 8.00001453,14.0050476 C6.04568839,14.0050476 5.81426383,13.9975814 5.04262587,13.9623709 C4.32906195,13.9298332 3.94154347,13.8106057 3.68365294,13.7103779 C3.34203588,13.5776123 3.09823536,13.41902 2.84214604,13.1629016 C2.58605671,12.9068123 2.42743531,12.6630117 2.29466977,12.3213947 C2.19444197,12.0635042 2.07521444,11.6759857 2.04267671,10.9624217 C2.00746628,10.1906966 2,9.95921395 2,8.00506212 C2,6.05088125 2.00746625,5.81939858 2.0426767,5.04767347 C2.07521444,4.33410953 2.19444196,3.94659104 2.29466977,3.68870052 C2.42743531,3.34708346 2.58602767,3.10328294 2.84214604,2.84719362 C3.09823536,2.59107524 3.34203588,2.43248288 3.68365294,2.29971735 C3.94154346,2.19948953 4.32906194,2.08026201 5.04262587,2.04772428 C5.81435097,2.01251381 6.04583365,2.00504758 8.00001453,2.00504758 L8.00001453,2.00504762 Z"
}),(0,r.jsx)("path",{className:p,fill:f,d:"M8.0000119,10 C6.89542535,10 6,9.10457466 6,8.0000119 C6,6.89542535 6.89542534,6 8.0000119,6 C9.10457467,6 10,6.89542534 10,8.0000119 C10,9.10457467 9.10457466,10 8.0000119,10 L8.0000119,10 Z M8.00001546,4 C5.7908468,4 4,5.7908468 4,8.00001546 C4,10.2091532 5.7908468,12 8.00001546,12 C10.2091532,12 12,10.2091532 12,8.00001546 C12,5.7908468 10.2091532,4 8.00001546,4 L8.00001546,4 Z M13,4.00001654 C13,4.55230644 12.5522734,5 11.9999835,5 C11.4477266,5 11,4.55230645 11,4.00001654 C11,3.44772664 11.4477266,3 11.9999835,3 C12.5522734,3 13,3.44772663 13,4.00001654 L13,4.00001654 Z"}),(0,r.jsx)("rect",{width:"16",height:"16"})]})}))}},413620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?24:t,c=e.height,l=void 0===c?24:c,u=e.color,f=void 0===u?"currentColor":u,d=e.foreground,p=s(e,["width","height","color","foreground"]);return(0,
r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:l,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:d,fill:f,d:"M8.67872 19H11V21H7V23H17V21H13V19H20C21.103 19 22 18.104 22 17V6C22 5.89841 21.9924 5.79857 21.9777 5.70101L20 7.67872V15H12.6787L8.67872 19ZM13.1496 6H4V15H4.14961L2.00515 17.1445C2.00174 17.0967 2 17.0486 2 17V6C2 4.897 2.897 4 4 4H15.1496L13.1496 6Z"}),(0,r.jsx)("rect",{x:"2",y:"20",width:"26",height:"2",transform:"rotate(-45 2 20)",fill:"#ed4245"})]})}))}},466019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){
var t=e.width,n=void 0===t?24:t,c=e.height,l=void 0===c?24:c,u=e.color,f=void 0===u?"currentColor":u,d=e.className,p=e.foreground,h=s(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(h)),{className:d,width:n,height:l,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:p,fill:f,fillRule:"evenodd",clipRule:"evenodd",
d:"M17.722 3.00098H21C21.553 3.00098 22 3.44898 22 4.00098V8.00098C22 8.30498 21.861 8.59298 21.625 8.78198L16.696 12.724C15.794 13.86 14.49 14.659 13 14.911V16.001H15C15.553 16.001 16 16.449 16 17.001V19.001H8V17.001C8 16.449 8.447 16.001 9 16.001H11V14.911C9.51 14.659 8.206 13.86 7.304 12.724L2.375 8.78198C2.139 8.59298 2 8.30498 2 8.00098V4.00098C2 3.44898 2.447 3.00098 3 3.00098H6.278C6.625 2.40598 7.263 2.00098 8 2.00098H16C16.738 2.00098 17.375 2.40598 17.722 3.00098ZM4 5.00098V7.52098L6.006 9.12598C6.006 9.10435 6.00448 9.08348 6.00297 9.06274C6.00148 9.04224 6 9.02185 6 9.00098V5.00098H4ZM17.994 9.12698L20 7.52098V5.00098H18V9.00098C18 9.02173 17.9985 9.042 17.9971 9.0625C17.9955 9.08349 17.994 9.10472 17.994 9.12698ZM7 20.001H17V22.001H7V20.001Z"})}))}},379881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){
var t=e.width,n=void 0===t?20:t,c=e.height,l=void 0===c?16:c,u=e.color,f=void 0===u?"currentColor":u,d=e.className,p=e.foreground,h=s(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({className:d,width:n,height:l,viewBox:"0 0 20 16"},(0,o.Z)(h)),{children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:p,fill:f,
d:"M1,14.1538462 L1.95,14.1538462 C3.73125,14.1538462 5.5125,13.5384615 6.81875,12.4307692 C5.15625,12.4307692 3.73125,11.2 3.1375,9.6 C3.375,9.6 3.6125,9.72307692 3.85,9.72307692 C4.20625,9.72307692 4.5625,9.72307692 4.91875,9.6 C3.1375,9.23076923 1.7125,7.63076923 1.7125,5.66153846 C2.1875,5.90769231 2.78125,6.15384615 3.49375,6.15384615 C2.425,5.41538462 1.83125,4.18461538 1.83125,2.70769231 C1.83125,1.96923077 2.06875,1.23076923 2.30625,0.615384615 C4.20625,3.07692308 7.05625,4.67692308 10.38125,4.8 C10.2625,4.67692308 10.2625,4.30769231 10.2625,4.06153846 C10.2625,1.84615385 12.04375,0 14.18125,0 C15.25,0 16.31875,0.492307692 17.03125,1.23076923 C17.8625,1.10769231 18.8125,0.738461538 19.525,0.246153846 C19.2875,1.23076923 18.575,1.96923077 17.8625,2.46153846 C18.575,2.46153846 19.2875,2.21538462 20,1.84615385 C19.525,2.70769231 18.8125,3.32307692 18.1,3.93846154 L18.1,4.43076923 C18.1,9.84615385 14.18125,16 6.9375,16 C4.68125,16 2.6625,15.3846154 1,14.1538462 Z"}),(0,
r.jsx)("rect",{width:"20",height:"16"})]})}))}},822583:(e,t,n)=>{"use strict";n.d(t,{uj:()=>c,tI:()=>l,X8:()=>u});var r=n(441143),o=n.n(r),i=n(461061),a=n(959797);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var c=function(){var e=Object.keys(i.gkr);return e[Math.floor(Math.random()*e.length)]},l=function(){
var e=[i.gkr.HOUSE_1,i.gkr.HOUSE_2,i.gkr.HOUSE_3,i.jsM],t=[a.Z.Messages.HYPESQUAD_QUESTION_0_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_1_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_2_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_3_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_4_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_5_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_6_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_7_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_8_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_9_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_10_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_11_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_12_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_13_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_14_PROMPT],n=[[a.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_D]]
;return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map((function(r){var i=t[r],a=n[r];o()(null!=i&&null!=a,"Invalid HypeSquad quiz question index");return{prompt:i,options:a.map((function(t,n){var r=e[n];o()(null!==r,"Invalid HypeSquad quiz question option index");return{copy:t,house:r}}))}}))},u=function(e){var t;return(s(t={},i.gkr.HOUSE_1,a.Z.Messages.HYPESQUAD_HOUSE_1),s(t,i.gkr.HOUSE_2,a.Z.Messages.HYPESQUAD_HOUSE_2),s(t,i.gkr.HOUSE_3,a.Z.Messages.HYPESQUAD_HOUSE_3),t)[e]}},142348:(e,t,n)=>{"use strict";n.d(t,{bm:()=>b,an:()=>O,rh:()=>v,Vg:()=>A,ZP:()=>P});var r,o=n(213192),i=n.n(o),a=n(356004),s=n(212218),c=n(283369),l=n(105405),u=n(859023),f=n(703863),d=n(774581),p=n(461061),h=n(959797);function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}r=n(771141);var b=i()({GROUP_DM:null,DM:null,FRIEND:null}),g=function(e,t){return null!=e&&s.ZP.isMember(e,t)};function O(e,t,n,r,o){var i=new Set,s=[],h={numFriends:0,numDms:0,numGroupDms:0,numGuildMembers:0};if(""===e){var E={omitUserIds:t,maxRowsWithoutQuery:r,guildId:o,shownUserIds:i,rows:s,counts:h};!function(e){
var t=e.omitUserIds,n=e.suggestedUserIds,r=e.maxRowsWithoutQuery,o=e.guildId,i=e.shownUserIds,a=e.rows,s=e.counts;if(null!=n){var c=!0,l=!1,f=void 0;try{for(var d,p=n[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value;if(null!=r&&r>0&&a.length>=r)break;if(!t.has(h)){var E=u.default.getUser(h);if(null!=E&&!g(o,E.id)){i.add(E.id);a.push({type:b.FRIEND,item:E,isSuggested:!0});s.numFriends++}}}}catch(e){l=!0;f=e}finally{try{c||null==p.return||p.return()}finally{if(l)throw f}}}}(m(y({},E),{suggestedUserIds:n}));!function(e){var t=e.omitUserIds,n=e.maxRowsWithoutQuery,r=e.guildId,o=e.shownUserIds,i=e.rows,s=e.counts,l=e.includeGroupDms,d=!0,h=!1,E=void 0;try{for(var y,m=f.Z.getPrivateChannelIds()[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var O=y.value;if(null!=n&&n>0&&i.length>=n)break;var v=a.Z.getChannel(O);if(null!=v&&v.isPrivate())if(l&&v.type===p.d4z.GROUP_DM){i.push({type:b.GROUP_DM,item:v,isSuggested:!1});s.numGroupDms++}else if(null!=c.ZP.lastMessageId(v.id)){
var _=v.getRecipientId();if(null!=_&&!t.has(_)&&!o.has(_)){var S=u.default.getUser(_);if(null==S||S.bot||g(r,S.id))continue;o.add(S.id);i.push({type:b.DM,item:S,isSuggested:!1});s.numDms++}}}}catch(e){h=!0;E=e}finally{try{d||null==m.return||m.return()}finally{if(h)throw E}}}(m(y({},E),{includeGroupDms:!0}));!function(e){var t=e.omitUserIds,n=e.maxRowsWithoutQuery,r=e.guildId,o=e.shownUserIds,i=e.rows,a=e.counts,s=!0,c=!1,f=void 0;try{for(var d,p=l.Z.getFriendIDs()[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var h=d.value;if(null!=n&&n>0&&i.length>=n)break;if(!t.has(h)&&!o.has(h)){var E=u.default.getUser(h);if(null!=E&&!g(r,E.id)){i.push({type:b.FRIEND,item:E,isSuggested:!1});a.numFriends++}}}}catch(e){c=!0;f=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw f}}}(E)}else{var O={query:e,rows:s,counts:h};!function(e){var t=e.query,n=e.omitUserIds,r=e.shownUserIds,o=e.rows,i=e.counts;d.ZP.queryDMUsers({query:t,limit:50}).forEach((function(e){var t=e.record
;if(!n.has(t.id)){var s=a.Z.getDMFromUserId(t.id);if(null!=s&&null!=c.ZP.lastMessageId(s)){r.add(t.id);o.push({type:b.DM,item:t,isSuggested:!1});i.numDms++}}}))}(m(y({},O),{omitUserIds:t,shownUserIds:i}));!function(e){var t=e.query,n=e.rows,r=e.counts;d.ZP.queryGroupDMs({query:t,limit:50,fuzzy:!1}).forEach((function(e){var t=e.record;n.push({type:b.GROUP_DM,item:t,isSuggested:!1});r.numGroupDms++}))}(O);!function(e){var t=e.query,n=e.rows,r=e.counts,o=e.omitUserIds,i=e.shownUserIds;d.ZP.queryFriends({query:t,limit:500,_fuzzy:!1}).forEach((function(e){var t=e.record;if(!o.has(t.id)&&!i.has(t.id)){i.add(t.id);n.push({type:b.FRIEND,item:t,isSuggested:!1});r.numFriends++}}))}(m(y({},O),{omitUserIds:t,shownUserIds:i}))}return{rows:s,counts:h}}function v(e,t){var n=!0,r=!1,o=void 0;try{for(var i,s=f.Z.getPrivateChannelIds()[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var l=i.value,d=a.Z.getChannel(l);if(null!=d&&d.isDM()&&null!=c.ZP.lastMessageId(d.id)){var p=d.getRecipientId()
;if(null!=p&&!e.has(p)){var h=u.default.getUser(p);if(null==h||h.bot||g(t,h.id))continue;return h}}}}catch(e){r=!0;o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return null}var _,S="minutes",I="hours",T="days",N="never",C=(E(_={},r.INVITE_OPTIONS_30_MINUTES.value,{value:30,type:S}),E(_,r.INVITE_OPTIONS_1_HOUR.value,{value:1,type:I}),E(_,r.INVITE_OPTIONS_6_HOURS.value,{value:6,type:I}),E(_,r.INVITE_OPTIONS_12_HOURS.value,{value:12,type:I}),E(_,r.INVITE_OPTIONS_1_DAY.value,{value:1,type:T}),E(_,r.INVITE_OPTIONS_7_DAYS.value,{value:7,type:T}),E(_,r.INVITE_OPTIONS_FOREVER.value,{value:0,type:N}),_);function A(e,t){var n=parseInt(t,10),r=0===n,o=C[e].value;switch(C[e].type){case S:return r?h.Z.Messages.INVITE_EXPIRES_MINUTES:h.Z.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:n});case I:return r?h.Z.Messages.INVITE_EXPIRES_HOURS.format({numHours:o}):h.Z.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:o,numUses:n});case T:
return r?h.Z.Messages.INVITE_EXPIRES_DAYS_PLURAL.format({numDays:o}):h.Z.Messages.INVITE_EXPIRES_DAYS_OR_USES_PLURAL.format({numDays:o,numUses:n});case N:return r?h.Z.Messages.INVITE_EXPIRES_NEVER:h.Z.Messages.INVITE_EXPIRES_USES.format({numUses:n});default:return""}}const P={getMaxAgeOptions:r.MAX_AGE_OPTIONS,getMaxUsesOptions:r.MAX_USES_OPTIONS,INVITE_OPTIONS_FOREVER:r.INVITE_OPTIONS_FOREVER,INVITE_OPTIONS_1_DAY:r.INVITE_OPTIONS_1_DAY,INVITE_OPTIONS_7_DAYS:r.INVITE_OPTIONS_7_DAYS,INVITE_OPTIONS_12_HOURS:r.INVITE_OPTIONS_12_HOURS,INVITE_OPTIONS_6_HOURS:r.INVITE_OPTIONS_6_HOURS,INVITE_OPTIONS_1_HOUR:r.INVITE_OPTIONS_1_HOUR,INVITE_OPTIONS_30_MINUTES:r.INVITE_OPTIONS_30_MINUTES,INVITE_OPTIONS_UNLIMITED:r.INVITE_OPTIONS_UNLIMITED,INVITE_OPTIONS_ONCE:r.INVITE_OPTIONS_ONCE,INVITE_OPTIONS_5_TIMES:r.INVITE_OPTIONS_5_TIMES,INVITE_OPTIONS_10_TIMES:r.INVITE_OPTIONS_10_TIMES,INVITE_OPTIONS_25_TIMES:r.INVITE_OPTIONS_25_TIMES,INVITE_OPTIONS_50_TIMES:r.INVITE_OPTIONS_50_TIMES,
INVITE_OPTIONS_100_TIMES:r.INVITE_OPTIONS_100_TIMES}},310333:(e,t,n)=>{"use strict";n.d(t,{YK:()=>d,gl:()=>p,_o:()=>h,rr:()=>E,bL:()=>y,$6:()=>m,g0:()=>l,ac:()=>b,xH:()=>g});var r=n(409271),o=n(152666),i=n(653772),a=(n(932847),n(461061)),s=n(959797);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var l,u,f=864e5*a.eBq;function d(){var e=r.h2.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=i.Z.getGuild(e)})));return e}function p(){var e=r.zA.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=i.Z.getGuild(e)})));return e}function h(){var e=r.SE.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=i.Z.getGuild(e)})));return e}function E(){var e=r.iH.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=i.Z.getGuild(e)})));return e}function y(e){return(e&a.HGf)===a.HGf?{all:!0,mutualFriends:!0,
mutualGuilds:!0}:{all:!1,mutualFriends:(e&a.SOq.MUTUAL_FRIENDS)===a.SOq.MUTUAL_FRIENDS,mutualGuilds:(e&a.SOq.MUTUAL_GUILDS)===a.SOq.MUTUAL_GUILDS}}function m(e,t){return!t.verified||null!=e&&f>Date.now()-new Date(e.created_at).getTime()}!function(e){e[e.UNDECIDED=0]="UNDECIDED";e[e.OPTIN=1]="OPTIN";e[e.OPTOUT=2]="OPTOUT"}(l||(l={}));var b=(c(u={},l.UNDECIDED,void 0),c(u,l.OPTIN,!0),c(u,l.OPTOUT,!1),u);function g(){return[{name:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_IN_HEADER,desc:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_IN_DESC,value:l.OPTIN},{name:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_OUT_HEADER,desc:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_OUT_DESC,value:l.OPTOUT},{name:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_UNSET_HEADER,desc:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_UNSET_DESC,value:l.UNDECIDED}]}},329182:(e,t,n)=>{"use strict";n.r(t);n.d(t,{baseRules:()=>T,
customRules:()=>N});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(120053),c=n.n(s),l=n(600075),u=n(236086),f=n(956345),d=n(74907),p=n(892472),h=n(932847),E=n(461061);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=c().defaultRules.link,_={section:E.jXE.SETTINGS_CHANGELOG};function S(e,t){return null==t?[]:t.split(" ").map((function(t){return e[t]}))}
var I=function(e){var t=e.level,n=e.children,r=e.className,i=void 0===r?null:r,s=e.styleSheet,c=void 0===s?{}:s,u=(0,l.xS)(),f=parseInt(t,10),d=u+(isNaN(f)?1:f)-1;return o.createElement("h".concat(d),{className:a().apply(void 0,O(S(c,i)))},n)},T=d.Z.defaultRules,N={link:{parse:function(e,t,n){var r,o=e[2],i=o.startsWith("https://discordapp.com/nitro")||o.startsWith("https://discord.com/nitro"),a=o.startsWith("https://discordapp.com/hypesquad")||o.startsWith("https://discord.com/hypesquad");r=i||a?function(e){h.default.track(E.rMx.PREMIUM_PROMOTION_OPENED,{location:_});i?f.Z.open(E.oAB.PREMIUM):a&&f.Z.open(E.oAB.HYPESQUAD_ONLINE);n.changeLog.track(E.rMx.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"});u.Z.hideChangeLog();e.preventDefault()}:function(){n&&"function"==typeof n.onLinkClick&&n.onLinkClick(o);n.changeLog.track(E.rMx.CHANGE_LOG_CTA_CLICKED,b({},h.default.getCampaignParams(o)))};return g(b({},v.parse(e,t,n)),{callToAction:r})},react:function(e,t,n){return(0,r.jsx)(p.Z,{
href:c().sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":void 0,children:t(e.content,n)},n.key)}},lheading:function(e){return{react:function(t,n,o){return(0,r.jsx)(I,{level:t.level,className:t.className,styleSheet:e,children:n(t.content,o)},o.key)}}},heading:{react:function(e,t,n){return(0,r.jsx)(I,{level:e.level,children:t(e.content,n)},n.key)}},image:{react:function(e,t,o){var i=n(478717)("./".concat(e.target));return(0,r.jsx)("img",{alt:e.alt,src:i},o.key)}},blockQuote:{react:T.blockQuote.react},paragraph:{react:function(e,t,n){return(0,r.jsx)("p",{children:t(e.content,n)},n.key)}}}},771141:(e,t,n)=>{"use strict";n.r(t);n.d(t,{INVITE_OPTIONS_UNLIMITED:()=>i,INVITE_OPTIONS_ONCE:()=>a,INVITE_OPTIONS_5_TIMES:()=>s,INVITE_OPTIONS_10_TIMES:()=>c,INVITE_OPTIONS_25_TIMES:()=>l,INVITE_OPTIONS_50_TIMES:()=>u,INVITE_OPTIONS_100_TIMES:()=>f,MAX_USES_OPTIONS:()=>d,INVITE_OPTIONS_30_MINUTES:()=>p,INVITE_OPTIONS_1_HOUR:()=>h,
INVITE_OPTIONS_6_HOURS:()=>E,INVITE_OPTIONS_12_HOURS:()=>y,INVITE_OPTIONS_1_DAY:()=>m,INVITE_OPTIONS_7_DAYS:()=>b,INVITE_OPTIONS_FOREVER:()=>g,MAX_AGE_OPTIONS:()=>O});var r=n(959797);function o(e,t){return{value:e,get label(){return t()}}}var i=o(0,(function(){return r.Z.Messages.MAX_USES.format({maxUses:0})})),a=o(1,(function(){return r.Z.Messages.MAX_USES.format({maxUses:1})})),s=o(5,(function(){return r.Z.Messages.MAX_USES.format({maxUses:5})})),c=o(10,(function(){return r.Z.Messages.MAX_USES.format({maxUses:10})})),l=o(25,(function(){return r.Z.Messages.MAX_USES.format({maxUses:25})})),u=o(50,(function(){return r.Z.Messages.MAX_USES.format({maxUses:50})})),f=o(100,(function(){return r.Z.Messages.MAX_USES.format({maxUses:100})})),d=[i,a,s,c,l,u,f],p=o(1800,(function(){return r.Z.Messages.DURATION_MINUTES.format({minutes:30})})),h=o(3600,(function(){return r.Z.Messages.DURATION_HOURS.format({hours:1})})),E=o(21600,(function(){return r.Z.Messages.DURATION_HOURS.format({hours:6})
})),y=o(43200,(function(){return r.Z.Messages.DURATION_HOURS.format({hours:12})})),m=o(86400,(function(){return r.Z.Messages.DURATION_DAYS.format({days:1})})),b=o(604800,(function(){return r.Z.Messages.DURATION_DAYS.format({days:7})})),g=o(0,(function(){return r.Z.Messages.MAX_AGE_NEVER})),O=[p,h,E,y,m,b,g]}}]);
//# sourceMappingURL=00cb714c7397c04ee918.js.map