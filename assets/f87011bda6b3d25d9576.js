"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[86239],{692454:(e,t,n)=>{n.d(t,{Z:()=>O});var r=n(675860),o=n(173436),i=n(682684),a=n(278641),u=n(992497),c=n(461061),l=n(959797);function s(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,u,"next",e)}function u(e){s(i,r,o,a,u,"throw",e)}a(void 0)}))}}var d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},p={pinMessage:function(e,t){return f((function(){var n,o;return d(this,(function(a){switch(a.label){case 0:n=e.id,o=e.name;return[4,i.Z.unarchiveThreadIfNecessary(e.id)];case 1:a.sent();r.Z.put({url:c.ANM.PIN(n,t),oldFormErrors:!0}).catch((function(){var t;t=e.isPrivate()?l.Z.Messages.PIN_MESSAGE_TOO_MANY_BODY_PRIVATE_CHANNEL.format({maxPins:c.tG9}):l.Z.Messages.PIN_MESSAGE_TOO_MANY_BODY.format({
maxPins:c.tG9,channelName:o});u.Z.show({title:l.Z.Messages.PIN_MESSAGE_TOO_MANY_TITLE,body:t,confirmText:l.Z.Messages.OKAY})}));return[2]}}))}))()},unpinMessage:function(e,t){return f((function(){return d(this,(function(n){switch(n.label){case 0:return[4,i.Z.unarchiveThreadIfNecessary(e.id)];case 1:n.sent();r.Z.delete({url:c.ANM.PIN(e.id,t),oldFormErrors:!0}).catch((function(){return u.Z.show({title:l.Z.Messages.UNPIN_MESSAGE_FAILED_TITLE,body:l.Z.Messages.UNPIN_MESSAGE_FAILED_BODY,confirmText:l.Z.Messages.TRY_AGAIN,cancelText:l.Z.Messages.CANCEL,onConfirm:p.unpinMessage.bind(p,e,t)})}));return[2]}}))}))()},ackPins:function(e){o.Z.dispatch({type:"CHANNEL_PINS_ACK",channelId:e})},fetchPins:function(e){var t=a.Z.getPinnedMessages(e);if(null==t||!t.loaded&&!t.loading){o.Z.dispatch({type:"LOAD_PINNED_MESSAGES",channelId:e});r.Z.get({url:c.ANM.PINS(e),retries:2,oldFormErrors:!0}).then((function(t){o.Z.dispatch({type:"LOAD_PINNED_MESSAGES_SUCCESS",messages:t.body,channelId:e})}),(function(){
o.Z.dispatch({type:"LOAD_PINNED_MESSAGES_FAILURE",channelId:e})}))}}};const O=p},961713:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),u=n(600075),c=n(692454),l=n(549425),s=n(53211),f=n(180445),d=n(849832),p=n(435500),O=n(105405),y=n(859023),E=n(191940),g=n(812895),b=n(30741),_=n(897576),h=n(418674),v=n(340034),m=n(461061),S=n(959797),M=n(878101),A=n.n(M);function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return I(e)}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){N(e,t,n[t])}))}return e}function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function D(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function P(e,t){
return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var C=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
writable:!0,configurable:!0}});t&&R(e,t)}(n,e);var t=L(n);function n(){j(this,n);var e;(e=t.apply(this,arguments)).state={report:!1};e.handleDelete=function(){var t=e.state.report,n=e.props,r=n.channel,o=n.message;t?(0,d.ak)(o,(function(){return l.Z.deleteMessage(r.id,o.id)})):l.Z.deleteMessage(r.id,o.id)};e.handleToggleReport=function(t){e.setState({report:t})};return e}n.prototype.render=function(){var e,t,n=this.state.report,o=this.props,i=o.channel,a=o.message,c=o.showContextMenuHint,l=D(o,["channel","message","showContextMenuHint"]),s=i.type===m.d4z.GUILD_ANNOUNCEMENT&&(0,h.yE)(a.flags,m.iLy.CROSSPOSTED);c&&(e=(0,r.jsx)(g.Z,{className:A().spacingTop,children:S.Z.Messages.DELETE_MESSAGE_CONTEXT_MENU_HINT.format()}));(0,v.vc)(a)&&(t=(0,r.jsx)(u.j7,{value:n,onChange:this.handleToggleReport,hideBorder:!0,className:A().spacingTop,children:S.Z.Messages.DELETE_MESSAGE_REPORT}));return(0,r.jsx)(f.Z.Provider,{value:i.guild_id,children:(0,r.jsxs)(b.default,T(w({
header:s?S.Z.Messages.MODIFY_FOLLOWED_NEWS_HEADER:S.Z.Messages.DELETE_MESSAGE_TITLE,confirmText:S.Z.Messages.DELETE,cancelText:S.Z.Messages.CANCEL,onConfirm:this.handleDelete},l),{children:[(0,r.jsx)(u.xv,{variant:"text-md/normal",className:A().spacing,children:s?S.Z.Messages.DELETE_FOLLOWED_NEWS_BODY:S.Z.Messages.DELETE_MESSAGE_BODY}),(0,r.jsx)("div",{className:A().message,children:(0,r.jsx)(p.Z,{channel:i,message:a,disableInteraction:!0})}),t,e]}))})};return n}(o.PureComponent);const x={confirmPin:function(e,t){(0,_.h7)((function(n){var o,i=(0,s.F6)(e,y.default,O.Z);o=e.isPrivate()?S.Z.Messages.PIN_MESSAGE_BODY_PRIVATE_CHANNEL:S.Z.Messages.PIN_MESSAGE_BODY.format({channelName:i});return(0,r.jsx)(f.Z.Provider,{value:e.guild_id,children:(0,r.jsxs)(b.default,T(w({header:S.Z.Messages.PIN_MESSAGE_TITLE,confirmText:S.Z.Messages.PIN_CONFIRM,cancelText:S.Z.Messages.CANCEL,confirmButtonColor:E.Co.Colors.BRAND,onConfirm:function(){return c.Z.pinMessage(e,t.id)}},n),{children:[(0,r.jsx)(u.xv,{
variant:"text-md/normal",className:A().spacing,children:o}),(0,r.jsx)("div",{className:A().message,children:(0,r.jsx)(p.Z,{channel:e,message:t,animateAvatar:!1,disableInteraction:!0})})]}))})}))},confirmUnpin:function(e,t){(0,_.h7)((function(n){return(0,r.jsx)(f.Z.Provider,{value:e.guild_id,children:(0,r.jsxs)(b.default,T(w({header:S.Z.Messages.UNPIN_MESSAGE_TITLE,confirmText:S.Z.Messages.UNPIN_CONFIRM,cancelText:S.Z.Messages.CANCEL,onConfirm:function(){return c.Z.unpinMessage(e,t.id)}},n),{children:[(0,r.jsx)(u.xv,{variant:"text-md/normal",className:A().spacing,children:S.Z.Messages.UNPIN_MESSAGE_BODY}),(0,r.jsx)("div",{className:a()(A().message,A().spacing),children:(0,r.jsx)(p.Z,{channel:e,message:t,disableInteraction:!0})}),(0,r.jsx)(g.Z,{children:S.Z.Messages.UNPIN_MESSAGE_CONTEXT_MENU_HINT.format()})]}))})}))},confirmDelete:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,_.h7)((function(o){return(0,r.jsx)(Z,w({channel:e,message:t,
showContextMenuHint:n},o))}))},confirmEdit:function(e,t,n){(0,_.h7)((function(o){return(0,r.jsx)(b.default,T(w({header:S.Z.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:S.Z.Messages.CONFIRM,cancelText:S.Z.Messages.CANCEL,confirmButtonColor:E.Co.Colors.BRAND,onConfirm:function(){return l.Z.editMessage(e,t,{content:n})}},o),{children:(0,r.jsx)(u.xv,{variant:"text-md/normal",className:A().spacing,children:S.Z.Messages.EDIT_FOLLOWED_NEWS_BODY})}))}))}}},103720:(e,t,n)=>{n.d(t,{t:()=>a});var r=n(477353),o=n(585109),i=n(234743),a=(0,r.Xz)({id:o.Z.IN_APP_REPORTING,title:"2020-29 Exp: Report TOS violating messages in-app via new modal",description:["An experiment that tests if in-app reporting is useful for Trust & Safety","Control: No changes","Treatment 1: Add menu options to report message"],buckets:[i.N.CONTROL,i.N.TREATMENT_1]})},707031:(e,t,n)=>{n.d(t,{Z:()=>M})
;var r=n(785893),o=n(667294),i=n(124522),a=n(791462),u=n(897193),c=n(14563),l=n(769672),s=n(551821),f=n(897576),d=n(368365),p=n(449024),O=n(653772),y=n(940712),E=n(461061),g=d.Z.combine(E.Plq.VIEW_CHANNEL,E.Plq.MANAGE_MESSAGES,E.Plq.READ_MESSAGE_HISTORY);var b=n(959797);function _(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,u,"next",e)}function u(e){_(i,r,o,a,u,"throw",e)}a(void 0)}))}}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){v(e,t,n[t])}))}return e}var S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}
i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function M(e,t){var d=e.guild_id,_=o.useMemo((function(){return{guildId:d,entity:e,entityType:i.w.FORUM_POST}}),[d,e]),v=(0,a.e7)([u.ZP],(function(){return u.ZP.getIsItemFeatured(_)}),[_]),M=(0,s.Xb)(e),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getGuildId(),r=(0,a.e7)([y.Z],(function(){return y.Z.can(g,e)}),[e]),o=(0,a.e7)([O.Z],(function(){return O.Z.getGuild(n)}),[n]),i=(0,p.N2)(o,!1);return!(!r||null===n||!i||e.parentChannelThreadType!==E.d4z.GUILD_FORUM&&!t||!(0,c.fx)(e))}(e);return M&&A?v?(0,r.jsx)(l.sN,{id:"guild-feed-unfeature",label:b.Z.Messages.GUILD_FEED_UNFEATURE_FORUM_POST,action:function(){return(0,f.ZD)(h((function(){var e;return S(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(40532),n.e(19375)]).then(n.bind(n,619375))];case 1:e=t.sent().UnfeatureItemConfirmationModal;return[2,function(t){
return(0,r.jsx)(e,m({featureableItem:_,header:b.Z.Messages.GUILD_FEED_UNFEATURE_FORUM_POST_MODAL_HEADER,body:b.Z.Messages.GUILD_FEED_UNFEATURED_FORUM_POST_MODAL_BODY},t))}]}}))})))}}):(0,r.jsx)(l.sN,{id:"guild-feed-feature",label:b.Z.Messages.GUILD_FEED_FEATURE_FORUM_POST,children:(0,c.DE)().map((function(o){var i=o.value,a=o.timePeriod;return(0,r.jsx)(l.sN,{id:"".concat(i),label:(0,c.Vm)(a),action:function(){return(0,f.ZD)(h((function(){var o;return S(this,(function(u){switch(u.label){case 0:return[4,Promise.all([n.e(40532),n.e(19375)]).then(n.bind(n,619375))];case 1:o=u.sent().FeatureForumPostConfirmationModal;return[2,function(n){return(0,r.jsx)(o,m({thread:e,guildId:d,expiresSeconds:i,timePeriod:a,options:t},n))}]}}))})))}},i)}))}):null}},390001:(e,t,n)=>{n.d(t,{qR:()=>i,X_:()=>a,dA:()=>u,U5:()=>c});var r=n(276489);function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function i(e){var t=c()
;return Array.from(e.defaultActionTypes).map((function(e){return t[e]}))}function a(e){return e.type===r.jj.FLAG_TO_CHANNEL}function u(e){return e.type===r.jj.USER_COMMUNICATION_DISABLED}function c(){var e;return o(e={},r.jj.UNKNOWN,{type:r.jj.UNKNOWN}),o(e,r.jj.BLOCK_MESSAGE,{type:r.jj.BLOCK_MESSAGE}),o(e,r.jj.FLAG_TO_CHANNEL,{type:r.jj.FLAG_TO_CHANNEL,metadata:{channelId:void 0}}),o(e,r.jj.USER_COMMUNICATION_DISABLED,{type:r.jj.USER_COMMUNICATION_DISABLED,metadata:{durationSeconds:60}}),e}},421919:(e,t,n)=>{n.d(t,{x2:()=>r,wR:()=>o});var r,o;n(959797);!function(e){e.BUG="BUG";e.ALLOWED="ALLOWED";e.MENTION_RAID_REMOVE_RESTRICTION="MENTION_RAID_REMOVE_RESTRICTION"}(r||(r={}));!function(e){e.JOIN_RAID="JOIN_RAID";e.MENTION_RAID="MENTION_RAID"}(o||(o={}))},209518:(e,t,n)=>{n.d(t,{DO:()=>d,vo:()=>p,Fn:()=>O,nC:()=>y,ep:()=>E,km:()=>g,QO:()=>b,Vb:()=>_,YN:()=>h,ZF:()=>v,Ar:()=>m})
;var r=n(99298),o=n(631134),i=n(390001),a=n(617509),u=n(117412),c=n(975483),l=n(276489),s=n(959797),f=function(e,t){return"".concat(e,"-").concat(t,"-new-rule")},d=function(e){return(null==e?void 0:e.triggerType)===l.fX.KEYWORD},p=function(e){return(null==e?void 0:e.triggerType)===l.fX.ML_SPAM},O=function(e){return(null==e?void 0:e.triggerType)===l.fX.DEFAULT_KEYWORD_LIST},y=function(e){return(null==e?void 0:e.triggerType)===l.fX.MENTION_SPAM};function E(e,t){var n=c.I6[t],r=(0,c.jp)(t,e),a={id:f(e,t),name:n.getDefaultRuleName(),guildId:e,eventType:n.eventType,triggerType:t,triggerMetadata:r,enabled:!0,creatorId:o.default.getId(),actions:(0,i.qR)(n),position:0,exemptChannels:new Set,exemptRoles:new Set};if(_(a))throw new Error(s.Z.Messages.GUILD_AUTOMOD_NEW_RULE_ERROR);var l=(0,u.mY)(e,t);l>0&&(a.name+=" ".concat(l+1));return a}function g(e,t){if(e.length>t)throw new Error(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_TOO_MANY_KEYWORDS.format({limit:t}));e.forEach((function(e){
if(e.length>l.hu||e.length<l.Vk)throw new a.V6(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_INVALID_KEYWORD_LENGTH.format({keyword:e,max:l.hu,min:l.Vk}))}))}function b(e){if(d(e)){var t,n,r=null!==(t=e.triggerMetadata.keywordFilter)&&void 0!==t?t:[],o=null!==(n=e.triggerMetadata.regexPatterns)&&void 0!==n?n:[];if(0===r.length&&0===o.length)throw new Error(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_NO_KEYWORDS_OR_REGEX);g(r,l.RH);!function(e){if(e.length>l.VW)throw new Error(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_TOO_MANY_REGEX.format({limit:l.VW}));e.forEach((function(e){if(e.length>l.aj||e.length<l.uE)throw new a.uS(s.Z.Messages.GUILD_AUTOMOD_REGEX_ERROR_INVALID_REGEX_LENGTH.format({regex:e,max:l.aj,min:l.uE}))}))}(o)}if(0===e.actions.length)throw new Error(s.Z.Messages.GUILD_AUTOMOD_ERROR_NO_ACTIONS)}function _(e){var t;return(0,r.BH)(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"INVALID_SNOWFLAKE")}function h(e){
return e===l.q4.MESSAGE_SEND?s.Z.Messages.GUILD_AUTOMOD_EVENT_TYPE_MESSAGE_SEND:s.Z.Messages.GUILD_AUTOMOD_UNKNOWN}function v(e){switch(e){case l.jj.BLOCK_MESSAGE:return s.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_NAME;case l.jj.FLAG_TO_CHANNEL:return s.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_NAME;default:return s.Z.Messages.GUILD_AUTOMOD_UNKNOWN}}function m(e){switch(e){case l.fX.KEYWORD:return s.Z.Messages.GUILD_AUTOMOD_KEYWORD_FILTER_NAME;case l.fX.ML_SPAM:return s.Z.Messages.GUILD_AUTOMOD_ML_SPAM_FILTER_NAME;case l.fX.DEFAULT_KEYWORD_LIST:return s.Z.Messages.GUILD_AUTOMOD_DEFAULT_KEYWORD_LIST_RULE_NAME;default:return s.Z.Messages.GUILD_AUTOMOD_UNKNOWN}}},117412:(e,t,n)=>{n.d(t,{mY:()=>m,I2:()=>S,RD:()=>M,pH:()=>A});var r=n(667294),o=n(185253),i=n(948861),a=n(323657),u=n(870978),c=n(295935),l=n(276489);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){
n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,u,"next",e)}function u(e){f(i,r,o,a,u,"throw",e)}a(void 0)}))}}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}function y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}var _=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++
;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},h={};var v=(0,o.Z)((function(e,t){return{rules:{},fetching:!1,error:null,updateRule:function(n){var r,o,i=n.guildId,a=n.id,u=n.triggerType,l=t().rules,s=null!==(r=l[i])&&void 0!==r?r:{},f=null!==(o=s[u])&&void 0!==o?o:[],d=f.some((function(e){return e.id===a})),E=f.filter((function(e){return!(0,c.U)(e.id)||e.triggerType!==u})),b=d?E.map((function(e){return e.id===a?n:e})):g(E).concat([n]);e({rules:y(O({},l),p({},i,y(O({},s),p({},u,b)))),error:null})},removeRule:function(n,r){
var o=t().rules,i=o[r],a=Object.keys(i).reduce((function(e,t){var r,o=Number(t),a=null!==(r=i[o])&&void 0!==r?r:[];e[o]=a.filter((function(e){return e.id!==n}));return e}),i);e({rules:y(O({},o),p({},r,a)),error:null})},syncRules:(n=d((function(n){var r,o,i,c,s;return _(this,(function(f){switch(f.label){case 0:if(!function(e){var t;return Date.now()-(null!==(t=h[e])&&void 0!==t?t:0)>2e4}(n))return[2];h[n]=Date.now();f.label=1;case 1:f.trys.push([1,3,,4]);return[4,(0,u.$Y)(n)];case 2:r=f.sent();o=function(e){var t,n=(p(t={},l.fX.KEYWORD,[]),p(t,l.fX.ML_SPAM,[]),p(t,l.fX.DEFAULT_KEYWORD_LIST,[]),p(t,l.fX.MENTION_SPAM,[]),t);e.forEach((function(e){var t,r=e.triggerType;null===(t=n[r])||void 0===t||t.push(e)}));return n}(r);i=t().rules;e({rules:y(O({},i),p({},n,o)),error:null});return[3,4];case 3:c=f.sent();s=new a.Hx(c);e({error:s});return[3,4];case 4:return[2]}}))})),function(e){return n.apply(this,arguments)})};var n})),m=function(e,t){var n,r
;return(null!==(r=null===(n=v.getState().rules[e])||void 0===n?void 0:n[t])&&void 0!==r?r:[]).length};function S(e){var t=E(r.useState(!1),2),n=t[0],o=t[1],a=E(v((function(e){return[e.syncRules,e.fetching]}),i.Z),2),u=a[0],c=a[1];return[n,r.useCallback(d((function(){return _(this,(function(t){switch(t.label){case 0:if(c||null==e)return[2];t.label=1;case 1:t.trys.push([1,,3,4]);o(!0);return[4,u(e)];case 2:t.sent();return[3,4];case 3:o(!1);return[7];case 4:return[2]}}))})),[e,c,u])]}function M(e){var t=E(S(e),2),n=t[0],o=t[1];r.useEffect((function(){d((function(){return _(this,(function(e){switch(e.label){case 0:return[4,o()];case 1:e.sent();return[2]}}))}))()}),[e,o]);return[n,o]}function A(e){return v((function(t){var n;return{rulesByTriggerType:null!==(n=t.rules[null!=e?e:""])&&void 0!==n?n:{},updateRule:t.updateRule,removeRule:t.removeRule}}))}},975483:(e,t,n)=>{n.d(t,{vT:()=>r,I6:()=>s,r5:()=>d,V9:()=>p,yU:()=>O,Z6:()=>y,jp:()=>E})
;var r,o,i=n(667294),a=n(379908),u=n(276489),c=n(959797);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e.NEW="new";e.RECOMMENDED="recommended";e.BETA="beta"}(r||(r={}));var s=(l(o={},u.fX.UNKNOWN,{getDefaultRuleName:function(){return c.Z.Messages.GUILD_AUTOMOD_KEYWORD_FILTER_NAME},type:u.fX.UNKNOWN,eventType:u.q4.UNKNOWN,perGuildMaxCount:0,availableActionTypes:new Set,flags:new Set,defaultActionTypes:new Set}),l(o,u.fX.SPAM_LINK,{getDefaultRuleName:function(){return c.Z.Messages.GUILD_AUTOMOD_KEYWORD_FILTER_NAME},type:u.fX.SPAM_LINK,eventType:u.q4.MESSAGE_SEND,perGuildMaxCount:0,availableActionTypes:new Set,flags:new Set,defaultActionTypes:new Set}),l(o,u.fX.KEYWORD,{getDefaultRuleName:function(){return c.Z.Messages.GUILD_AUTOMOD_KEYWORD_FILTER_NAME},type:u.fX.KEYWORD,eventType:u.q4.MESSAGE_SEND,perGuildMaxCount:5,
availableActionTypes:new Set([u.jj.BLOCK_MESSAGE,u.jj.FLAG_TO_CHANNEL,u.jj.USER_COMMUNICATION_DISABLED]),flags:new Set,defaultActionTypes:new Set([u.jj.BLOCK_MESSAGE])}),l(o,u.fX.ML_SPAM,{getDefaultRuleName:function(){return c.Z.Messages.GUILD_AUTOMOD_ML_SPAM_FILTER_NAME},type:u.fX.ML_SPAM,eventType:u.q4.MESSAGE_SEND,perGuildMaxCount:1,availableActionTypes:new Set([u.jj.BLOCK_MESSAGE,u.jj.FLAG_TO_CHANNEL]),flags:new Set([r.BETA]),defaultActionTypes:new Set([u.jj.BLOCK_MESSAGE])}),l(o,u.fX.DEFAULT_KEYWORD_LIST,{getDefaultRuleName:function(){return c.Z.Messages.GUILD_AUTOMOD_DEFAULT_KEYWORD_LIST_RULE_NAME},type:u.fX.DEFAULT_KEYWORD_LIST,eventType:u.q4.MESSAGE_SEND,perGuildMaxCount:1,availableActionTypes:new Set([u.jj.BLOCK_MESSAGE,u.jj.FLAG_TO_CHANNEL]),flags:new Set([]),defaultActionTypes:new Set([u.jj.BLOCK_MESSAGE])}),l(o,u.fX.MENTION_SPAM,{getDefaultRuleName:function(){return c.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_FILTER_NAME},type:u.fX.MENTION_SPAM,eventType:u.q4.MESSAGE_SEND,
perGuildMaxCount:1,availableActionTypes:new Set([u.jj.BLOCK_MESSAGE,u.jj.FLAG_TO_CHANNEL,u.jj.USER_COMMUNICATION_DISABLED]),flags:new Set([r.BETA]),defaultActionTypes:new Set([u.jj.BLOCK_MESSAGE])}),o),f=[s[u.fX.MENTION_SPAM],s[u.fX.ML_SPAM],s[u.fX.DEFAULT_KEYWORD_LIST],s[u.fX.KEYWORD]],d=function(e,t){return s[e].flags.has(t)};function p(e){return Array.from(s[e].availableActionTypes)}function O(e,t){var n=e.id,r=e.eventType,o=e.triggerType,i=e.actions,a=s[o];if(t.filter((function(e){return n!==e.id&&e.triggerType===o})).length>a.perGuildMaxCount)throw new Error("You have exceeded the maximum number of rules of type ".concat(o));if(i.some((function(e){return!a.availableActionTypes.has(e.type)})))throw new Error("You have provided an action that is not available for this trigger type");if(r!==a.eventType)throw new Error("You have provided an event type that is not available for this trigger type")}function y(){return i.useMemo((function(){return f.filter((function(e){
return e.perGuildMaxCount>0})).map((function(e){return e.type}))}),[])}function E(e,t){var n=(0,a.H7)(t);switch(e){case u.fX.DEFAULT_KEYWORD_LIST:return{allowList:[],presets:[]};case u.fX.KEYWORD:return{keywordFilter:[],regexPatterns:[],allowList:[]};case u.fX.MENTION_SPAM:return{mentionTotalLimit:u.Ic,mentionRaidProtectionEnabled:n};case u.fX.ML_SPAM:default:return}}},870978:(e,t,n)=>{n.d(t,{T9:()=>C,JK:()=>A,mm:()=>w,$Y:()=>D,UE:()=>R,Je:()=>N,qY:()=>S});var r=n(675860),o=n(173436),i=n(23816),a=n(653772),u=n(940712),c=n(90816),l=n(346529),s=n(421919),f=n(496486);function d(e){return null==e?e:Object.keys(e).reduce((function(t,n){var r=(0,f.camelCase)(n);"object"!=typeof e[n]||Array.isArray(e[n])?t[r]=e[n]:t[r]=d(e[n]);return t}),{})}function p(e){return null==e?e:Object.keys(e).reduce((function(t,n){var r=(0,f.snakeCase)(n);"object"!=typeof e[n]||Array.isArray(e[n])?t[r]=e[n]:t[r]=p(e[n]);t[r]=e[n];return t}),{})}var O=n(689339),y=n(461061);function E(e,t,n,r,o,i,a){try{
var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){E(i,r,o,a,u,"next",e)}function u(e){E(i,r,o,a,u,"throw",e)}a(void 0)}))}}var b=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function _(e){return{type:e.type,metadata:p(e.metadata)}}function h(e){var t,n,r=p(e.triggerMetadata);null!=r&&delete r.keywordLists;return{id:e.id,name:e.name,guild_id:e.guildId,event_type:e.eventType,trigger_type:e.triggerType,trigger_metadata:r,actions:e.actions.filter(c.lm).map(_),enabled:e.enabled,creator_id:e.creatorId,position:e.position,exempt_channels:Array.from(null!==(t=e.exemptChannels)&&void 0!==t?t:[]),exempt_roles:Array.from(null!==(n=e.exemptRoles)&&void 0!==n?n:[])}}function v(e){return{type:e.type,metadata:d(e.metadata)}}function m(e){var t,n,r,o={
id:null!==(t=e.id)&&void 0!==t?t:l.Z.fromTimestamp(Date.now()),name:e.name,guildId:e.guild_id,eventType:e.event_type,triggerType:e.trigger_type,triggerMetadata:d(e.trigger_metadata),actions:e.actions.filter(c.lm).map(v),enabled:e.enabled,creatorId:e.creator_id,position:e.position,exemptChannels:new Set(null!==(n=e.exempt_channels)&&void 0!==n?n:[]),exemptRoles:new Set(null!==(r=e.exempt_roles)&&void 0!==r?r:[])};null!=o.triggerMetadata&&delete o.triggerMetadata.keywordLists;return o}function S(e){return M.apply(this,arguments)}function M(){return(M=g((function(e){var t;return b(this,(function(n){switch(n.label){case 0:t=h(e);return[4,r.Z.post({url:y.ANM.GUILD_AUTOMOD_VALIDATE_RULE(e.guildId),body:t})];case 1:return[2,d(n.sent().body)]}}))}))).apply(this,arguments)}function A(e){return j.apply(this,arguments)}function j(){return(j=g((function(e){var t;return b(this,(function(n){switch(n.label){case 0:delete(t=h(e)).id;return[4,r.Z.post({url:y.ANM.GUILD_AUTOMOD_RULES(e.guildId),body:t})]
;case 1:return[2,m(n.sent().body)]}}))}))).apply(this,arguments)}function N(e){return I.apply(this,arguments)}function I(){return(I=g((function(e){var t;return b(this,(function(n){switch(n.label){case 0:t=h(e);return[4,r.Z.patch({url:y.ANM.GUILD_AUTOMOD_RULE(e.guildId,e.id),body:t})];case 1:return[2,m(n.sent().body)]}}))}))).apply(this,arguments)}function w(e,t){return T.apply(this,arguments)}function T(){return(T=g((function(e,t){return b(this,(function(n){switch(n.label){case 0:return[4,r.Z.delete({url:y.ANM.GUILD_AUTOMOD_RULE(t,e)})];case 1:n.sent();return[2,!0]}}))}))).apply(this,arguments)}function D(e){return P.apply(this,arguments)}function P(){return(P=g((function(e){var t;return b(this,(function(n){switch(n.label){case 0:return[4,r.Z.get({url:y.ANM.GUILD_AUTOMOD_RULES(e)})];case 1:t=n.sent();return Array.isArray(t.body)?[2,t.body.map(m)]:[2,[]]}}))}))).apply(this,arguments)}function R(e,t,n){var o=a.Z.getGuild(e);if(null!=o&&u.Z.can(y.Plq.MANAGE_GUILD,o)){(0,O.UV)((function(){
(0,i.yw)(y.rMx.GUILD_AUTOMOD_FEEDBACK,{feedback_type:s.x2.MENTION_RAID_REMOVE_RESTRICTION,decision_id:t});r.Z.post({url:y.ANM.GUILD_AUTOMOD_CLEAR_MENTION_RAID(e)});n()}))}}function C(e){o.Z.dispatch({type:"AUTO_MODERATION_MENTION_RAID_NOTICE_DISMISS",guildId:e})}},955439:(e,t,n)=>{n.d(t,{Ac:()=>a,Ze:()=>u,cb:()=>c,se:()=>l,kU:()=>s});var r=/[\t\n,]/g,o=/\s{2,}/g,i=/[*"']/g;function a(e){return e.split(r).map((function(e){return e.replace(o," ").trim()})).filter((function(e){return e.length>0}))}function u(e){var t=new Set(e);return Array.from(t)}function c(e){return e.sort((function(e,t){var n=e.replaceAll(i,""),r=t.replaceAll(i,"");return n.localeCompare(r)}))}function l(e){return e.join(", ")}function s(e){return e.includes("\n")||e.includes(",")}},929330:(e,t,n)=>{n.d(t,{z:()=>c,N:()=>l});var r=n(653772),o=n(940712),i=n(379908),a=n(461061),u=function(e){var t=r.Z.getGuild(e);return null!=t&&((t.hasFeature(a.oNc.COMMUNITY)||(0,i.n7)(e))&&o.Z.can(a.Plq.MANAGE_GUILD,t))};function c(e){
return null!=e&&u(e)}function l(e){return u(e)}},295935:(e,t,n)=>{n.d(t,{U:()=>o});var r=new Set(["1030554520465440818"]);function o(e){return null!=e&&r.has(e)}},693165:(e,t,n)=>{n.d(t,{w:()=>M,V:()=>A});var r=n(496486),o=n.n(r),i=n(185253),a=n(323657),u=n(90816),c=n(617509),l=n(209518),s=n(975483),f=n(870978),d=n(955439),p=n(295935),O=n(461061),y=n(959797);function E(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function _(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1
};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function v(e){if(e.code===O.evJ.INVALID_FORM_BODY){var t,n;if(null!=(null===(t=e.errors)||void 0===t||null===(n=t.trigger_metadata)||void 0===n?void 0:n.regex_patterns))return y.Z.Messages.GUILD_AUTOMOD_REGEX_GENERIC_SAVE_ERROR}return e.getAnyErrorMessage()}var m=Object.freeze({editingRule:null,hasChanges:!1,isLoading:!1,errorMessage:null}),S=(0,i.Z)((function(e,t){return{editingRule:null,hasChanges:!1,setEditingRule:function(n){var r=t().editingRule,i=null!=n&&null!=r&&n.id===r.id,a=o().cloneDeep(n)
;null!=a&&(a=_(b({},a),{actions:a.actions.filter(u.lm)}));e({editingRule:a,hasChanges:i,errorMessage:null})},createNewEditingRule:function(t,n,r){var o=b({},(0,l.ep)(t,n),null!=r?r:{});e({editingRule:o,hasChanges:!1});return o},isLoading:!1,errorMessage:null,cancelEditingRule:function(){e(b({},m))},saveRule:(r=(n=function(t,n){var r,o,i,u,O,E;return h(this,(function(g){switch(g.label){case 0:if(null==t){e(b({},m));return[2,null]}try{if((0,l.DO)(t)){t.triggerMetadata.keywordFilter=(0,d.cb)((0,d.Ze)(null!==(r=t.triggerMetadata.keywordFilter)&&void 0!==r?r:[]));t.triggerMetadata.allowList=(0,d.cb)((0,d.Ze)(null!==(o=t.triggerMetadata.allowList)&&void 0!==o?o:[]))}(0,l.Fn)(t)&&(t.triggerMetadata.allowList=(0,d.cb)((0,d.Ze)(null!==(i=t.triggerMetadata.allowList)&&void 0!==i?i:[])));(0,s.yU)(t,n);(0,l.QO)(t)}catch(t){t instanceof c.V6?e({errorMessage:y.Z.Messages.GUILD_AUTOMOD_KEYWORD_GENERIC_SAVE_ERROR,isLoading:!1}):t instanceof c.uS?e({
errorMessage:y.Z.Messages.GUILD_AUTOMOD_REGEX_GENERIC_SAVE_ERROR,isLoading:!1}):e({errorMessage:t.message,isLoading:!1});return[2,null]}g.label=1;case 1:g.trys.push([1,6,,7]);e({isLoading:!0});u=null;return!(0,l.Vb)(t)||(0,p.U)(t.id)?[3,3]:[4,(0,f.Je)(t)];case 2:u=g.sent();return[3,5];case 3:return[4,(0,f.JK)(t)];case 4:u=g.sent();g.label=5;case 5:e(b({},m));return[2,u];case 6:O=g.sent();E=new a.Hx(O);e({isLoading:!1,errorMessage:v(E)});return[3,7];case 7:return[2,null]}}))},function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){E(i,r,o,a,u,"next",e)}function u(e){E(i,r,o,a,u,"throw",e)}a(void 0)}))}),function(e,t){return r.apply(this,arguments)}),saveEditingRule:function(e){var n=t(),r=n.editingRule;return(0,n.saveRule)(r,e)}};var n,r}));function M(){return S((function(e){return{hasChanges:e.hasChanges,editingRule:e.editingRule,isLoading:e.isLoading,errorMessage:e.errorMessage,saveRule:e.saveRule,saveEditingRule:e.saveEditingRule,
cancelEditingRule:e.cancelEditingRule}}))}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=S((function(e){return{hasChanges:e.hasChanges,editingRule:e.editingRule,setEditingRule:e.setEditingRule,createNewEditingRule:e.createNewEditingRule}}));null!=e&&t.setEditingRule(e);return t}},222015:(e,t,n)=>{n.d(t,{c:()=>g});var r=n(53211),o=n(356004),i=n(105405),a=n(859023),u=n(976703),c=n(219946),l=n(523283),s=n(276489),f=n(809096),d=n(959797),p=function(e){switch(e){case s.jj.BLOCK_MESSAGE:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_NAME;case s.jj.FLAG_TO_CHANNEL:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_NAME;case s.jj.USER_COMMUNICATION_DISABLED:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_DISABLE_GUILD_COMMUNICATION_FOR_USER}},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.fX.KEYWORD;switch(e){case s.jj.BLOCK_MESSAGE:switch(t){case s.fX.MENTION_SPAM:
return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_DESCRIPTION_MENTION_SPAM;case s.fX.ML_SPAM:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_DESCRIPTION_ML_SPAM;default:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_DESCRIPTION}case s.jj.FLAG_TO_CHANNEL:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_DESCRIPTION;case s.jj.USER_COMMUNICATION_DISABLED:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_DISABLE_GUILD_COMMUNICATION_FOR_USER_DESCRIPTION}},y=function(e,t){switch(e){case s.jj.BLOCK_MESSAGE:return null;case s.jj.FLAG_TO_CHANNEL:var n,u=null==t||null===(n=t.metadata)||void 0===n?void 0:n.channelId;if(null==u)return null;var c=o.Z.getChannel(u);if(null==c)return null;var l=(0,r.F6)(c,a.default,i.Z);return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_DISPLAY_HELPER.format({channelName:l});case s.jj.USER_COMMUNICATION_DISABLED:var p,O,y=null!==(O=null==t||null===(p=t.metadata)||void 0===p?void 0:p.durationSeconds)&&void 0!==O?O:0,E=(0,f.L9)(y)
;return null==E?null:d.Z.Messages.GUILD_AUTOMOD_ACTIONS_USER_DISABLE_COMMUNICATION_DISPLAY_HELPER.format({duration:E})}},E=function(e){switch(e){case s.jj.BLOCK_MESSAGE:return l.Z;case s.jj.FLAG_TO_CHANNEL:return u.Z;case s.jj.USER_COMMUNICATION_DISABLED:return c.Z}};function g(e,t,n){return function(e){switch(e){case s.jj.BLOCK_MESSAGE:case s.jj.FLAG_TO_CHANNEL:case s.jj.USER_COMMUNICATION_DISABLED:return!0;default:return!1}}(e)?{headerText:null!==(r=p(e))&&void 0!==r?r:"",descriptionText:null!==(o=O(e,n))&&void 0!==o?o:"",helperText:null!==(i=y(e,t))&&void 0!==i?i:null,icon:null!==(a=E(e))&&void 0!==a?a:l.Z}:null;var r,o,i,a}},794633:(e,t,n)=>{n.d(t,{gK:()=>d,XN:()=>p,af:()=>O});var r=n(785893),o=(n(667294),n(897576));function i(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){i(a,r,o,u,c,"next",e)}
function c(e){i(a,r,o,u,c,"throw",e)}u(void 0)}))}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var s=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function f(e){return new Promise((function(t){(0,o.ZD)((function(){return e((function(){t(!0)}),(function(e){t(!1);return e()}))}))}))}var d=function(e){return f((t=a((function(t,o){var i,a;return s(this,(function(u){switch(u.label){case 0:return[4,n.e(12769).then(n.bind(n,712769))];case 1:i=u.sent(),a=i.default;return[2,function(n){return(0,r.jsx)(a,l(c({},n),{ruleName:e,onConfirm:t,onClose:function(){return o(n.onClose)},onCancel:function(){return o(n.onClose)}}))}]}}))})),function(e,n){return t.apply(this,arguments)}));var t},p=function(e,t){return f((o=a((function(o,i){var a,u;return s(this,(function(s){switch(s.label){case 0:return[4,n.e(8435).then(n.bind(n,408435))];case 1:a=s.sent(),u=a.default;return[2,function(n){return(0,r.jsx)(u,l(c({},n),{ruleName:e,keyword:t,onConfirm:o,onClose:function(){return i(n.onClose)},onCancel:function(){return i(n.onClose)}}))}]}}))})),function(e,t){return o.apply(this,arguments)}));var o},O=function(e){
return function(t){return f((o=a((function(o,i){var a,u,f;return s(this,(function(s){switch(s.label){case 0:return[4,n.e(26485).then(n.bind(n,926485))];case 1:a=s.sent(),u=a.default;f=function(){t();o()};return[2,function(t){return(0,r.jsx)(u,l(c({ruleName:e},t),{onConfirm:f,onClose:function(){return i(t.onClose)},onCancel:function(){return i(t.onClose)}}))}]}}))})),function(e,t){return o.apply(this,arguments)}));var o}}},864779:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(791462),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}
var l=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var f={};var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=s(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getOptions=function(e){return f[e]};r.__getLocalVars=function(){return{options:f}};return n}(r.ZP.Store)
;d.displayName="SendMessageOptionsStore";const p=new d(o.Z,{MESSAGE_CREATE:function(e){var t=e.message,n=e.sendMessageOptions;null!=n&&(f[t.id]=n);null!=t.nonce&&t.nonce in f&&delete f[t.nonce]}})},96048:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(551821),o=n(719911),i=n(461061);function a(e,t,n){return!t.isSystemDM()&&!(0,o.Z)(e)&&(n||t.isPrivate())&&(0,r.RG)(t)&&t.type!==i.d4z.GUILD_VOICE&&t.type!==i.d4z.GUILD_STAGE_VOICE}},623038:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(549425),o=n(448450);function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}function u(e,t,n){
var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.Z.deleteMessage(e.id,t.id,!0);if(t.isCommandType())null!=t.interactionData&&i.applicationId&&(0,o.d)(t,e,i.applicationId);else{var u=t.content,c=t.tts,l=t.nonce;r.Z.sendMessage(e.id,{content:u,tts:c,invalidEmojis:[],validNonShortcutEmojis:[]},void 0,a({nonce:l},i))}}},332666:(e,t,n)=>{n.d(t,{zW:()=>I,F4:()=>w,fB:()=>T,$Z:()=>D,Hd:()=>P,B8:()=>R,rY:()=>C,Xl:()=>L,mG:()=>Z,op:()=>x,HH:()=>U,gK:()=>G,qe:()=>k,JS:()=>F,sT:()=>K});var r=n(785893),o=(n(667294),n(692454)),i=n(549425),a=n(961713),u=n(855710),c=n(7046),l=(n(849832),n(445815)),s=n(302561),f=n(665357),d=n(631134),p=n(356004),O=n(897576),y=n(932847),E=n(268333),g=n(726283),b=n(882699),_=n(864779),h=n(836781),v=n(623038),m=n(461061);function S(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){
S(i,r,o,a,u,"next",e)}function u(e){S(i,r,o,a,u,"throw",e)}a(void 0)}))}}function A(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function j(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var N=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{
if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function I(e){var t=e.getGuildId();null!=t&&c.Z.open(t,m.pNK.OVERVIEW)}function w(e,t,n){(0,g.JG)(n.shiftKey?"".concat(t.channel_id,"-").concat(t.id):t.id)}function T(e,t){y.default.track(m.rMx.MESSAGE_LINK_COPIED,{message_id:t.id,channel:t.channel_id});(0,g.JG)((0,
E.wR)(e.guild_id,e.id,t.id))}function D(e,t,n){t.state===m.yb.SEND_FAILED||n.shiftKey?i.Z.deleteMessage(e.id,t.id,t.state===m.yb.SEND_FAILED):a.Z.confirmDelete(e,t)}function P(e,t){i.Z.startEditMessage(e.id,t.id,t.content)}function R(e,t){(0,h.Z)(e.id,t.id)}function C(e,t,n){!1!==t.pinned?n.shiftKey?o.Z.unpinMessage(e,t.id):a.Z.confirmUnpin(e,t):n.shiftKey?o.Z.pinMessage(e,t.id):a.Z.confirmPin(e,t)}function L(e,t){(0,u.Z)(e.id,t.id)}function Z(e,t){(0,v.Z)(e,t,void 0,_.Z.getOptions(t.id))}function x(e,t){(0,O.ZD)(M((function(){var e,o;return N(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,87194))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,j(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){A(e,t,n[t])}))}return e}({},e),{message:t}))}]}}))})))}function U(e,t,n){var r=e.isPrivate(),o=t.author.id===d.default.getId();(0,s.fE)({channel:e,message:t,shouldMention:!n.shiftKey&&!o,showMentionToggle:!r&&!o});b.S.dispatchToLastSubscribed(m.CkL.TEXTAREA_FOCUS)}function G(e,t){(0,f.R6)(e,t,"Message")}function k(e,t){var n=p.Z.getChannel(t.id);null!=n&&(0,f.ok)(n)}function F(e,t){(0,l.Ck)(t)}function K(e,t){(0,l.p3)(t.id)}},386239:(e,t,n)=>{n.r(t);n.d(t,{default:()=>pt,useMessageMenu:()=>Ot});var r=n(785893),o=n(667294),i=n(388721),a=n(281081),u=n(463516),c=n(780921),l=n(103720),s=n(41225),f=n(975207),d=n(769672),p=n(344579),O=n(396309),y=n(636640),E=n(870798),g=n(686924),b=n(282260),_=n(600075),h=n(117412),v=n(975483),m=n(929330),S=n(693165),M=n(222015),A=n(794633),j=n(7046),N=n(461061),I=n(276489),w=n(959797),T=n(653116),D=n.n(T);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function R(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){C(e,t,n[t])}))}return e}function Z(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}var k=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++
;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},F=I.fX.KEYWORD;function K(e,t){var n=v.I6[F].perGuildMaxCount,i=(0,S.w)(),u=i.isLoading,c=i.saveRule,l=(0,S.V)().createNewEditingRule,s=x(o.useState(!1),2),f=s[0],p=s[1],O=x((0,h.I2)(t),2),y=O[0],E=O[1],g=(0,h.pH)(t),b=g.rulesByTriggerType,I=g.updateRule,T=o.useMemo((function(){var e;return null!==(e=b[F])&&void 0!==e?e:[]}),[b]),P=0===T.length,C=n>T.length&&!P;if(!o.useMemo((function(){return(0,m.z)(t)}),[t])||null==e||0===e.length||null==t)return null
;var G,K,B=e.split(" ").length,H=function(){if(null!=t){(0,a.Zy)();j.Z.open(t,N.pNK.GUILD_AUTOMOD);setTimeout((function(){l(t,F,{triggerMetadata:{keywordFilter:[e],regexPatterns:[],allowList:[]}})}),400)}},V=(K=(G=function(t){var n,r,o;return k(this,(function(i){switch(i.label){case 0:(0,a.Zy)();return[4,(0,A.XN)(t.name,e)];case 1:if(!i.sent())return[2];o=Z(L({},t),{triggerMetadata:Z(L({},t.triggerMetadata),{keywordFilter:U(null!==(r=null===(n=t.triggerMetadata)||void 0===n?void 0:n.keywordFilter)&&void 0!==r?r:[]).concat([e])})});return[4,c(o,T)];case 2:i.sent();I(o);return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=G.apply(e,t);function i(e){R(o,n,r,i,a,"next",e)}function a(e){R(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e){return K.apply(this,arguments)}),Y=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(d.sN,{id:"automod-rules-loading",label:w.Z.Messages.LOADING})});y||(Y=(0,r.jsxs)(r.Fragment,{children:[P&&(0,r.jsx)(d.sN,{id:"add-first-rule",
label:w.Z.Messages.GUILD_SETTINGS_ACTION_FILTER_AUTOMOD_RULE_CREATE,action:H,disabled:u}),T.map((function(e){var t=(0,v.V9)(F).reduce((function(t,n){var r=e.actions.find((function(e){var t=e.type;return n===t}));if(null==r)return t;var o=(0,M.c)(n,r);return t+=", ".concat(null==o?void 0:o.headerText)}),"");return(0,r.jsx)(d.k5,{id:e.id,label:e.name,subtext:(0,r.jsx)(_.xv,{color:"text-muted",className:D().actionTextHeader,variant:"text-xs/normal",children:t.slice(2)}),group:"automod-rule-selection",checked:!1,disabled:u,action:function(){return V(e)}},e.id)})),C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Cl,{}),(0,r.jsx)(d.sN,{id:"add-another-rule",label:w.Z.Messages.GUILD_AUTOMOD_ADD_NEW_RULE,action:H,disabled:u})]})]}));return(0,r.jsx)(d.sN,{id:"guild-automod-add-selection",label:w.Z.Messages.GUILD_AUTOMOD_ADD_SELECTION.format({keywordCount:B}),onFocus:function(){if(!f){p(!0);E()}},children:Y})}
var B=n(28996),H=n(294184),V=n.n(H),Y=n(791462),X=n(820028),W=n(39802),q=n(435346),z=n(232841),$=n(907123),J=n(777647),Q=n(101647),ee=n(551821),te=n(409271),ne=n(940712),re=n(859023),oe=n(215556),ie=n(518002),ae=n(917870),ue=n(882699),ce=n(331478),le=n(154636),se=n(739388),fe=n(203393),de=n(298716),pe=n(956916),Oe=n.n(pe);function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){var n,i,a,u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.O.REACTION,l=o.useContext(W.S).reducedMotion,s=(0,ee.$R)(t),f=(0,Y.e7)([ne.Z],(function(){return(t.isPrivate()||ne.Z.can(N.Plq.ADD_REACTIONS,t))&&s}),[t,s]),p=(0,z.MZ)(t.getGuildId()),O=(0,Y.e7)([se.Z],(function(){return se.Z.remainingBurstCurrency})),y=c===b.O.BURST_REACTION,E=y&&O<1,g=re.default.getCurrentUser(),h=ge((0,q.c)([X.z$.BURST_REACTION_BUTTON_SPARKLE]),2),v=h[0],m=h[1];o.useEffect((function(){y&&(0,J.jb)()}),[y])
;if(!te.nc.getSetting()||!f||e.type===N.uaV.GUILD_INVITE_REMINDER)return null;var S=p.filter((function(e){return!ce.ZP.isEmojiFilteredOrLocked(e,t,N.HzX.REACTION)})).slice(0,12).map((function(o,c){return(0,r.jsx)(d.sN,{color:y?"premium-gradient":"default",id:null!==(a=null!==(i=null!==(n=o.id)&&void 0!==n?n:o.optionallyDiverseSequence)&&void 0!==i?i:o.name)&&void 0!==a?a:":".concat(o.name,":"),label:null==o.id?o.name:":".concat(o.name,":"),disabled:E,imageUrl:function(e){var t=e.isFocused;return null!=o.id?ae.ZP.getEmojiURL({id:o.id,animated:o.animated&&(!l.enabled||t),size:18}):ce.ZP.getURL(null!==(u=o.optionallyDiverseSequence)&&void 0!==u?u:"")},action:function(){(0,J.rU)(t.id,e.id,(0,Q.g1)(o),void 0,{burst:y})},dontCloseOnActionIfHoldingShiftKey:!0},c)}));return(0,r.jsxs)(d.sN,{id:"add-reaction-".concat(c),label:y?w.Z.Messages.ADD_BURST_REACTION:w.Z.Messages.ADD_REACTION,sparkle:y&&v===X.z$.BURST_REACTION_BUTTON_SPARKLE,action:function(){
y&&v===X.z$.BURST_REACTION_BUTTON_SPARKLE&&m();if(E){if((0,le.I5)(g)){(0,fe.openOutOfBurstsModal)();return}(0,$.openBurstReactionsUpsellModal)({analytics:{type:de.cd.BURST_REACTION_CONTEXT_MENU_UPSELL,object:N.qAy.BUTTON_CTA}})}else ue.S.dispatchKeyed(N.LPv.TOGGLE_REACTION_POPOUT,e.id,{emojiPicker:!y,emojiBurstPicker:y})},color:y?"premium-gradient":"default",subMenuClassName:V()(Ee({},Oe().isBurstReactionPicker,y)),children:[y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.sN,{id:"add-burst-reaction-count",render:function(){return(0,r.jsxs)("div",{className:Oe().burstCount,children:[(0,r.jsx)(ie.Z,{width:16,height:16,className:Oe().burstIcon}),(0,r.jsx)(_.X6,{variant:"heading-sm/bold",color:"text-normal",children:!(0,le.I5)(g)&&O<1?w.Z.Messages.BURST_REACTION_NITRO_TOOLTIP:w.Z.Messages.BURST_REACTIONS_LEFT.format({count:"".concat(O)})})]})}}),(0,r.jsx)(d.Cl,{})]}):null,S,(0,r.jsx)(d.Cl,{}),(0,r.jsx)(d.sN,{color:y?"premium-gradient":"default",id:"other-reactions",
label:w.Z.Messages.VIEW_MORE,icon:oe.Z,disabled:E,action:function(){ue.S.dispatchKeyed(N.LPv.TOGGLE_REACTION_POPOUT,e.id,{emojiPicker:!y,emojiBurstPicker:y})}})]})}var _e=n(930615),he=n(332666);var ve=n(282881),me=n(140039),Se=n(549425),Me=n(878627),Ae=n(819525);var je=n(27752),Ne=n(327940),Ie=n(106457),we=n(757987),Te=n(399693),De=n.n(Te);function Pe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pe(e,t,n[t])}))}return e}function Ce(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Le=["slight_smile","frowning","smile","stuck_out_tongue","wink"];function Ze(e){var t,n=e.emoji,o=e.isFocused,i=n.animated,a=n.src,u=n.surrogates;null==a&&null!=n.id?a=ae.ZP.getEmojiURL({id:n.id,animated:!!i,size:20}):null==a&&(a=ce.ZP.getURL(u));return(0,r.jsx)(we.ZP,{text:n.allNamesString,hideOnClick:!0,spacing:16,forceOpen:o,children:function(e){return(0,r.jsx)("div",Ce(Re({"aria-label":w.Z.Messages.ADD_REACTION_NAMED.format({emojiName:n.name}),className:V()(De().button,Pe({},De().focused,o))},e),{children:null==a||""===a.trim()?(0,r.jsx)("span",Ce(Re({className:V()("emoji","emoji-text",De().icon)},e),{children:u})):(0,r.jsx)("img",{className:De().icon,src:a,alt:""})}))}},null!==(t=n.id)&&void 0!==t?t:n.name)}
function xe(e,t){var n=(0,z.MZ)(t.guild_id).filter((function(e){var n;return!(e.useSpriteSheet&&Le.indexOf(null!==(n=e.uniqueName)&&void 0!==n?n:"")>=0)&&!ce.ZP.isEmojiPremiumLocked(e,t,N.HzX.REACTION)}));n.length>4&&(n.length=4);var o,i=te.nc.useSetting(),a=(0,ee.$R)(t),u=(0,Y.e7)([ne.Z],(function(){return i&&a&&(t.isPrivate()||ne.Z.can(N.Plq.ADD_REACTIONS,t))}),[t,a,i]);return u&&n.length>0?(0,r.jsx)(d.kS,{className:De().wrapper,children:n.map((function(n,i){return(0,r.jsx)(d.sN,{id:"quickreact-".concat(null!==(o=n.id)&&void 0!==o?o:i),render:function(e){var t=e.isFocused;return(0,r.jsx)(Ze,{emoji:n,isFocused:t})},action:function(){return function(n){(0,J.rU)(t.id,e.id,(0,Q.g1)(n),void 0)}(n)},dontCloseOnActionIfHoldingShiftKey:!0},i)}))}):null}var Ue=n(424210),Ge=n(897576);function ke(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){ke(i,r,o,a,u,"next",e)}function u(e){ke(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ke(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Be(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var He=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function Ve(e){return null==e.reactions||0===e.reactions.length?null:(0,r.jsx)(d.sN,{id:"reactions",label:w.Z.Messages.REACTIONS,icon:Ue.Z,action:function(){return(0,Ge.ZD)(Fe((function(){var t,o
;return He(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,87194))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,Be(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ke(e,t,n[t])}))}return e}({},t),{message:e}))}]}}))})))}})}var Ye=n(992497);var Xe=n(412323),We=n(782634);var qe=n(849832),ze=n(770336),$e=n(340034);var Je=n(864779),Qe=n(623038);var et=n(723927),tt=n(641645),nt=n(240243);function rt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ot(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function it(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function at(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,u=void 0===a?"currentColor":a,c=e.foreground,l=it(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",ot(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rt(e,t,n[t])}))}return e}({},(0,nt.Z)(l)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:c,fill:u,fillRule:"evenodd",clipRule:"evenodd",
d:"M2.99805 4.8C2.99805 3.8055 3.80445 3 4.79805 3H19.198C20.1925 3 20.998 3.8055 20.998 4.8V15.6C20.998 16.5936 20.1925 17.4 19.198 17.4H11.098L7.49805 21V17.4H4.79805C3.80445 17.4 2.99805 16.5936 2.99805 15.6V4.8ZM11.5737 5.16264C11.7336 5.00375 11.9739 4.95652 12.183 5.04208C12.3921 5.12708 12.5279 5.33098 12.5279 5.55487V14.444C12.5279 14.669 12.3921 14.8718 12.183 14.9579C11.9739 15.0435 11.7336 14.9963 11.5737 14.8374L9.1739 12.2217H7.4969C7.18945 12.2217 6.9379 11.9717 6.9379 11.6662V8.33273C6.9379 8.02772 7.18945 7.77716 7.4969 7.77716H9.1739L11.5737 5.16264ZM13.6459 7.22159V6.11044C15.8037 6.11044 17.5589 7.85549 17.5589 9.99944C17.5589 12.1445 15.8037 13.8884 13.6459 13.8884V12.7773C15.1871 12.7773 16.4409 11.5312 16.4409 9.99944C16.4409 8.46829 15.1871 7.22159 13.6459 7.22159ZM15.3229 9.99944C15.3229 9.08108 14.5705 8.33273 13.6459 8.33273V9.44387C13.9539 9.44387 14.2049 9.69332 14.2049 9.99944C14.2049 10.3056 13.9539 10.555 13.6459 10.555V11.6662C14.5705 11.6662 15.3229 10.9189 15.3229 9.99944Z"
})}))}var ut=n(151843);var ct=n(364209),lt=n(741200),st=n(717700),ft=n(9507);var dt=n(234743);function pt(e){var t,n,r,o,u,c=e.channel,s=e.message,d=e.target,p=e.attachment,O=e.onSelect,y=e.onHeightUpdate,E=(0,f.Z)(l.t),g=d,b=d.getAttribute("data-type"),_=d.getAttribute("data-id"),h=d.getAttribute("data-name");if(null!=p)r=n=p.url;else for(;(0,i.k)(g);){(0,i.k)(g,HTMLImageElement)&&null!=g.src&&(r=g.src);if((0,i.k)(g,HTMLAnchorElement)&&null!=g.href){n=g.href;o=g.textContent}g=g.parentNode}return Ot({message:s,channel:c,textSelection:null!==(u=null===(t=document.getSelection())||void 0===t?void 0:t.toString())&&void 0!==u?u:"",favoriteableType:b,favoriteableId:_,favoriteableName:h,itemHref:n,itemSrc:r,itemTextContent:o,canReport:E===dt.N.TREATMENT_1,onHeightUpdate:y,onSelect:O,onClose:a.Zy,navId:"message",ariaLabel:w.Z.Messages.MESSAGE_ACTIONS_MENU_LABEL})}function Ot(e){
var t=e.message,n=e.channel,o=e.textSelection,i=e.favoriteableType,a=e.favoriteableId,l=e.favoriteableName,f=e.itemHref,_=e.itemSrc,h=e.itemTextContent,v=e.canReport,m=e.onHeightUpdate,S=e.onSelect,M=e.onClose,A=e.navId,j=e.ariaLabel,I=(0,u.Q)(n.getGuildId()),T=(0,p.Z)(o),D=(0,E.Z)(o),P=xe(t,n),R=be(t,n),C=be(t,n,b.O.BURST_REACTION),L=function(e,t){var n=re.default.getCurrentUser(),o=(0,ee.$R)(t);return e.state!==N.yb.SEND_FAILED&&e.author.id===(null==n?void 0:n.id)&&(0,Ae.lp)(e)&&o?(0,r.jsx)(d.sN,{id:"edit",label:w.Z.Messages.EDIT_MESSAGE,action:function(){return Se.Z.startEditMessage(t.id,e.id,e.content)},icon:Me.Z}):null}(t,n),Z=(0,Ie.Z)(t,n),x=(0,je.Z)({type:i,id:a,name:l}),U=function(e,t){return e.state!==N.yb.SEND_FAILED?null:(0,r.jsx)(d.sN,{id:"resend",label:w.Z.Messages.RESEND_MESSAGE,action:function(){return(0,Qe.Z)(t,e,void 0,Je.Z.getOptions(e.id))}})}(t,n),G=(0,Ne.Z)(t,n),k=Ve(t),F=function(e,t){var n=t.getGuildId()
;return null==n||e.type!==N.uaV.USER_JOIN&&e.type!==N.uaV.GUILD_INVITE_REMINDER||!ne.Z.canWithPartialContext(N.Plq.MANAGE_GUILD,{guildId:n})?null:(0,r.jsx)(d.sN,{id:"configure",label:w.Z.Messages.CONFIGURE,icon:_e.Z,action:function(){return(0,he.zW)(t)}})}(t,n),H=(0,ve.Z)(t,n),V=function(e,t){var n=(0,ee.$R)(t);return(0,Y.e7)([ne.Z],(function(){return ne.Z.can(N.Plq.MANAGE_MESSAGES,t)&&n}),[t,n])&&null!=e.reactions&&0!==e.reactions.length?(0,r.jsx)(d.sN,{id:"remove-reactions",label:w.Z.Messages.REMOVE_ALL_REACTIONS,action:function(n){n.shiftKey?(0,J.wX)(t.id,e.id):Ye.Z.show({title:w.Z.Messages.REMOVE_ALL_REACTIONS_CONFIRM_TITLE,body:w.Z.Messages.REMOVE_ALL_REACTIONS_CONFIRM_BODY,confirmText:w.Z.Messages.YES_TEXT,cancelText:w.Z.Messages.NO_TEXT,onConfirm:function(){(0,J.wX)(t.id,e.id)}})},color:"danger"}):null}(t,n),X=(0,me.Z)(t,n),W=function(e){return(0,$e.a4)(e)?(0,r.jsx)(d.sN,{id:"report",label:w.Z.Messages.REPORT_MESSAGE_MENU_OPTION,action:function(){return(0,qe.ak)(e)},icon:ze.Z,
color:"danger"}):null}(t),q=function(e,t){var n=(0,Y.e7)([tt.Z],(function(){return tt.Z.isSpeakingMessage(t.id,e.id)}),[t,e]);return""===e.content?null:(0,r.jsx)(d.sN,{id:"tts",label:n?w.Z.Messages.STOP_SPEAKING_MESSAGE:w.Z.Messages.SPEAK_MESSAGE,icon:at,action:function(){return n?(0,et.NB)():(0,et.LA)(t,e)}})}(t,n),z=(0,y.Z)(null!=f?f:_,h),$=(0,O.Z)(_),Q=(0,s.Z)(t.id,"".concat(t.channel_id,"-").concat(t.id)),te=function(e,t){return(0,Xe.Ui)(t,e)?(0,r.jsx)(d.sN,{id:"reply",label:w.Z.Messages.MESSAGE_ACTION_REPLY,icon:We.Z,action:function(n){(0,he.HH)(t,e,n)}}):null}(t,n),oe=function(e,t){return(0,ee.NE)(t,e)?(0,r.jsx)(d.sN,{id:"thread",label:w.Z.Messages.CREATE_THREAD,icon:ut.Z,action:function(){(0,he.gK)(t,e)}}):null}(t,n),ie=(0,B.Z)(t,n,{hoist:!0}),ae=K(o,n.getGuildId()),ue=function(e,t){var n=ct.Z.useExperiment({}).showTODOs,o=(0,Y.e7)([lt.Z],(function(){return null!=lt.Z.getTODOMessages().find((function(t){return t.messageId===e.id}))}));return n?(0,r.jsx)(d.sN,{id:"mark-todo",
label:o?w.Z.Messages.MESSAGE_TODOS_MARK_AS_DONE:w.Z.Messages.MESSAGE_TODOS_MARK_AS_TODO,icon:o?st.Z:ft.Z,action:function(){return o?(0,he.sT)(t,e):(0,he.JS)(t,e)}}):null}(t,n),ce=(0,g.Z)(c.yU.MESSAGE,t.id,n.id,void 0,m);return(0,r.jsxs)(d.ZP,{navId:A,onClose:M,"aria-label":j,onSelect:S,children:[(0,r.jsx)(d.kS,{children:T}),(0,r.jsx)(d.kS,{children:D}),(0,r.jsxs)(d.kS,{children:[""===o?P:null,R,I&&C,k,L,Z,x,te,oe,ce,U,G,ue,F,H,q,ie,V,X,v&&W]}),null!=ae&&(0,r.jsx)(d.kS,{children:ae}),(0,r.jsx)(d.kS,{children:$}),(0,r.jsx)(d.kS,{children:z}),(0,r.jsx)(d.kS,{children:Q})]})}},28996:(e,t,n)=>{n.d(t,{Z:()=>S});var r=n(785893),o=(n(667294),n(124522)),i=n(791462),a=n(707031),u=n(897193),c=n(14563),l=n(769672),s=n(897576),f=n(368365),d=n(449024),p=n(940712),O=n(461061),y=f.Z.combine(O.Plq.VIEW_CHANNEL,O.Plq.MANAGE_MESSAGES,O.Plq.READ_MESSAGE_HISTORY);var E=n(959797);function g(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}
function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,u,"next",e)}function u(e){g(i,r,o,a,u,"throw",e)}a(void 0)}))}}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var m=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function S(e,t,f){var g=t.getGuildId(),_=(0,i.e7)([u.ZP],(function(){return null!==g&&u.ZP.getIsItemFeatured({guildId:g,entity:e,entityType:o.w.MESSAGE})}),[e,g]),S=(0,a.Z)(t,f);if(e.isFirstMessageInForumPost(t))return S;var M=function(e,t){var n=e.getGuildId();return!!(null!==n&&(0,d.YM)(n)&&O.TPd.GUILD_FEED_FEATURABLE_MESSAGES.has(e.type)&&(0,c.fx)(e)&&(0,c.XY)(t)&&p.Z.can(y,e))}(t,e);return M?_?(0,r.jsx)(l.sN,{id:"guild-feed-unfeature",label:E.Z.Messages.GUILD_FEED_UNFEATURE_MESSAGE,action:function(){return null==g?null:(0,s.ZD)(b((function(){var t;return m(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(19375)]).then(n.bind(n,619375))];case 1:t=i.sent().UnfeatureItemConfirmationModal;return[2,function(n){return(0,r.jsx)(t,v(h({},n),{featureableItem:{guildId:g,entity:e,
entityType:o.w.MESSAGE},header:E.Z.Messages.GUILD_FEED_UNFEATURED_MESSAGE_MODAL_HEADER,body:E.Z.Messages.GUILD_FEED_UNFEATURED_MESSAGE_MODAL_BODY}))}]}}))})))}}):(0,r.jsx)(l.sN,{id:"guild-feed-feature",label:E.Z.Messages.GUILD_FEED_FEATURE_MESSAGE,children:(0,c.DE)().map((function(o){var i=o.value,a=o.timePeriod;return(0,r.jsx)(l.sN,{id:"".concat(i),label:(0,c.Vm)(a),action:function(){return null==g?null:(0,s.ZD)(b((function(){var o;return m(this,(function(u){switch(u.label){case 0:return[4,Promise.all([n.e(40532),n.e(19375)]).then(n.bind(n,619375))];case 1:o=u.sent().FeatureMessageConfirmationModal;return[2,function(n){return(0,r.jsx)(o,v(h({},n),{message:e,channel:t,guildId:g,expiresSeconds:i,timePeriod:a,options:f}))}]}}))})))}},i)}))}):null}},282881:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(776319)),i=n(769672),a=n(771795),u=n(932847),c=n(726283),l=n(461061),s=n(959797);function f(e,t){return c.wS&&e.type!==l.uaV.GUILD_INVITE_REMINDER?(0,r.jsx)(i.sN,{id:"copy-link",
label:s.Z.Messages.COPY_MESSAGE_LINK,icon:a.Z,action:function(){(0,o.J)("".concat(location.protocol,"//").concat(location.host).concat(l.Z5c.CHANNEL(t.guild_id,t.id,e.id)));u.default.track(l.rMx.MESSAGE_LINK_COPIED,{message_id:e.id,channel:e.channel_id})}}):null}},140039:(e,t,n)=>{n.d(t,{Z:()=>O});var r=n(785893),o=(n(667294),n(791462)),i=n(549425),a=n(961713),u=n(769672),c=n(551821),l=n(940712),s=n(859023),f=n(770212),d=n(461061),p=n(959797);function O(e,t){var n=(0,o.e7)([s.default],(function(){return s.default.getCurrentUser()})),O=(0,c.$R)(t),y=(0,o.e7)([l.Z],(function(){return l.Z.can(d.Plq.MANAGE_MESSAGES,t)}),[t]);return e.state===d.yb.SENDING?null:(e.author.id===(null==n?void 0:n.id)||y)&&e.type in d.HfH&&O?(0,r.jsx)(u.sN,{id:"delete",label:p.Z.Messages.DELETE_MESSAGE,action:function(n){e.state===d.yb.SEND_FAILED?i.Z.deleteMessage(t.id,e.id,!0):n.shiftKey?i.Z.deleteMessage(t.id,e.id):a.Z.confirmDelete(t,e,!0)},color:"danger",icon:f.Z}):null}},27752:(e,t,n)=>{n.d(t,{Z:()=>A})
;var r=n(785893),o=n(667294),i=n(791462),a=n(11604),u=n(842592),c=n(725616),l=n(232841),s=n(769672),f=n(942604),d=n(214012),p=n(543532),O=n(876679),y=n(673973),E=n(392115),g=n(461061),b=n(959797);function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var m="sticker",S="emoji";function M(e){return c.Z.getByName(e.replace(/(^:|:$)/g,""))}function A(e){var t=e.type,n=e.id,_=e.name,A=e.isInExpressionPicker,j=void 0!==A&&A,N=(0,u.O)().location,I=o.useMemo((function(){return v(h({},N),{section:j?g.jXE.EXPRESSION_PICKER:g.jXE.CONTEXT_MENU})}),[N,j]),w=(0,p.Go)(),T=(0,i.e7)([O.Z],(function(){return t===m&&null!=n?O.Z.getStickerById(n):null})),D=null!=T&&w.includes(T.id),P=(0,i.e7)([E.Z],(function(){if(t===S){if(null!=n)return E.Z.getDisambiguatedEmojiContext().getById(n);if(null!=_){var e;return null!==(e=M(_))&&void 0!==e?e:M(c.Z.convertSurrogateToName(_))}}})),R=(0,l.C1)(null,P);return null!=T&&t===m?(0,y.J8)(T)&&!(0,y.V9)(T)?null:D?(0,r.jsx)(s.sN,{id:"unfavorite",action:function(){return(0,f.hW)(T.id)},label:b.Z.Messages.UNFAVORITE_ITEM}):(0,r.jsx)(s.sN,{id:"favorite",action:function(){(0,d.cQ)({sticker:T,location:v(h({},I),{
object:g.qAy.STICKER})});(0,f.SA)(null==T?void 0:T.id)},label:b.Z.Messages.FAVORITE_ITEM}):null!=P&&t===S?R?(0,r.jsx)(s.sN,{id:"unfavorite",action:function(){return(0,a.Xe)(P)},label:b.Z.Messages.UNFAVORITE_ITEM}):(0,r.jsx)(s.sN,{id:"favorite",action:function(){(0,l.J1)({emoji:P,location:v(h({},I),{object:g.qAy.EMOJI})});(0,a.$K)(P)},label:b.Z.Messages.FAVORITE_ITEM}):void 0}},327940:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(769672)),i=n(551821),a=n(428142),u=n(836781),c=n(959797);function l(e,t){return(0,i.$R)(t)?(0,r.jsx)(o.sN,{id:"mark-unread",label:c.Z.Messages.MARK_UNREAD,action:function(){return(0,u.Z)(t.id,e.id)},icon:a.Z}):null}},106457:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(791462)),i=n(692454),a=n(961713),u=n(769672),c=n(940712),l=n(823584),s=n(96048),f=n(461061),d=n(959797);function p(e,t){var n=(0,o.e7)([c.Z],(function(){return c.Z.can(f.Plq.MANAGE_MESSAGES,t)}),[t]);return e.state===f.yb.SEND_FAILED?null:(0,s.Z)(e,t,n)?!1===e.pinned?(0,
r.jsx)(u.sN,{id:"pin",action:function(n){n.shiftKey?i.Z.pinMessage(t,e.id):a.Z.confirmPin(t,e)},label:d.Z.Messages.PIN_MESSAGE,icon:l.Z}):(0,r.jsx)(u.sN,{id:"unpin",action:function(n){n.shiftKey?i.Z.unpinMessage(t,e.id):a.Z.confirmUnpin(t,e)},label:d.Z.Messages.UNPIN_MESSAGE,icon:l.Z}):null}},670512:(e,t,n)=>{n.d(t,{v:()=>i});var r=n(379822),o=n(35236);function i(){var e,t=null!==(e=r.Z.getCurrentlySelectedChannelId())&&void 0!==e?e:void 0;return null!=t&&(0,o.AB)(t)?{channel_static_route:t}:{channel_id:t}}},344579:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(769672)),i=n(742269),a=n(588641),u=n(959797);function c(e,t){return i.FB&&0!==(null==e?void 0:e.length)?(0,r.jsx)(o.sN,{id:"copy",label:u.Z.Messages.COPY,hint:(0,i.id)()?"⌘C":"Ctrl+C",action:function(){a.default.copy(e);null==t||t.focus()}}):null}},396309:(e,t,n)=>{n.d(t,{Z:()=>N});var r=n(785893),o=(n(667294),
n(992497)),i=n(323523),a=n(769672),u=n(932847),c=n(742269),l=n(937026),s=n(588641),f=n(670512),d=n(461061),p=n(959797);function O(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,u,"next",e)}function u(e){O(i,r,o,a,u,"throw",e)}a(void 0)}))}}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}var b=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}
},_="https://media.discordapp.net",h="https://cdn.discordapp.com",v="".concat(_,"/stickers"),m=new Set(["jpg","jpeg","png","webp","gif","tiff","bmp"]),S=new Set(["jpg","jpeg","png"]),M=function(e){var t;return null===(t=new URL(e).pathname.split(".").pop())||void 0===t?void 0:t.toLowerCase()};function A(e){var t=M(e);return null!=t&&S.has(t)}function j(e,t){o.Z.show({title:p.Z.Messages.ERROR,body:e});l.Z.captureException(t)}function N(e){if(!c.FB||null==e||!(t=e,n=new URL(t),o=M(t),(n.origin===_||n.origin===h)&&!t.startsWith(v)&&!(0,i.zt)(t)&&null!=o&&m.has(o)))return null;var t,n,o,l,O=function(e){var t=new URL(e);return t.origin===h?e:h+t.pathname}(e),E=(l=y((function(){var t;return b(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,s.default.saveImage(O)];case 1:n.sent();u.default.track(d.rMx.CONTEXT_MENU_IMAGE_SAVED,g({url:e},(0,f.v)()));return[3,3];case 2:t=n.sent();u.default.track(d.rMx.CONTEXT_MENU_IMAGE_SAVE_FAILED,g({url:e},(0,f.v)()))
;j(p.Z.Messages.ERROR_SAVING_IMAGE,t);return[3,3];case 3:return[2]}}))})),function(){return l.apply(this,arguments)}),S=function(){var t=y((function(){var t;return b(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,s.default.copyImage(O)];case 1:n.sent();u.default.track(d.rMx.CONTEXT_MENU_IMAGE_COPIED,g({url:e},(0,f.v)()));return[3,3];case 2:t=n.sent();j(p.Z.Messages.ERROR_COPYING_IMAGE,t);u.default.track(d.rMx.CONTEXT_MENU_IMAGE_COPY_FAILED,g({url:e},(0,f.v)()));return[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}();return[s.default.canCopyImage()&&A(e)?(0,r.jsx)(a.sN,{id:"copy-image",label:p.Z.Messages.COPY_IMAGE_MENU_ITEM,action:S},"copy-image"):null,(0,r.jsx)(a.sN,{id:"save-image",label:p.Z.Messages.SAVE_IMAGE_MENU_ITEM,action:E},"save-image")]}},636640:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(785893),o=(n(667294),n(323523)),i=n(769672),a=n(673973),u=n(932847),c=n(850622),l=n(742269),s=n(588641),f=n(670512),d=n(461061),p=n(959797)
;function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}function E(e,t){if(!l.FB||null==e||""===e)return null;if(null!=e&&null!=(0,a.B0)(e))return null;if(null!=e&&(0,o.zt)(e))return null;return[(0,r.jsx)(i.sN,{id:"copy-native-link",label:p.Z.Messages.COPY_LINK,action:function(){u.default.track(d.rMx.CONTEXT_MENU_LINK_COPIED,y({href:e},(0,f.v)()));s.default.copy(e)}},"copy-native-link"),(0,r.jsx)(i.sN,{id:"open-native-link",label:p.Z.Messages.OPEN_LINK,action:function(n){return function(n){u.default.track(d.rMx.CONTEXT_MENU_LINK_OPENED,y({href:e},(0,f.v)()));(0,c.q)({href:e,trusted:(0,c.r)(e,t),
shouldConfirm:!0},n)}(n)}},"open-native-link")]}},870798:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(785893),o=n(667294),i=n(441143),a=n.n(i),u=n(769672),c=n(932847),l=n(742269),s=n(461061),f=n(959797);function d(e){var t=o.useCallback((function(){a()(null!=e,"text cannot be null");c.default.track(s.rMx.MESSAGE_MENU_GOOGLE_SEARCHED);window.open("https://www.google.com/search?q=".concat(encodeURIComponent(e)),"_blank")}),[e]);return l.FB&&null!=e&&0!==(null==e?void 0:e.length)?[(0,r.jsx)(u.sN,{id:"search-google",label:f.Z.Messages.SEARCH_WITH_GOOGLE,action:t},"search-google")]:null}},412323:(e,t,n)=>{n.d(t,{Z6:()=>d,Ui:()=>O});var r=n(791462),o=n(113204),i=n(719911),a=n(551821),u=n(940712),c=n(461061),l=n(375650);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t,n){return(e.isPrivate()?!e.isSystemDM():n.can(l.Pl.SEND_MESSAGES,e)&&n.can(l.Pl.READ_MESSAGE_HISTORY,e))&&!(0,i.Z)(t)}function p(e,t,n,r,o){var i=t.hasFlag(c.iLy.EPHEMERAL),a=t.state===c.yb.SENT,u=!e.isArchivedThread()||o;return n&&a&&!i&&!r&&u}function O(e,t){var n,i=(0,a.tc)(e),c=(0,
r.e7)([u.Z],(function(){return d(e,t,u.Z)})),l=f((0,o.AB)(null!==(n=e.getGuildId())&&void 0!==n?n:void 0),2)[1];return p(e,t,c,l,i)}},214012:(e,t,n)=>{n.d(t,{ev:()=>l,cQ:()=>s,n8:()=>f,m1:()=>d,Yk:()=>p,On:()=>O,Iw:()=>y});var r=n(23816),o=n(932847),i=n(893264),a=n(461061),u=n(706594),c=n(298716),l=function(e){var t=e.containerWidth,n=e.favoriteStickers,o=e.frequentlyUsedStickers,c=e.guildStickers,l=e.stickersTotal;r.ZP.trackWithMetadata(a.rMx.EXPRESSION_PICKER_OPENED,{width:t,tab:u.X1.STICKER,badged:!1,num_expressions_favorites:n.length,num_animated_expressions_favorites:n.filter((function(e){return(0,i.aQ)(e.format_type)})).length,num_custom_expressions_favorites:n.filter((function(e){return(0,i.z)(e.type)})).length,num_standard_expressions_favorites:n.filter((function(e){return!(0,i.z)(e.type)})).length,num_expressions_frecent:o.length,num_custom_expressions_frecent:o.filter((function(e){return(0,i.z)(e.type)})).length,num_animated_expressions_frecent:o.filter((function(e){return(0,
i.aQ)(e.format_type)})).length,num_standard_expressions_frecent:o.filter((function(e){return!(0,i.z)(e.type)})).length,num_current_guild_expressions:c.length,num_custom_expressions_total:l})},s=function(e){var t,n=e.sticker,o=e.location;n.type===i.n0.GUILD&&(t=n.guild_id);r.ZP.trackWithMetadata(a.rMx.EXPRESSION_FAVORITED,{location:o,expression_type:u.X1.STICKER,expression_id:n.id,expression_name:n.name,expression_guild_id:t,is_animated:(0,i.aQ)(n.format_type),is_custom:(0,i.z)(n.type)})},f=function(){o.default.track(a.rMx.SEARCH_STARTED,{search_type:a.aib.STICKER})},d=function(e,t,n){r.ZP.trackWithMetadata(a.rMx.SEARCH_RESULT_VIEWED,{search_type:a.aib.STICKER,total_results:t,query:e,is_suggestion:n})},p=function(e,t,n){var o,u=e.sticker;u.type===i.n0.GUILD&&(o=u.guild_id);r.ZP.trackWithMetadata(a.rMx.SEARCH_RESULT_SELECTED,{load_id:u.id,search_type:a.aib.STICKER,source_object:"Sticker Picker",total_results:n,expression_guild_id:o,sticker_id:u.id,query:t})},O=function(e){
var t,n=e.sticker,o=e.category;n.type===i.n0.GUILD&&(t=n.guild_id);r.ZP.trackWithMetadata(a.rMx.EXPRESSION_PICKER_EXPRESSION_SELECTED,{type:c.cd.EMOJI_PICKER_STICKER_CLICKED,expression_id:n.id,expression_name:n.name,expression_picker_section:o,expression_guild_id:t,is_animated:(0,i.aQ)(n.format_type),is_custom:(0,i.z)(n.type)})},y=function(e){null!=e&&""!==e&&r.ZP.trackWithMetadata(a.rMx.SEARCH_RESULT_EMPTY,{query:e,search_type:a.aib.STICKER,source_object:"Sticker Picker"})}},723927:(e,t,n)=>{n.d(t,{cP:()=>o,LA:()=>i,Bo:()=>a,NB:()=>u,Ct:()=>c});var r=n(173436);function o(e,t,n,o,i){r.Z.dispatch({type:"SPEAK_TEXT",text:e,interrupt:t,maxLength:n,onStart:o,onEnd:i})}function i(e,t){r.Z.dispatch({type:"SPEAK_MESSAGE",channel:e,message:t})}function a(e,t){r.Z.dispatch({type:"SPEAKING_MESSAGE",channelId:e,messageId:t})}function u(){r.Z.dispatch({type:"STOP_SPEAKING"})}function c(e){r.Z.dispatch({type:"SET_TTS_SPEECH_RATE",speechRate:e})}},641645:(e,t,n)=>{n.d(t,{Z:()=>b})
;var r=n(791462),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function s(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var y={speechRate:1,currentMessage:null},E=y;var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=O(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){E=l({},y,null!=e?e:null)};r.isSpeakingMessage=function(e,t){var n=E.currentMessage;return null!==n&&n.channelId===e&&n.messageId===t};r.getUserAgnosticState=function(){return E};r.__getLocalVars=function(){return{initialState:y,state:E}};!function(e,t,n){t&&a(e.prototype,t);n&&a(e,n)}(n,[{key:"currentMessage",get:function(){
return E.currentMessage}},{key:"speechRate",get:function(){return E.speechRate}}]);return n}(r.ZP.DeviceSettingsStore);g.displayName="TTSStore";g.persistKey="TTSStore";g.migrations=[];const b=new g(o.Z,__OVERLAY__?{}:{SPEAKING_MESSAGE:function(e){var t=e.messageId,n=e.channelId;E=s(l({},E),{currentMessage:{messageId:t,channelId:n}})},STOP_SPEAKING:function(){E=s(l({},E),{currentMessage:null})},SET_TTS_SPEECH_RATE:function(e){E=s(l({},E),{speechRate:e.speechRate})}})},278641:(e,t,n)=>{n.d(t,{Z:()=>N});var r=n(496486),o=n.n(r),i=n(791462),a=n(173436),u=n(819525),c=n(817513),l=n(356004),s=n(212218),f=n(653772),d=n(171447),p=n(105405),O=n(859023);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function g(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var v={};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=l.Z.getChannel(e),i=null!=o?o.getGuildId():null;return{id:e,
messages:t.map((function(e){return(0,u.e5)(e)})),guildId:i,loaded:n,loading:r}}function S(e){var t=e.channel;delete v[t.id]}function M(){o().forEach(v,(function(e){o().forEach(e.messages,(function(e){e.timestamp.locale(c.default.locale)}))}))}function A(){o().forEach(v,(function(e){e.messages=e.messages.map((function(e){return e.set("blocked",p.Z.isBlocked(e.author.id))}))}))}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=h(n);function n(){y(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(l.Z,f.Z,s.ZP,d.Z,O.default,c.default)};r.getPinnedMessages=function(e){var t;return null!==(t=v[e])&&void 0!==t?t:void 0};r.loaded=function(e){return null!=v[e]&&v[e].loaded};r.__getLocalVars=function(){return{channels:v}};return n}(i.ZP.Store)
;j.displayName="ChannelPinsStore";const N=new j(a.Z,{CONNECTION_OPEN:function(){v={}},GUILD_DELETE:function(e){var t=e.guild;v=o()(v).filter((function(e){return e.guildId!==t.id})).keyBy("id").value()},MESSAGE_UPDATE:function(e){var t=e.message.id,n=e.message.channel_id;if(null==n)return!1;var r=v[n];if(null==r&&!e.message.pinned)return!1;if(null!=e.message.author)if(e.message.pinned){if(null==r){r=m(n,[e.message],!1);v[n]=r;return}r.messages=r.messages.slice();var i=o().findIndex(r.messages,(function(e){return e.id===t}));-1===i?r.messages.unshift((0,u.e5)(e.message)):r.messages[i]=(0,u.wi)(r.messages[i],e.message);v[n]=r}else{if(null==r)return;var a=o().findIndex(r.messages,(function(e){return e.id===t}));if(-1===a)return;r.messages=r.messages.slice();r.messages.splice(a,1);v[n]=r}else if(null!=r){var c=o().findIndex(r.messages,(function(e){return e.id===t}));if(c>=0){var l=r.messages[c],s=(0,u.wi)(l,e.message);if(s!==l){var f=r.messages.slice();f[c]=s;v[n].messages=f}}}},
MESSAGE_DELETE:function(e){var t=e.id,n=e.channelId,r=v[n];if(null==r)return!1;if(0===o().remove(r.messages,(function(e){return e.id===t})).length)return!1;r.messages=r.messages.slice();v[n]=r},MESSAGE_DELETE_BULK:function(e){var t=e.ids,n=e.channelId,r=v[n];null!=r&&(r.messages=r.messages.filter((function(e){return-1===t.indexOf(e.id)})))},LOAD_PINNED_MESSAGES:function(e){var t=e.channelId;v[t]=m(t,[],!1,!0)},LOAD_PINNED_MESSAGES_SUCCESS:function(e){var t=e.channelId,n=e.messages;v[t]=m(t,n,!0)},LOAD_PINNED_MESSAGES_FAILURE:function(e){var t=e.channelId;delete v[t]},USER_SETTINGS_PROTO_UPDATE:M,I18N_LOAD_SUCCESS:M,CHANNEL_DELETE:S,THREAD_DELETE:S,RELATIONSHIP_ADD:A,RELATIONSHIP_REMOVE:A})},428142:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?24:t,c=e.height,l=void 0===c?24:c,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=u(e,["width","height","color","foreground"]);return(0,
r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:l,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,d:"M14 3H20C21 3 22.0001 4 22.0001 5V19.0003C22.0001 20 21 21 20 21H14C13 21 6 13 6 13H2V11H6C6 11 13 3 14 3Z"})}))}},9507:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?16:t,c=e.height,l=void 0===c?16:c,s=e.color,f=void 0===s?"currentColor":s,d=u(e,["width","height","color"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:l,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.25 0.5H4.25C4.66475 0.5 5 0.836 5 1.25V4.25C5 4.664 4.66475 5 4.25 5H1.25C0.836 5 0.5 4.664 0.5 4.25V1.25C0.5 0.836 0.836 0.5 1.25 0.5ZM1.25 5.75H4.25C4.66475 5.75 5 6.086 5 6.5V9.5C5 9.914 4.66475 10.25 4.25 10.25H1.25C0.836 10.25 0.5 9.914 0.5 9.5V6.5C0.5 6.086 0.836 5.75 1.25 5.75ZM4.25 11H1.25C0.836 11 0.5 11.336 0.5 11.75V14.75C0.5 15.164 0.836 15.5 1.25 15.5H4.25C4.66475 15.5 5 15.164 5 14.75V11.75C5 11.336 4.66475 11 4.25 11ZM6.5 2H15.5V3.5H6.5V2ZM15.5 7.25H6.5V8.75H15.5V7.25ZM6.5 12.5H15.5V14H6.5V12.5Z",fill:f})}))}},782634:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(785893);n(667294);function o(e){
var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,u=void 0===a?"currentColor":a,c=e.className,l=e.foreground;return(0,r.jsx)("svg",{className:c,width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M10 8.26667V4L3 11.4667L10 18.9333V14.56C15 14.56 18.5 16.2667 21 20C20 14.6667 17 9.33333 10 8.26667Z",className:l,fill:u})})}},340034:(e,t,n)=>{n.d(t,{a4:()=>c,vc:()=>l});var r=n(356004),o=n(95350),i=n(940712),a=n(859023),u=n(461061);function c(e){return null!=e&&function(e){if(null==e)return!1;var t=e.id,n=a.default.getCurrentUser();return null!=n&&n.id!==t}(e.author)}function l(e){return null!=e&&c(e)&&function(e){var t=r.Z.getChannel(e);if(null==t)return!1;if(t.type===u.d4z.DM||t.type===u.d4z.GROUP_DM)return!0;if(i.Z.canWithPartialContext(u.Plq.MANAGE_MESSAGES,{channelId:e})){var n=o.Z.getMemberCount(t.getGuildId());return null!=n&&n>=50}return!1}(e.getChannelId())}}}]);
//# sourceMappingURL=f87011bda6b3d25d9576.js.map